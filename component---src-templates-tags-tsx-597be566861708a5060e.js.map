{"version":3,"file":"component---src-templates-tags-tsx-597be566861708a5060e.js","mappings":"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","sources":["webpack://record-journey/./src/templates/tags.tsx"],"sourcesContent":["import { Fragment } from 'react';\nimport { graphql } from 'gatsby';\nimport { getSrc } from 'gatsby-plugin-image';\n\nimport Footer from '@/components/Footer.tsx';\nimport SiteNav from '@/components/header/SiteNav.tsx';\nimport PostCard from '@/components/PostCard.tsx';\nimport Wrapper from '@/components/Wrapper.tsx';\nimport IndexLayout from '@/layouts/index.tsx';\nimport {\n  inner,\n  outer,\n  PostFeed,\n  ResponsiveHeaderBackground,\n  SiteDescription,\n  SiteHeaderBackground,\n  SiteMain,\n  SiteTitle,\n  TagsHeaderContent,\n} from '@/styles/shared.ts';\nimport config from '@/website-config.ts';\n\nimport type { PageContext } from '@/templates/post.tsx';\nimport type { ImageDataLike } from 'gatsby-plugin-image';\n\ntype TagData = {\n  allTagYaml: {\n    edges: Array<{\n      node: {\n        yamlId: string;\n        description: string;\n        image?: ImageDataLike;\n      };\n    }>;\n  };\n  allMarkdownRemark: {\n    totalCount: number;\n    edges: Array<{\n      node: PageContext;\n    }>;\n  };\n};\n\ntype TagTemplateProps = {\n  pageContext: {\n    tag: string;\n  };\n  data: TagData;\n};\n\ntype TagHeadTemplateProps = {\n  location: Location;\n  data: TagData;\n  pageContext: {\n    tag: string;\n  };\n};\n\nexport const Head = ({ data, pageContext, location }: TagHeadTemplateProps) => {\n  const tag = pageContext.tag ? pageContext.tag : '';\n  const tagData = data.allTagYaml.edges.find(\n    (n) => n.node.yamlId.toLowerCase() === tag.toLowerCase(),\n  );\n\n  return (\n    <Fragment>\n      <title>{tag}</title>\n      <meta name=\"description\" content={tagData?.node ? tagData.node.description : ''} />\n      <meta property=\"og:site_name\" content={config.title} />\n      <meta property=\"og:type\" content=\"website\" />\n      <meta property=\"og:title\" content={`${tag} - ${config.title}`} />\n      <meta property=\"og:url\" content={config.siteUrl + location.pathname} />\n      {config.instagram && <meta property=\"article:publisher\" content={config.instagram} />}\n      <meta name=\"github:card\" content=\"summary_large_image\" />\n      <meta name=\"github:title\" content={`${tag} - ${config.title}`} />\n      <meta name=\"github:url\" content={config.siteUrl + location.pathname} />\n      {config.github && (\n        <meta name=\"github:site\" content={`@${config.github.split('https://github.com/')[1]}`} />\n      )}\n    </Fragment>\n  );\n};\n\nexport default function Tags({ pageContext, data }: TagTemplateProps) {\n  const tag = pageContext.tag ? pageContext.tag : '';\n  const { edges, totalCount } = data.allMarkdownRemark;\n  const tagData = data.allTagYaml.edges.find(\n    (n) => n.node.yamlId.toLowerCase() === tag.toLowerCase(),\n  );\n\n  const tagForImage = tagData?.node.image;\n  /* eslint-disable  @typescript-eslint/no-non-null-assertion */\n  const backgroundImageData = getSrc(tagForImage!);\n\n  return (\n    <IndexLayout>\n      <Wrapper>\n        <SiteNav />\n        <ResponsiveHeaderBackground\n          css={[outer, SiteHeaderBackground]}\n          backgroundImage={backgroundImageData}\n          className=\"site-header-background\"\n        >\n          <TagsHeaderContent css={inner} className=\"site-header-content\">\n            <SiteTitle className=\"site-title\">{tag}</SiteTitle>\n            <SiteDescription className=\"site-description\">\n              {tagData?.node.description ? (\n                tagData.node.description\n              ) : (\n                <Fragment>\n                  A collection of {totalCount > 1 && `${totalCount} posts`}\n                  {totalCount === 1 && '1 post'}\n                  {totalCount === 0 && 'No posts'}\n                </Fragment>\n              )}\n            </SiteDescription>\n          </TagsHeaderContent>\n        </ResponsiveHeaderBackground>\n        <main id=\"site-main\" css={[SiteMain, outer]}>\n          <div css={inner}>\n            <div css={[PostFeed]}>\n              {edges.map(({ node }) => (\n                <PostCard key={node.fields.slug} post={node} />\n              ))}\n            </div>\n          </div>\n        </main>\n        <Footer />\n      </Wrapper>\n    </IndexLayout>\n  );\n}\n\nexport const pageQuery = graphql`\n  query ($tag: String) {\n    allTagYaml {\n      edges {\n        node {\n          yamlId\n          description\n          image {\n            childImageSharp {\n              gatsbyImageData(layout: FULL_WIDTH)\n            }\n          }\n        }\n      }\n    }\n    allMarkdownRemark(\n      limit: 2000\n      sort: { frontmatter: { date: DESC } }\n      filter: { frontmatter: { tags: { in: [$tag] }, draft: { ne: true } } }\n    ) {\n      totalCount\n      edges {\n        node {\n          excerpt\n          frontmatter {\n            title\n            excerpt\n            tags\n            date\n            image {\n              childImageSharp {\n                gatsbyImageData(layout: FULL_WIDTH, placeholder: BLURRED)\n              }\n            }\n          }\n          fields {\n            readingTime {\n              text\n            }\n            layout\n            slug\n          }\n        }\n      }\n    }\n  }\n`;\n"],"names":["Head","data","pageContext","location","tag","tagData","allTagYaml","edges","find","n","node","yamlId","toLowerCase","___EmotionJSX","Fragment","name","content","description","property","config","title","siteUrl","pathname","instagram","github","split","Tags","totalCount","allMarkdownRemark","tagForImage","image","backgroundImageData","getSrc","IndexLayout","Wrapper","SiteNav","ResponsiveHeaderBackground","css","outer","SiteHeaderBackground","backgroundImage","className","TagsHeaderContent","inner","SiteTitle","SiteDescription","id","SiteMain","PostFeed","map","PostCard","key","fields","slug","post","Footer"],"sourceRoot":""}