"use strict";(self.webpackChunkrecord_journey=self.webpackChunkrecord_journey||[]).push([[8379],{7083:function(e,t,n){n.d(t,{A:function(){return d},H:function(){return c}});var o=n(758),r=n(8456);const i={h2:2,h3:3,h4:4};function s(e){return"object"==typeof e&&null!==e}function a(e){return"string"==typeof e.value?e.value:e.children&&0!==e.children.length?e.children.map(e=>a(e)).join(""):""}function l(e){const t=[],n=e=>{var o;if(e.tagName){var r;const n=i[e.tagName];if(n&&null!==(r=e.properties)&&void 0!==r&&r.id){const o=a(e).trim();o&&t.push({id:String(e.properties.id),text:o,level:n})}}null===(o=e.children)||void 0===o||o.forEach(e=>{s(e)&&n(e)})};return n(e),t}function c(e){return s(e)?l(e):[]}function d({htmlAst:e,initialHeadings:t}){const n=(0,o.useMemo)(()=>t||c(e),[e,t]),{0:i,1:s}=(0,o.useState)(null),{0:a,1:l}=(0,o.useState)(!0),{0:d,1:Y}=(0,o.useState)(!1),E=(0,o.useMemo)(()=>{const e={};let t=null,o=null;return n.forEach(n=>{2===n.level?(t=n.id,o=null):3===n.level?(o=n.id,t&&(e[n.id]=t)):4===n.level&&(o?e[n.id]=o:t&&(e[n.id]=t))}),e},[n]),z=e=>2===e.level||(3===e.level?(e=>{const t=E[e];if(!t)return!1;if(t===i)return!0;if(e===i)return!0;if(i){let n=i;for(;n;){const t=E[n];if(t===e)return!0;n=t}const o=E[i];if(o===t)return!0;if(o&&E[o]===t)return!0}return!1})(e.id):4===e.level&&(e=>{const t=E[e];if(!t)return!1;if(t===i)return!0;if(e===i)return!0;if(i&&E[i]===t)return!0;return!1})(e.id));if((0,o.useEffect)(()=>{if("undefined"==typeof window||"undefined"==typeof document)return;if(0===n.length)return;const e=()=>{var e,t;const o=window.scrollY+120;Y(window.scrollY>200);let r=null!==(e=null===(t=n[0])||void 0===t?void 0:t.id)&&void 0!==e?e:null;for(const i of n){const e=document.getElementById(i.id);if(!e)continue;if(!(e.getBoundingClientRect().top+window.scrollY<=o))break;r=i.id}s(r)};let t=!1;const o=()=>{t||(t=!0,window.requestAnimationFrame(()=>{e(),t=!1}))};return window.addEventListener("scroll",o,{passive:!0}),window.addEventListener("resize",o),e(),()=>{window.removeEventListener("scroll",o),window.removeEventListener("resize",o)}},[n]),(0,o.useEffect)(()=>{if(!i||!d)return;const e=document.querySelector('[aria-label="Table of contents"]'),t=null==e?void 0:e.querySelector(`a[href="#${i}"]`);t&&e&&t.scrollIntoView({behavior:"smooth",block:"nearest"})},[i,d]),(0,o.useEffect)(()=>{const e=document.querySelector(".read-next");if(!e)return;const t=new IntersectionObserver(e=>{e.forEach(e=>{l(!e.isIntersecting)})},{rootMargin:"-100px 0px 0px 0px"});return t.observe(e),()=>{t.disconnect()}},[]),0===n.length)return null;return(0,r.Y)("div",{css:[u,(!a||!d)&&p,"",""]},(0,r.Y)("nav",{css:f,"aria-label":"Table of contents"},(0,r.Y)("p",{css:m},"목차"),(0,r.Y)("ul",{css:h},n.map(e=>{const t=e.level>=3,n=z(e);return(0,r.Y)("li",{key:e.id,css:[v,b[e.level],e.id===i&&g,t&&!n&&w,t&&n&&y,"",""]},(0,r.Y)("a",{href:`#${e.id}`,"aria-current":e.id===i?"true":void 0,onClick:t=>{t.preventDefault(),s(e.id),window.history.pushState(null,"",`#${e.id}`);const n=document.getElementById(e.id);if(n){const e=52,t=n.getBoundingClientRect().top+window.pageYOffset-e;window.scrollTo({top:t,behavior:"smooth"})}}},e.text))}))),(0,r.Y)("div",{css:x}),(0,r.Y)("button",{type:"button",css:k,onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})}},"↑ Top"))}const u={name:"hq7fv9",styles:"border:1px solid var(--post-full-border);border-radius:12px;background:var(--background-color);box-shadow:0 6px 12px rgb(0 0 0 / 0.03);width:100%;max-height:calc(100vh - 140px);overflow:hidden;opacity:1;transform:translateX(0);transition:opacity 0.4s cubic-bezier(0.4, 0, 0.2, 1),transform 0.4s cubic-bezier(0.4, 0, 0.2, 1)"},p={name:"1w65nhu",styles:"opacity:0;transform:translateX(20px);pointer-events:none"},f={name:"rlwg6i",styles:"padding:20px 24px 0;word-break:keep-all;max-height:calc(100vh - 200px);overflow-y:auto;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"},m={name:"59mry9",styles:"margin-bottom:8px;font-size:1.4rem;font-weight:600;color:var(--post-card-title)"},h={name:"z06qs",styles:"list-style:none;margin:0;padding:0"},v={name:"1squwkm",styles:"margin:0;position:relative;:before{content:'';position:absolute;left:-16px;top:0;bottom:0;width:2px;background:var(--anchor-color);opacity:0;transition:opacity 0.1s ease-in-out;}a{color:var(--anchor-secondary-color);font-size:1.3rem;line-height:1.4;text-decoration:none;transition:color 0.1s ease-in-out;:hover{color:var(--anchor-color);}}"},g={name:"w9xfd9",styles:"a{color:var(--anchor-color);}:before{opacity:1;}"},b={2:{name:"1408f10",styles:"padding-left:0"},3:{name:"c0o9fp",styles:"padding-left:16px"},4:{name:"132a2g2",styles:"padding-left:32px"}},w={name:"1mav6mn",styles:"max-height:0!important;opacity:0!important;visibility:hidden;overflow:hidden;margin-top:0!important;margin-bottom:0!important;padding-top:0!important;padding-bottom:0!important;transition:max-height 0.3s ease-in-out,opacity 0.3s ease-in-out,margin 0.3s ease-in-out,padding 0.3s ease-in-out"},y={name:"xhdah4",styles:"max-height:200px;opacity:1;visibility:visible;transition:max-height 0.3s ease-in-out,opacity 0.3s ease-in-out,margin 0.3s ease-in-out,padding 0.3s ease-in-out"},x={name:"hm0ydr",styles:"margin:16px 24px 0;border:none;border-top:1px solid var(--post-full-border)"},k={name:"w3w6k0",styles:"width:100%;padding:8px 0;background:transparent;border:none;border-radius:0 0 11px 11px;color:var(--anchor-color);font-size:1.3rem;font-weight:500;cursor:pointer;transition:all 0.2s ease-in-out;text-align:center;&:hover{color:var(--anchor-hover-color);transform:translateY(-2px);}&:active{transform:translateY(0);}"}}}]);
//# sourceMappingURL=1c4dc665-40de3fc770f01c373ff7.js.map