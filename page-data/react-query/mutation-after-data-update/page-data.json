{"componentChunkName":"component---src-templates-post-tsx","path":"/react-query/mutation-after-data-update/","result":{"data":{"markdownRemark":{"html":"<p>React Queryλ” λ°μ΄ν„° fetching λΌμ΄λΈλ¬λ¦¬λ΅ μ†κ°λμ§€λ§, <strong>μ„λ²„ μƒνƒ κ°€μ Έμ¤κΈ°, μΊμ‹±, λ™κΈ°ν™” λ° μ—…λ°μ΄νΈ</strong>λ¥Ό μ‰½κ²ν•  μ μλ” λΌμ΄λΈλ¬λ¦¬λ‹¤. μ¦‰, React Queryλ¥Ό μ‚¬μ©ν•λ”λΌλ„ μ‹¤μ  API μ”μ²­μ„ λ³΄λ‚΄λ” κ²ƒμ€ Axios λΌμ΄λΈλ¬λ¦¬ νΉμ€ fetch ν•¨μλ¥Ό μ‚¬μ©ν•΄μ•Όν•λ‹¤.</p>\n<p>λ€λ¶€λ¶„μ μƒνƒ κ΄€λ¦¬ λΌμ΄λΈλ¬λ¦¬λ” ν΄λΌμ΄μ–ΈνΈ μƒνƒ μ‘μ—…μ—λ” μ ν•©ν•μ§€λ§, λΉ„λ™κΈ° λλ” μ„λ²„ μƒνƒ μ‘μ—…μ—λ” μ ν•©ν•μ§€ μ•λ‹¤. μ„λ²„ μƒνƒκ°€ μ™„μ „ν λ‹¤λ¥΄κΈ° λ•λ¬Έμ΄λ‹¤.</p>\n<p>React Queryμ μ‚¬μ© λ©μ μ€, ν…λ§λ‚ UI λ“±μ μ–΄ν”λ¦¬μΌ€μ΄μ…μ—μ„λ§ ν•„μ”ν• λ°μ΄ν„°λ¥Ό Client Stateλ΅ κ·μ •μ§“κ³ , μ„λ²„μ—μ„ λ°›μ•„μ¤λ” λ°μ΄ν„°λ¥Ό Server Stateλ΅ κ·μ •μ§€μ–΄ ν΄λΌμ΄μ–ΈνΈ μƒνƒμ™€, μ„λ²„ μƒνƒλ¥Ό λ‚λ„μ–΄μ„ μƒκ°ν•  μ μλ„λ΅ λ„μ™€μ£ΌκΈ° λ•λ¬Έμ— μ‚¬μ©ν•λ‹¤. React Queryλ” μ„λ²„ λ°μ΄ν„°λ¥Ό μ λ‹¤λ£° μ μλ„λ΅, λ°›μ•„μ¨ μ„λ²„ λ°μ΄ν„°λ¥Ό μΊμ‹±ν•΄μ£ΌκΈ°λ„ ν•λ©° λΈλΌμ°μ € μ°½μ„ λ‹¤μ‹ ν¬μ»¤μ¤λ¥Ό λ§μ¶”μ—μ„ λ• λλ” μ”μ²­ μ‹ μ¤λ¥κ°€ λ°μƒν–μ„ λ• μ΄ν›„μ—, APIλ¥Ό μ¬μ΅°ν ν•  μ μλ” μΆ‹μ€ μµμ…μ„ κ°€μ§€κ³  μλ‹¤.</p>\n<br />\n<h2 id=\"mutation\" style=\"position:relative;\">mutation<a href=\"#mutation\" aria-label=\"mutation permalink\" class=\"auto-link after\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a></h2>\n<p>React Queryμ μ„λ²„ λ°μ΄ν„° κ΄€λ ¨ μ¤‘μ” μ»¨μ…‰ μ¤‘ ν•λ‚λ”, μ„λ²„ λ°μ΄ν„°λ¥Ό μ΅°νν•κ³  μ„λ²„ λ°μ΄ν„°λ¥Ό κ°€κ³µν•λ” κ°λ…μ„ λ‚λ„μ–΄ μ‚¬μ©ν•λ„λ΅ ν•λ‹¤λ” κ²ƒμ΄λ‹¤. <code class=\"language-text\">query</code> λ” μ„λ²„ λ°μ΄ν„°λ¥Ό <strong>μ΅°ν</strong>(GET)ν•  μ μλ‹¤. <code class=\"language-text\">useQuery</code> ν›…μ„ μ‚¬μ©ν•λ‹¤. <code class=\"language-text\">mutation</code> μ€ queryμ™€ λ‹¤λ¥΄κ² <strong>μƒμ„±</strong>(POST), <strong>μμ •</strong>(PUT or PATCH), <strong>μ‚­μ </strong>(DELETE)μ™€ κ°™μ€ λ°μ΄ν„°λ¥Ό λ³€κ²½ν•λ” μ‘μ—…μ„ ν•  μ μλ„λ΅ ν•λ” ν•¨μλ‹¤. <code class=\"language-text\">useMutation</code> ν›…μ„ μ‚¬μ©ν•λ‹¤.</p>\n<h3 id=\"μ™-queryμ™€-mutationμ„-λ”°λ΅-λ‚λ„μ–΄λ†¨μ„κΉ\" style=\"position:relative;\">μ™ queryμ™€ mutationμ„ λ”°λ΅ λ‚λ„μ–΄λ†¨μ„κΉ?<a href=\"#%EC%99%9C-query%EC%99%80-mutation%EC%9D%84-%EB%94%B0%EB%A1%9C-%EB%82%98%EB%88%84%EC%96%B4%EB%86%A8%EC%9D%84%EA%B9%8C\" aria-label=\"μ™ queryμ™€ mutationμ„ λ”°λ΅ λ‚λ„μ–΄λ†¨μ„κΉ permalink\" class=\"auto-link after\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a></h3>\n<p>μ°μ„  μ©μ–΄λ¶€ν„° μ•μ•„λ³΄μ. mutationμ΄λ€, β€λμ—°λ³€μ΄β€™ νΉμ€ β€λ³€ν•β€™μ΄λΌλ” λ»μ„ κ°€μ§€κ³  μλ‹¤. β€κ°€λ³€β€™μ΄λΌκ³  λ¶λ¦¬κΈ°λ„ ν•λ‹¤. ν”„λ΅κ·Έλλ° μ„Έκ³„μ—μ„ mutationμ€ μ‚¬μ΄λ“ μ΄ν™νΈλ¥Ό μΌμΌν‚¤λ” λ°©λ²•μ΄λ‹¤. (<a href=\"https://en.wikibooks.org/wiki/Scheme_Programming/Mutability\" target=\"_blank\" rel=\"nofollow\">λ§ν¬</a>) λ°μ΄ν„°λ¥Ό λ³€κ²½μ‹ν‚¤λ” κ²ƒμ€ μ‚¬μ΄λ“ μ΄ν™νΈλ¥Ό μΌμΌν‚¤λ©° λ°μ΄ν„°μ μ¶”μ μ„ μ–΄λ µκ² λ§λ“ λ‹¤. ν•μ§€λ§ μ‚¬μ΄λ“ μ΄ν™νΈκ°€ μΌμ–΄λ‚λ‹¤κ³  ν•΄μ„ λ°μ΄ν„°λ¥Ό λ³€κ²½μ‹μΌμ„λ” μ•λλ‹¤λ” λ§μ€ μ•„λ‹λ‹¤. ν΄λΌμ΄μ–ΈνΈ λ° μ„λ²„μ—μ„ λ‹¤λ£¨λ” λ°μ΄ν„°λ” λ³€κ²½μ΄ μΌμ–΄λ‚μ•Όν•κ³ , λ³€κ²½μ΄ μΌμ–΄λ‚μ•Ό μλ―Έμλ” λ°μ΄ν„°κ°€ μ™„μ„±λλ‹¤.</p>\n<p>λ°λ©΄, λ°μ΄ν„°λ¥Ό μ΅°νν•λ” κ²ƒμ€ μ‚¬μ΄λ“ μ΄ν™νΈλ¥Ό λ°μƒμ‹ν‚¤μ§€ μ•λ”λ‹¤. React Queryλ” μ΄ λ‘μ κ°λ…μ„ λ‚λ„κ³ , μ‚¬μ©ν•λ” λ°©λ²•λ„ λ‹¤λ¥΄κ² κµ¬μ„±ν•΄λ‘μ—λ‹¤. queryλ” μ„ μ–Έμ μΌλ΅ μ‚¬μ©ν•  μ μμΌλ©°, mutationμ€ λ…λ Ήν•μΌλ΅ λ°–μ— μ‚¬μ©ν•μ§€ μ•λ„λ΅ λ§μ΄λ‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// λ§μ΄νΈ μ¦‰μ‹ μ„λ²„μ™€ ν†µμ‹  ν›„ λ°μ΄ν„°λ¥Ό λ°›μ•„μ΄. μ„ μ–Έμ .</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> data <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">useQuery</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> queryKey<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'todos'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> queryFn<span class=\"token operator\">:</span> getTodos <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// λ®¤ν…μ΄μ… κ°μ²΄λ¥Ό λ¨Όμ € μƒμ„± ν›„ μ΄λ²¤νΈκ°€ μΌμ–΄λ‚¬μ„ λ• μ‚¬μ©ν•¨. λ…λ Ήμ .</span>\n  <span class=\"token keyword\">const</span> mutation <span class=\"token operator\">=</span> <span class=\"token function\">useMutation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> mutationFn<span class=\"token operator\">:</span> updateTodos <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span>something<span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span><span class=\"token comment\">/* μ΄λ²¤νΈ λ°μƒ μ‹ μ‚¬μ© */</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> mutation<span class=\"token punctuation\">.</span><span class=\"token function\">mutate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> something<span class=\"token operator\">:</span> <span class=\"token string\">'some'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>queryλ” μ»΄ν¬λ„νΈκ°€ λ§μ΄νΈ λ  λ• μ¦‰μ‹ μ‹¤ν–‰λμ–΄ μ„λ²„μ—μ„ λ°μ΄ν„°λ¥Ό κ°€μ Έμ¨λ‹¤. ν›…μΌλ΅ μ„ μ–Έλ§ ν•΄λ‘λ©΄ μ•μ•„μ„ λ°μ΄ν„°λ¥Ό μ΅°νν•λ‹¤.</p>\n<p>ν•μ§€λ§ mutationμ€ μ„λ²„ λ°μ΄ν„°λ¥Ό λ³€ν•μ‹ν‚¤λ” κ²ƒμ΄κΈ° λ•λ¬Έμ—, μΌλ°μ μΌλ΅ μ»΄ν¬λ„νΈκ°€ λ§μ΄νΈ λ  λ• μ‹¤ν–‰λλ©΄ μ•λλ‹¤. μ»΄ν¬λ„νΈκ°€ λ§μ΄νΈ λμλ§μ λ¬Όκ±΄μ΄ κ²°μ κ°€ λλ©΄ μ΄μƒν•λ“―μ΄ λ§μ΄λ‹¤. λ€μ‹ , useMutation ν›…μ„ μ‚¬μ©ν•΄ mutation κ°μ²΄λ¥Ό κ°€μ Έμ¤κ³ , λ…λ Ήμ μΌλ΅ ν•„μ”ν•  λ• νΈμ¶ν•λ„λ΅ ν•κ³  μλ‹¤.</p>\n<p>λ”°λΌμ„ queryλ” μ‚¬μ΄λ“ μ΄ν™νΈλ¥Ό λ°μƒμ‹ν‚¤μ§€ μ•μΌλ©°, μ„ μ–Έμ μΌλ΅ μ‚¬μ©ν•  μ μκ³ , mutationμ€ μ‚¬μ΄λ“ μ΄ν™νΈλ¥Ό λ°μƒμ‹ν‚¬ μ μμΌλ©°, λ…λ Ήν•μΌλ΅ μ‚¬μ©ν•  μ μλ‹¤. React Queryλ” μ΄λ° μ°¨μ΄μ  λ•λ¬Έμ— λ‘μ„ λ‚λ„μ–΄ μ‚¬μ©ν•λ„λ΅ ν–λ‹¤.</p>\n<br />\n<h2 id=\"mutation-μ΄ν›„-λ™μ‘\" style=\"position:relative;\">mutation μ΄ν›„ λ™μ‘<a href=\"#mutation-%EC%9D%B4%ED%9B%84-%EB%8F%99%EC%9E%91\" aria-label=\"mutation μ΄ν›„ λ™μ‘ permalink\" class=\"auto-link after\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a></h2>\n<p>mutationμ΄ μ‹¤ν–‰λ μ΄ν›„ μ„λ²„μ λ°μ΄ν„°λ” λ³€κ²½λμ—μ§€λ§(μ. μ„λ²„μ DB λ°μ΄ν„° λ³€κ²½), React Queryμ mutation μ‹¤ν–‰ μ΄ν›„ ν΄λΌμ΄μ–ΈνΈμ μ„λ²„ λ°μ΄ν„°λ” λ³€κ²½ λμ§€ μ•μ€ μƒνƒμ΄λ‹¤. ν™”λ©΄μ„ μ—…λ°μ΄νΈ ν•λ” μ—¬λ¬ κ°€μ§€ λ°©λ²•μ„ μ•μ•„λ³΄λ©΄μ„, μ–΄λ–¤ μƒν™©μ—μ„ μ–΄λ–¤ λ°©λ²•μ„ μ‚¬μ©ν•΄μ•Ό ν•λ”μ§€ μ•μ•„λ³΄μ. ν΄λΌμ΄μ–ΈνΈμ μ„λ²„ λ°μ΄ν„°λΌν•¨μ€, queryλ΅ μ΅°νν•΄μ¨ μ„λ²„ λ°μ΄ν„°κ°€ ν΄λΌμ΄μ–ΈνΈμ μƒνƒλ΅ λ„μ–΄μ¨ κ²ƒμ„ λ§ν•λ‹¤. ν΄λΌμ΄μ–ΈνΈλ΅ λ„μ–΄μ¨ μ„λ²„ λ°μ΄ν„° κΈ°μ¤€μΌλ΅ ν™”λ©΄μ„ κ·Έλ ¤μ¤„ μ μλ‹¤.</p>\n<blockquote>\n<p>π“ ν΄λΌμ΄μ–ΈνΈμ μ„λ²„ λ°μ΄ν„°λ” μ²μ λ§ν–λ ν΄λΌμ΄μ–ΈνΈ λ°μ΄ν„°(ui νΉμ€ themeμ™€ κ°™μ€)μ™€λ” λ‹¤λ¥΄λ‹¤. μ΄μ  μ•„λμ—μ„ λ§ν•λ” ν΄λΌμ΄μ–ΈνΈ λ°μ΄ν„°λ€, μ„λ²„μ—μ„ ν΄λΌμ΄μ–ΈνΈλ΅ λ°›μ•„μ¨ μ„λ²„ λ°μ΄ν„°λ¥Ό λ§ν•λ‹¤.</p>\n</blockquote>\n<p>μ•„λμ μμ‹λ“¤μ€ delete κΈ°μ¤€μΌλ΅ mutation μ΄ν›„ μ–΄λ–»κ² ν™”λ©΄μ— λ°μ΄ν„°κ°€ μ—…λ°μ΄νΈ λλ”μ§€λ¥Ό μ„¤λ…ν•λ‹¤. React Queryκ°€ μ κ³µν•λ” useMutation ν›…μ„ ν†µν•΄ mutationμ„ ν•  μ μλ‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">useDeleteDoc</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token generic-function\"><span class=\"token function\">useMutation</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>DriveFile <span class=\"token operator\">|</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> AxiosError<span class=\"token punctuation\">,</span> <span class=\"token builtin\">string</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    mutationKey<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token constant\">DIARY_KEY</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">mutationFn</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>fileId<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">deleteDoc</span><span class=\"token punctuation\">(</span>fileId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li><code class=\"language-text\">mutationKey</code> : mutationμ„ μ‹λ³„ν•  μ μκ³ , ν›„μ— <code class=\"language-text\">useIsMutating</code> ν›…μ„ ν†µν•΄ mutation μ¤‘μΈ μ‘μ—…μ„ λ΅λ”© μ¤ν”Όλ„λ΅ μ‚¬μ©μμ—κ² λ°μ΄ν„°λ¥Ό μ²λ¦¬ν•κ³  μλ‹¤λ” ν‘μ‹λ¥Ό μ¤„ μμλ‹¤.</li>\n<li><code class=\"language-text\">mutationFn</code> : axiosλ‚ fetch ν•¨μλ¥Ό μ‚¬μ©ν•΄ μ„λ²„μ— API μ”μ²­μ„ λ³΄λ‚΄λ” ν•¨μκ°€ μ‹¤ν–‰λλ‹¤.</li>\n</ul>\n<p>β€» useMutation ν›…μ typeμ€ <a href=\"https://gusrb3164.github.io/web/2022/01/23/react-query-typescript/\" target=\"_blank\" rel=\"nofollow\">react-queryμ— typescript μ μ©ν•κΈ°</a>λ¥Ό μ°Έκ³ ν–λ‹¤.</p>\n<p>ν•μ§€λ§, μ„ μ‘μ—…μ€ λ‹¨μ§€ μ„λ²„μ— APIλ¥Ό λ³΄λ‚΄κ³  μ„λ²„μ— μ΅΄μ¬ν•λ” λ°μ΄ν„°λ¥Ό λ³€κ²½ν•  λΏ, ν΄λΌμ΄μ–ΈνΈμ λ°μ΄ν„°λ¥Ό λ³€κ²½μ‹μΌμ£Όμ§€ μ•λ”λ‹¤. λ¬Όλ΅  ν΄λΌμ΄μ–ΈνΈμ λ°μ΄ν„°κ°€ λ³€ν•μ§€ μ•μ•κΈ° λ•λ¬Έμ— ν™”λ©΄μ΄ λ³€κ²½λμ§€λ„ μ•λ”λ‹¤. λ³€κ²½λ λ°μ΄ν„°λ¥Ό λ‹¤μ‹ ν™”λ©΄μ— ν‘μ‹ν•λ ¤λ©΄ μ¶”κ°€μ μΈ μ‘μ—…μ΄ ν•„μ”ν•λ‹¤.</p>\n<ol>\n<li><strong>μ„λ²„μ—μ„</strong> μ΅°νν• λ°μ΄ν„°λ΅ ν΄λΌμ΄μ–ΈνΈ λ°μ΄ν„° μ—…λ°μ΄νΈ</li>\n<li><strong>ν΄λΌμ΄μ–ΈνΈμ—μ„</strong> μ”μ²­ λ°μ΄ν„°λ΅ μ μ©</li>\n</ol>\n<br />\n<h2 id=\"1-μ„λ²„μ—μ„-μ΅°νν•-λ°μ΄ν„°λ΅-ν΄λΌμ΄μ–ΈνΈ-λ°μ΄ν„°-μ—…λ°μ΄νΈ\" style=\"position:relative;\">1. μ„λ²„μ—μ„ μ΅°νν• λ°μ΄ν„°λ΅ ν΄λΌμ΄μ–ΈνΈ λ°μ΄ν„° μ—…λ°μ΄νΈ<a href=\"#1-%EC%84%9C%EB%B2%84%EC%97%90%EC%84%9C-%EC%A1%B0%ED%9A%8C%ED%95%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%A1%9C-%ED%81%B4%EB%9D%BC%EC%9D%B4%EC%96%B8%ED%8A%B8-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8\" aria-label=\"1 μ„λ²„μ—μ„ μ΅°νν• λ°μ΄ν„°λ΅ ν΄λΌμ΄μ–ΈνΈ λ°μ΄ν„° μ—…λ°μ΄νΈ permalink\" class=\"auto-link after\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a></h2>\n<p>ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— λ°μ΄ν„°λ¥Ό μ”μ²­ν• ν›„ λ³€κ²½λ λ°μ΄ν„°λ¥Ό λ°›μ•„μ™€μ„ ν΄λΌμ΄μ–ΈνΈ λ°μ΄ν„°λ¥Ό μ—…λ°μ΄νΈ ν•λ” λ°©λ²•μ΄λ‹¤.</p>\n<ul>\n<li>responseμ— λ³€κ²½λ λ°μ΄ν„°λ¥Ό λ°›λ” λ°©λ²• (setQueryData)</li>\n<li>μ”μ²­ μ„±κ³µ ν›„ μ¬μ΅°νλ¥Ό ν†µν•΄ λ°μ΄ν„°λ¥Ό λ°›λ” λ°©λ²• (invalidateQueries)</li>\n</ul>\n<h3 id=\"11-responseμ—-λ³€κ²½λ-λ°μ΄ν„°-λ°›κΈ°-setQueryData\" style=\"position:relative;\">1.1 responseμ— λ³€κ²½λ λ°μ΄ν„° λ°›κΈ° (setQueryData)<a href=\"#11-response%EC%97%90-%EB%B3%80%EA%B2%BD%EB%90%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%B0%9B%EA%B8%B0-setQueryData\" aria-label=\"11 responseμ— λ³€κ²½λ λ°μ΄ν„° λ°›κΈ° setQueryData permalink\" class=\"auto-link after\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a></h3>\n<p><code class=\"language-text\">setQueryData</code> λ” useQueryλ΅ μ΅°νλ λ°μ΄ν„°κ°€ μΊμ‹μ— λ“¤μ–΄μμ„ κ²½μ°, μΊμ‹μ μ΅°ν λ°μ΄ν„°λ¥Ό μ—…λ°μ΄νΈ ν•΄μ¤„ μ μλ” λ©”μ„λ“λ‹¤. reduxλ΅ μƒκ°ν•΄λ΄¤μ„ λ•, storeμ— μλ” μƒνƒ κ°’μ„ λ³€κ²½μ‹μΌμ¤„ μ μλ” ν•¨μλ‹¤. mutationμ—μ„λ” μ•„λμ™€ κ°™μ΄ μ‚¬μ©ν•  μ μλ‹¤.</p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">useDeleteDoc</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token generic-function\"><span class=\"token function\">useMutation</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>DriveFile <span class=\"token operator\">|</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> AxiosError<span class=\"token punctuation\">,</span> <span class=\"token builtin\">string</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    mutationKey<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token constant\">DIARY_KEY</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">mutationFn</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>fileId<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">deleteDoc</span><span class=\"token punctuation\">(</span>fileId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"gatsby-highlight-code-line\">    <span class=\"token function\">onSuccess</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><span class=\"gatsby-highlight-code-line\">      queryClient<span class=\"token punctuation\">.</span><span class=\"token generic-function\"><span class=\"token function\">setQueryData</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>DriveFile<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token constant\">DIARY_KEY</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'docList'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"gatsby-highlight-code-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">onSuccess</code> λ©”μ„λ“μ κ²½μ° mutationμ΄ μ„±κ³µμ μΌλ΅ μ™„λ£λλ©΄ νΈμ¶λλ” λ©”μ„λ“λ‹¤. μ΄ 3κ°μ μΈμλ¥Ό λ°›μ„ μ μλ”λ°, κ·Έ μ¤‘ μ²« λ²μ§Έλ” μ„λ²„μ—μ„ λ°ν™λ dataλ¥Ό μΈμλ΅ λ°›μ•„μ¬ μ μλ‹¤.</p>\n<p>μ΄ λ°©λ²•μ„ μ‚¬μ©ν•κΈ° μ„ν•΄μ„λ”, μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈ μ”μ²­μ— λ”°λΌ μμ‹ μ λ°μ΄ν„°λ¥Ό μ—…λ°μ΄νΈ ν• ν›„, <strong>μ—…λ°μ΄νΈ λ λ°μ΄ν„°λ¥Ό λ°λ“μ‹ ν΄λΌμ΄μ–ΈνΈμ—κ² μμ •λ λ°μ΄ν„°λ¥Ό λ‚΄λ ¤</strong>μ£Όμ–΄μ•Όλ§ ν•λ‹¤. μμ •λ λ°μ΄ν„°κ°€ ν΄λΌμ΄μ–ΈνΈμ μΊμ‹ λ°μ΄ν„°μ— μƒλ΅­κ² λ“¤μ–΄κ°€κ² λκ³ , μ΄λ” λ°λ“μ‹ μ„λ²„ μΈ΅μ΄ λ°μ΄ν„° μ²λ¦¬ μ‘μ—… ν›„ μ²λ¦¬λ λ°μ΄ν„°λ¥Ό responseμ— λ‹΄μ•„ ν΄λΌμ΄μ–ΈνΈμ— μ „μ†΅ν•΄μ•Ό ν•λ‹¤.</p>\n<p>λ°μ΄ν„° νλ¦„μ€ μ•„λμ™€ κ°™λ‹¤.</p>\n<ul>\n<li><code class=\"language-text\">ν΄λΌμ΄μ–ΈνΈ -> μ„λ²„</code> : λ°μ΄ν„° λ³€κ²½ μ”μ²­</li>\n<li><code class=\"language-text\">μ„λ²„</code> : DB μΈμ¤ν„΄μ¤μ— λ°μ΄ν„° λ³€κ²½</li>\n<li><code class=\"language-text\">μ„λ²„ -> ν΄λΌμ΄μ–ΈνΈ</code> : λ³€κ²½λ λ°μ΄ν„° λ°ν™</li>\n</ul>\n<h3 id=\"12-μ¬μ΅°ν-invalidateQueries\" style=\"position:relative;\">1.2 μ¬μ΅°ν (invalidateQueries)<a href=\"#12-%EC%9E%AC%EC%A1%B0%ED%9A%8C-invalidateQueries\" aria-label=\"12 μ¬μ΅°ν invalidateQueries permalink\" class=\"auto-link after\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a></h3>\n<p>ν•μ§€λ§, μ„λ²„μ—μ„ λ³€κ²½λ λ°μ΄ν„°λ¥Ό λ‚΄λ ¤μ£Όμ§€ μ•μ„ μλ„ μλ‹¤. κ·Έλ¬λ©΄, ν΄λΌμ΄μ–ΈνΈμ—μ„λ” μ„λ²„μ— λ³€κ²½λ λ°μ΄ν„°λ¥Ό λ‹¤μ‹ μ΅°νν•΄μ„ λ¬Έμ λ¥Ό ν•΄κ²°ν•  μ μλ‹¤. μ¦‰, ν΄λΌμ΄μ–ΈνΈλ” μμ„μ— λ§κ² μ„λ²„μ— λ°μ΄ν„° λ³€κ²½ μ”μ²­μ„ ν•κ³ , μ¬μ΅°ν μ”μ²­μ„ ν•΄μ„ μ›ν•λ” κ²°κ³Όλ¥Ό μ–»λ” κ²ƒμ΄λ‹¤.</p>\n<p>μ„λ²„μ—μ„ μ¬μ΅°ν ν•λ” λ°©λ²•μ€, <code class=\"language-text\">queryClient.invalidateQueries</code> λ©”μ„λ“λ¥Ό ν†µν•΄ ν•  μ μλ‹¤.</p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">useDeleteDoc</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> queryClient <span class=\"token operator\">=</span> <span class=\"token function\">useQueryClient</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// queryClientλ¥Ό κ°€μ Έμ™€μ•Ό ν•¨</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token generic-function\"><span class=\"token function\">useMutation</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>DriveFile <span class=\"token operator\">|</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> AxiosError<span class=\"token punctuation\">,</span> <span class=\"token builtin\">string</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    mutationKey<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token constant\">DIARY_KEY</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">mutationFn</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>fileId<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">deleteDoc</span><span class=\"token punctuation\">(</span>fileId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">onSuccess</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">      queryClient<span class=\"token punctuation\">.</span><span class=\"token function\">invalidateQueries</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> queryKey<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token constant\">DIARY_KEY</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">onSuccess</code> λ©”μ„λ“λ¥Ό μƒμ„±ν•κ³ , λ¶λ¬μ¨ queryClientλ¥Ό ν†µν•΄ <code class=\"language-text\">invlidateQueries</code> λ©”μ„λ“λ¥Ό μΏΌλ¦¬ν‚¤μ™€ ν•¨κ» νΈμ¶ν•λ©΄, κΈ°μ΅΄μ— useQueryλ΅ μ΅°νν•΄μ¨ λ°μ΄ν„°κ°€ λ‹¤μ‹ μ΅°νκ°€ λλ©΄μ„ κΈ°μ΅΄ λ°μ΄ν„°κ°€ λ³€κ²½λλ‹¤.</p>\n<p>λ°μ΄ν„° νλ¦„μ€ μ•„λμ™€ κ°™λ‹¤.</p>\n<ul>\n<li><code class=\"language-text\">ν΄λΌμ΄μ–ΈνΈ -> μ„λ²„</code> : λ°μ΄ν„° λ³€κ²½ μ”μ²­</li>\n<li><code class=\"language-text\">μ„λ²„ -> DB</code> : DBμ— λ°μ΄ν„° λ³€κ²½</li>\n<li><code class=\"language-text\">μ„λ²„ -> ν΄λΌμ΄μ–ΈνΈ</code> : <strong>μ„±κ³µ message</strong> λ°ν™</li>\n<li><code class=\"language-text\">ν΄λΌμ΄μ–ΈνΈ -> μ„λ²„</code> : λ³€κ²½λ λ°μ΄ν„° μ΅°ν μ”μ²­</li>\n<li><code class=\"language-text\">μ„λ²„ -> DB</code> : DBμ— λ°μ΄ν„° μ΅°ν</li>\n<li><code class=\"language-text\">μ„λ²„ -> ν΄λΌμ΄μ–ΈνΈ</code> : <strong>λ³€κ²½λ λ°μ΄ν„°</strong> λ°ν™</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1150px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 7.8%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAeElEQVR42j2NbQvCMAyE9/9/njL7Xm2btIJSHCKb6Di7wvwQ7u5JyA3eXxBiglQGQmpo6zAK2b1QGofjCG0snD/j1Fgk6lwbh1ornq8Z90BYrMJcMgbmjEQZm8bEbahl7iXUd/zX3Yd2k8u1P3x/VkzlhrUwvtMDP8cXklzXt7GMAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"invalidate-queries\"\n        title=\"\"\n        src=\"/static/9ceee71599b575d6aa9812980bf61059/26e62/invalidate-queries.png\"\n        srcset=\"/static/9ceee71599b575d6aa9812980bf61059/0eb09/invalidate-queries.png 500w,\n/static/9ceee71599b575d6aa9812980bf61059/1263b/invalidate-queries.png 1000w,\n/static/9ceee71599b575d6aa9812980bf61059/26e62/invalidate-queries.png 1150w\"\n        sizes=\"(max-width: 1150px) 100vw, 1150px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>λ„¤νΈμ›ν¬ νƒ­μ„ λ³΄λ©΄, μ‚­μ  μ”μ²­μ΄ μ™„λ£λ μ¦‰μ‹ μ΅°ν μ”μ²­μ΄ κ°„ κ²ƒμ„ λ³Ό μ μλ‹¤. μ΄ λ°©μ‹μ„ μ‚¬μ©ν•  κ²½μ°, μ„λ²„ λ°μ΄ν„°κ°€ μƒλ΅­κ² μ΅°νλμ–΄ ν΄λΌμ΄μ–ΈνΈμ λ°μ΄ν„°κ°€ λ³€κ²½λκ³  ν™”λ©΄μ΄ μƒλ΅­κ² κ·Έλ ¤μ§„λ‹¤.</p>\n<p>ν•μ§€λ§, λ§μ•½ μ„λ²„μ— μ—¬λ¬ μ‹μ¤ν…μ΄ μ—°λ™λμ–΄ μμ„ κ²½μ° νΉμ€ μ„λ²„μ—μ„ λ°μ΄ν„° λ³€κ²½μ— λ”λ μ΄κ°€ κ±Έλ¦° κ²½μ°μ—, λ³€κ²½ λ‚΄μ©μ΄ λ°μλμ§€ μ•μ€ μ±„ λ³€κ²½ μ „ λ°μ΄ν„°κ°€ μ΅°νλ  κ°€λ¥μ„±μ΄ μλ‹¤. μ„λ²„κ°€ λΉ„λ™κΈ°λ΅ λ™μ‘ν•κ±°λ‚ μ μ© λλ”λ° μ‹κ°„μ΄ κ±Έλ¦¬λ” κ²½μ°μ΄λ‹¤.</p>\n<p>κ°€λ Ή, Google APIμ—μ„ Drive File APIμ— μ‚­μ  μ”μ²­μ„ ν–κ³ , Drive Fileκ³Ό μ—°λ™λμ–΄ μλ” Doc Fileμ„ μ¬μ΅°ν ν•λ‹¤λ©΄ 1μ΄ λ―Έλ§μ ν…€μ„ μ£Όμ–΄μ•Ό μ •μƒμ μΌλ΅ νμΌμ΄ μ‚­μ λ listλ¥Ό λ°›μ•„μ¬ μ μλ‹¤. μ΄λ° κ²½μ°, λ”λ μ΄λ¥Ό μ£Όμ–΄ μ¬μ΅°ν ν•΄μ¤„ μ μλ‹¤.</p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token function\">onSuccess</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></span>    queryClient<span class=\"token punctuation\">.</span><span class=\"token function\">invalidateQueries</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> queryKey<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token constant\">DIARY_KEY</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">800</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>ν•μ§€λ§, μ΄ μ‘μ—…μ„ ν•  κ²½μ° mutationμ‹ λ™μ‘ν–λ, loading spinnerκ°€ ν• λ² λ‚νƒ€λ‚κ³ , λ‹¤μ‹ queryν•  λ• λ‚νƒ€λ‚λ” loading spinnerκ°€ μ΄μ–΄μ„ λ‚νƒ€λ‚λ‹¤.</p>\n<p><img src=\"/1b45c2793985f54d371a5d996d5d4320/loading-spinner-twice.gif\" alt=\"loading-spinner-twice\"></p>\n<p>loading spinnerλ¥Ό λ„μ°λ” μ΅°κ±΄μ„ λ‹¤λ¥΄κ² μ£Όλ©΄ ν•΄κ²°λκ² μ§€λ§, λ”°λ΅ μ²λ¦¬λ¥Ό ν•΄μ£Όμ–΄μ•Ό ν•λ” λ²κ±°λ΅μ›€μ΄ μƒκΈ΄λ‹¤. λ λ‹¤λ¥Έ λ¬Έμ λ„ μλ‹¤. <code class=\"language-text\">800ms</code> μ΄ μ •ν™•ν• μμΉκ°€ μ•„λ‹λ‹¤. μ„λ²„μ μƒνƒμ— λ”°λΌ μ‹κ°„μ„ λ” λ§μ΄ μ¤μ•Όν•  μλ„ μλ‹¤. μ„λ²„μ λ°μ΄ν„°κ°€ μ •ν•©μ„±μ„ λ§μ¶”λ”λ° μ‹κ°„μ΄ κ±Έλ¦¬λ” μƒνƒλΌλ©΄, λ‹¤μ‹ λ³€κ²½λμ§€ μ•μ€ λ°μ΄ν„°κ°€ μ΅°νλ  ν™•λ¥ μ΄ λ†’κΈ° λ•λ¬Έμ΄λ‹¤.</p>\n<hr>\n<p>2κ°€μ§€ μ¤‘ μ„λ²„ λ°μ΄ν„°λ΅ ν΄λΌμ΄μ–ΈνΈ λ°μ΄ν„°λ¥Ό λ³€κ²½ν•λ” λ°©λ²•μ„ μ•μ•„λ΄¤λ‹¤. Best Caseλ” μ„λ²„μ—μ„ λ³€κ²½λ λ°μ΄ν„°λ¥Ό μ •ν™•ν•κ² responseμ— λ‹΄μ•„ λ‚΄λ ¤μ¤€λ‹¤λ©΄ ν΄λΌμ΄μ–ΈνΈμ—μ„ λ°›μ•„ ν™”λ©΄μ„ μƒλ΅­κ² κ·Έλ ¤μ£Όλ” <code class=\"language-text\">setQueryData</code> λ©”μ„λ“λ¥Ό μ‚¬μ©ν• λ°©λ²•μ΄λ‹¤. ν•μ§€λ§ μ„λ²„μ—μ„ λ°μ΄ν„°λ¥Ό λ‚΄λ ¤μ£Όμ§€ λ»ν•λ” μƒν™©μ΄λΌλ©΄, ν΄λΌμ΄μ–ΈνΈμ—μ„ μ”μ²­μ„ λ³΄λ‚Έ λ°μ΄ν„°λ¥Ό κΈ°λ°μΌλ΅ ν™”λ©΄μ„ κ·Έλ ¤μ£Όλ” λ°©λ²•λ„ μ΅΄μ¬ν•λ‹¤.</p>\n<br />\n<h2 id=\"2-μ”μ²­-λ°μ΄ν„°λ΅-ν΄λΌμ΄μ–ΈνΈ-λ°μ΄ν„°-λ³€κ²½\" style=\"position:relative;\">2. μ”μ²­ λ°μ΄ν„°λ΅ ν΄λΌμ΄μ–ΈνΈ λ°μ΄ν„° λ³€κ²½<a href=\"#2-%EC%9A%94%EC%B2%AD-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%A1%9C-%ED%81%B4%EB%9D%BC%EC%9D%B4%EC%96%B8%ED%8A%B8-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%B3%80%EA%B2%BD\" aria-label=\"2 μ”μ²­ λ°μ΄ν„°λ΅ ν΄λΌμ΄μ–ΈνΈ λ°μ΄ν„° λ³€κ²½ permalink\" class=\"auto-link after\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a></h2>\n<p>μ”μ²­ ν•  λ• λ³΄λ‚΄λ” ν΄λΌμ΄μ–ΈνΈμ λ°μ΄ν„° κΈ°λ°μΌλ΅ μ¤μ¤λ΅μ λ°μ΄ν„°λ¥Ό λ³€κ²½ν•  μ μλ‹¤.</p>\n<ol>\n<li>μ§μ ‘ κ°€κ³µ (getQueryData &#x26; setQueryData λλ” setQueryData &#x26; Updater λ©”μ„λ“)</li>\n<li>λ‚™κ΄€μ  μ—…λ°μ΄νΈ - Optimistic Update(onMutate λ©”μ„λ“)</li>\n</ol>\n<h3 id=\"21-μ§μ ‘-κ°€κ³µ\" style=\"position:relative;\">2.1 μ§μ ‘ κ°€κ³µ<a href=\"#21-%EC%A7%81%EC%A0%91-%EA%B0%80%EA%B3%B5\" aria-label=\"21 μ§μ ‘ κ°€κ³µ permalink\" class=\"auto-link after\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a></h3>\n<h4 id=\"getQueryData--setQueryData-λ©”μ„λ“-μ΅°ν•©\" style=\"position:relative;\">getQueryData &#x26; setQueryData λ©”μ„λ“ μ΅°ν•©<a href=\"#getQueryData--setQueryData-%EB%A9%94%EC%84%9C%EB%93%9C-%EC%A1%B0%ED%95%A9\" aria-label=\"getQueryData  setQueryData λ©”μ„λ“ μ΅°ν•© permalink\" class=\"auto-link after\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a></h4>\n<p>react-queryμ <code class=\"language-text\">getQueryData</code>λ” μ΅°νν• λ°μ΄ν„° μΊμ‹μ λ°μ΄ν„°λ¥Ό κ°€μ Έμ¤λ” μ‘μ—…μ΄λ‹¤. onSucessμ λ‘ λ²μ§Έ μΈμλ΅, μ”μ²­ μ‹ λ³΄λƒλ κ°’μ„ λ°›μ•„μ¬ μ μλ‹¤.</p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token function\">onSuccess</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span> variables<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// variablesλ” mutateν•¨μκ°€ λ°›λ” λ³€μλ‹¤.</span>\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token keyword\">const</span> oldData <span class=\"token operator\">=</span> queryClient<span class=\"token punctuation\">.</span><span class=\"token generic-function\"><span class=\"token function\">getQueryData</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>DriveFile<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token constant\">DIARY_KEY</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'docList'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span>  queryClient<span class=\"token punctuation\">.</span><span class=\"token generic-function\"><span class=\"token function\">setQueryData</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>DriveFile<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token constant\">DIARY_KEY</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'docList'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token operator\">...</span>oldData<span class=\"token punctuation\">,</span>\n<span class=\"gatsby-highlight-code-line\">    files<span class=\"token operator\">:</span> oldData<span class=\"token operator\">?.</span>files<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>file <span class=\"token operator\">=></span> file<span class=\"token punctuation\">.</span>id <span class=\"token operator\">!==</span> variables<span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> File<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></span>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">getQueryData</code>λ¥Ό ν†µν•΄ λ³€κ²½λκΈ° μ „ λ°μ΄ν„°λ¥Ό μΊμ‹μ—μ„ μ΅°νν•λ‹¤. κ·Έλ¦¬κ³ , <code class=\"language-text\">filter</code>μ™€ κ°™μ€ λ©”μ„λ“λ΅ μΊμ‹ λ°μ΄ν„°λ¥Ό κ°€κ³µν•λ‹¤. μ΄ν›„μ—, κ°€κ³µν• λ°μ΄ν„°λ¥Ό λ¶λ³€μ„±μ„ μ§€μΌμ„ <code class=\"language-text\">setQueryData</code> λ©”μ„λ“μ μΈμλ΅ λ„£μ–΄μ¤€λ‹¤. κ·Έλ¬λ©΄, ν΄λΌμ΄μ–ΈνΈμ λ°μ΄ν„°κ°€ λ³€κ²½λλ©°, queryλ¥Ό μ„ μ–Έν• μ»΄ν¬λ„νΈκ°€ λ¦¬λ λ”λ§ λλ©΄μ„ ν™”λ©΄μ΄ μƒλ΅­κ² κ·Έλ ¤μ§„λ‹¤.</p>\n<p>π“ μ£Όμμ μ€ λ°λ“μ‹ λ¶λ³€μ„±μ„ μ§€μΌμ„ λ„£μ–΄μ£Όμ–΄μ•Ό ν•λ‹¤. λ¶λ³€μ„±μ„ μ§€μΌμ£Όμ§€ μ•μΌλ©΄ ν™”λ©΄μ΄ λ³€κ²½λμ§€ μ•λ”λ‹¤.</p>\n<p>λ°μ΄ν„° νλ¦„μ€ μ•„λμ™€ κ°™λ‹¤.</p>\n<ul>\n<li><code class=\"language-text\">ν΄λΌμ΄μ–ΈνΈ -> μ„λ²„</code> : λ°μ΄ν„° λ³€κ²½ μ”μ²­</li>\n<li><code class=\"language-text\">μ„λ²„ -> ν΄λΌμ΄μ–ΈνΈ</code> : μ„±κ³µ message λ°ν™</li>\n<li>ν΄λΌμ΄μ–ΈνΈ λ°μ΄ν„° μ¤μ¤λ΅ κ°€κ³µ ν›„ λ³€κ²½</li>\n</ul>\n<h4 id=\"setQueryData--Updater-λ©”μ„λ“-μ΅°ν•©\" style=\"position:relative;\">setQueryData &#x26; Updater λ©”μ„λ“ μ΅°ν•©<a href=\"#setQueryData--Updater-%EB%A9%94%EC%84%9C%EB%93%9C-%EC%A1%B0%ED%95%A9\" aria-label=\"setQueryData  Updater λ©”μ„λ“ μ΅°ν•© permalink\" class=\"auto-link after\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a></h4>\n<p>getQueryDataλ¥Ό μ‚¬μ©ν•μ§€ μ•κ³  <code class=\"language-text\">setQueryData</code> λ§ μ‚¬μ©ν•λ” λ°©λ²•μ΄λ‹¤. μ΄ λ°©λ²•μ€ μΊμ‹μ—μ„ λ‹¤μ‹ μ΅°νν•λ” λ΅μ§μ΄ μ—†μ–΄λ„ useMutation μμ²΄μ—μ„ μ κ³µν•λ” λ°©λ²•μ΄λ‹¤. μ—…λ°μ΄ν„° ν•¨μλ¥Ό μ„ μ–Έν•λ©΄ μ•μ•„μ„ ν΄λΌμ΄μ–ΈνΈ λ°μ΄ν„°λ¥Ό λ³€κ²½μ‹μΌμ¤€λ‹¤.</p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token function\">onSuccess</span><span class=\"token punctuation\">(</span>_<span class=\"token punctuation\">,</span> variables<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  queryClient<span class=\"token punctuation\">.</span><span class=\"token generic-function\"><span class=\"token function\">setQueryData</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>DriveFile<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token constant\">DIARY_KEY</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'docList'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"gatsby-highlight-code-line\">    <span class=\"token punctuation\">(</span>oldData<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> DriveFile <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span></span><span class=\"gatsby-highlight-code-line\">      <span class=\"token operator\">...</span>oldData<span class=\"token punctuation\">,</span></span><span class=\"gatsby-highlight-code-line\">      files<span class=\"token operator\">:</span> oldData<span class=\"token operator\">?.</span>files<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>file <span class=\"token operator\">=></span> file<span class=\"token punctuation\">.</span>id <span class=\"token operator\">!==</span> variables<span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> File<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></span><span class=\"gatsby-highlight-code-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></span>  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p><code class=\"language-text\">setQueryData</code>μ λ‘λ²μ§Έ μΈμλ΅ ν•¨μλ¥Ό λ„£μ–΄μ¤„ μ μλ”λ°, μ΄κ²ƒμ΄ μ—…λ°μ΄ν„° ν•¨μμ΄λ‹¤. μ—…λ°μ΄ν„° ν•¨μλ” reactμ setState ν•¨μμ™€ μ‚¬μ©λ²•μ΄ λ™μΌν•λ‹¤. μΈμλ΅ κΈ°μ΅΄ μΏΌλ¦¬ν• λ°μ΄ν„°λ¥Ό κ°€μ§€κ³  μ¤λ©°, μΏΌλ¦¬ν• λ°μ΄ν„°λ¥Ό κΈ°λ°μΌλ΅ κ°€κ³µν• κ°’μ„ λ¶λ³€μ„±μ„ μ§€μΌ λ°ν™ν•λ©΄, μΊμ‹λ λ°μ΄ν„°κ°€ μ—…λ°μ΄νΈ λκ³  ν™”λ©΄μ΄ λ¦¬λ λ”λ§ λλ‹¤.</p>\n<p>μ²«λ²μ§Έ λ°©λ²•μ²λΌ, μ΅°ν ν• ν›„ μ—…λ°μ΄νΈ ν•κΈ°λ³΄λ‹¤λ” μ—…λ°μ΄ν„° ν•¨μλ¥Ό μ‚¬μ©ν•λ” λ°©λ²•μ΄ μΆ€ λ” κ°„νΈν•λ‹¤κ³  λκ»΄μ§„λ‹¤. λ°μ΄ν„°μ νλ¦„μ€ λ™μΌν•λ‹¤.</p>\n<h3 id=\"22-λ‚™κ΄€μ -μ—…λ°μ΄νΈ---Optimistic-UpdateonMutate-λ©”μ„λ“\" style=\"position:relative;\">2.2 λ‚™κ΄€μ  μ—…λ°μ΄νΈ - Optimistic Update(onMutate λ©”μ„λ“)<a href=\"#22-%EB%82%99%EA%B4%80%EC%A0%81-%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8---Optimistic-UpdateonMutate-%EB%A9%94%EC%84%9C%EB%93%9C\" aria-label=\"22 λ‚™κ΄€μ  μ—…λ°μ΄νΈ   Optimistic UpdateonMutate λ©”μ„λ“ permalink\" class=\"auto-link after\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a></h3>\n<p>λ‚™κ΄€μ  μ—…λ°μ΄νΈ(Optimistic Update)λ€ λ‹¨μ–΄κ°€ μ–΄μƒ‰ν•κ² λκ»΄μ§ μ μμ§€λ§, λ‚™κ΄€μ μ΄λΌλ” λ§μ€ μ„λ²„λ΅ λ³΄λ‚Έ μ”μ²­μ΄ μ •μƒμ μΌ κ²ƒμ„ μμƒν•κ³ , ν΄λΌμ΄μ–ΈνΈμ λ°μ΄ν„°λ¥Ό λ³€κ²½μ‹μΌ μ”μ²­ responseκ°€ μ¤κΈ° μ „μ— ν΄λΌμ΄μ–ΈνΈμ λ°μ΄ν„°λ¥Ό λ―Έλ¦¬ λ³€κ²½μ‹ν‚¤λ” μ‘μ—…μ„ λ§ν•λ‹¤. μ΄λ” useMutateion ν›…μ—μ„ <code class=\"language-text\">onSuccess</code> λ€μ‹  <code class=\"language-text\">onMutate</code> λ©”μ„λ“μ™€ <code class=\"language-text\">onError</code> λ©”μ„λ“λ¥Ό μ΅°ν•©ν•μ—¬ κµ¬ν„ν•  μ μλ‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token function-variable function\">onMutate</span><span class=\"token operator\">:</span> <span class=\"token keyword\">async</span> variables <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// refetch λ©”μ„λ“κ°€ μ‚¬μ©λμ§€ μ•λ„λ΅ λ―Έλ¦¬ λ§‰μ•„λ‘ .</span>\n  <span class=\"token keyword\">await</span> queryClient<span class=\"token punctuation\">.</span><span class=\"token function\">cancelQueries</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> queryKey<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token constant\">DIARY_KEY</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> oldData <span class=\"token operator\">=</span> queryClient<span class=\"token punctuation\">.</span><span class=\"token generic-function\"><span class=\"token function\">getQueryData</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>DriveFile<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token constant\">DIARY_KEY</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'docList'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  queryClient<span class=\"token punctuation\">.</span><span class=\"token generic-function\"><span class=\"token function\">setQueryData</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>DriveFile<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token constant\">DIARY_KEY</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'docList'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token operator\">...</span>oldData<span class=\"token punctuation\">,</span>\n    files<span class=\"token operator\">:</span> oldData<span class=\"token operator\">?.</span>files<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>file <span class=\"token operator\">=></span> file<span class=\"token punctuation\">.</span>id <span class=\"token operator\">!==</span> variables<span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> File<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> oldData <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token function-variable function\">onError</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">,</span> newTodo<span class=\"token punctuation\">,</span> context<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> oldData<span class=\"token operator\">:</span> DriveFile <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// μ—λ¬κ°€ λ°μƒν•λ©΄, κΈ°μ΅΄ λ°μ΄ν„° ν΄λ°±</span>\n  queryClient<span class=\"token punctuation\">.</span><span class=\"token function\">setQueryData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token constant\">DIARY_KEY</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'docList'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>context<span class=\"token punctuation\">.</span>oldData <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p>onMutate λ©”μ„λ“ μ•μ—λ” API μ”μ²­μ΄ μ„±κ³µν–μ„ κ²½μ°λ¥Ό κ°€μ •ν•κ³ , λ°μ΄ν„°λ¥Ό κ°€κ³µν•΄ ν™”λ©΄μ„ μ—…λ°μ΄νΈ ν•λ‹¤. νΉμ΄ν• λ¶€λ¶„μ€ <code class=\"language-text\">cancelQueries</code> λ¥Ό μ‚¬μ©ν•λ‹¤λ” μ μΈλ°, cancelQueriesλ” API μ”μ²­ μ΄ν›„μ— λ°μƒν•λ” μ”μ²­μ„ μ·¨μ†ν•λ” λ©”μ„λ“μ΄λ―€λ΅ μ”μ²­μ΄ Errorκ°€ λ°μƒν–λ‹¤λ©΄ refetchκ°€ μΌμ–΄λ‚μ§€ μ•λ„λ΅ λ°©μ§€ν•λ” μ—­ν• μ„ ν•΄μ¤€λ‹¤.</p>\n<p>onMutate λ©”μ„λ“μ μ•„λ λ¶€λ¶„μ€ <strong>μΊμ‹ λ°μ΄ν„°λ¥Ό μ§μ ‘ κ°€κ³µ</strong>ν•λ” λ¶€λ¶„κ³Ό λ™μΌν•λ‹¤.</p>\n<p>onError λ©”μ„λ“λ” API μ”μ²­μ„ λ³΄λ‚΄ μ„±κ³µμ„ κ°€μ •ν•κ³  ν™”λ©΄μ€ μ—…λ°μ΄νΈ ν–μ§€λ§, μ‹¤ν¨ν• μ‚¬λ΅€μ— λ€ν• μ²λ¦¬ λ΅μ§μ΄ λ“¤μ–΄κ°„λ‹¤. λ§μ•½ μ„λ²„μ—μ„ μ—λ¬λ¥Ό λ°ν™ν–λ‹¤λ©΄ κΈ°μ΅΄ λ°μ΄ν„°λ΅ ν΄λ°±ν•λ‹¤. <code class=\"language-text\">context</code> μ—λ” μ”μ²­μ„ λ³΄λƒμ„ λ‹Ήμ‹μ λ°μ΄ν„°κ°€ λ‹΄κ²¨μλ‹¤.</p>\n<p><img src=\"/c05676c16b087e534d2580f23fbd2990/optimistic-updates.gif\" alt=\"optimistic-updates\"></p>\n<p>λ°μ΄ν„° νλ¦„μ€ μ•„λμ™€ κ°™λ‹¤.</p>\n<ul>\n<li><code class=\"language-text\">ν΄λΌμ΄μ–ΈνΈ -> μ„λ²„</code> : λ°μ΄ν„° λ³€κ²½ μ”μ²­</li>\n<li>μ„±κ³µ responseκ°€ λμ•„μ¤μ§€ μ•μ•„λ„, ν΄λΌμ΄μ–ΈνΈ λ°μ΄ν„° μ¤μ¤λ΅ κ°€κ³µ ν›„ λ³€κ²½\n<ul>\n<li>λ§μ•½ μ‹¤ν¨ μ‹ κΈ°μ΅΄ λ°μ΄ν„°λ΅ ν΄λ°±</li>\n</ul>\n</li>\n</ul>\n<hr>\n<br />\n<h2 id=\"μ •λ¦¬\" style=\"position:relative;\">μ •λ¦¬<a href=\"#%EC%A0%95%EB%A6%AC\" aria-label=\"μ •λ¦¬ permalink\" class=\"auto-link after\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a></h2>\n<p>React Queryμ—μ„ mutation μ΄ν›„ λ°μ΄ν„°λ¥Ό ν†µν•΄ ν™”λ©΄μ„ μ—…λ°μ΄νΈ ν•λ” λ°©λ²•μ€ μ•„λμ™€ κ°™λ‹¤.</p>\n<ul>\n<li><strong>μ„λ²„μ—μ„</strong> μ΅°νν• λ°μ΄ν„°λ΅ ν΄λΌμ΄μ–ΈνΈ λ°μ΄ν„° μ—…λ°μ΄νΈ\n<ul>\n<li>responseμ— λ³€κ²½λ λ°μ΄ν„° λ°›κΈ°</li>\n<li>μ¬μ΅°ν</li>\n</ul>\n</li>\n<li><strong>ν΄λΌμ΄μ–ΈνΈμ—μ„</strong> μ”μ²­ λ°μ΄ν„°λ΅ μ μ©\n<ul>\n<li>μ§μ ‘ κ°€κ³µ</li>\n<li>λ‚™κ΄€μ  μ—…λ°μ΄νΈ</li>\n</ul>\n</li>\n</ul>\n<p>κ° λ°©λ²•μ— λ”°λΌ μ¥λ‹¨μ μ΄ μκΈ° λ•λ¬Έμ— λ°μ΄ν„°μ μ¤‘μ”λ„μ— λ”°λΌ, μ„λ²„ κ°λ°μμ™€μ μ»¤λ®¤λ‹μΌ€μ΄μ…μ„ ν†µν•΄ μ μ ν• λ°©λ²•μ„ μ„ νƒν•  μ μλ‹¤. λ‚΄κ°€ μƒκ°ν•κΈ°μ— μ–΄λ–¤ μƒν™©μ—μ„ μ‚¬μ©ν•λ©΄ μΆ‹μ„μ§€ μμƒν•΄λ³΄μ•λ‹¤.</p>\n<ul>\n<li>responseμ— λ³€κ²½λ λ°μ΄ν„° λ°›κΈ° : κ°€μ¥ μ •ν™•ν•κ³  μ‹ λΆ°ν• λ§ν• μ—…λ°μ΄νΈ. λ”°λΌμ„ μ¤‘μ”ν• λ°μ΄ν„°λ¥Ό ν‘μ‹ν•΄μ£Όμ–΄μ•Ό ν•λ‹¤λ©΄ μ΄ λ°©λ²•μ„ μ„ νƒν•  κ²ƒμ΄λ‹¤. μλ¥Ό λ“¤μ–΄ λ΅κ·ΈμΈ μ²λ¦¬ νΉμ€ κ²°μ  μ²λ¦¬.</li>\n<li>μ¬μ΅°ν, μ§μ ‘ κ°€κ³µ : μ„λ²„μ μƒν™©μ΄ μΆ‹μ§€ μ•κ±°λ‚, responseκ°€ ν™•μ‹¤ν•λ‹¤κ³  λ³΄μ¥ν•μ§€ λ»ν•  λ•.</li>\n<li>λ‚™κ΄€μ  μ—…λ°μ΄νΈ : λ°μ΄ν„°κ°€ ν¬κ² μ¤‘μ”ν•μ§€ μ•μ§€λ§, μ‚¬μ©μμ—κ² λΉ λ¥Έ ν”Όλ“λ°±μ„ λ³΄μ—¬μ£Όκ³  μ‹¶μ„ λ•. μλ¥Ό λ“¤μ–΄ SNSμ μΆ‹μ•„μ” κΈ°λ¥.</li>\n</ul>\n<br />\n<h2 id=\"λ§μΉλ©°\" style=\"position:relative;\">λ§μΉλ©°<a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"λ§μΉλ©° permalink\" class=\"auto-link after\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a></h2>\n<p>React Queryμ mutation μ΄ν›„ λ°μ΄ν„° μ²λ¦¬ λ°©λ²•μ— λ€ν•΄μ„ μ•μ•„λ΄¤λ‹¤.</p>\n<p>React Queryλ¥Ό μ‚¬μ©ν•μ§€ μ•κ³  μ΄μ „μ— κ°λ°ν•  λ•λ”, λ°μ΄ν„°λ¥Ό νμΉ­ν•  λ• λ¬΄μ΅°κ±΄ λ΅λ”© ν‘μ‹λ¥Ό ν†µν•΄ μ‚¬μ©μμ—κ² κΈ°λ‹¤λ¦¬κ² ν–λ‹¤. ν•μ§€λ§ μ¤‘μ”λ„μ— λ”°λΌ, λ μ„λ²„μ μƒνƒμ— λ”°λΌ μ—¬λ¬ UXλ¥Ό κµ¬ν„ν•  μ μλ‹¤λ” μ μ„ μ•κ² λμ—λ‹¤.</p>\n<p>μ„λ²„ λ°μ΄ν„°μ™€ ν΄λΌμ΄μ–ΈνΈ λ°μ΄ν„°λ¥Ό μ„λ΅ κ²©λ¦¬ μ‹μΌ λ‹¤λ£¬λ‹¤λ” κ°λ…λ„ μ‹ μ„ ν–μ§€λ§ λ°μ΄ν„° νμΉ­κ³Ό κ΄€λ ¨λ λΌμ΄λΈλ¬λ¦¬λ΅ νΉν™”λμ–΄ μκΈ° λ•λ¬Έμ— UXμ™€ κ΄€λ ¨λ λ‹¤μ–‘ν• κΈ°λ¥μ΄ κ°λ°λμ§€ μ•μ•λ‚ μƒκ°ν•λ‹¤. νΉν μ‚¬μ©μμ λ””λ°”μ΄μ¤ μ„±λ¥μ΄ μ¬λΌκ°μ— λ”°λΌ μ—¬λ¬ UXλ¥Ό ν‘ν„ν•  μ μκ² λμ—κ³ , λ°μ΄ν„°λ¥Ό μΊμ‹±ν•κ±°λ‚ μ„λ²„μ™€μ λ°μ΄ν„°λ¥Ό β€μ—°λ™β€™ ν•λ‹¤λ” κ°λ…μ΄ μƒκΈ΄ κ²ƒ κ°™λ‹¤. (μ—„λ°€ν λ§ν•λ©΄ μ—°λ™μ€ μ•„λ‹. React Queryμ—μ„λ” requestμ™€ responseκ°€ μ§€μ†μ μΌλ΅ μΌμ–΄λ‚λ” λ§¤μ»¤λ‹μ¦μ„ κ°–κ³  μκΈ° λ•λ¬Έμ΄λ©° μ»¤λ„¥μ…μ„ κ³„μ† κ°€μ§€κ³  μμ§€ μ•κΈ° λ•λ¬Έμ΄λ‹¤.)</p>\n<blockquote>\n<p>μ°Έκ³ </p>\n<ul>\n<li><a href=\"https://tkdodo.eu/blog/mastering-mutations-in-react-query\" target=\"_blank\" rel=\"nofollow\">https://tkdodo.eu/blog/mastering-mutations-in-react-query</a></li>\n<li><a href=\"https://tanstack.com/query/latest/docs/react/guides/optimistic-updates\" target=\"_blank\" rel=\"nofollow\">https://tanstack.com/query/latest/docs/react/guides/optimistic-updates</a></li>\n</ul>\n</blockquote>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"React Queryλ” λ°μ΄ν„° fetching λΌμ΄λΈλ¬λ¦¬λ΅ μ†κ°λμ§€λ§, "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"μ„λ²„ μƒνƒ κ°€μ Έμ¤κΈ°, μΊμ‹±, λ™κΈ°ν™” λ° μ—…λ°μ΄νΈ"}]},{"type":"text","value":"λ¥Ό μ‰½κ²ν•  μ μλ” λΌμ΄λΈλ¬λ¦¬λ‹¤. μ¦‰, React Queryλ¥Ό μ‚¬μ©ν•λ”λΌλ„ μ‹¤μ  API μ”μ²­μ„ λ³΄λ‚΄λ” κ²ƒμ€ Axios λΌμ΄λΈλ¬λ¦¬ νΉμ€ fetch ν•¨μλ¥Ό μ‚¬μ©ν•΄μ•Όν•λ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"λ€λ¶€λ¶„μ μƒνƒ κ΄€λ¦¬ λΌμ΄λΈλ¬λ¦¬λ” ν΄λΌμ΄μ–ΈνΈ μƒνƒ μ‘μ—…μ—λ” μ ν•©ν•μ§€λ§, λΉ„λ™κΈ° λλ” μ„λ²„ μƒνƒ μ‘μ—…μ—λ” μ ν•©ν•μ§€ μ•λ‹¤. μ„λ²„ μƒνƒκ°€ μ™„μ „ν λ‹¤λ¥΄κΈ° λ•λ¬Έμ΄λ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"React Queryμ μ‚¬μ© λ©μ μ€, ν…λ§λ‚ UI λ“±μ μ–΄ν”λ¦¬μΌ€μ΄μ…μ—μ„λ§ ν•„μ”ν• λ°μ΄ν„°λ¥Ό Client Stateλ΅ κ·μ •μ§“κ³ , μ„λ²„μ—μ„ λ°›μ•„μ¤λ” λ°μ΄ν„°λ¥Ό Server Stateλ΅ κ·μ •μ§€μ–΄ ν΄λΌμ΄μ–ΈνΈ μƒνƒμ™€, μ„λ²„ μƒνƒλ¥Ό λ‚λ„μ–΄μ„ μƒκ°ν•  μ μλ„λ΅ λ„μ™€μ£ΌκΈ° λ•λ¬Έμ— μ‚¬μ©ν•λ‹¤. React Queryλ” μ„λ²„ λ°μ΄ν„°λ¥Ό μ λ‹¤λ£° μ μλ„λ΅, λ°›μ•„μ¨ μ„λ²„ λ°μ΄ν„°λ¥Ό μΊμ‹±ν•΄μ£ΌκΈ°λ„ ν•λ©° λΈλΌμ°μ € μ°½μ„ λ‹¤μ‹ ν¬μ»¤μ¤λ¥Ό λ§μ¶”μ—μ„ λ• λλ” μ”μ²­ μ‹ μ¤λ¥κ°€ λ°μƒν–μ„ λ• μ΄ν›„μ—, APIλ¥Ό μ¬μ΅°ν ν•  μ μλ” μΆ‹μ€ μµμ…μ„ κ°€μ§€κ³  μλ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"mutation","style":"position:relative;"},"children":[{"type":"text","value":"mutation"},{"type":"element","tagName":"a","properties":{"href":"#mutation","ariaLabel":"mutation permalink","className":["auto-link","after"]},"children":[{"type":"element","tagName":"svg","properties":{"viewBox":"0 0 16 16","width":"16","height":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"React Queryμ μ„λ²„ λ°μ΄ν„° κ΄€λ ¨ μ¤‘μ” μ»¨μ…‰ μ¤‘ ν•λ‚λ”, μ„λ²„ λ°μ΄ν„°λ¥Ό μ΅°νν•κ³  μ„λ²„ λ°μ΄ν„°λ¥Ό κ°€κ³µν•λ” κ°λ…μ„ λ‚λ„μ–΄ μ‚¬μ©ν•λ„λ΅ ν•λ‹¤λ” κ²ƒμ΄λ‹¤. "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"query"}]},{"type":"text","value":" λ” μ„λ²„ λ°μ΄ν„°λ¥Ό "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"μ΅°ν"}]},{"type":"text","value":"(GET)ν•  μ μλ‹¤. "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"useQuery"}]},{"type":"text","value":" ν›…μ„ μ‚¬μ©ν•λ‹¤. "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"mutation"}]},{"type":"text","value":" μ€ queryμ™€ λ‹¤λ¥΄κ² "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"μƒμ„±"}]},{"type":"text","value":"(POST), "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"μμ •"}]},{"type":"text","value":"(PUT or PATCH), "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"μ‚­μ "}]},{"type":"text","value":"(DELETE)μ™€ κ°™μ€ λ°μ΄ν„°λ¥Ό λ³€κ²½ν•λ” μ‘μ—…μ„ ν•  μ μλ„λ΅ ν•λ” ν•¨μλ‹¤. "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"useMutation"}]},{"type":"text","value":" ν›…μ„ μ‚¬μ©ν•λ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"μ™-queryμ™€-mutationμ„-λ”°λ΅-λ‚λ„μ–΄λ†¨μ„κΉ","style":"position:relative;"},"children":[{"type":"text","value":"μ™ queryμ™€ mutationμ„ λ”°λ΅ λ‚λ„μ–΄λ†¨μ„κΉ?"},{"type":"element","tagName":"a","properties":{"href":"#%EC%99%9C-query%EC%99%80-mutation%EC%9D%84-%EB%94%B0%EB%A1%9C-%EB%82%98%EB%88%84%EC%96%B4%EB%86%A8%EC%9D%84%EA%B9%8C","ariaLabel":"μ™ queryμ™€ mutationμ„ λ”°λ΅ λ‚λ„μ–΄λ†¨μ„κΉ permalink","className":["auto-link","after"]},"children":[{"type":"element","tagName":"svg","properties":{"viewBox":"0 0 16 16","width":"16","height":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"μ°μ„  μ©μ–΄λ¶€ν„° μ•μ•„λ³΄μ. mutationμ΄λ€, β€λμ—°λ³€μ΄β€™ νΉμ€ β€λ³€ν•β€™μ΄λΌλ” λ»μ„ κ°€μ§€κ³  μλ‹¤. β€κ°€λ³€β€™μ΄λΌκ³  λ¶λ¦¬κΈ°λ„ ν•λ‹¤. ν”„λ΅κ·Έλλ° μ„Έκ³„μ—μ„ mutationμ€ μ‚¬μ΄λ“ μ΄ν™νΈλ¥Ό μΌμΌν‚¤λ” λ°©λ²•μ΄λ‹¤. ("},{"type":"element","tagName":"a","properties":{"href":"https://en.wikibooks.org/wiki/Scheme_Programming/Mutability","target":"_blank","rel":["nofollow"]},"children":[{"type":"text","value":"λ§ν¬"}]},{"type":"text","value":") λ°μ΄ν„°λ¥Ό λ³€κ²½μ‹ν‚¤λ” κ²ƒμ€ μ‚¬μ΄λ“ μ΄ν™νΈλ¥Ό μΌμΌν‚¤λ©° λ°μ΄ν„°μ μ¶”μ μ„ μ–΄λ µκ² λ§λ“ λ‹¤. ν•μ§€λ§ μ‚¬μ΄λ“ μ΄ν™νΈκ°€ μΌμ–΄λ‚λ‹¤κ³  ν•΄μ„ λ°μ΄ν„°λ¥Ό λ³€κ²½μ‹μΌμ„λ” μ•λλ‹¤λ” λ§μ€ μ•„λ‹λ‹¤. ν΄λΌμ΄μ–ΈνΈ λ° μ„λ²„μ—μ„ λ‹¤λ£¨λ” λ°μ΄ν„°λ” λ³€κ²½μ΄ μΌμ–΄λ‚μ•Όν•κ³ , λ³€κ²½μ΄ μΌμ–΄λ‚μ•Ό μλ―Έμλ” λ°μ΄ν„°κ°€ μ™„μ„±λλ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"λ°λ©΄, λ°μ΄ν„°λ¥Ό μ΅°νν•λ” κ²ƒμ€ μ‚¬μ΄λ“ μ΄ν™νΈλ¥Ό λ°μƒμ‹ν‚¤μ§€ μ•λ”λ‹¤. React Queryλ” μ΄ λ‘μ κ°λ…μ„ λ‚λ„κ³ , μ‚¬μ©ν•λ” λ°©λ²•λ„ λ‹¤λ¥΄κ² κµ¬μ„±ν•΄λ‘μ—λ‹¤. queryλ” μ„ μ–Έμ μΌλ΅ μ‚¬μ©ν•  μ μμΌλ©°, mutationμ€ λ…λ Ήν•μΌλ΅ λ°–μ— μ‚¬μ©ν•μ§€ μ•λ„λ΅ λ§μ΄λ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"tsx"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-tsx"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-tsx"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"function"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"App"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// λ§μ΄νΈ μ¦‰μ‹ μ„λ²„μ™€ ν†µμ‹  ν›„ λ°μ΄ν„°λ¥Ό λ°›μ•„μ΄. μ„ μ–Έμ ."}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" data "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"useQuery"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" queryKey"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'todos'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" queryFn"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" getTodos "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n  "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// λ®¤ν…μ΄μ… κ°μ²΄λ¥Ό λ¨Όμ € μƒμ„± ν›„ μ΄λ²¤νΈκ°€ μΌμ–΄λ‚¬μ„ λ• μ‚¬μ©ν•¨. λ…λ Ήμ ."}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" mutation "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"useMutation"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" mutationFn"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" updateTodos "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"element","tagName":"span","properties":{"className":["token","plain-text"]},"children":[{"type":"text","value":"\n      "}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"data"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"something"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","plain-text"]},"children":[{"type":"text","value":"\n      "}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"/* μ΄λ²¤νΈ λ°μƒ μ‹ μ‚¬μ© */"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","plain-text"]},"children":[{"type":"text","value":"\n      "}]},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"button"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","attr-name"]},"children":[{"type":"text","value":"onClick"}]},{"type":"element","tagName":"span","properties":{"className":["token","script","language-javascript"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","script-punctuation","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" mutation"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"mutate"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" something"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'some'"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"</"}]},{"type":"text","value":"button"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"element","tagName":"span","properties":{"className":["token","plain-text"]},"children":[{"type":"text","value":"\n    "}]},{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","tag"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"</"}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"queryλ” μ»΄ν¬λ„νΈκ°€ λ§μ΄νΈ λ  λ• μ¦‰μ‹ μ‹¤ν–‰λμ–΄ μ„λ²„μ—μ„ λ°μ΄ν„°λ¥Ό κ°€μ Έμ¨λ‹¤. ν›…μΌλ΅ μ„ μ–Έλ§ ν•΄λ‘λ©΄ μ•μ•„μ„ λ°μ΄ν„°λ¥Ό μ΅°νν•λ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ν•μ§€λ§ mutationμ€ μ„λ²„ λ°μ΄ν„°λ¥Ό λ³€ν•μ‹ν‚¤λ” κ²ƒμ΄κΈ° λ•λ¬Έμ—, μΌλ°μ μΌλ΅ μ»΄ν¬λ„νΈκ°€ λ§μ΄νΈ λ  λ• μ‹¤ν–‰λλ©΄ μ•λλ‹¤. μ»΄ν¬λ„νΈκ°€ λ§μ΄νΈ λμλ§μ λ¬Όκ±΄μ΄ κ²°μ κ°€ λλ©΄ μ΄μƒν•λ“―μ΄ λ§μ΄λ‹¤. λ€μ‹ , useMutation ν›…μ„ μ‚¬μ©ν•΄ mutation κ°μ²΄λ¥Ό κ°€μ Έμ¤κ³ , λ…λ Ήμ μΌλ΅ ν•„μ”ν•  λ• νΈμ¶ν•λ„λ΅ ν•κ³  μλ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"λ”°λΌμ„ queryλ” μ‚¬μ΄λ“ μ΄ν™νΈλ¥Ό λ°μƒμ‹ν‚¤μ§€ μ•μΌλ©°, μ„ μ–Έμ μΌλ΅ μ‚¬μ©ν•  μ μκ³ , mutationμ€ μ‚¬μ΄λ“ μ΄ν™νΈλ¥Ό λ°μƒμ‹ν‚¬ μ μμΌλ©°, λ…λ Ήν•μΌλ΅ μ‚¬μ©ν•  μ μλ‹¤. React Queryλ” μ΄λ° μ°¨μ΄μ  λ•λ¬Έμ— λ‘μ„ λ‚λ„μ–΄ μ‚¬μ©ν•λ„λ΅ ν–λ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"mutation-μ΄ν›„-λ™μ‘","style":"position:relative;"},"children":[{"type":"text","value":"mutation μ΄ν›„ λ™μ‘"},{"type":"element","tagName":"a","properties":{"href":"#mutation-%EC%9D%B4%ED%9B%84-%EB%8F%99%EC%9E%91","ariaLabel":"mutation μ΄ν›„ λ™μ‘ permalink","className":["auto-link","after"]},"children":[{"type":"element","tagName":"svg","properties":{"viewBox":"0 0 16 16","width":"16","height":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"mutationμ΄ μ‹¤ν–‰λ μ΄ν›„ μ„λ²„μ λ°μ΄ν„°λ” λ³€κ²½λμ—μ§€λ§(μ. μ„λ²„μ DB λ°μ΄ν„° λ³€κ²½), React Queryμ mutation μ‹¤ν–‰ μ΄ν›„ ν΄λΌμ΄μ–ΈνΈμ μ„λ²„ λ°μ΄ν„°λ” λ³€κ²½ λμ§€ μ•μ€ μƒνƒμ΄λ‹¤. ν™”λ©΄μ„ μ—…λ°μ΄νΈ ν•λ” μ—¬λ¬ κ°€μ§€ λ°©λ²•μ„ μ•μ•„λ³΄λ©΄μ„, μ–΄λ–¤ μƒν™©μ—μ„ μ–΄λ–¤ λ°©λ²•μ„ μ‚¬μ©ν•΄μ•Ό ν•λ”μ§€ μ•μ•„λ³΄μ. ν΄λΌμ΄μ–ΈνΈμ μ„λ²„ λ°μ΄ν„°λΌν•¨μ€, queryλ΅ μ΅°νν•΄μ¨ μ„λ²„ λ°μ΄ν„°κ°€ ν΄λΌμ΄μ–ΈνΈμ μƒνƒλ΅ λ„μ–΄μ¨ κ²ƒμ„ λ§ν•λ‹¤. ν΄λΌμ΄μ–ΈνΈλ΅ λ„μ–΄μ¨ μ„λ²„ λ°μ΄ν„° κΈ°μ¤€μΌλ΅ ν™”λ©΄μ„ κ·Έλ ¤μ¤„ μ μλ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"π“ ν΄λΌμ΄μ–ΈνΈμ μ„λ²„ λ°μ΄ν„°λ” μ²μ λ§ν–λ ν΄λΌμ΄μ–ΈνΈ λ°μ΄ν„°(ui νΉμ€ themeμ™€ κ°™μ€)μ™€λ” λ‹¤λ¥΄λ‹¤. μ΄μ  μ•„λμ—μ„ λ§ν•λ” ν΄λΌμ΄μ–ΈνΈ λ°μ΄ν„°λ€, μ„λ²„μ—μ„ ν΄λΌμ΄μ–ΈνΈλ΅ λ°›μ•„μ¨ μ„λ²„ λ°μ΄ν„°λ¥Ό λ§ν•λ‹¤."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"μ•„λμ μμ‹λ“¤μ€ delete κΈ°μ¤€μΌλ΅ mutation μ΄ν›„ μ–΄λ–»κ² ν™”λ©΄μ— λ°μ΄ν„°κ°€ μ—…λ°μ΄νΈ λλ”μ§€λ¥Ό μ„¤λ…ν•λ‹¤. React Queryκ°€ μ κ³µν•λ” useMutation ν›…μ„ ν†µν•΄ mutationμ„ ν•  μ μλ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"ts"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-ts"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-ts"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function-variable","function"]},"children":[{"type":"text","value":"useDeleteDoc"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","generic-function"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"useMutation"}]},{"type":"element","tagName":"span","properties":{"className":["token","generic","class-name"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"DriveFile "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","builtin"]},"children":[{"type":"text","value":"string"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" AxiosError"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","builtin"]},"children":[{"type":"text","value":"string"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    mutationKey"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","constant"]},"children":[{"type":"text","value":"DIARY_KEY"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","function-variable","function"]},"children":[{"type":"text","value":"mutationFn"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"fileId"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","builtin"]},"children":[{"type":"text","value":"string"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"deleteDoc"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"fileId"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"mutationKey"}]},{"type":"text","value":" : mutationμ„ μ‹λ³„ν•  μ μκ³ , ν›„μ— "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"useIsMutating"}]},{"type":"text","value":" ν›…μ„ ν†µν•΄ mutation μ¤‘μΈ μ‘μ—…μ„ λ΅λ”© μ¤ν”Όλ„λ΅ μ‚¬μ©μμ—κ² λ°μ΄ν„°λ¥Ό μ²λ¦¬ν•κ³  μλ‹¤λ” ν‘μ‹λ¥Ό μ¤„ μμλ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"mutationFn"}]},{"type":"text","value":" : axiosλ‚ fetch ν•¨μλ¥Ό μ‚¬μ©ν•΄ μ„λ²„μ— API μ”μ²­μ„ λ³΄λ‚΄λ” ν•¨μκ°€ μ‹¤ν–‰λλ‹¤."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"β€» useMutation ν›…μ typeμ€ "},{"type":"element","tagName":"a","properties":{"href":"https://gusrb3164.github.io/web/2022/01/23/react-query-typescript/","target":"_blank","rel":["nofollow"]},"children":[{"type":"text","value":"react-queryμ— typescript μ μ©ν•κΈ°"}]},{"type":"text","value":"λ¥Ό μ°Έκ³ ν–λ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ν•μ§€λ§, μ„ μ‘μ—…μ€ λ‹¨μ§€ μ„λ²„μ— APIλ¥Ό λ³΄λ‚΄κ³  μ„λ²„μ— μ΅΄μ¬ν•λ” λ°μ΄ν„°λ¥Ό λ³€κ²½ν•  λΏ, ν΄λΌμ΄μ–ΈνΈμ λ°μ΄ν„°λ¥Ό λ³€κ²½μ‹μΌμ£Όμ§€ μ•λ”λ‹¤. λ¬Όλ΅  ν΄λΌμ΄μ–ΈνΈμ λ°μ΄ν„°κ°€ λ³€ν•μ§€ μ•μ•κΈ° λ•λ¬Έμ— ν™”λ©΄μ΄ λ³€κ²½λμ§€λ„ μ•λ”λ‹¤. λ³€κ²½λ λ°μ΄ν„°λ¥Ό λ‹¤μ‹ ν™”λ©΄μ— ν‘μ‹ν•λ ¤λ©΄ μ¶”κ°€μ μΈ μ‘μ—…μ΄ ν•„μ”ν•λ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"μ„λ²„μ—μ„"}]},{"type":"text","value":" μ΅°νν• λ°μ΄ν„°λ΅ ν΄λΌμ΄μ–ΈνΈ λ°μ΄ν„° μ—…λ°μ΄νΈ"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"ν΄λΌμ΄μ–ΈνΈμ—μ„"}]},{"type":"text","value":" μ”μ²­ λ°μ΄ν„°λ΅ μ μ©"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"1-μ„λ²„μ—μ„-μ΅°νν•-λ°μ΄ν„°λ΅-ν΄λΌμ΄μ–ΈνΈ-λ°μ΄ν„°-μ—…λ°μ΄νΈ","style":"position:relative;"},"children":[{"type":"text","value":"1. μ„λ²„μ—μ„ μ΅°νν• λ°μ΄ν„°λ΅ ν΄λΌμ΄μ–ΈνΈ λ°μ΄ν„° μ—…λ°μ΄νΈ"},{"type":"element","tagName":"a","properties":{"href":"#1-%EC%84%9C%EB%B2%84%EC%97%90%EC%84%9C-%EC%A1%B0%ED%9A%8C%ED%95%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%A1%9C-%ED%81%B4%EB%9D%BC%EC%9D%B4%EC%96%B8%ED%8A%B8-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8","ariaLabel":"1 μ„λ²„μ—μ„ μ΅°νν• λ°μ΄ν„°λ΅ ν΄λΌμ΄μ–ΈνΈ λ°μ΄ν„° μ—…λ°μ΄νΈ permalink","className":["auto-link","after"]},"children":[{"type":"element","tagName":"svg","properties":{"viewBox":"0 0 16 16","width":"16","height":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— λ°μ΄ν„°λ¥Ό μ”μ²­ν• ν›„ λ³€κ²½λ λ°μ΄ν„°λ¥Ό λ°›μ•„μ™€μ„ ν΄λΌμ΄μ–ΈνΈ λ°μ΄ν„°λ¥Ό μ—…λ°μ΄νΈ ν•λ” λ°©λ²•μ΄λ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"responseμ— λ³€κ²½λ λ°μ΄ν„°λ¥Ό λ°›λ” λ°©λ²• (setQueryData)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"μ”μ²­ μ„±κ³µ ν›„ μ¬μ΅°νλ¥Ό ν†µν•΄ λ°μ΄ν„°λ¥Ό λ°›λ” λ°©λ²• (invalidateQueries)"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"11-responseμ—-λ³€κ²½λ-λ°μ΄ν„°-λ°›κΈ°-setQueryData","style":"position:relative;"},"children":[{"type":"text","value":"1.1 responseμ— λ³€κ²½λ λ°μ΄ν„° λ°›κΈ° (setQueryData)"},{"type":"element","tagName":"a","properties":{"href":"#11-response%EC%97%90-%EB%B3%80%EA%B2%BD%EB%90%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%B0%9B%EA%B8%B0-setQueryData","ariaLabel":"11 responseμ— λ³€κ²½λ λ°μ΄ν„° λ°›κΈ° setQueryData permalink","className":["auto-link","after"]},"children":[{"type":"element","tagName":"svg","properties":{"viewBox":"0 0 16 16","width":"16","height":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"setQueryData"}]},{"type":"text","value":" λ” useQueryλ΅ μ΅°νλ λ°μ΄ν„°κ°€ μΊμ‹μ— λ“¤μ–΄μμ„ κ²½μ°, μΊμ‹μ μ΅°ν λ°μ΄ν„°λ¥Ό μ—…λ°μ΄νΈ ν•΄μ¤„ μ μλ” λ©”μ„λ“λ‹¤. reduxλ΅ μƒκ°ν•΄λ΄¤μ„ λ•, storeμ— μλ” μƒνƒ κ°’μ„ λ³€κ²½μ‹μΌμ¤„ μ μλ” ν•¨μλ‹¤. mutationμ—μ„λ” μ•„λμ™€ κ°™μ΄ μ‚¬μ©ν•  μ μλ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight","has-highlighted-lines"],"dataLanguage":"ts"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-ts"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-ts"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function-variable","function"]},"children":[{"type":"text","value":"useDeleteDoc"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","generic-function"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"useMutation"}]},{"type":"element","tagName":"span","properties":{"className":["token","generic","class-name"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"DriveFile "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","builtin"]},"children":[{"type":"text","value":"string"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" AxiosError"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","builtin"]},"children":[{"type":"text","value":"string"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    mutationKey"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","constant"]},"children":[{"type":"text","value":"DIARY_KEY"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","function-variable","function"]},"children":[{"type":"text","value":"mutationFn"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"fileId"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","builtin"]},"children":[{"type":"text","value":"string"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"deleteDoc"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"fileId"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["gatsby-highlight-code-line"]},"children":[{"type":"text","value":"    "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"onSuccess"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"data"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tagName":"span","properties":{"className":["gatsby-highlight-code-line"]},"children":[{"type":"text","value":"      queryClient"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","generic-function"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"setQueryData"}]},{"type":"element","tagName":"span","properties":{"className":["token","generic","class-name"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"DriveFile"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","constant"]},"children":[{"type":"text","value":"DIARY_KEY"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'docList'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" data"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]}]},{"type":"element","tagName":"span","properties":{"className":["gatsby-highlight-code-line"]},"children":[{"type":"text","value":"    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"onSuccess"}]},{"type":"text","value":" λ©”μ„λ“μ κ²½μ° mutationμ΄ μ„±κ³µμ μΌλ΅ μ™„λ£λλ©΄ νΈμ¶λλ” λ©”μ„λ“λ‹¤. μ΄ 3κ°μ μΈμλ¥Ό λ°›μ„ μ μλ”λ°, κ·Έ μ¤‘ μ²« λ²μ§Έλ” μ„λ²„μ—μ„ λ°ν™λ dataλ¥Ό μΈμλ΅ λ°›μ•„μ¬ μ μλ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"μ΄ λ°©λ²•μ„ μ‚¬μ©ν•κΈ° μ„ν•΄μ„λ”, μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈ μ”μ²­μ— λ”°λΌ μμ‹ μ λ°μ΄ν„°λ¥Ό μ—…λ°μ΄νΈ ν• ν›„, "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"μ—…λ°μ΄νΈ λ λ°μ΄ν„°λ¥Ό λ°λ“μ‹ ν΄λΌμ΄μ–ΈνΈμ—κ² μμ •λ λ°μ΄ν„°λ¥Ό λ‚΄λ ¤"}]},{"type":"text","value":"μ£Όμ–΄μ•Όλ§ ν•λ‹¤. μμ •λ λ°μ΄ν„°κ°€ ν΄λΌμ΄μ–ΈνΈμ μΊμ‹ λ°μ΄ν„°μ— μƒλ΅­κ² λ“¤μ–΄κ°€κ² λκ³ , μ΄λ” λ°λ“μ‹ μ„λ²„ μΈ΅μ΄ λ°μ΄ν„° μ²λ¦¬ μ‘μ—… ν›„ μ²λ¦¬λ λ°μ΄ν„°λ¥Ό responseμ— λ‹΄μ•„ ν΄λΌμ΄μ–ΈνΈμ— μ „μ†΅ν•΄μ•Ό ν•λ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"λ°μ΄ν„° νλ¦„μ€ μ•„λμ™€ κ°™λ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ν΄λΌμ΄μ–ΈνΈ -> μ„λ²„"}]},{"type":"text","value":" : λ°μ΄ν„° λ³€κ²½ μ”μ²­"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"μ„λ²„"}]},{"type":"text","value":" : DB μΈμ¤ν„΄μ¤μ— λ°μ΄ν„° λ³€κ²½"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"μ„λ²„ -> ν΄λΌμ΄μ–ΈνΈ"}]},{"type":"text","value":" : λ³€κ²½λ λ°μ΄ν„° λ°ν™"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"12-μ¬μ΅°ν-invalidateQueries","style":"position:relative;"},"children":[{"type":"text","value":"1.2 μ¬μ΅°ν (invalidateQueries)"},{"type":"element","tagName":"a","properties":{"href":"#12-%EC%9E%AC%EC%A1%B0%ED%9A%8C-invalidateQueries","ariaLabel":"12 μ¬μ΅°ν invalidateQueries permalink","className":["auto-link","after"]},"children":[{"type":"element","tagName":"svg","properties":{"viewBox":"0 0 16 16","width":"16","height":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ν•μ§€λ§, μ„λ²„μ—μ„ λ³€κ²½λ λ°μ΄ν„°λ¥Ό λ‚΄λ ¤μ£Όμ§€ μ•μ„ μλ„ μλ‹¤. κ·Έλ¬λ©΄, ν΄λΌμ΄μ–ΈνΈμ—μ„λ” μ„λ²„μ— λ³€κ²½λ λ°μ΄ν„°λ¥Ό λ‹¤μ‹ μ΅°νν•΄μ„ λ¬Έμ λ¥Ό ν•΄κ²°ν•  μ μλ‹¤. μ¦‰, ν΄λΌμ΄μ–ΈνΈλ” μμ„μ— λ§κ² μ„λ²„μ— λ°μ΄ν„° λ³€κ²½ μ”μ²­μ„ ν•κ³ , μ¬μ΅°ν μ”μ²­μ„ ν•΄μ„ μ›ν•λ” κ²°κ³Όλ¥Ό μ–»λ” κ²ƒμ΄λ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"μ„λ²„μ—μ„ μ¬μ΅°ν ν•λ” λ°©λ²•μ€, "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"queryClient.invalidateQueries"}]},{"type":"text","value":" λ©”μ„λ“λ¥Ό ν†µν•΄ ν•  μ μλ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight","has-highlighted-lines"],"dataLanguage":"ts"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-ts"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-ts"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function-variable","function"]},"children":[{"type":"text","value":"useDeleteDoc"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" queryClient "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"useQueryClient"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// queryClientλ¥Ό κ°€μ Έμ™€μ•Ό ν•¨"}]},{"type":"text","value":"\n\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","generic-function"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"useMutation"}]},{"type":"element","tagName":"span","properties":{"className":["token","generic","class-name"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"DriveFile "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","builtin"]},"children":[{"type":"text","value":"string"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" AxiosError"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","builtin"]},"children":[{"type":"text","value":"string"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    mutationKey"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","constant"]},"children":[{"type":"text","value":"DIARY_KEY"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","function-variable","function"]},"children":[{"type":"text","value":"mutationFn"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"fileId"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","builtin"]},"children":[{"type":"text","value":"string"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"deleteDoc"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"fileId"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"onSuccess"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"data"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["gatsby-highlight-code-line"]},"children":[{"type":"text","value":"      queryClient"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"invalidateQueries"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" queryKey"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","constant"]},"children":[{"type":"text","value":"DIARY_KEY"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]}]},{"type":"text","value":"    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"onSuccess"}]},{"type":"text","value":" λ©”μ„λ“λ¥Ό μƒμ„±ν•κ³ , λ¶λ¬μ¨ queryClientλ¥Ό ν†µν•΄ "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"invlidateQueries"}]},{"type":"text","value":" λ©”μ„λ“λ¥Ό μΏΌλ¦¬ν‚¤μ™€ ν•¨κ» νΈμ¶ν•λ©΄, κΈ°μ΅΄μ— useQueryλ΅ μ΅°νν•΄μ¨ λ°μ΄ν„°κ°€ λ‹¤μ‹ μ΅°νκ°€ λλ©΄μ„ κΈ°μ΅΄ λ°μ΄ν„°κ°€ λ³€κ²½λλ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"λ°μ΄ν„° νλ¦„μ€ μ•„λμ™€ κ°™λ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ν΄λΌμ΄μ–ΈνΈ -> μ„λ²„"}]},{"type":"text","value":" : λ°μ΄ν„° λ³€κ²½ μ”μ²­"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"μ„λ²„ -> DB"}]},{"type":"text","value":" : DBμ— λ°μ΄ν„° λ³€κ²½"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"μ„λ²„ -> ν΄λΌμ΄μ–ΈνΈ"}]},{"type":"text","value":" : "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"μ„±κ³µ message"}]},{"type":"text","value":" λ°ν™"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ν΄λΌμ΄μ–ΈνΈ -> μ„λ²„"}]},{"type":"text","value":" : λ³€κ²½λ λ°μ΄ν„° μ΅°ν μ”μ²­"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"μ„λ²„ -> DB"}]},{"type":"text","value":" : DBμ— λ°μ΄ν„° μ΅°ν"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"μ„λ²„ -> ν΄λΌμ΄μ–ΈνΈ"}]},{"type":"text","value":" : "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"λ³€κ²½λ λ°μ΄ν„°"}]},{"type":"text","value":" λ°ν™"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1150px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 7.8%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAeElEQVR42j2NbQvCMAyE9/9/njL7Xm2btIJSHCKb6Di7wvwQ7u5JyA3eXxBiglQGQmpo6zAK2b1QGofjCG0snD/j1Fgk6lwbh1ornq8Z90BYrMJcMgbmjEQZm8bEbahl7iXUd/zX3Yd2k8u1P3x/VkzlhrUwvtMDP8cXklzXt7GMAAAAAElFTkSuQmCC'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"invalidate-queries","title":"","src":"/static/9ceee71599b575d6aa9812980bf61059/26e62/invalidate-queries.png","srcSet":"/static/9ceee71599b575d6aa9812980bf61059/0eb09/invalidate-queries.png 500w,\n/static/9ceee71599b575d6aa9812980bf61059/1263b/invalidate-queries.png 1000w,\n/static/9ceee71599b575d6aa9812980bf61059/26e62/invalidate-queries.png 1150w","sizes":"(max-width: 1150px) 100vw, 1150px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n    "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"λ„¤νΈμ›ν¬ νƒ­μ„ λ³΄λ©΄, μ‚­μ  μ”μ²­μ΄ μ™„λ£λ μ¦‰μ‹ μ΅°ν μ”μ²­μ΄ κ°„ κ²ƒμ„ λ³Ό μ μλ‹¤. μ΄ λ°©μ‹μ„ μ‚¬μ©ν•  κ²½μ°, μ„λ²„ λ°μ΄ν„°κ°€ μƒλ΅­κ² μ΅°νλμ–΄ ν΄λΌμ΄μ–ΈνΈμ λ°μ΄ν„°κ°€ λ³€κ²½λκ³  ν™”λ©΄μ΄ μƒλ΅­κ² κ·Έλ ¤μ§„λ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ν•μ§€λ§, λ§μ•½ μ„λ²„μ— μ—¬λ¬ μ‹μ¤ν…μ΄ μ—°λ™λμ–΄ μμ„ κ²½μ° νΉμ€ μ„λ²„μ—μ„ λ°μ΄ν„° λ³€κ²½μ— λ”λ μ΄κ°€ κ±Έλ¦° κ²½μ°μ—, λ³€κ²½ λ‚΄μ©μ΄ λ°μλμ§€ μ•μ€ μ±„ λ³€κ²½ μ „ λ°μ΄ν„°κ°€ μ΅°νλ  κ°€λ¥μ„±μ΄ μλ‹¤. μ„λ²„κ°€ λΉ„λ™κΈ°λ΅ λ™μ‘ν•κ±°λ‚ μ μ© λλ”λ° μ‹κ°„μ΄ κ±Έλ¦¬λ” κ²½μ°μ΄λ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"κ°€λ Ή, Google APIμ—μ„ Drive File APIμ— μ‚­μ  μ”μ²­μ„ ν–κ³ , Drive Fileκ³Ό μ—°λ™λμ–΄ μλ” Doc Fileμ„ μ¬μ΅°ν ν•λ‹¤λ©΄ 1μ΄ λ―Έλ§μ ν…€μ„ μ£Όμ–΄μ•Ό μ •μƒμ μΌλ΅ νμΌμ΄ μ‚­μ λ listλ¥Ό λ°›μ•„μ¬ μ μλ‹¤. μ΄λ° κ²½μ°, λ”λ μ΄λ¥Ό μ£Όμ–΄ μ¬μ΅°ν ν•΄μ¤„ μ μλ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight","has-highlighted-lines"],"dataLanguage":"ts"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-ts"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-ts"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"onSuccess"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["gatsby-highlight-code-line"]},"children":[{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"setTimeout"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]}]},{"type":"text","value":"    queryClient"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"invalidateQueries"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" queryKey"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","constant"]},"children":[{"type":"text","value":"DIARY_KEY"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["gatsby-highlight-code-line"]},"children":[{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"800"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ν•μ§€λ§, μ΄ μ‘μ—…μ„ ν•  κ²½μ° mutationμ‹ λ™μ‘ν–λ, loading spinnerκ°€ ν• λ² λ‚νƒ€λ‚κ³ , λ‹¤μ‹ queryν•  λ• λ‚νƒ€λ‚λ” loading spinnerκ°€ μ΄μ–΄μ„ λ‚νƒ€λ‚λ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"/1b45c2793985f54d371a5d996d5d4320/loading-spinner-twice.gif","alt":"loading-spinner-twice"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"loading spinnerλ¥Ό λ„μ°λ” μ΅°κ±΄μ„ λ‹¤λ¥΄κ² μ£Όλ©΄ ν•΄κ²°λκ² μ§€λ§, λ”°λ΅ μ²λ¦¬λ¥Ό ν•΄μ£Όμ–΄μ•Ό ν•λ” λ²κ±°λ΅μ›€μ΄ μƒκΈ΄λ‹¤. λ λ‹¤λ¥Έ λ¬Έμ λ„ μλ‹¤. "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"800ms"}]},{"type":"text","value":" μ΄ μ •ν™•ν• μμΉκ°€ μ•„λ‹λ‹¤. μ„λ²„μ μƒνƒμ— λ”°λΌ μ‹κ°„μ„ λ” λ§μ΄ μ¤μ•Όν•  μλ„ μλ‹¤. μ„λ²„μ λ°μ΄ν„°κ°€ μ •ν•©μ„±μ„ λ§μ¶”λ”λ° μ‹κ°„μ΄ κ±Έλ¦¬λ” μƒνƒλΌλ©΄, λ‹¤μ‹ λ³€κ²½λμ§€ μ•μ€ λ°μ΄ν„°κ°€ μ΅°νλ  ν™•λ¥ μ΄ λ†’κΈ° λ•λ¬Έμ΄λ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"2κ°€μ§€ μ¤‘ μ„λ²„ λ°μ΄ν„°λ΅ ν΄λΌμ΄μ–ΈνΈ λ°μ΄ν„°λ¥Ό λ³€κ²½ν•λ” λ°©λ²•μ„ μ•μ•„λ΄¤λ‹¤. Best Caseλ” μ„λ²„μ—μ„ λ³€κ²½λ λ°μ΄ν„°λ¥Ό μ •ν™•ν•κ² responseμ— λ‹΄μ•„ λ‚΄λ ¤μ¤€λ‹¤λ©΄ ν΄λΌμ΄μ–ΈνΈμ—μ„ λ°›μ•„ ν™”λ©΄μ„ μƒλ΅­κ² κ·Έλ ¤μ£Όλ” "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"setQueryData"}]},{"type":"text","value":" λ©”μ„λ“λ¥Ό μ‚¬μ©ν• λ°©λ²•μ΄λ‹¤. ν•μ§€λ§ μ„λ²„μ—μ„ λ°μ΄ν„°λ¥Ό λ‚΄λ ¤μ£Όμ§€ λ»ν•λ” μƒν™©μ΄λΌλ©΄, ν΄λΌμ΄μ–ΈνΈμ—μ„ μ”μ²­μ„ λ³΄λ‚Έ λ°μ΄ν„°λ¥Ό κΈ°λ°μΌλ΅ ν™”λ©΄μ„ κ·Έλ ¤μ£Όλ” λ°©λ²•λ„ μ΅΄μ¬ν•λ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"2-μ”μ²­-λ°μ΄ν„°λ΅-ν΄λΌμ΄μ–ΈνΈ-λ°μ΄ν„°-λ³€κ²½","style":"position:relative;"},"children":[{"type":"text","value":"2. μ”μ²­ λ°μ΄ν„°λ΅ ν΄λΌμ΄μ–ΈνΈ λ°μ΄ν„° λ³€κ²½"},{"type":"element","tagName":"a","properties":{"href":"#2-%EC%9A%94%EC%B2%AD-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%A1%9C-%ED%81%B4%EB%9D%BC%EC%9D%B4%EC%96%B8%ED%8A%B8-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%B3%80%EA%B2%BD","ariaLabel":"2 μ”μ²­ λ°μ΄ν„°λ΅ ν΄λΌμ΄μ–ΈνΈ λ°μ΄ν„° λ³€κ²½ permalink","className":["auto-link","after"]},"children":[{"type":"element","tagName":"svg","properties":{"viewBox":"0 0 16 16","width":"16","height":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"μ”μ²­ ν•  λ• λ³΄λ‚΄λ” ν΄λΌμ΄μ–ΈνΈμ λ°μ΄ν„° κΈ°λ°μΌλ΅ μ¤μ¤λ΅μ λ°μ΄ν„°λ¥Ό λ³€κ²½ν•  μ μλ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"μ§μ ‘ κ°€κ³µ (getQueryData & setQueryData λλ” setQueryData & Updater λ©”μ„λ“)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"λ‚™κ΄€μ  μ—…λ°μ΄νΈ - Optimistic Update(onMutate λ©”μ„λ“)"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"21-μ§μ ‘-κ°€κ³µ","style":"position:relative;"},"children":[{"type":"text","value":"2.1 μ§μ ‘ κ°€κ³µ"},{"type":"element","tagName":"a","properties":{"href":"#21-%EC%A7%81%EC%A0%91-%EA%B0%80%EA%B3%B5","ariaLabel":"21 μ§μ ‘ κ°€κ³µ permalink","className":["auto-link","after"]},"children":[{"type":"element","tagName":"svg","properties":{"viewBox":"0 0 16 16","width":"16","height":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"getQueryData--setQueryData-λ©”μ„λ“-μ΅°ν•©","style":"position:relative;"},"children":[{"type":"text","value":"getQueryData & setQueryData λ©”μ„λ“ μ΅°ν•©"},{"type":"element","tagName":"a","properties":{"href":"#getQueryData--setQueryData-%EB%A9%94%EC%84%9C%EB%93%9C-%EC%A1%B0%ED%95%A9","ariaLabel":"getQueryData  setQueryData λ©”μ„λ“ μ΅°ν•© permalink","className":["auto-link","after"]},"children":[{"type":"element","tagName":"svg","properties":{"viewBox":"0 0 16 16","width":"16","height":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"react-queryμ "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"getQueryData"}]},{"type":"text","value":"λ” μ΅°νν• λ°μ΄ν„° μΊμ‹μ λ°μ΄ν„°λ¥Ό κ°€μ Έμ¤λ” μ‘μ—…μ΄λ‹¤. onSucessμ λ‘ λ²μ§Έ μΈμλ΅, μ”μ²­ μ‹ λ³΄λƒλ κ°’μ„ λ°›μ•„μ¬ μ μλ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight","has-highlighted-lines"],"dataLanguage":"ts"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-ts"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-ts"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"onSuccess"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"data"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" variables"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// variablesλ” mutateν•¨μκ°€ λ°›λ” λ³€μλ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["gatsby-highlight-code-line"]},"children":[{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" oldData "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" queryClient"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","generic-function"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"getQueryData"}]},{"type":"element","tagName":"span","properties":{"className":["token","generic","class-name"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"DriveFile"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","constant"]},"children":[{"type":"text","value":"DIARY_KEY"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'docList'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]}]},{"type":"text","value":"  queryClient"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","generic-function"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"setQueryData"}]},{"type":"element","tagName":"span","properties":{"className":["token","generic","class-name"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"DriveFile"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","constant"]},"children":[{"type":"text","value":"DIARY_KEY"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'docList'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"..."}]},{"type":"text","value":"oldData"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["gatsby-highlight-code-line"]},"children":[{"type":"text","value":"    files"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" oldData"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"?."}]},{"type":"text","value":"files"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"filter"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"file "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" file"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"id "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"!=="}]},{"type":"text","value":" variables"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"as"}]},{"type":"text","value":" File"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"getQueryData"}]},{"type":"text","value":"λ¥Ό ν†µν•΄ λ³€κ²½λκΈ° μ „ λ°μ΄ν„°λ¥Ό μΊμ‹μ—μ„ μ΅°νν•λ‹¤. κ·Έλ¦¬κ³ , "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"filter"}]},{"type":"text","value":"μ™€ κ°™μ€ λ©”μ„λ“λ΅ μΊμ‹ λ°μ΄ν„°λ¥Ό κ°€κ³µν•λ‹¤. μ΄ν›„μ—, κ°€κ³µν• λ°μ΄ν„°λ¥Ό λ¶λ³€μ„±μ„ μ§€μΌμ„ "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"setQueryData"}]},{"type":"text","value":" λ©”μ„λ“μ μΈμλ΅ λ„£μ–΄μ¤€λ‹¤. κ·Έλ¬λ©΄, ν΄λΌμ΄μ–ΈνΈμ λ°μ΄ν„°κ°€ λ³€κ²½λλ©°, queryλ¥Ό μ„ μ–Έν• μ»΄ν¬λ„νΈκ°€ λ¦¬λ λ”λ§ λλ©΄μ„ ν™”λ©΄μ΄ μƒλ΅­κ² κ·Έλ ¤μ§„λ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"π“ μ£Όμμ μ€ λ°λ“μ‹ λ¶λ³€μ„±μ„ μ§€μΌμ„ λ„£μ–΄μ£Όμ–΄μ•Ό ν•λ‹¤. λ¶λ³€μ„±μ„ μ§€μΌμ£Όμ§€ μ•μΌλ©΄ ν™”λ©΄μ΄ λ³€κ²½λμ§€ μ•λ”λ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"λ°μ΄ν„° νλ¦„μ€ μ•„λμ™€ κ°™λ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ν΄λΌμ΄μ–ΈνΈ -> μ„λ²„"}]},{"type":"text","value":" : λ°μ΄ν„° λ³€κ²½ μ”μ²­"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"μ„λ²„ -> ν΄λΌμ΄μ–ΈνΈ"}]},{"type":"text","value":" : μ„±κ³µ message λ°ν™"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ν΄λΌμ΄μ–ΈνΈ λ°μ΄ν„° μ¤μ¤λ΅ κ°€κ³µ ν›„ λ³€κ²½"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"setQueryData--Updater-λ©”μ„λ“-μ΅°ν•©","style":"position:relative;"},"children":[{"type":"text","value":"setQueryData & Updater λ©”μ„λ“ μ΅°ν•©"},{"type":"element","tagName":"a","properties":{"href":"#setQueryData--Updater-%EB%A9%94%EC%84%9C%EB%93%9C-%EC%A1%B0%ED%95%A9","ariaLabel":"setQueryData  Updater λ©”μ„λ“ μ΅°ν•© permalink","className":["auto-link","after"]},"children":[{"type":"element","tagName":"svg","properties":{"viewBox":"0 0 16 16","width":"16","height":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"getQueryDataλ¥Ό μ‚¬μ©ν•μ§€ μ•κ³  "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"setQueryData"}]},{"type":"text","value":" λ§ μ‚¬μ©ν•λ” λ°©λ²•μ΄λ‹¤. μ΄ λ°©λ²•μ€ μΊμ‹μ—μ„ λ‹¤μ‹ μ΅°νν•λ” λ΅μ§μ΄ μ—†μ–΄λ„ useMutation μμ²΄μ—μ„ μ κ³µν•λ” λ°©λ²•μ΄λ‹¤. μ—…λ°μ΄ν„° ν•¨μλ¥Ό μ„ μ–Έν•λ©΄ μ•μ•„μ„ ν΄λΌμ΄μ–ΈνΈ λ°μ΄ν„°λ¥Ό λ³€κ²½μ‹μΌμ¤€λ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight","has-highlighted-lines"],"dataLanguage":"ts"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-ts"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-ts"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"onSuccess"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"_"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" variables"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  queryClient"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","generic-function"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"setQueryData"}]},{"type":"element","tagName":"span","properties":{"className":["token","generic","class-name"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"DriveFile"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","constant"]},"children":[{"type":"text","value":"DIARY_KEY"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'docList'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["gatsby-highlight-code-line"]},"children":[{"type":"text","value":"    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"oldData"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" DriveFile "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tagName":"span","properties":{"className":["gatsby-highlight-code-line"]},"children":[{"type":"text","value":"      "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"..."}]},{"type":"text","value":"oldData"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]}]},{"type":"element","tagName":"span","properties":{"className":["gatsby-highlight-code-line"]},"children":[{"type":"text","value":"      files"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" oldData"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"?."}]},{"type":"text","value":"files"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"filter"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"file "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" file"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"id "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"!=="}]},{"type":"text","value":" variables"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"as"}]},{"type":"text","value":" File"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]}]},{"type":"element","tagName":"span","properties":{"className":["gatsby-highlight-code-line"]},"children":[{"type":"text","value":"    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]}]},{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"setQueryData"}]},{"type":"text","value":"μ λ‘λ²μ§Έ μΈμλ΅ ν•¨μλ¥Ό λ„£μ–΄μ¤„ μ μλ”λ°, μ΄κ²ƒμ΄ μ—…λ°μ΄ν„° ν•¨μμ΄λ‹¤. μ—…λ°μ΄ν„° ν•¨μλ” reactμ setState ν•¨μμ™€ μ‚¬μ©λ²•μ΄ λ™μΌν•λ‹¤. μΈμλ΅ κΈ°μ΅΄ μΏΌλ¦¬ν• λ°μ΄ν„°λ¥Ό κ°€μ§€κ³  μ¤λ©°, μΏΌλ¦¬ν• λ°μ΄ν„°λ¥Ό κΈ°λ°μΌλ΅ κ°€κ³µν• κ°’μ„ λ¶λ³€μ„±μ„ μ§€μΌ λ°ν™ν•λ©΄, μΊμ‹λ λ°μ΄ν„°κ°€ μ—…λ°μ΄νΈ λκ³  ν™”λ©΄μ΄ λ¦¬λ λ”λ§ λλ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"μ²«λ²μ§Έ λ°©λ²•μ²λΌ, μ΅°ν ν• ν›„ μ—…λ°μ΄νΈ ν•κΈ°λ³΄λ‹¤λ” μ—…λ°μ΄ν„° ν•¨μλ¥Ό μ‚¬μ©ν•λ” λ°©λ²•μ΄ μΆ€ λ” κ°„νΈν•λ‹¤κ³  λκ»΄μ§„λ‹¤. λ°μ΄ν„°μ νλ¦„μ€ λ™μΌν•λ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"22-λ‚™κ΄€μ -μ—…λ°μ΄νΈ---Optimistic-UpdateonMutate-λ©”μ„λ“","style":"position:relative;"},"children":[{"type":"text","value":"2.2 λ‚™κ΄€μ  μ—…λ°μ΄νΈ - Optimistic Update(onMutate λ©”μ„λ“)"},{"type":"element","tagName":"a","properties":{"href":"#22-%EB%82%99%EA%B4%80%EC%A0%81-%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8---Optimistic-UpdateonMutate-%EB%A9%94%EC%84%9C%EB%93%9C","ariaLabel":"22 λ‚™κ΄€μ  μ—…λ°μ΄νΈ   Optimistic UpdateonMutate λ©”μ„λ“ permalink","className":["auto-link","after"]},"children":[{"type":"element","tagName":"svg","properties":{"viewBox":"0 0 16 16","width":"16","height":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"λ‚™κ΄€μ  μ—…λ°μ΄νΈ(Optimistic Update)λ€ λ‹¨μ–΄κ°€ μ–΄μƒ‰ν•κ² λκ»΄μ§ μ μμ§€λ§, λ‚™κ΄€μ μ΄λΌλ” λ§μ€ μ„λ²„λ΅ λ³΄λ‚Έ μ”μ²­μ΄ μ •μƒμ μΌ κ²ƒμ„ μμƒν•κ³ , ν΄λΌμ΄μ–ΈνΈμ λ°μ΄ν„°λ¥Ό λ³€κ²½μ‹μΌ μ”μ²­ responseκ°€ μ¤κΈ° μ „μ— ν΄λΌμ΄μ–ΈνΈμ λ°μ΄ν„°λ¥Ό λ―Έλ¦¬ λ³€κ²½μ‹ν‚¤λ” μ‘μ—…μ„ λ§ν•λ‹¤. μ΄λ” useMutateion ν›…μ—μ„ "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"onSuccess"}]},{"type":"text","value":" λ€μ‹  "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"onMutate"}]},{"type":"text","value":" λ©”μ„λ“μ™€ "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"onError"}]},{"type":"text","value":" λ©”μ„λ“λ¥Ό μ΅°ν•©ν•μ—¬ κµ¬ν„ν•  μ μλ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"ts"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-ts"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-ts"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function-variable","function"]},"children":[{"type":"text","value":"onMutate"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"async"}]},{"type":"text","value":" variables "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// refetch λ©”μ„λ“κ°€ μ‚¬μ©λμ§€ μ•λ„λ΅ λ―Έλ¦¬ λ§‰μ•„λ‘ ."}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"await"}]},{"type":"text","value":" queryClient"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"cancelQueries"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" queryKey"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","constant"]},"children":[{"type":"text","value":"DIARY_KEY"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" oldData "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" queryClient"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","generic-function"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"getQueryData"}]},{"type":"element","tagName":"span","properties":{"className":["token","generic","class-name"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"DriveFile"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","constant"]},"children":[{"type":"text","value":"DIARY_KEY"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'docList'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n  queryClient"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","generic-function"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"setQueryData"}]},{"type":"element","tagName":"span","properties":{"className":["token","generic","class-name"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"DriveFile"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","constant"]},"children":[{"type":"text","value":"DIARY_KEY"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'docList'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"..."}]},{"type":"text","value":"oldData"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n    files"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" oldData"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"?."}]},{"type":"text","value":"files"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"filter"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"file "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" file"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"id "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"!=="}]},{"type":"text","value":" variables"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"as"}]},{"type":"text","value":" File"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" oldData "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function-variable","function"]},"children":[{"type":"text","value":"onError"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"err"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" newTodo"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" context"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" oldData"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" DriveFile "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// μ—λ¬κ°€ λ°μƒν•λ©΄, κΈ°μ΅΄ λ°μ΄ν„° ν΄λ°±"}]},{"type":"text","value":"\n  queryClient"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"setQueryData"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","constant"]},"children":[{"type":"text","value":"DIARY_KEY"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'docList'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"..."}]},{"type":"text","value":"context"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"oldData "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"onMutate λ©”μ„λ“ μ•μ—λ” API μ”μ²­μ΄ μ„±κ³µν–μ„ κ²½μ°λ¥Ό κ°€μ •ν•κ³ , λ°μ΄ν„°λ¥Ό κ°€κ³µν•΄ ν™”λ©΄μ„ μ—…λ°μ΄νΈ ν•λ‹¤. νΉμ΄ν• λ¶€λ¶„μ€ "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"cancelQueries"}]},{"type":"text","value":" λ¥Ό μ‚¬μ©ν•λ‹¤λ” μ μΈλ°, cancelQueriesλ” API μ”μ²­ μ΄ν›„μ— λ°μƒν•λ” μ”μ²­μ„ μ·¨μ†ν•λ” λ©”μ„λ“μ΄λ―€λ΅ μ”μ²­μ΄ Errorκ°€ λ°μƒν–λ‹¤λ©΄ refetchκ°€ μΌμ–΄λ‚μ§€ μ•λ„λ΅ λ°©μ§€ν•λ” μ—­ν• μ„ ν•΄μ¤€λ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"onMutate λ©”μ„λ“μ μ•„λ λ¶€λ¶„μ€ "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"μΊμ‹ λ°μ΄ν„°λ¥Ό μ§μ ‘ κ°€κ³µ"}]},{"type":"text","value":"ν•λ” λ¶€λ¶„κ³Ό λ™μΌν•λ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"onError λ©”μ„λ“λ” API μ”μ²­μ„ λ³΄λ‚΄ μ„±κ³µμ„ κ°€μ •ν•κ³  ν™”λ©΄μ€ μ—…λ°μ΄νΈ ν–μ§€λ§, μ‹¤ν¨ν• μ‚¬λ΅€μ— λ€ν• μ²λ¦¬ λ΅μ§μ΄ λ“¤μ–΄κ°„λ‹¤. λ§μ•½ μ„λ²„μ—μ„ μ—λ¬λ¥Ό λ°ν™ν–λ‹¤λ©΄ κΈ°μ΅΄ λ°μ΄ν„°λ΅ ν΄λ°±ν•λ‹¤. "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"context"}]},{"type":"text","value":" μ—λ” μ”μ²­μ„ λ³΄λƒμ„ λ‹Ήμ‹μ λ°μ΄ν„°κ°€ λ‹΄κ²¨μλ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"/c05676c16b087e534d2580f23fbd2990/optimistic-updates.gif","alt":"optimistic-updates"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"λ°μ΄ν„° νλ¦„μ€ μ•„λμ™€ κ°™λ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ν΄λΌμ΄μ–ΈνΈ -> μ„λ²„"}]},{"type":"text","value":" : λ°μ΄ν„° λ³€κ²½ μ”μ²­"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"μ„±κ³µ responseκ°€ λμ•„μ¤μ§€ μ•μ•„λ„, ν΄λΌμ΄μ–ΈνΈ λ°μ΄ν„° μ¤μ¤λ΅ κ°€κ³µ ν›„ λ³€κ²½\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"λ§μ•½ μ‹¤ν¨ μ‹ κΈ°μ΅΄ λ°μ΄ν„°λ΅ ν΄λ°±"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"μ •λ¦¬","style":"position:relative;"},"children":[{"type":"text","value":"μ •λ¦¬"},{"type":"element","tagName":"a","properties":{"href":"#%EC%A0%95%EB%A6%AC","ariaLabel":"μ •λ¦¬ permalink","className":["auto-link","after"]},"children":[{"type":"element","tagName":"svg","properties":{"viewBox":"0 0 16 16","width":"16","height":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"React Queryμ—μ„ mutation μ΄ν›„ λ°μ΄ν„°λ¥Ό ν†µν•΄ ν™”λ©΄μ„ μ—…λ°μ΄νΈ ν•λ” λ°©λ²•μ€ μ•„λμ™€ κ°™λ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"μ„λ²„μ—μ„"}]},{"type":"text","value":" μ΅°νν• λ°μ΄ν„°λ΅ ν΄λΌμ΄μ–ΈνΈ λ°μ΄ν„° μ—…λ°μ΄νΈ\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"responseμ— λ³€κ²½λ λ°μ΄ν„° λ°›κΈ°"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"μ¬μ΅°ν"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"ν΄λΌμ΄μ–ΈνΈμ—μ„"}]},{"type":"text","value":" μ”μ²­ λ°μ΄ν„°λ΅ μ μ©\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"μ§μ ‘ κ°€κ³µ"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"λ‚™κ΄€μ  μ—…λ°μ΄νΈ"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"κ° λ°©λ²•μ— λ”°λΌ μ¥λ‹¨μ μ΄ μκΈ° λ•λ¬Έμ— λ°μ΄ν„°μ μ¤‘μ”λ„μ— λ”°λΌ, μ„λ²„ κ°λ°μμ™€μ μ»¤λ®¤λ‹μΌ€μ΄μ…μ„ ν†µν•΄ μ μ ν• λ°©λ²•μ„ μ„ νƒν•  μ μλ‹¤. λ‚΄κ°€ μƒκ°ν•κΈ°μ— μ–΄λ–¤ μƒν™©μ—μ„ μ‚¬μ©ν•λ©΄ μΆ‹μ„μ§€ μμƒν•΄λ³΄μ•λ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"responseμ— λ³€κ²½λ λ°μ΄ν„° λ°›κΈ° : κ°€μ¥ μ •ν™•ν•κ³  μ‹ λΆ°ν• λ§ν• μ—…λ°μ΄νΈ. λ”°λΌμ„ μ¤‘μ”ν• λ°μ΄ν„°λ¥Ό ν‘μ‹ν•΄μ£Όμ–΄μ•Ό ν•λ‹¤λ©΄ μ΄ λ°©λ²•μ„ μ„ νƒν•  κ²ƒμ΄λ‹¤. μλ¥Ό λ“¤μ–΄ λ΅κ·ΈμΈ μ²λ¦¬ νΉμ€ κ²°μ  μ²λ¦¬."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"μ¬μ΅°ν, μ§μ ‘ κ°€κ³µ : μ„λ²„μ μƒν™©μ΄ μΆ‹μ§€ μ•κ±°λ‚, responseκ°€ ν™•μ‹¤ν•λ‹¤κ³  λ³΄μ¥ν•μ§€ λ»ν•  λ•."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"λ‚™κ΄€μ  μ—…λ°μ΄νΈ : λ°μ΄ν„°κ°€ ν¬κ² μ¤‘μ”ν•μ§€ μ•μ§€λ§, μ‚¬μ©μμ—κ² λΉ λ¥Έ ν”Όλ“λ°±μ„ λ³΄μ—¬μ£Όκ³  μ‹¶μ„ λ•. μλ¥Ό λ“¤μ–΄ SNSμ μΆ‹μ•„μ” κΈ°λ¥."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"λ§μΉλ©°","style":"position:relative;"},"children":[{"type":"text","value":"λ§μΉλ©°"},{"type":"element","tagName":"a","properties":{"href":"#%EB%A7%88%EC%B9%98%EB%A9%B0","ariaLabel":"λ§μΉλ©° permalink","className":["auto-link","after"]},"children":[{"type":"element","tagName":"svg","properties":{"viewBox":"0 0 16 16","width":"16","height":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"React Queryμ mutation μ΄ν›„ λ°μ΄ν„° μ²λ¦¬ λ°©λ²•μ— λ€ν•΄μ„ μ•μ•„λ΄¤λ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"React Queryλ¥Ό μ‚¬μ©ν•μ§€ μ•κ³  μ΄μ „μ— κ°λ°ν•  λ•λ”, λ°μ΄ν„°λ¥Ό νμΉ­ν•  λ• λ¬΄μ΅°κ±΄ λ΅λ”© ν‘μ‹λ¥Ό ν†µν•΄ μ‚¬μ©μμ—κ² κΈ°λ‹¤λ¦¬κ² ν–λ‹¤. ν•μ§€λ§ μ¤‘μ”λ„μ— λ”°λΌ, λ μ„λ²„μ μƒνƒμ— λ”°λΌ μ—¬λ¬ UXλ¥Ό κµ¬ν„ν•  μ μλ‹¤λ” μ μ„ μ•κ² λμ—λ‹¤."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"μ„λ²„ λ°μ΄ν„°μ™€ ν΄λΌμ΄μ–ΈνΈ λ°μ΄ν„°λ¥Ό μ„λ΅ κ²©λ¦¬ μ‹μΌ λ‹¤λ£¬λ‹¤λ” κ°λ…λ„ μ‹ μ„ ν–μ§€λ§ λ°μ΄ν„° νμΉ­κ³Ό κ΄€λ ¨λ λΌμ΄λΈλ¬λ¦¬λ΅ νΉν™”λμ–΄ μκΈ° λ•λ¬Έμ— UXμ™€ κ΄€λ ¨λ λ‹¤μ–‘ν• κΈ°λ¥μ΄ κ°λ°λμ§€ μ•μ•λ‚ μƒκ°ν•λ‹¤. νΉν μ‚¬μ©μμ λ””λ°”μ΄μ¤ μ„±λ¥μ΄ μ¬λΌκ°μ— λ”°λΌ μ—¬λ¬ UXλ¥Ό ν‘ν„ν•  μ μκ² λμ—κ³ , λ°μ΄ν„°λ¥Ό μΊμ‹±ν•κ±°λ‚ μ„λ²„μ™€μ λ°μ΄ν„°λ¥Ό β€μ—°λ™β€™ ν•λ‹¤λ” κ°λ…μ΄ μƒκΈ΄ κ²ƒ κ°™λ‹¤. (μ—„λ°€ν λ§ν•λ©΄ μ—°λ™μ€ μ•„λ‹. React Queryμ—μ„λ” requestμ™€ responseκ°€ μ§€μ†μ μΌλ΅ μΌμ–΄λ‚λ” λ§¤μ»¤λ‹μ¦μ„ κ°–κ³  μκΈ° λ•λ¬Έμ΄λ©° μ»¤λ„¥μ…μ„ κ³„μ† κ°€μ§€κ³  μμ§€ μ•κΈ° λ•λ¬Έμ΄λ‹¤.)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"μ°Έκ³ "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://tkdodo.eu/blog/mastering-mutations-in-react-query","target":"_blank","rel":["nofollow"]},"children":[{"type":"text","value":"https://tkdodo.eu/blog/mastering-mutations-in-react-query"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://tanstack.com/query/latest/docs/react/guides/optimistic-updates","target":"_blank","rel":["nofollow"]},"children":[{"type":"text","value":"https://tanstack.com/query/latest/docs/react/guides/optimistic-updates"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}},"excerpt":"React Queryλ” λ°μ΄ν„° fetching λΌμ΄λΈλ¬λ¦¬λ΅ μ†κ°λμ§€λ§, μ„λ²„ μƒνƒ κ°€μ Έμ¤κΈ°, μΊμ‹±, λ™κΈ°ν™” λ° μ—…λ°μ΄νΈλ¥Ό μ‰½κ²ν•  μ μλ” λΌμ΄λΈλ¬λ¦¬λ‹¤. μ¦‰, React Queryλ¥Ό μ‚¬μ©ν•λ”λΌλ„ μ‹¤μ  API μ”μ²­μ„ λ³΄λ‚΄λ” κ²ƒμ€ Axiosβ€¦","fields":{"readingTime":{"text":"13 min read"}},"frontmatter":{"title":"React Queryμ—μ„ mutation μ΄ν›„ λ°μ΄ν„°λ¥Ό μ—…λ°μ΄νΈν•λ” 4κ°€μ§€ λ°©λ²•","userDate":"2 July 2023","date":"2023-07-02","tags":["React-Query","React"],"excerpt":"React Queryμ mutation μ‹¤ν–‰ μ΄ν›„ ν΄λΌμ΄μ–ΈνΈμ μ„λ²„ λ°μ΄ν„°λ” λ³€κ²½ λμ§€ μ•μ€ μƒνƒμ΄λ‹¤. ν™”λ©΄μ„ μ—…λ°μ΄νΈ ν•λ” μ—¬λ¬ κ°€μ§€ λ°©λ²•μ„ μ•μ•„λ³΄λ©΄μ„, μ–΄λ–¤ μƒν™©μ—μ„ μ–΄λ–¤ λ°©λ²•μ„ μ‚¬μ©ν•΄μ•Ό ν•λ”μ§€ μ•μ•„λ³΄μ.","image":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/webp;base64,UklGRgoBAABXRUJQVlA4IP4AAABwBQCdASoUAAsAAAAAJZACdLcA/QBsgFQLeUqiUmPP/FX1K/7b+WXGAfpWYGrQH48nJYXAAP75Cef4pKYwXWaObmj6uNb89cRstuX4oguTI/Ltf2477JAiP5FcA5Tr9O5n03ruT+hCFEwnvbQf/BHc/uRzjYa2s/8HBWpoTqXuNry0nN2zBDiF4JKFyMGG9jBPudMl/UEj/9A9E9V8kEV9HbR8TPpZ8PjBDRgmL//WUX/9Jdyf/h8/0tv5zn9dUvP2bq/zO9JfbQv/fIzX9/LxVAn65Vaj3P/7mf+ZIZJg7Y5yEOa4AftMEfMZvKFetXih4WkIv3/k5M/oAAAAAA=="},"images":{"fallback":{"src":"/static/848a29a42bca253c5a3a44c252c3720f/81547/main.webp","srcSet":"/static/848a29a42bca253c5a3a44c252c3720f/73e0d/main.webp 750w,\n/static/848a29a42bca253c5a3a44c252c3720f/9fede/main.webp 1080w,\n/static/848a29a42bca253c5a3a44c252c3720f/81547/main.webp 1200w","sizes":"100vw"},"sources":[{"srcSet":"/static/848a29a42bca253c5a3a44c252c3720f/4814e/main.avif 750w,\n/static/848a29a42bca253c5a3a44c252c3720f/acf79/main.avif 1080w,\n/static/848a29a42bca253c5a3a44c252c3720f/30577/main.avif 1200w","type":"image/avif","sizes":"100vw"}]},"width":1,"height":0.525}}},"author":[{"name":"Pozafly","bio":"Frontend Developer","avatar":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#6808f8","images":{"fallback":{"src":"/static/8c061761f263c344f2c0416607c8adf1/73bb6/pozafly.jpg","srcSet":"/static/8c061761f263c344f2c0416607c8adf1/2f28c/pozafly.jpg 40w,\n/static/8c061761f263c344f2c0416607c8adf1/499f6/pozafly.jpg 80w,\n/static/8c061761f263c344f2c0416607c8adf1/73bb6/pozafly.jpg 120w","sizes":"100vw"},"sources":[{"srcSet":"/static/8c061761f263c344f2c0416607c8adf1/e73fe/pozafly.webp 40w,\n/static/8c061761f263c344f2c0416607c8adf1/61ca6/pozafly.webp 80w,\n/static/8c061761f263c344f2c0416607c8adf1/507b0/pozafly.webp 120w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":1}}}}]}},"relatedPosts":{"totalCount":1,"edges":[{"node":{"id":"8d2dcada-59da-500a-b4a4-3f97826e4f9f","excerpt":"React Queryλ” λ°μ΄ν„° fetching λΌμ΄λΈλ¬λ¦¬λ΅ μ†κ°λμ§€λ§, μ„λ²„ μƒνƒ κ°€μ Έμ¤κΈ°, μΊμ‹±, λ™κΈ°ν™” λ° μ—…λ°μ΄νΈλ¥Ό μ‰½κ²ν•  μ μλ” λΌμ΄λΈλ¬λ¦¬λ‹¤. μ¦‰, React Queryλ¥Ό μ‚¬μ©ν•λ”λΌλ„ μ‹¤μ  API μ”μ²­μ„ λ³΄λ‚΄λ” κ²ƒμ€ Axiosβ€¦","frontmatter":{"title":"React Queryμ—μ„ mutation μ΄ν›„ λ°μ΄ν„°λ¥Ό μ—…λ°μ΄νΈν•λ” 4κ°€μ§€ λ°©λ²•","date":"2023-07-02"},"fields":{"readingTime":{"text":"13 min read"},"slug":"/react-query/mutation-after-data-update/"}}}]}},"pageContext":{"slug":"/react-query/mutation-after-data-update/","prev":{"excerpt":"ν‡΄μ‚¬λ¥Ό ν•λ©΄μ„ ν•¨κ» μΌν–λ λ¶„μ΄ κΈ€λλΌλ” λ¨μ„μ„ μ¶”μ²ν•΄μ£Όμ…¨λ‹¤. κΈ€λλ” κΈ€ μ“°λ” κ°λ°μ λ¨μ„μ΄μ μ»¤λ®¤ν‹°λ‹λ‹¤. κΈ€λμ— μ°Έμ—¬ν•κ² λλ©΄ μμΉκΈμ„ λ―Έλ¦¬ λ‚΄κ³ ,β€¦","frontmatter":{"title":"κΈ€λ 8κΈ° νκ³ ","tags":["Diary"],"date":"2023-07-16T11:03:47.149Z","draft":false,"excerpt":"6κ°μ›” κ°„ μ°Έμ—¬ν• κΈ€λ ν™λ™ νκ³ . κΈ€μ“°κΈ°μ— λ€ν•΄μ„.","image":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAACE3AAAhNwEzWJ96AAABGklEQVR42qVSu6qDQBDNB+mP2EY7u+AHKAZ8QCCmElvB1i6CpT8gCHYqCvoJqSVX0Bt3nbsrCIGLoMnCsMM5s2cPM3OAlTNNE3zCHdaKu677resalWWJsyzDRVHgqqowxSi3JvxPEGM837fb7cmy7CiKIpIkCZ1OJ0RzhmFGy7Ke77VbHE7n83m0bRvSNIXL5QKPx2P5CFRVHTc7XAR1XadOZiwIAmiaBoZhAIppmrZfkDxCi2CSJMBxHERRBI7jUIdot6BpmiMJaNsW4jgG0kMIwxCu1+tnDmmfBEEA13XB93243+/geR7wPA+Koox7p0x7+HM8HrFhGJgIYFmW55xgiHC7pwx93w9kB195nqP3ILv4otxmh9+eP5BhGA/5lJZDAAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/53fe681b532753855e5826673a894e9a/44f99/main.png","srcSet":"/static/53fe681b532753855e5826673a894e9a/44f99/main.png 674w","sizes":"100vw"},"sources":[{"srcSet":"/static/53fe681b532753855e5826673a894e9a/15c6e/main.webp 674w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.56973293768546}}}},"fields":{"readingTime":{"text":"8 min read"},"layout":"post","slug":"/diary/geultto-8-retrospect/"}},"next":{"excerpt":"μ”κµ¬μ‚¬ν•­ λ¬Έμ„λ¥Ό μ •λ…ν•  λ• λ•λ΅λ” νƒ€μ΄ν•‘ν•΄μ„ μ®κ²¨ μ λ” κ²ƒλ„ ν° λ„μ›€μ΄ λλ” νΈμ΄λ‹¤. νΈμ§‘κΈ°λ‘ μ°½μ„ μ–‘μ½μΌλ΅ λ¶„ν•  ν• λ’¤ μ΄ν•΄ν• λ¶€λ¶„μ„ νƒ€μ΄ν•‘ ν•λ‹¤λ³΄λ©΄ ν•κΈ€ νƒ€μμ™€ μμ–΄ νƒ€μκ°€ μ›ν•λ”λ€λ΅ νƒ€μ΄ν•‘ λμ§€ μ•λ” μƒν™©μ΄ κ½¤λ‚ λ§μ•λ‹¤. λ‚΄ λ§¥μ€ CapsLockβ€¦","frontmatter":{"title":"ν•μνƒ€λ³€ν™κΈ° Alfred Workflow κ°λ°κΈ°","tags":["Tool","Alfred","Automation"],"date":"2023-06-10T20:25:47","draft":false,"excerpt":"dlfjgrp Tjwlseks akfdlek. dlrp sjan Qkrclseks akfdlek. zzzz...","image":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABkElEQVR42mWR61LbMBCF/QJMgeCr7rIdX8IkUEJDTSAkhJlO3/99To9s0obpj09ar1fnrLRRYkqY+QKq7pGaCokukdkaN8qhqFqY9hai7pCXDTRj1fSIbYlvhcaVtLhm3TmR8A365RrN4h7ad1CuhS57CD+ncIWUBqmukAUz5RFLD01z19CIZ0P+nCjmgdBVzOKQKCgiXYWcbpl0SJkfhUhu52NN2a9Q3d5BVd1o+EVwxoOBWPOKxkERoTRedjt8/PqN7f4dT7s9lpsBF5nEpTS4yOUUC/P/lW/OxLR18M7hx/oRx8MRh/cj3vYHcsTz6x7d6gHt6jv6uzX6+zVMsxjf8dRUIIq55J9ixhiUpcfrMJBnbB43eNr8xHbYYhhe0HZLGA7H1S0sB1b4GjPtvgpmXCQFrbWfhGtbFMoiI0mAXcR8z5nwuBYOV4JdMZdq1pjphn8FJT+MdaNQ2LWZDArmw2BSTjWQkFhMUw5xzv+K9ZJkjBM9CUfnYuNATkJkFDkh/hHywTA8UxAdzfW0/wGce/nh9L2hXAAAAABJRU5ErkJggg=="},"images":{"fallback":{"src":"/static/24a1413e882f06cfbb3af834a3ff3897/252b8/main.png","srcSet":"/static/24a1413e882f06cfbb3af834a3ff3897/13110/main.png 750w,\n/static/24a1413e882f06cfbb3af834a3ff3897/6f9ad/main.png 1080w,\n/static/24a1413e882f06cfbb3af834a3ff3897/bf69c/main.png 1366w,\n/static/24a1413e882f06cfbb3af834a3ff3897/252b8/main.png 1556w","sizes":"100vw"},"sources":[{"srcSet":"/static/24a1413e882f06cfbb3af834a3ff3897/b665d/main.webp 750w,\n/static/24a1413e882f06cfbb3af834a3ff3897/71b9a/main.webp 1080w,\n/static/24a1413e882f06cfbb3af834a3ff3897/9aed2/main.webp 1366w,\n/static/24a1413e882f06cfbb3af834a3ff3897/cf8f0/main.webp 1556w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.4717223650385604}}}},"fields":{"readingTime":{"text":"8 min read"},"layout":"post","slug":"/tools/alfred-korean-english-converter/"}},"primaryTag":"React-Query"}},"staticQueryHashes":["1661920220"],"slicesMap":{}}