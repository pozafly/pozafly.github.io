{"componentChunkName":"component---src-templates-post-tsx","path":"/tripllo/(11)vue-sentry-error-monitoring-system/","result":{"data":{"logo":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAACY0lEQVQ4y42UTUhUURTHz7kzFiN9aLsSK5JIGV2URREGBX2ppKGUptVMZYJ9OPPemzfjyloXSDsXtRD6oFVUIFGtTHARFoEgSiFkJRFWGBPavHfvP+6rbLIZ9XIWh8P98T/vvP+5FCVkjAgpi5TpJdnuUMZqO7kJQq3v/lHRH9e8XDysDEKEZ1bw+gKuiP0WV4uC28lJCOyky7nlwUDJxv10PcG6uDAcIWkRzvJ4gPKDTweKeu7kUeFFkTS8jhaE3YQPpXQst66qfgbVX7CkonwHxTtEBnGaQ9qMBnq2dOWqksHRAYmHwLpHfbki/7R4bf03uXRYTyXmRyFty0vYpgJcZ9pxww6WhZo2UW2HLzusGxbYTV3+DWu2v50akgAUlOxTKH017s9bfojuxVlfy6xsCOyjrqLu3isAXCk1DTjSBoo6b1bTDetf8TRlHyzCmUocTKqPjvJ0oeWBEUfu+aTatsAkREXGthkxQpWVuj2Z0sIKv470kmvvUzWhlE2IZIQNgXOEq2XKnfZk/8DKU09OqEur1QWCwVng84T+bpX8hs9j+Dr+NybH8D2J3k7VRjB8Wf6zIRALuIZfmjnSyHFNHdLQ4Rh+GQvIKMv5HBYjmHoxlKlXUk/I9IpRkiapWDaHGXolflSKW838IszDzTxYz49DPBzi0Spxt5XfHeeXTTxoppmcZh0SJxzm3rVib1CEN4v2oAiXiZYCsatYNBaLxgPcs1XYR7jPTjPprLJ+NFroQ4Smmvl5Aw/U8IOTPHyCh07xm1aeqOMnYR6x5lkMryVpkbIJcdKemf1s28vnbOVPfGtgRKO972EAAAAASUVORK5CYII=","width":400,"height":400,"src":"/static/8c061761f263c344f2c0416607c8adf1/3891b/pozafly.png","srcSet":"/static/8c061761f263c344f2c0416607c8adf1/3891b/pozafly.png 1x,\n/static/8c061761f263c344f2c0416607c8adf1/8c332/pozafly.png 1.5x,\n/static/8c061761f263c344f2c0416607c8adf1/bc8e0/pozafly.png 2x"}}},"markdownRemark":{"html":"<h1>Sentry</h1>\n<p>Sentry는 Application Error Monitoring 도구다. 에러 로그를 수집하는데 특화되어 있고 각 코드의 에러들을 모아 웹에서 확인할 수 있게 해주는 플랫폼이다.</p>\n<p>스타트업의 경우 개발 인원이 많지 않다보니 외부 서비스 연동이나 새로운 기능 구현 시 어쩔 수 없이 스택은 늘어나는 상황이 발생하는데, 대부분의 플랫폼을 지원하고 있는 Sentry는 비지니스 로직이 확장 되어도 <strong>에러 모니터링을 일원화</strong> 할 수 있다는 장점이 있다. (출처 <a href=\"https://medium.com/humanscape-tech/%EC%95%88%EC%A0%95%EC%84%B1-%EB%86%92%EC%9D%80-%EC%84%9C%EB%B9%84%EC%8A%A4-%EA%B0%9C%EB%B0%9C%ED%95%98%EA%B8%B0-1-2-a9e54054c675\">안정성 높은 서비스 개발하기 — Sentry</a>) -> 이 글 읽어보면 되게 좋다..</p>\n<p>서버단은 ec2라던지 자체 서버에 로그가 기록되는 반면, 프론트엔드는 클라이언트가 오류를 마주하고 피드백을 주면 어디서 에러가 났고, 어떤 브라우저 환경에서 에러가 났는지 찾기 쉽지 않다. Sentry는 어느 Device 종류, 어떤 브라우저, 어떤 버전, 어떤 코드에서 에러가 났는지 상세하게 알려주고, 또 협업을 위해 이슈를 해결하기위해 멤버를 배정하는 등 프로젝트를 유지보수 하기 쉽게 만들어준다. 에러가 났을 때 다양한 플랫폼에 알림 서비스도 제공하고 있다.</p>\n<p>유료 버전을 구매하면 더 다양한 기능을 사용할 수 있다고 하는데, 우선 무료 버전으로 프로젝트에 Sentry를 입혀보자.</p>\n<br/>\n<br/>\n<h2>설치</h2>\n<p><a href=\"https://sentry.io/\">sentry.io</a> 에서 회원가입 후 프로젝트를 생성하면, </p>\n<p><img src=\"https://user-images.githubusercontent.com/59427983/113977290-563b6880-987d-11eb-979f-4414c49b659f.png\" alt=\"sentrymain\"></p>\n<p>이렇게 플랫폼을 선택할 수 있는 화면이 나온다. vue를 클릭. 간단 시작 가이드가 나온다.</p>\n<deckgo-highlight-code shell  terminal=\"carbon\" theme=\"material\"  highlight-lines=\"\">\n          <code slot=\"code\"># Using yarn\nyarn add @sentry/vue @sentry/tracing\n\n# Using npm\nnpm install --save @sentry/vue @sentry/tracing</code>\n        </deckgo-highlight-code>\n<p>CDN으로 하거나, SDK를 설치하는 방법이 나오는데, npm 으로 깔아보자.</p>\n<p>그리고,  아래와 같이 코드를 main.js에 값을 넣으라고 자세히 알려준다. utils폴더에 sentry.js 파일을 만들어 따로 빼고 main.js에 붙여주자. dsn 도 페이지에서 바로 알려주는데, env 파일로 빼서 사용하는게 좋겠지?</p>\n<deckgo-highlight-code js  terminal=\"carbon\" theme=\"material\"  highlight-lines=\"\">\n          <code slot=\"code\">// src/utils/sentry.js\nimport Vue from &quot;vue&quot;;\nimport * as Sentry from &quot;@sentry/vue&quot;;\nimport { Integrations } from &quot;@sentry/tracing&quot;;\n\nexport default Sentry.init({\n  Vue,\n  dsn: VUE_APP_SENTRY_DSN,  // env 파일에 저장\n  integrations: [new Integrations.BrowserTracing()],\n\n  // Set tracesSampleRate to 1.0 to capture 100%\n  // of transactions for performance monitoring.\n  // We recommend adjusting this value in production\n  tracesSampleRate: 1.0,\n});</code>\n        </deckgo-highlight-code>\n<p>export default를 해주었으니 main.js에는 <code>import '@/utils/sentry';</code> 이렇게 한 줄 넣어주면 됨.</p>\n<p>init의 추가 옵션에 대해서 알려주는데 아래와 같다.</p>\n<hr>\n<p>SDK는 동작을 변경할 수있는 몇 가지 다른 구성 옵션을 허용합니다.</p>\n<ul>\n<li>통과 <code>Vue</code>는 선택 사항이지만 통과하지 못한 경우 <code>window.Vue</code>반드시 참석해야합니다. (Vue가 반드시 import 되어 있어야 한다는 뜻인듯…)</li>\n<li><code>attachProps</code> 전달은 선택 사항이며 제공되지 않은 경우 <code>true</code> 입니다. <code>false</code> 로 설정하면 Sentry는 로깅을 위해 모든 Vue 구성 요소의 props를 전송하지 않습니다.</li>\n<li>전달 <code>logErrors</code>은 선택 사항이며 제공되지 않은 경우  <code>false</code> 입니다. <code>true</code> 로 설정하면 Sentry는 Vue의 원래 <code>logError</code>기능도 호출 합니다.</li>\n</ul>\n<p>*Vue 오류 처리</p>\n<p>이 통합을 활성화하면 기본적으로 Vue가 내부적으로<code>logError</code>를 호출하지 않습니다. 즉, Vue 렌더러에서 발생하는 오류가 개발자 콘솔에 표시되지 않습니다. 이 기능을 유지하려면<code>logErrors : true</code> 옵션을 전달해야합니다.</p>\n<hr>\n<p>이렇게 적혀있다. 그래서 일단, attachProps: true, logErrors: false, 기본값 옵션을 따로 줘놨다. 나중에 필요할 때 바로 쓸 수 있게. logErrors는 false로 해두면 개발자 콘솔에 찍히지 않는다는데 내가 우선 개발할 때는 true로 두어야할 것 같아서 눈치 살.. 보고 변경해야지.</p>\n<p>코드를 입히기 전에 Sentry 페이지에는 하단에, <em>첫 번째 이벤트 수신 대기 중..</em> 이렇게 나와있는데 local에서 한번 돌려보자. 그러면 <code>이벤트가 입하했습니다!</code> 라고 뜨면서 연동이 완료된 것임. 하지만,<img width=\"1040\" alt=\"스크린샷 2021-04-08 오전 10 44 00\" src=\"https://user-images.githubusercontent.com/59427983/113955813-680a1500-9857-11eb-9eae-007438e32c3a.png\"></p>\n<p>이렇게 CORS error가 주욱 뜨는 걸 볼 수 있다. sentry를 입히지 않았을 때는 정상적으로 CORS 에러가 뜨지 않고 잘 작동 되었던 것이다. 이번 CORS 에러는 Sentry와 내 local vue(node서버)간의 CORS 문제가 <strong>아니다!</strong></p>\n<p>에러 문구를 자세히 보면, localhost:3000 에서 localhost:8080을 막고 있다고 나와있다. 3000은 SpringBoot로 되어있는 백엔드 로컬임. 하지만 Sentry를 입히기 전에는</p>\n<deckgo-highlight-code java  terminal=\"carbon\" theme=\"material\"  highlight-lines=\"\">\n          <code slot=\"code\">// security/WebSecurityConfig.java\n@Bean\npublic CorsConfigurationSource corsConfigurationSource() {\n  (...)\n  configuration.setAllowedOrigins(ImmutableList.of(&quot;http://localhost:8080&quot;, &quot;https://tripllo.tech&quot;));\n  (...)\n}</code>\n        </deckgo-highlight-code>\n<p>SpringSecurity config에서 이렇게 8080을 허용하고 있었는데, Sentry를 입히면서 여기에서 문제가 생긴 것이다. 따라서 vue.config.js 파일에 proxy 설정을 해주도록 하자.</p>\n<br/>\n<h3>proxy devServer 설정</h3>\n<p>기존에 개발환경은 SpringSecurity에서 localhost:8080을 허용해주는 것으로 해결하고 있었는데, 이제는 백엔드와 프론트 환경에 proxy(대리자)를 두어 동일한 3000번 포트에서 동작하는 것처럼 환경을 구성해줄 것이다.</p>\n<p>프로젝트 최상단에 vue.config.js 파일이 있었다면 그곳에 작업하고, 없다면 만들자.</p>\n<deckgo-highlight-code js  terminal=\"carbon\" theme=\"material\"  highlight-lines=\"\">\n          <code slot=\"code\">module.exports = {\n  devServer: {\n    proxy: {\n      &#39;/api&#39;: {\n        target: &#39;http://localhost:3000&#39;,\n      },\n      &#39;/websocket&#39;: {\n        target: &#39;http://localhost:3000&#39;,\n      },\n    },\n  },\n};</code>\n        </deckgo-highlight-code>\n<p>이렇게 해주면, 지금 vue가 돌아가고 있는 local 포트가 8080이 아닌, 3000 으로 백엔드와 같은 포트를 사용하는 것 처럼 해준다. <code>/api</code> 의 의미는 url에 백엔드로 요청하는 엔드 포인트를 뜻한다. websocket도 마찬가지. 핫 리로딩을 지원하지 않으므로 프론트 서버를 다시 껐다 켜주자. </p>\n<p>그리고, 중요한 것은 ⭐️ 서버로 요청을 보낼 때, 기존과 같이 prefix를 localhost:3000 으로 두는 것이 아니라 <code>공백</code> 으로 두어야 한다. 즉, </p>\n<deckgo-highlight-code js  terminal=\"carbon\" theme=\"material\"  highlight-lines=\"\">\n          <code slot=\"code\">// axios BaseURL 설정시\nconst environmentURL =\n  process.env.NODE_ENV === &#39;production&#39; ? process.env.VUE_APP_API_URL : &#39;&#39;;\n\nconst createInstance = () =&gt; {\n  return axios.create({\n    baseURL: `${environmentURL}/api/`,\n  });\n};</code>\n        </deckgo-highlight-code>\n<p>이런식으로 local에서 proxy를 사용한다면 공백을 넣어주어야 백엔드로 요청이 정상적으로 갈 것이다.</p>\n<p>이제 로컬에서, 임의로 오류를 발생시키고, sentry 페이지에 가보면 오류문이 잘 찍혀있는걸 볼 수 있다.</p>\n<p><img src=\"https://user-images.githubusercontent.com/59427983/114003087-6ca2ed80-9898-11eb-990d-edda67fdf5da.png\" alt=\"스크린샷 2021-04-08 오후 4 28 03\"></p>\n<br/>\n<br/>\n<h2>Environment</h2>\n<p><a href=\"https://docs.sentry.io/product/sentry-basics/environments/\">공식 environment</a> 이곳에 가면 잘 설명되어 있다. 환경별 탭을 두어, 개발 환경(development)에서 오류가 났는지, 배포 환경(production)에서 오류가 났는지 알 수 있게 해준다.</p>\n<deckgo-highlight-code js  terminal=\"carbon\" theme=\"material\"  highlight-lines=\"\">\n          <code slot=\"code\">Sentry.init({\n  environment: process.env.NODE_ENV,\n});</code>\n        </deckgo-highlight-code>\n<p>이렇게 설정해주면</p>\n<p><img src=\"https://user-images.githubusercontent.com/59427983/114003693-ec30bc80-9898-11eb-8ca7-69b757d65115.png\" alt=\"스크린샷 2021-04-08 오후 6 33 25\"></p>\n<p>이런 탭이 생기고 어느 환경에서 어떤 error가 생겼는지 쉽게 볼 수 있다. 지금은 이슈탭에 보면</p>\n<p><img src=\"https://user-images.githubusercontent.com/59427983/114025443-1346b880-98b0-11eb-8bc2-16e824e5c42c.png\" alt=\"스크린샷 2021-04-08 오후 9 19 06\"></p>\n<p>이렇게 어떤 Error가 떴는지만 나오고 소스 추적이 안되는 상태이다. 이제 소스를 추적할 수 있도록 만들 것이다.</p>\n<br/>\n<br/>\n<h2>오류에서 읽기 가능한 스택 추적 활성화</h2>\n<p><a href=\"https://docs.sentry.io/product/sentry-basics/guides/integrate-frontend/upload-source-maps/\">공식 Docs</a>에 자세한 설명이 있다. sentry 화면에서 에러가 표시될 때, 소스코드와 함께 어디서 에러가 났는지 알려면 소스맵을 sentry 서버에 올려줘야 한다. sentry-cli를 설치해서 로컬 컴퓨터에서 수동으로 소스맵을 올려주거나, 빌드시 자동으로 올려주는 방법이 있다. 우리는 빌드 시 자동으로 올려주는 방법을 선택할 것인데 이게 자동화가 되어있기 때문에 쉽다.</p>\n<br/>\n<h3>프로젝트 이름 등록</h3>\n<ol>\n<li>Organization 이름 등록 : 좌측 텝에 보면 Settings가 있다. -> General Settins에 Organization Slug에 프로젝트 명을 등록해주자. </li>\n<li>Project 이름 등록 : 이번엔, General Settins 말고 바로 밑 Projects에 들어가자 -> 자신의 Project를 클릭하면 Name을 정할 수 있다. 프로젝트 이름을 등록해주자.</li>\n</ol>\n<p>이 두가지가 설정 되었으면, </p>\n<br/>\n<h3>토큰 획득</h3>\n<p><img src=\"https://user-images.githubusercontent.com/59427983/114043706-7db42480-98c1-11eb-8dfe-bcc85c767c82.png\" alt=\"스크린샷 2021-04-08 오후 9 38 08\"></p>\n<p>이곳으로 들어가서, Create New Token -> 체크된 상태로 다음으로 가면 토큰을 발급해준다.</p>\n<p><img src=\"https://user-images.githubusercontent.com/59427983/114043983-bd7b0c00-98c1-11eb-8990-a632c5bd0f7e.png\" alt=\"스크린샷 2021-04-08 오후 9 40 21\"></p>\n<p>이렇게. 이걸 잘 가지고 있자.</p>\n<br/>\n<h3>웹팩 플러그인 설치 &#x26; 등록</h3>\n<deckgo-highlight-code shell  terminal=\"carbon\" theme=\"material\"  highlight-lines=\"\">\n          <code slot=\"code\">$ npm install --save-dev @sentry/webpack-plugin</code>\n        </deckgo-highlight-code>\n<p>웹팩 플러그인을 설치해야 한다. 그리고, <code>vue.config.js</code> 파일에 다음과 같이 적어주자.</p>\n<deckgo-highlight-code js  terminal=\"carbon\" theme=\"material\"  highlight-lines=\"\">\n          <code slot=\"code\">const SentryWebpackPlugin = require(&#39;@sentry/webpack-plugin&#39;);\nconst sentryPlugin =\n  process.env.NODE_ENV !== &#39;development&#39;\n    ? [\n        new SentryWebpackPlugin({\n          // sentry-cli configuration\n          authToken: process.env.VUE_APP_SENTRY_AUTH_TOKEN,\n          org: [Organization에 등록한 이름],\n          project: [Project에 등록한 이름],\n\n          // webpack specific configuration\n          include: &#39;./dist&#39;,\n          ignore: [&#39;node_modules&#39;, &#39;vue.config.js&#39;],\n        }),\n      ]\n    : [];\n\nmodule.exports = {\n  (...)\n  configureWebpack: {\n    plugins: sentryPlugin,\n  },\n};</code>\n        </deckgo-highlight-code>\n<ul>\n<li>authToken : 이 부분은 env 파일에 빼둔 것인데, 아까 sentry에서 발급받은 token을 넣어주면 된다.</li>\n</ul>\n<p>위와 같이 development 환경에서는 <code>[]</code> 빈 배열을 넣어준 이유는, vscode상으로 코드를 수정하고 저장하면 핫리로딩이 일어날 때마다 빌드해서 소스맵을 sentry 서버에 전송한다. 코드 하나 바꾸고 또 빌드하고 올려주고 이런 작업이 반복되고 개발 속도가 현저하게 떨어지기 때문에, 개발 환경에서 쓰이지 않게 하기 위해 분기를 태운 것임. 즉, 개발 모드에서는 소스맵을 올리지 않게 되어 sentry에는 에러만 찍힐 뿐, 어디에서 에러가 났는지 코드 자체를 보여주지 않는다.</p>\n<p>이제, git push를 하면 travis에서 </p>\n<p><img src=\"https://user-images.githubusercontent.com/59427983/114048113-39c31e80-98c5-11eb-9970-52844f87de2d.png\" alt=\"스크린샷 2021-04-08 오후 11 35 24\"></p>\n<p>이렇게 소스맵을 생성해주고, sentry에 올려주는 것을 볼 수 있다. 그리고 sentry 홈페이지 Settings -> 한칸 오른쪽 탭의 Projects -> 내 프로젝트 선택 -> Source Maps를 클릭</p>\n<p><img src=\"https://user-images.githubusercontent.com/59427983/114048567-a9d1a480-98c5-11eb-9363-fa92505642e1.png\" alt=\"스크린샷 2021-04-08 오후 11 52 48\"></p>\n<p>이렇게 임의의 이름으로 소스맵이 올라온 것을 볼 수 있다. (약간 늦게 뜰 수 있다. 기다리면 나옴.) 그 녀석을 눌러보면 .js파일과 .map 파일이 주욱 뜨면 소스맵을 sentry 서버에 올린 것을 확인 할 수 있다.</p>\n<p>그리고 배포된 프로젝트에 들어가서 오류를 내고 Issues 탭에 들어가서 오류를 확인해보면,</p>\n<p><img src=\"https://user-images.githubusercontent.com/59427983/114048964-fae19880-98c5-11eb-99ff-1e1272ba2227.png\" alt=\"스크린샷 2021-04-08 오후 11 42 44\"></p>\n<p>이렇게 정상적으로 어느 소스코드에서 에러를 냈는지 자세하게 알려준다. </p>\n<br/>\n<h3>development 환경 막기</h3>\n<p>이제, development(local) 환경과 production 환경에서 에러 로깅 시스템이 잘 동작하는 것을 확인했으므로 development 환경에서는 에러 로깅 시스템을 꺼주도록 하자.</p>\n<p>왜냐하면 Sentry는 무한정으로 무료로 사용할 수 있는 솔루션은 아니므로 배포까지 많은 테스트가 일어날텐데 그때마다 발생하는 에러를 모두 Sentry 서버로 보내게 되면 무료 카운팅을 사용할 수 없게 될 수 있기 때문이다. 개발 환경에서는 콘솔만 보면 되니까.</p>\n<deckgo-highlight-code js  terminal=\"carbon\" theme=\"material\"  highlight-lines=\"\">\n          <code slot=\"code\">// sentry.js\nimport Vue from &#39;vue&#39;;\nimport * as Sentry from &#39;@sentry/vue&#39;;\nimport { Integrations } from &#39;@sentry/tracing&#39;;\n\nexport default Sentry.init({\n  Vue,\n  dsn: process.env.VUE_APP_SENTRY_DSN,\n  integrations: [new Integrations.BrowserTracing()],\n  attachProps: true,\n  logErrors: false,\n  environment: process.env.NODE_ENV,\n  enabled: process.env.NODE_ENV !== &#39;development&#39;,  // 🔥\n\n  tracesSampleRate: 1.0,\n});</code>\n        </deckgo-highlight-code>\n<ul>\n<li>🔥 : 이 부분이 추가 되었다.</li>\n</ul>\n<p>따라서 개발 환경에 따라 environment는 실 배포 환경과 스테이징 환경 두가지에서 돌면 되지 않을까? </p>\n<p>알림 설정은 기본적으로 email로 되어있는데, Slack으로 notification을 주는 것도 가능하다. 또한 해당 코드를 관리하는 개발자에게 이슈를 맡길 수도 있고 해결 처리, 또 해결이 되지 않았는데 해결처리를 했다면 회귀 sign도 sentry가 알아서 준다.</p>\n<p>에러 로깅 시스템을 도입하면서 사용자에게 어떻게 하면 더 안정적이고 견고한 소프트웨어를 제공할 수 있을지 고민이 되는 좋은 시간이었다! 또 Sentry를 도입하면서 내가 놓쳤던 Error를 고치고,  사용자한테 일어나지 않을 것 같은 Error까지 잡아보면서 대수롭지 않게 넘겼던 Error에 대해 다시 한번 생각해볼 수 있는 기회였다.</p>\n<br/>\n<blockquote>\n<p>프로젝트 구경하기 -> <a href=\"https://tripllo.tech\">Tripllo_메인</a>, <a href=\"https://github.com/pozafly/tripllo_vue\">Vue_Github</a>, <a href=\"https://github.com/pozafly/tripllo_springBoot\">SpringBoot_Github</a></p>\n</blockquote>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"Sentry"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Sentry는 Application Error Monitoring 도구다. 에러 로그를 수집하는데 특화되어 있고 각 코드의 에러들을 모아 웹에서 확인할 수 있게 해주는 플랫폼이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"스타트업의 경우 개발 인원이 많지 않다보니 외부 서비스 연동이나 새로운 기능 구현 시 어쩔 수 없이 스택은 늘어나는 상황이 발생하는데, 대부분의 플랫폼을 지원하고 있는 Sentry는 비지니스 로직이 확장 되어도 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"에러 모니터링을 일원화"}]},{"type":"text","value":" 할 수 있다는 장점이 있다. (출처 "},{"type":"element","tagName":"a","properties":{"href":"https://medium.com/humanscape-tech/%EC%95%88%EC%A0%95%EC%84%B1-%EB%86%92%EC%9D%80-%EC%84%9C%EB%B9%84%EC%8A%A4-%EA%B0%9C%EB%B0%9C%ED%95%98%EA%B8%B0-1-2-a9e54054c675"},"children":[{"type":"text","value":"안정성 높은 서비스 개발하기 — Sentry"}]},{"type":"text","value":") -> 이 글 읽어보면 되게 좋다.."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"서버단은 ec2라던지 자체 서버에 로그가 기록되는 반면, 프론트엔드는 클라이언트가 오류를 마주하고 피드백을 주면 어디서 에러가 났고, 어떤 브라우저 환경에서 에러가 났는지 찾기 쉽지 않다. Sentry는 어느 Device 종류, 어떤 브라우저, 어떤 버전, 어떤 코드에서 에러가 났는지 상세하게 알려주고, 또 협업을 위해 이슈를 해결하기위해 멤버를 배정하는 등 프로젝트를 유지보수 하기 쉽게 만들어준다. 에러가 났을 때 다양한 플랫폼에 알림 서비스도 제공하고 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"유료 버전을 구매하면 더 다양한 기능을 사용할 수 있다고 하는데, 우선 무료 버전으로 프로젝트에 Sentry를 입혀보자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"설치"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://sentry.io/"},"children":[{"type":"text","value":"sentry.io"}]},{"type":"text","value":" 에서 회원가입 후 프로젝트를 생성하면, "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"https://user-images.githubusercontent.com/59427983/113977290-563b6880-987d-11eb-979f-4414c49b659f.png","alt":"sentrymain"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이렇게 플랫폼을 선택할 수 있는 화면이 나온다. vue를 클릭. 간단 시작 가이드가 나온다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"deckgo-highlight-code","properties":{"shell":"","terminal":"carbon","theme":"material","highlight-lines":""},"children":[{"type":"text","value":"\n          "},{"type":"element","tagName":"code","properties":{"slot":"code"},"children":[{"type":"text","value":"# Using yarn\nyarn add @sentry/vue @sentry/tracing\n\n# Using npm\nnpm install --save @sentry/vue @sentry/tracing"}]},{"type":"text","value":"\n        "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"CDN으로 하거나, SDK를 설치하는 방법이 나오는데, npm 으로 깔아보자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"그리고,  아래와 같이 코드를 main.js에 값을 넣으라고 자세히 알려준다. utils폴더에 sentry.js 파일을 만들어 따로 빼고 main.js에 붙여주자. dsn 도 페이지에서 바로 알려주는데, env 파일로 빼서 사용하는게 좋겠지?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"deckgo-highlight-code","properties":{"js":"","terminal":"carbon","theme":"material","highlight-lines":""},"children":[{"type":"text","value":"\n          "},{"type":"element","tagName":"code","properties":{"slot":"code"},"children":[{"type":"text","value":"// src/utils/sentry.js\nimport Vue from \"vue\";\nimport * as Sentry from \"@sentry/vue\";\nimport { Integrations } from \"@sentry/tracing\";\n\nexport default Sentry.init({\n  Vue,\n  dsn: VUE_APP_SENTRY_DSN,  // env 파일에 저장\n  integrations: [new Integrations.BrowserTracing()],\n\n  // Set tracesSampleRate to 1.0 to capture 100%\n  // of transactions for performance monitoring.\n  // We recommend adjusting this value in production\n  tracesSampleRate: 1.0,\n});"}]},{"type":"text","value":"\n        "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"export default를 해주었으니 main.js에는 "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"import '@/utils/sentry';"}]},{"type":"text","value":" 이렇게 한 줄 넣어주면 됨."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"init의 추가 옵션에 대해서 알려주는데 아래와 같다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"SDK는 동작을 변경할 수있는 몇 가지 다른 구성 옵션을 허용합니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"통과 "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Vue"}]},{"type":"text","value":"는 선택 사항이지만 통과하지 못한 경우 "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"window.Vue"}]},{"type":"text","value":"반드시 참석해야합니다. (Vue가 반드시 import 되어 있어야 한다는 뜻인듯…)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"attachProps"}]},{"type":"text","value":" 전달은 선택 사항이며 제공되지 않은 경우 "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":" 입니다. "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"false"}]},{"type":"text","value":" 로 설정하면 Sentry는 로깅을 위해 모든 Vue 구성 요소의 props를 전송하지 않습니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"전달 "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"logErrors"}]},{"type":"text","value":"은 선택 사항이며 제공되지 않은 경우  "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"false"}]},{"type":"text","value":" 입니다. "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":" 로 설정하면 Sentry는 Vue의 원래 "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"logError"}]},{"type":"text","value":"기능도 호출 합니다."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"*Vue 오류 처리"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이 통합을 활성화하면 기본적으로 Vue가 내부적으로"},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"logError"}]},{"type":"text","value":"를 호출하지 않습니다. 즉, Vue 렌더러에서 발생하는 오류가 개발자 콘솔에 표시되지 않습니다. 이 기능을 유지하려면"},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"logErrors : true"}]},{"type":"text","value":" 옵션을 전달해야합니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이렇게 적혀있다. 그래서 일단, attachProps: true, logErrors: false, 기본값 옵션을 따로 줘놨다. 나중에 필요할 때 바로 쓸 수 있게. logErrors는 false로 해두면 개발자 콘솔에 찍히지 않는다는데 내가 우선 개발할 때는 true로 두어야할 것 같아서 눈치 살.. 보고 변경해야지."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"코드를 입히기 전에 Sentry 페이지에는 하단에, "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"첫 번째 이벤트 수신 대기 중.."}]},{"type":"text","value":" 이렇게 나와있는데 local에서 한번 돌려보자. 그러면 "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"이벤트가 입하했습니다!"}]},{"type":"text","value":" 라고 뜨면서 연동이 완료된 것임. 하지만,"},{"type":"element","tagName":"img","properties":{"width":1040,"alt":"스크린샷 2021-04-08 오전 10 44 00","src":"https://user-images.githubusercontent.com/59427983/113955813-680a1500-9857-11eb-9eae-007438e32c3a.png"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이렇게 CORS error가 주욱 뜨는 걸 볼 수 있다. sentry를 입히지 않았을 때는 정상적으로 CORS 에러가 뜨지 않고 잘 작동 되었던 것이다. 이번 CORS 에러는 Sentry와 내 local vue(node서버)간의 CORS 문제가 "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"아니다!"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"에러 문구를 자세히 보면, localhost:3000 에서 localhost:8080을 막고 있다고 나와있다. 3000은 SpringBoot로 되어있는 백엔드 로컬임. 하지만 Sentry를 입히기 전에는"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"deckgo-highlight-code","properties":{"java":"","terminal":"carbon","theme":"material","highlight-lines":""},"children":[{"type":"text","value":"\n          "},{"type":"element","tagName":"code","properties":{"slot":"code"},"children":[{"type":"text","value":"// security/WebSecurityConfig.java\n@Bean\npublic CorsConfigurationSource corsConfigurationSource() {\n  (...)\n  configuration.setAllowedOrigins(ImmutableList.of(\"http://localhost:8080\", \"https://tripllo.tech\"));\n  (...)\n}"}]},{"type":"text","value":"\n        "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"SpringSecurity config에서 이렇게 8080을 허용하고 있었는데, Sentry를 입히면서 여기에서 문제가 생긴 것이다. 따라서 vue.config.js 파일에 proxy 설정을 해주도록 하자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"proxy devServer 설정"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"기존에 개발환경은 SpringSecurity에서 localhost:8080을 허용해주는 것으로 해결하고 있었는데, 이제는 백엔드와 프론트 환경에 proxy(대리자)를 두어 동일한 3000번 포트에서 동작하는 것처럼 환경을 구성해줄 것이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"프로젝트 최상단에 vue.config.js 파일이 있었다면 그곳에 작업하고, 없다면 만들자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"deckgo-highlight-code","properties":{"js":"","terminal":"carbon","theme":"material","highlight-lines":""},"children":[{"type":"text","value":"\n          "},{"type":"element","tagName":"code","properties":{"slot":"code"},"children":[{"type":"text","value":"module.exports = {\n  devServer: {\n    proxy: {\n      '/api': {\n        target: 'http://localhost:3000',\n      },\n      '/websocket': {\n        target: 'http://localhost:3000',\n      },\n    },\n  },\n};"}]},{"type":"text","value":"\n        "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이렇게 해주면, 지금 vue가 돌아가고 있는 local 포트가 8080이 아닌, 3000 으로 백엔드와 같은 포트를 사용하는 것 처럼 해준다. "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/api"}]},{"type":"text","value":" 의 의미는 url에 백엔드로 요청하는 엔드 포인트를 뜻한다. websocket도 마찬가지. 핫 리로딩을 지원하지 않으므로 프론트 서버를 다시 껐다 켜주자. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"그리고, 중요한 것은 ⭐️ 서버로 요청을 보낼 때, 기존과 같이 prefix를 localhost:3000 으로 두는 것이 아니라 "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"공백"}]},{"type":"text","value":" 으로 두어야 한다. 즉, "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"deckgo-highlight-code","properties":{"js":"","terminal":"carbon","theme":"material","highlight-lines":""},"children":[{"type":"text","value":"\n          "},{"type":"element","tagName":"code","properties":{"slot":"code"},"children":[{"type":"text","value":"// axios BaseURL 설정시\nconst environmentURL =\n  process.env.NODE_ENV === 'production' ? process.env.VUE_APP_API_URL : '';\n\nconst createInstance = () => {\n  return axios.create({\n    baseURL: `${environmentURL}/api/`,\n  });\n};"}]},{"type":"text","value":"\n        "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이런식으로 local에서 proxy를 사용한다면 공백을 넣어주어야 백엔드로 요청이 정상적으로 갈 것이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이제 로컬에서, 임의로 오류를 발생시키고, sentry 페이지에 가보면 오류문이 잘 찍혀있는걸 볼 수 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"https://user-images.githubusercontent.com/59427983/114003087-6ca2ed80-9898-11eb-990d-edda67fdf5da.png","alt":"스크린샷 2021-04-08 오후 4 28 03"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Environment"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://docs.sentry.io/product/sentry-basics/environments/"},"children":[{"type":"text","value":"공식 environment"}]},{"type":"text","value":" 이곳에 가면 잘 설명되어 있다. 환경별 탭을 두어, 개발 환경(development)에서 오류가 났는지, 배포 환경(production)에서 오류가 났는지 알 수 있게 해준다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"deckgo-highlight-code","properties":{"js":"","terminal":"carbon","theme":"material","highlight-lines":""},"children":[{"type":"text","value":"\n          "},{"type":"element","tagName":"code","properties":{"slot":"code"},"children":[{"type":"text","value":"Sentry.init({\n  environment: process.env.NODE_ENV,\n});"}]},{"type":"text","value":"\n        "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이렇게 설정해주면"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"https://user-images.githubusercontent.com/59427983/114003693-ec30bc80-9898-11eb-8ca7-69b757d65115.png","alt":"스크린샷 2021-04-08 오후 6 33 25"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이런 탭이 생기고 어느 환경에서 어떤 error가 생겼는지 쉽게 볼 수 있다. 지금은 이슈탭에 보면"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"https://user-images.githubusercontent.com/59427983/114025443-1346b880-98b0-11eb-8bc2-16e824e5c42c.png","alt":"스크린샷 2021-04-08 오후 9 19 06"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이렇게 어떤 Error가 떴는지만 나오고 소스 추적이 안되는 상태이다. 이제 소스를 추적할 수 있도록 만들 것이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"오류에서 읽기 가능한 스택 추적 활성화"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://docs.sentry.io/product/sentry-basics/guides/integrate-frontend/upload-source-maps/"},"children":[{"type":"text","value":"공식 Docs"}]},{"type":"text","value":"에 자세한 설명이 있다. sentry 화면에서 에러가 표시될 때, 소스코드와 함께 어디서 에러가 났는지 알려면 소스맵을 sentry 서버에 올려줘야 한다. sentry-cli를 설치해서 로컬 컴퓨터에서 수동으로 소스맵을 올려주거나, 빌드시 자동으로 올려주는 방법이 있다. 우리는 빌드 시 자동으로 올려주는 방법을 선택할 것인데 이게 자동화가 되어있기 때문에 쉽다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"프로젝트 이름 등록"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Organization 이름 등록 : 좌측 텝에 보면 Settings가 있다. -> General Settins에 Organization Slug에 프로젝트 명을 등록해주자. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Project 이름 등록 : 이번엔, General Settins 말고 바로 밑 Projects에 들어가자 -> 자신의 Project를 클릭하면 Name을 정할 수 있다. 프로젝트 이름을 등록해주자."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이 두가지가 설정 되었으면, "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"토큰 획득"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"https://user-images.githubusercontent.com/59427983/114043706-7db42480-98c1-11eb-8dfe-bcc85c767c82.png","alt":"스크린샷 2021-04-08 오후 9 38 08"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이곳으로 들어가서, Create New Token -> 체크된 상태로 다음으로 가면 토큰을 발급해준다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"https://user-images.githubusercontent.com/59427983/114043983-bd7b0c00-98c1-11eb-8990-a632c5bd0f7e.png","alt":"스크린샷 2021-04-08 오후 9 40 21"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이렇게. 이걸 잘 가지고 있자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"웹팩 플러그인 설치 & 등록"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"deckgo-highlight-code","properties":{"shell":"","terminal":"carbon","theme":"material","highlight-lines":""},"children":[{"type":"text","value":"\n          "},{"type":"element","tagName":"code","properties":{"slot":"code"},"children":[{"type":"text","value":"$ npm install --save-dev @sentry/webpack-plugin"}]},{"type":"text","value":"\n        "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"웹팩 플러그인을 설치해야 한다. 그리고, "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"vue.config.js"}]},{"type":"text","value":" 파일에 다음과 같이 적어주자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"deckgo-highlight-code","properties":{"js":"","terminal":"carbon","theme":"material","highlight-lines":""},"children":[{"type":"text","value":"\n          "},{"type":"element","tagName":"code","properties":{"slot":"code"},"children":[{"type":"text","value":"const SentryWebpackPlugin = require('@sentry/webpack-plugin');\nconst sentryPlugin =\n  process.env.NODE_ENV !== 'development'\n    ? [\n        new SentryWebpackPlugin({\n          // sentry-cli configuration\n          authToken: process.env.VUE_APP_SENTRY_AUTH_TOKEN,\n          org: [Organization에 등록한 이름],\n          project: [Project에 등록한 이름],\n\n          // webpack specific configuration\n          include: './dist',\n          ignore: ['node_modules', 'vue.config.js'],\n        }),\n      ]\n    : [];\n\nmodule.exports = {\n  (...)\n  configureWebpack: {\n    plugins: sentryPlugin,\n  },\n};"}]},{"type":"text","value":"\n        "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"authToken : 이 부분은 env 파일에 빼둔 것인데, 아까 sentry에서 발급받은 token을 넣어주면 된다."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"위와 같이 development 환경에서는 "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"[]"}]},{"type":"text","value":" 빈 배열을 넣어준 이유는, vscode상으로 코드를 수정하고 저장하면 핫리로딩이 일어날 때마다 빌드해서 소스맵을 sentry 서버에 전송한다. 코드 하나 바꾸고 또 빌드하고 올려주고 이런 작업이 반복되고 개발 속도가 현저하게 떨어지기 때문에, 개발 환경에서 쓰이지 않게 하기 위해 분기를 태운 것임. 즉, 개발 모드에서는 소스맵을 올리지 않게 되어 sentry에는 에러만 찍힐 뿐, 어디에서 에러가 났는지 코드 자체를 보여주지 않는다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이제, git push를 하면 travis에서 "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"https://user-images.githubusercontent.com/59427983/114048113-39c31e80-98c5-11eb-9970-52844f87de2d.png","alt":"스크린샷 2021-04-08 오후 11 35 24"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이렇게 소스맵을 생성해주고, sentry에 올려주는 것을 볼 수 있다. 그리고 sentry 홈페이지 Settings -> 한칸 오른쪽 탭의 Projects -> 내 프로젝트 선택 -> Source Maps를 클릭"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"https://user-images.githubusercontent.com/59427983/114048567-a9d1a480-98c5-11eb-9363-fa92505642e1.png","alt":"스크린샷 2021-04-08 오후 11 52 48"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이렇게 임의의 이름으로 소스맵이 올라온 것을 볼 수 있다. (약간 늦게 뜰 수 있다. 기다리면 나옴.) 그 녀석을 눌러보면 .js파일과 .map 파일이 주욱 뜨면 소스맵을 sentry 서버에 올린 것을 확인 할 수 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"그리고 배포된 프로젝트에 들어가서 오류를 내고 Issues 탭에 들어가서 오류를 확인해보면,"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"https://user-images.githubusercontent.com/59427983/114048964-fae19880-98c5-11eb-99ff-1e1272ba2227.png","alt":"스크린샷 2021-04-08 오후 11 42 44"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이렇게 정상적으로 어느 소스코드에서 에러를 냈는지 자세하게 알려준다. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"development 환경 막기"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이제, development(local) 환경과 production 환경에서 에러 로깅 시스템이 잘 동작하는 것을 확인했으므로 development 환경에서는 에러 로깅 시스템을 꺼주도록 하자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"왜냐하면 Sentry는 무한정으로 무료로 사용할 수 있는 솔루션은 아니므로 배포까지 많은 테스트가 일어날텐데 그때마다 발생하는 에러를 모두 Sentry 서버로 보내게 되면 무료 카운팅을 사용할 수 없게 될 수 있기 때문이다. 개발 환경에서는 콘솔만 보면 되니까."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"deckgo-highlight-code","properties":{"js":"","terminal":"carbon","theme":"material","highlight-lines":""},"children":[{"type":"text","value":"\n          "},{"type":"element","tagName":"code","properties":{"slot":"code"},"children":[{"type":"text","value":"// sentry.js\nimport Vue from 'vue';\nimport * as Sentry from '@sentry/vue';\nimport { Integrations } from '@sentry/tracing';\n\nexport default Sentry.init({\n  Vue,\n  dsn: process.env.VUE_APP_SENTRY_DSN,\n  integrations: [new Integrations.BrowserTracing()],\n  attachProps: true,\n  logErrors: false,\n  environment: process.env.NODE_ENV,\n  enabled: process.env.NODE_ENV !== 'development',  // 🔥\n\n  tracesSampleRate: 1.0,\n});"}]},{"type":"text","value":"\n        "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"🔥 : 이 부분이 추가 되었다."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"따라서 개발 환경에 따라 environment는 실 배포 환경과 스테이징 환경 두가지에서 돌면 되지 않을까? "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"알림 설정은 기본적으로 email로 되어있는데, Slack으로 notification을 주는 것도 가능하다. 또한 해당 코드를 관리하는 개발자에게 이슈를 맡길 수도 있고 해결 처리, 또 해결이 되지 않았는데 해결처리를 했다면 회귀 sign도 sentry가 알아서 준다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"에러 로깅 시스템을 도입하면서 사용자에게 어떻게 하면 더 안정적이고 견고한 소프트웨어를 제공할 수 있을지 고민이 되는 좋은 시간이었다! 또 Sentry를 도입하면서 내가 놓쳤던 Error를 고치고,  사용자한테 일어나지 않을 것 같은 Error까지 잡아보면서 대수롭지 않게 넘겼던 Error에 대해 다시 한번 생각해볼 수 있는 기회였다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"프로젝트 구경하기 -> "},{"type":"element","tagName":"a","properties":{"href":"https://tripllo.tech"},"children":[{"type":"text","value":"Tripllo_메인"}]},{"type":"text","value":", "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/pozafly/tripllo_vue"},"children":[{"type":"text","value":"Vue_Github"}]},{"type":"text","value":", "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/pozafly/tripllo_springBoot"},"children":[{"type":"text","value":"SpringBoot_Github"}]}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}},"excerpt":"Sentry Sentry는 Application Error Monitoring…","timeToRead":7,"frontmatter":{"title":"(11) Sentry 에러 로깅 시스템 도입","userDate":"9 April 2021","date":"2021-04-09T17:13:47.149Z","tags":["Tripllo 제작기"],"excerpt":"Sentry를 통해 프론트엔드 에러 로깅 시스템을 도입해보자.","image":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABRElEQVQoz6VS207CQBDt/z/44oMmagBFJXKTtqyUCFJuAQrl3hYSLKKChBifGsouO2ugkXJ5MXqyyU7m7JndPTMc+wc4Z6OUAsAOA2w7AeCuHfFG5gTbVeAHexkK1L1ZQoWebjrccrlcLDClYFlzSsF5F8aEYIIxsW3sHKOUrsSj4cR3wSfiecuaM8aioVRN0SRUKBdbwn2mofaUcidy94iEHB/NxPlsQsy36v2ebnKEkGtv3O8TQ4FkpdRmjOVkVYzJx0c3pUIT8VnfeSzgf1AVraEaVx7h0iPUFP38NGzbmGs1+36veHYSDt4mo8HUbPbVbQ+SqIj4bEoq1WvG2+tUTldHL5OhOTZ0U+sMxu8zQ3te/bla6fKRJzldlVBRKXemH58Hnu13aO05uIYd0LBxfu0NbGNTnXNput+V3w7J3ybsGxUVZVdbkFoQAAAAAElFTkSuQmCC","aspectRatio":1.8,"src":"/static/bf7a9491463863772f181d36c58051fa/7129a/sentry.png","srcSet":"/static/bf7a9491463863772f181d36c58051fa/7129a/sentry.png 900w","sizes":"(max-width: 900px) 100vw, 900px"}}},"author":[{"id":"Pozafly","bio":"Frontend Developer","avatar":{"children":[{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAACY0lEQVQ4y42UTUhUURTHz7kzFiN9aLsSK5JIGV2URREGBX2ppKGUptVMZYJ9OPPemzfjyloXSDsXtRD6oFVUIFGtTHARFoEgSiFkJRFWGBPavHfvP+6rbLIZ9XIWh8P98T/vvP+5FCVkjAgpi5TpJdnuUMZqO7kJQq3v/lHRH9e8XDysDEKEZ1bw+gKuiP0WV4uC28lJCOyky7nlwUDJxv10PcG6uDAcIWkRzvJ4gPKDTweKeu7kUeFFkTS8jhaE3YQPpXQst66qfgbVX7CkonwHxTtEBnGaQ9qMBnq2dOWqksHRAYmHwLpHfbki/7R4bf03uXRYTyXmRyFty0vYpgJcZ9pxww6WhZo2UW2HLzusGxbYTV3+DWu2v50akgAUlOxTKH017s9bfojuxVlfy6xsCOyjrqLu3isAXCk1DTjSBoo6b1bTDetf8TRlHyzCmUocTKqPjvJ0oeWBEUfu+aTatsAkREXGthkxQpWVuj2Z0sIKv470kmvvUzWhlE2IZIQNgXOEq2XKnfZk/8DKU09OqEur1QWCwVng84T+bpX8hs9j+Dr+NybH8D2J3k7VRjB8Wf6zIRALuIZfmjnSyHFNHdLQ4Rh+GQvIKMv5HBYjmHoxlKlXUk/I9IpRkiapWDaHGXolflSKW838IszDzTxYz49DPBzi0Spxt5XfHeeXTTxoppmcZh0SJxzm3rVib1CEN4v2oAiXiZYCsatYNBaLxgPcs1XYR7jPTjPprLJ+NFroQ4Smmvl5Aw/U8IOTPHyCh07xm1aeqOMnYR6x5lkMryVpkbIJcdKemf1s28vnbOVPfGtgRKO972EAAAAASUVORK5CYII=","aspectRatio":1,"src":"/static/8c061761f263c344f2c0416607c8adf1/bc8e0/pozafly.png","srcSet":"/static/8c061761f263c344f2c0416607c8adf1/22f7f/pozafly.png 40w,\n/static/8c061761f263c344f2c0416607c8adf1/587c9/pozafly.png 80w,\n/static/8c061761f263c344f2c0416607c8adf1/d966b/pozafly.png 120w,\n/static/8c061761f263c344f2c0416607c8adf1/bc8e0/pozafly.png 800w,\n/static/8c061761f263c344f2c0416607c8adf1/d4b30/pozafly.png 1242w","sizes":"(max-width: 800px) 100vw, 800px"}}]}}]}},"relatedPosts":{"totalCount":14,"edges":[{"node":{"id":"fe92f8cd-f3c9-50b2-ad3e-5b2147105978","timeToRead":4,"excerpt":"Vuex-store와 EventBus에 대한 고찰  Tripllo 프로젝트를 리팩토링 하면서, vue 리팩토링1의 6.store에 필요없는 state 제거 파트를 진행하게 되었다. 해당 부분을 상세하게 한번 보면서 생각할 부분을 정리해보자. store…","frontmatter":{"title":"(13) Vuex-store와 EventBus에 대한 고찰","date":"2021-04-16T15:13:47.149Z"},"fields":{"slug":"/tripllo/(13)Vuex-and-eventBus/"}}},{"node":{"id":"a27fa596-a553-5452-b719-8382dcb9530e","timeToRead":4,"excerpt":"Let’s Encrypt 갱신 자동화 서비스 환경은 AWS의 EC2(Amazon linux2) + Nginx 조합으로 되어있습니다. *amazon linux2는 apt-get 패키지 관련 명령어 대신 yum 패키지 명령어를 사용합니다. Let’s…","frontmatter":{"title":"(12) Let's Encrypt 갱신 자동화","date":"2021-04-12T10:13:47.149Z"},"fields":{"slug":"/tripllo/(12)aws-lets-encrypt-renewal-automation/"}}},{"node":{"id":"6f438e93-495f-50ba-b3f7-8fec6a0a0040","timeToRead":7,"excerpt":"Sentry Sentry는 Application Error Monitoring…","frontmatter":{"title":"(11) Sentry 에러 로깅 시스템 도입","date":"2021-04-09T17:13:47.149Z"},"fields":{"slug":"/tripllo/(11)vue-sentry-error-monitoring-system/"}}},{"node":{"id":"9d1ff393-5941-52fc-810d-5828a109790e","timeToRead":9,"excerpt":"Travis Travis CI에 대해서 알아보자. 우선 Travis 공식 Docs를 보고 따라해봤다. 참고 자료는 이동욱님의 스프링 부트와 AWS로 혼자 구현하는 웹 서비스 책을 참고했다. 우선 travis endpoint…","frontmatter":{"title":"(10) Frontend -travis 배포 자동화","date":"2021-04-06T17:13:47.149Z"},"fields":{"slug":"/tripllo/(10)vue-travis-automation/"}}},{"node":{"id":"fa1948e0-fc12-5e87-b831-73fdfcbee970","timeToRead":12,"excerpt":"목차 props valid plugin 폴더 정리 nextTick 없애기 & 대신 사용자 정의 디렉티브 연결 API 함수 에러 핸들링 API 함수에 JSDoc으로 스펙 명세하기 & 파라미터 형태 수정 API 함수 이름 구체화 및 API…","frontmatter":{"title":"(9) vue 리팩토링2","date":"2021-04-04T19:13:47.149Z"},"fields":{"slug":"/tripllo/(9)vue-refactor2/"}}}]}},"pageContext":{"slug":"/tripllo/(11)vue-sentry-error-monitoring-system/","prev":{"excerpt":"Travis Travis CI에 대해서 알아보자. 우선 Travis 공식 Docs를 보고 따라해봤다. 참고 자료는 이동욱님의 스프링 부트와 AWS로 혼자 구현하는 웹 서비스 책을 참고했다. 우선 travis endpoint…","timeToRead":9,"frontmatter":{"title":"(10) Frontend -travis 배포 자동화","tags":["Tripllo 제작기"],"date":"2021-04-06T17:13:47.149Z","draft":false,"excerpt":"Vue프로젝트를 aws의 S3와 CloudFront에 Travis CI를 통해 배포 자동화를 해보자.","image":{"childImageSharp":{"fluid":{"aspectRatio":0.9940357852882704,"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFzUlEQVQ4yyWMeUyb9xnHn9B0/aOT0ims3dJClUFCCIkN2Ly8ry+MjTEGXnyf+AAb4wsbMDYmJCOEq02WQVIirpy9pHbVDm1qoh1/ZFPWtVmTRalUbZpULdsUdetW9Vo1Cv59J7NH+vzz/Xz0EBFRiucpwPGklzWX0aFGQthEKhnnWlAK13+kER6+qRG239QIW2+ohQcnFcIP6xqa2r8waIgqJHSkgSvTy5rJ0dRMO9cicKQ/0kz6+uayxyqbiCQN5RMK/vpNrRL3W5V416jFH0x63DPp8fv2FtxrVeKXWiWSPH+N6moeo70yqq3jymqqOZI2cES7KpvoyEFuFz0lJ9ojK5/jhPf/rFPjLwbl1qqK38pOzRXPLl9gp8+9wMa+O1Nc4eVb/zCqt+9pVSjIhV8RHX6USEJPPMPtIpIRUbmcsKwqw290dLKLv/5OQIF/5hSbNwc5tuaR41pcy86fGmeLk2n2UlzLVpyNeDvFs4cjis1bfgVGOppX78cV9Ouo8AhRPdExO7/bKG8knZp3vpUTcGdS2PrglMAuBZvYKy4J+3TyMNam0tiYHMBnx2qxYpGw16IcezDDs7uTQvHnwzwqpDxXVdVAfe3cbmpTckRU/c1Zi/zunSyH79ll2+u+Bgx2NLCXYlLcmZNh7YUlrC0usLvzjVgJS1labGQXgzJc8Mq3bo9wyHXIbhDt/tq3q2REimZO8eKQ+pOHVzvx1qWu4o83RHx4L8wWZzRYmpfgyoocmWE/Rkd9uLoqY2emj+LiOT0+fG+A/fSyiNsvmot/vdKJCzHVg4pD8u+Q06oZ/+OtEP7zUfKrGz8xY2XZzF5/xcUur4hYXTLh8gURa0sGrJ0zsKsrItbPd7Jr62b2xqturC2L7Bc/s2Hz4+TW2zd6odMq7GS1ayM/eNWLjeXU9nPTBTY3PcFmp/JYWszjxGQEfcMWhAp2BCI9LBruwYkTEbb4/Rybns7h1KkCm58tsCtr6eLqsgPNSr6VKp99strndHwxNjOF7uM+Zghb0X3SB4fVjb7QIDKjeaSHx5BJjyGTybF4NIWwN4B4IMBivX6YnY7i8MQkLFbnR0S0h6hmT4U55vl38tgQVBZVsdWlh9ljhKfHjH5bNwYcZvitPSVYxGFGwmVhQaedhW0ixgIu1m8xsVQqwXqibjwrO+yho+38y9qIiPxwfjvU3YXRXjciVguaNG0IWEQk/B4UJiYxcew4En7vziZXl1wP8v0+xJwWls/lmdLbhWpZfYhqRY2rsVuFfDbPkpH+YsLZg7jLwuzteubvNiI7OoZMtB/pSAhj2RyCYgdKLu40s7hDRKK/rzgyloOkW/np4R5dOdX0KlvkoQ6kPDaWGy8gk86wZHQA6cEoy2bHkB5KY2rAvcNQamjnacmVmlI7Pl5Ar8UESaB9q66LP0B1aqOywn8G6i7vl106zeepcACpWJQNxWMs1R9gWb8V+T4nsgE7hn0WpPr9/3elJhxkOrXqvwfENCr8Zz7nqp+qpBqhXfGtxMt40n/+fXVDXTYXsGE64tg60W/HfNzD5hI+lnCbUWI+2ctKW8lNRxzF8aANQmP98+WJ1z7eN7C+KX368X3Uouyw+Qcm0emO5j/43S1yi6b3nhsK4nQmtJkP2qB3J1nb8OIOBleMFUI2nM70fbWQCsAldt4HQD3BkUvB6HEcPSBpIqsxfzNmX4Goj+ZMrYNUVcdJ+6xdny0k/ZiJezd99oFtr3OBeZzzrNce3p5LeDfnk354xY4vK2uaZN7OWbIahjYSzosw6qLXSDSkzw4619HWEhq2m2Zof+3TVHFQInWY2v5UCNkxG/NgPBhEIRjEXNyD8ZAdlnbd3545KOH3VDxOZ9N/p25DZi3m3IBO44uRQhB5Y2vknVqJZK+0sYlaVJrdVbVSIvrG11WCcNzdafhtxGb8V9hm/MRparut5IU5emL/3v2HpKRWtj6qVTtJrbQeaW8Nv1tXL9v3P3pg31CCEke/AAAAAElFTkSuQmCC","sizes":"(max-width: 1053px) 100vw, 1053px","src":"/static/49f04b06d4009a791ea88d198934da29/41b97/travis.png","srcSet":"/static/49f04b06d4009a791ea88d198934da29/53f65/travis.png 500w,\n/static/49f04b06d4009a791ea88d198934da29/5d2c5/travis.png 1000w,\n/static/49f04b06d4009a791ea88d198934da29/41b97/travis.png 1053w"}}},"author":[{"id":"Pozafly","bio":"Frontend Developer","avatar":{"children":[{"fluid":{"aspectRatio":1,"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAACY0lEQVQ4y42UTUhUURTHz7kzFiN9aLsSK5JIGV2URREGBX2ppKGUptVMZYJ9OPPemzfjyloXSDsXtRD6oFVUIFGtTHARFoEgSiFkJRFWGBPavHfvP+6rbLIZ9XIWh8P98T/vvP+5FCVkjAgpi5TpJdnuUMZqO7kJQq3v/lHRH9e8XDysDEKEZ1bw+gKuiP0WV4uC28lJCOyky7nlwUDJxv10PcG6uDAcIWkRzvJ4gPKDTweKeu7kUeFFkTS8jhaE3YQPpXQst66qfgbVX7CkonwHxTtEBnGaQ9qMBnq2dOWqksHRAYmHwLpHfbki/7R4bf03uXRYTyXmRyFty0vYpgJcZ9pxww6WhZo2UW2HLzusGxbYTV3+DWu2v50akgAUlOxTKH017s9bfojuxVlfy6xsCOyjrqLu3isAXCk1DTjSBoo6b1bTDetf8TRlHyzCmUocTKqPjvJ0oeWBEUfu+aTatsAkREXGthkxQpWVuj2Z0sIKv470kmvvUzWhlE2IZIQNgXOEq2XKnfZk/8DKU09OqEur1QWCwVng84T+bpX8hs9j+Dr+NybH8D2J3k7VRjB8Wf6zIRALuIZfmjnSyHFNHdLQ4Rh+GQvIKMv5HBYjmHoxlKlXUk/I9IpRkiapWDaHGXolflSKW838IszDzTxYz49DPBzi0Spxt5XfHeeXTTxoppmcZh0SJxzm3rVib1CEN4v2oAiXiZYCsatYNBaLxgPcs1XYR7jPTjPprLJ+NFroQ4Smmvl5Aw/U8IOTPHyCh07xm1aeqOMnYR6x5lkMryVpkbIJcdKemf1s28vnbOVPfGtgRKO972EAAAAASUVORK5CYII=","sizes":"(max-width: 800px) 100vw, 800px","src":"/static/8c061761f263c344f2c0416607c8adf1/bc8e0/pozafly.png","srcSet":"/static/8c061761f263c344f2c0416607c8adf1/8ac63/pozafly.png 200w,\n/static/8c061761f263c344f2c0416607c8adf1/3891b/pozafly.png 400w,\n/static/8c061761f263c344f2c0416607c8adf1/bc8e0/pozafly.png 800w,\n/static/8c061761f263c344f2c0416607c8adf1/6050d/pozafly.png 1200w,\n/static/8c061761f263c344f2c0416607c8adf1/d4b30/pozafly.png 1242w"}}]}}]},"fields":{"layout":"post","slug":"/tripllo/(10)vue-travis-automation/"}},"next":{"excerpt":"Let’s Encrypt 갱신 자동화 서비스 환경은 AWS의 EC2(Amazon linux2) + Nginx 조합으로 되어있습니다. *amazon linux2는 apt-get 패키지 관련 명령어 대신 yum 패키지 명령어를 사용합니다. Let’s…","timeToRead":4,"frontmatter":{"title":"(12) Let's Encrypt 갱신 자동화","tags":["Tripllo 제작기"],"date":"2021-04-12T10:13:47.149Z","draft":false,"excerpt":"AWS EC2 환경에서 Nginx와 Let's Encrypt로 HTTPS TLS 인증서 갱신 자동화를 해보자.","image":{"childImageSharp":{"fluid":{"aspectRatio":1.2106537530266344,"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAA3XAAAN1wFCKJt4AAACuklEQVQ4y42T30sUURTHvzO7hm8Z/RAhiLB6CCN6Ee/ZDTJJyozKxMIHoxLMZD2nQqk0IdEU/IWIkJG0OtsPKx8EIyN6yZdKEKSf4Fv2LyQF6o2ZubO72oMNfJkzc+587vmeOwdY59IOsOL4d+3A1glYOgEYWe67tPz61xogVnxQVCeQnwT/L3DN4izt4JKBlOgEClccr9pqnUBmAAeIVyv9HRbwtnM7FkdCWHaApVGr6tfDcPTPiF31e8Q+vRgPHVkatc66ucV4yPKBSiwj+HJh4so6f6HYrdPd2V52UKrfYIt+gTt6DDN6DHN6HNf0JHKWHBybH9xoLCdBYoHYckEGCOxpQ1FFGcZbczfox6ia7so5OdO77Wur5JcNN+2t/dCT/XG2b+sZ/QTnzMaevXIQV/o2JVAmSPZBSQmIT2Qduoyhm3nA/ls3UHBVQ8myJzfOa6lprIsgIxoLB8DbUNzsAZU0gKQPJC0gmXdhUDII4p5vA5vC4UisFcQaxEMgTrhxRjTWgF0d7rdJYDMU34fi3SBZAMlrkHSC5KXXCuJ6KP4E4s0gbjPA7yD+6cVKWkzLwv5BkhwGySRIaqGYobgbxDtAMgDincb2IyjOAnEFFL+D4jcgngLxNIiLzV8RCoClUPIUJHXGNlJ3sf85/eA5GfMBEOd6ecWWm7gOks8gLoHiGih5BeIYyIvv+RtJHMTtXoUkTSDpB8kDkNSD+D2I+9OB7kHMgbgIiuMg6QbJFJTMQslBkHR4PVWuff4B4rtQ8gyKG6F4AsTPQVxtbNsusBAkw1B8BUoqTU/dXpVDSS9ILkJJxFj+AuIIiB2QTEDJKZAc9YsKpivoV9C7QOm98nUcxF0mbgdJdmpt2j9spiOUmpRAYpupsc1opg6oIDlZtp/3vgkqDCrg1RWpNTsH45nuZtXs+8C/7RNh/RVd2LEAAAAASUVORK5CYII=","sizes":"(max-width: 640px) 100vw, 640px","src":"/static/58a4a7e8eb69b8bdbea5d60e52f4155d/23495/lets-encrypt.png","srcSet":"/static/58a4a7e8eb69b8bdbea5d60e52f4155d/53f65/lets-encrypt.png 500w,\n/static/58a4a7e8eb69b8bdbea5d60e52f4155d/23495/lets-encrypt.png 640w"}}},"author":[{"id":"Pozafly","bio":"Frontend Developer","avatar":{"children":[{"fluid":{"aspectRatio":1,"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAACY0lEQVQ4y42UTUhUURTHz7kzFiN9aLsSK5JIGV2URREGBX2ppKGUptVMZYJ9OPPemzfjyloXSDsXtRD6oFVUIFGtTHARFoEgSiFkJRFWGBPavHfvP+6rbLIZ9XIWh8P98T/vvP+5FCVkjAgpi5TpJdnuUMZqO7kJQq3v/lHRH9e8XDysDEKEZ1bw+gKuiP0WV4uC28lJCOyky7nlwUDJxv10PcG6uDAcIWkRzvJ4gPKDTweKeu7kUeFFkTS8jhaE3YQPpXQst66qfgbVX7CkonwHxTtEBnGaQ9qMBnq2dOWqksHRAYmHwLpHfbki/7R4bf03uXRYTyXmRyFty0vYpgJcZ9pxww6WhZo2UW2HLzusGxbYTV3+DWu2v50akgAUlOxTKH017s9bfojuxVlfy6xsCOyjrqLu3isAXCk1DTjSBoo6b1bTDetf8TRlHyzCmUocTKqPjvJ0oeWBEUfu+aTatsAkREXGthkxQpWVuj2Z0sIKv470kmvvUzWhlE2IZIQNgXOEq2XKnfZk/8DKU09OqEur1QWCwVng84T+bpX8hs9j+Dr+NybH8D2J3k7VRjB8Wf6zIRALuIZfmjnSyHFNHdLQ4Rh+GQvIKMv5HBYjmHoxlKlXUk/I9IpRkiapWDaHGXolflSKW838IszDzTxYz49DPBzi0Spxt5XfHeeXTTxoppmcZh0SJxzm3rVib1CEN4v2oAiXiZYCsatYNBaLxgPcs1XYR7jPTjPprLJ+NFroQ4Smmvl5Aw/U8IOTPHyCh07xm1aeqOMnYR6x5lkMryVpkbIJcdKemf1s28vnbOVPfGtgRKO972EAAAAASUVORK5CYII=","sizes":"(max-width: 800px) 100vw, 800px","src":"/static/8c061761f263c344f2c0416607c8adf1/bc8e0/pozafly.png","srcSet":"/static/8c061761f263c344f2c0416607c8adf1/8ac63/pozafly.png 200w,\n/static/8c061761f263c344f2c0416607c8adf1/3891b/pozafly.png 400w,\n/static/8c061761f263c344f2c0416607c8adf1/bc8e0/pozafly.png 800w,\n/static/8c061761f263c344f2c0416607c8adf1/6050d/pozafly.png 1200w,\n/static/8c061761f263c344f2c0416607c8adf1/d4b30/pozafly.png 1242w"}}]}}]},"fields":{"layout":"post","slug":"/tripllo/(12)aws-lets-encrypt-renewal-automation/"}},"primaryTag":"Tripllo 제작기"}},"staticQueryHashes":["1917168614","4083712403"]}