{"componentChunkName":"component---src-templates-post-tsx","path":"/tools/manage-with-rm-rf-erased-setting-file-chezmoi/","result":{"data":{"markdownRemark":{"html":"<p><code class=\"language-text\">$ rm -rf ~</code> 가 얼마나 무서운 명령어인지 아는가? 리눅스 또는 맥 OS에서 사용자의 홈 디렉토리를 삭제하는 명령어다.</p>\n<p>얼마 전 <a href=\"https://www.warp.dev/\" target=\"_blank\" rel=\"nofollow\">warp</a>라는 터미널이 좋아 보여서 맥북에 설치하고 사용해 봤다. 터미널 클라이언트로 iTerm2를 사용한 지 오래되기도 했고 warp은 AI로 명령어를 추천해 주기도 한다고 해서 구미가 당겨 사용해 보고 있었다.</p>\n<p>튜토리얼을 따라 해보다가 잘못해서 <code class=\"language-text\">~</code> 라는 폴더를 home에 만들게 되었다. <code class=\"language-text\">~/~</code> 경로가 생성된 것이다. 홈 경로에서 작업하고 있었고, 쓸모없는 디렉토리가 만들어졌으니 별생각 없이 <code class=\"language-text\">rm -rf ~</code> 라는 명령어를 쳤다.</p>\n<p><code class=\"language-text\">rm -rf</code> 명령어는 제거하라(<code class=\"language-text\">rm</code>)는 명령어에 재귀적으로(<code class=\"language-text\">-rf</code>) 라는 옵션이 붙은 명령어이다. 따라서 사용자의 홈 디렉터리와 그 하위에 있는 모든 파일과 디렉터리를 강제로 삭제하게 된다. 하지만 아무것도 들어있지 않은 디렉토리를 제거하기에는 생각보다 시간이 오래걸렸고, 어떤 권한까지 물어보는 것이었다.</p>\n<p>갸우뚱하다가 실수한 것을 깨닫게 되었다. 내가 home 디렉토리를 지금 날리고 있구나. 얼른 명령어를 취소시켰다. 하지만 이미 컴퓨터의 대부분의 자료가 날아간 상태였다. 컴퓨터를 재부팅했더니 맥북을 처음 샀을 때 한껏 들뜨게 만들었던 맥 초기 화면이 나를 기다리고 있었다.</p>\n<br/>\n<h2 id=\"chezmoi\" style=\"position:relative;\">chezmoi<a href=\"#chezmoi\" aria-label=\"chezmoi permalink\" class=\"auto-link after\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a></h2>\n<p>이전에 dotfiles의 존재를 어렴풋이 알고 있었다. dotfiles는 <code class=\"language-text\">.</code> 으로 시작하는 숨김 처리된 파일이다. <code class=\"language-text\">.git</code> 같은 파일은 맥의 Finder를 통해 디렉토리를 살펴보면 보이지 않는 숨김 처리된 파일이다. dotfiles 중에서도 어떤 프로그램의 설정값이나, 컴퓨터 전체의 설정값을 저장하고 있는 파일을 말한다.</p>\n<p>홈 디렉토리를 잃거나, 맥을 새로 장만했을 때 내가 자주 사용하는 어플리케이션, 설정값들을 복원할 수 있다면 빠르게 개발 환경을 만들 수 있다. 즉, dotfiles를 잘 관리해두면 처음부터 컴퓨터의 세팅을 하지 않아도 된다.</p>\n<p><a href=\"https://www.chezmoi.io/\" target=\"_blank\" rel=\"nofollow\">chezmoi</a>라는 툴은 dotfiles를 관리해 주는 툴이다. 기본적으로 Command Line Interface(CLI)를 통해 직접 명령을 내리며 내가 관리하고 싶은 dotfiles를 지정해 주면 스냅샷을 떠서 그대로 관리해 준다. 그리고 맥, 윈도우, 리눅스 운영체제 별로 실행해야 하는 스크립트나 설정 파일을 따로 지정할 수 있고 운영 체제별로 dotfiles를 관리할 수 있다. 다른 사람에게 공개되지 않아야 하는 비밀 키도 관리할 수 있다.</p>\n<p>chezmoi는 Go라는 프로그래밍 언어로 작성되었기 때문에 무척 빠르다. chezmoi를 사용하면서 알게 된 새로운 몇몇 툴과 가벼운 지식을 이번 글에 기록해 보고자 한다. 아래는 전부 맥 OS 기준으로 작성한다.</p>\n<p>먼저 설치부터 해보자. homebrew를 통해 설치할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">$ brew <span class=\"token function\">install</span> chezmoi</code></pre></div>\n<h3 id=\"기본-명령어\" style=\"position:relative;\">기본 명령어<a href=\"#%EA%B8%B0%EB%B3%B8-%EB%AA%85%EB%A0%B9%EC%96%B4\" aria-label=\"기본 명령어 permalink\" class=\"auto-link after\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a></h3>\n<h3 id=\"init\" style=\"position:relative;\">init<a href=\"#init\" aria-label=\"init permalink\" class=\"auto-link after\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a></h3>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">$ chezmoi init</code></pre></div>\n<p><code class=\"language-text\">~/.local/share/chezmoi</code> 경로가 생성되고, git 로컬 저장소가 생성된다. 이를 chezmoi에서는 소스 디렉토리(source directory)라고 부른다.</p>\n<blockquote>\n<p>※ 소스 디렉토리</p>\n<p>소스 디렉토리는 마치 git의 staging area와 비슷하다. chezmoi add 명령어로 본을 뜬 녀석은 소스 디렉토리에 저장되고 후에 알아볼 <code class=\"language-text\">chezmoi apply</code> 를 통해 실제 파일에 저장된다. 참고로 git add를 통해 git에게 관리되는 파일은 staging area에 저장되게 되는데, 이는 <code class=\"language-text\">.git/index</code> 에 바이너리 파일로 저장된다.</p>\n<p>소스 디렉토리로 이동하는 명령어는 <code class=\"language-text\">$ chezmoi cd</code> 다.</p>\n</blockquote>\n<h3 id=\"add\" style=\"position:relative;\">add<a href=\"#add\" aria-label=\"add permalink\" class=\"auto-link after\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a></h3>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">$ chezmoi <span class=\"token function\">add</span> ~/.zshrc</code></pre></div>\n<p>zsh를 사용하고 있다면 홈디렉토리에 .zshrc 파일이 있을 것이다. 이는 zsh 설정 파일이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># homebrew path\nexport PATH=/opt/homebrew/bin:$PATH\n\nplugins=(\n  git\n  encode64\n)\n\n# oh-my-zsh path, init\nexport ZSH=\"$HOME/.oh-my-zsh\"\nsource $ZSH/oh-my-zsh.sh\n\n# autosuggestions, syntax-highlighting\nsource $(brew --prefix)/share/zsh-autosuggestions/zsh-autosuggestions.zsh\nsource $(brew --prefix)/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh\n\n# pure theme\nfpath+=(\"$(brew --prefix)/share/zsh/site-functions\")\nautoload -U promptinit; promptinit\nprompt pure\n\n# fnm\neval \"$(fnm env --use-on-cd)\"</code></pre></div>\n<p>보통은 이렇게 생겼다. chezmoi add 명령어로 이 파일을 관리하겠다고 하면 소스 디렉토리(<code class=\"language-text\">~/.local/share/chezmoi</code>)에 <code class=\"language-text\">dot_zshrc</code> 파일이 생성된다. 여기서 <code class=\"language-text\">dot_</code> 는 <code class=\"language-text\">.</code> 을 의미한다. 즉 파일 명이나 디렉토리 명에서 파일의 이름을 유추할 수 있다. 이는 chezmoi의 철학이다.</p>\n<p>현재 <code class=\"language-text\">.zshrc</code> 파일을 스냅샷을 떠 관리를 시작했다. 모든 내용은 복사되어 소스 디렉토리에 존재한다.</p>\n<h3 id=\"edit\" style=\"position:relative;\">edit<a href=\"#edit\" aria-label=\"edit permalink\" class=\"auto-link after\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a></h3>\n<p>.zshrc 파일을 수정해야 한다면 홈 디렉토리에 있는 <code class=\"language-text\">.zshrc</code> 파일을 직접 수정해도 되지만, chezmoi를 사용하면 add 명령어를 쳤을 그 시점에 가지고 있는 설정값으로 원상복구될 것이다. 따라서 edit 명령어를 통해 chezmoi의 소스 디렉토리에 있는 파일을 수정 후, 적용해 주어야 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">$ chezmoi edit ~/.zshrc</code></pre></div>\n<h3 id=\"diff\" style=\"position:relative;\">diff<a href=\"#diff\" aria-label=\"diff permalink\" class=\"auto-link after\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a></h3>\n<p>chezmoi로 dotfile을 수정했으니 이제 실제 <code class=\"language-text\">~/.zshrc</code> 파일에 적용해 줄 차례인데, 적용하기 전에 어떤 것이 변경되었는지 명령어를 통해 볼 수 있는데 diff 명령어를 통해 알 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">$ chezmoi <span class=\"token function\">diff</span></code></pre></div>\n<p>diff 명령어는 파일 명을 명시해 주지 않아도 관리되고 있는 dotfiles 중에서 변경된 모든 파일의 변경사항을 보여준다.</p>\n<h3 id=\"apply\" style=\"position:relative;\">apply<a href=\"#apply\" aria-label=\"apply permalink\" class=\"auto-link after\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a></h3>\n<p>이제 적용 명령이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">$ chezmoi apply <span class=\"token parameter variable\">-v</span></code></pre></div>\n<p>그냥 apply만 해도 되지만, <code class=\"language-text\">-v</code> 옵션을 주면 적용 전에 diff를 통해 어떤 겻이 변경될 것인지 알려준다. 주로 -v(verbose) 옵션을 주어 확인 후 적용하도록 하자.</p>\n<h3 id=\"cd\" style=\"position:relative;\">cd<a href=\"#cd\" aria-label=\"cd permalink\" class=\"auto-link after\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a></h3>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">$ chezmoi <span class=\"token builtin class-name\">cd</span></code></pre></div>\n<p>터미널에서 소스 디렉토리(<code class=\"language-text\">~/.local/share/chezmoi</code>)로 바로 이동하는 명령어다. chezmoi가 관리하는 dotfiles를 git을 통해 버전 관리할 수 있다. 물론 GitHub에도 올릴 수 있다. 컴퓨터가 초기화되었다면 GitHub에서 이전에 관리하던 dotfiles를 그대로 내려받아 똑같은 위치에 dotfiles를 원상복구할 수 있다.</p>\n<br/>\n<h2 id=\"내가-관리하고-있는-것들\" style=\"position:relative;\">내가 관리하고 있는 것들<a href=\"#%EB%82%B4%EA%B0%80-%EA%B4%80%EB%A6%AC%ED%95%98%EA%B3%A0-%EC%9E%88%EB%8A%94-%EA%B2%83%EB%93%A4\" aria-label=\"내가 관리하고 있는 것들 permalink\" class=\"auto-link after\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a></h2>\n<p>내 저장소는 <a href=\"https://github.com/pozafly/dotfiles\" target=\"_blank\" rel=\"nofollow\">pozafly/dotfiles</a> 이곳이다. chezmoi를 통해 관리하고 있는 파일들이다. 가볍게 git config 파일부터 살펴보자.</p>\n<br/>\n<h3 id=\"git-config\" style=\"position:relative;\">git config<a href=\"#git-config\" aria-label=\"git config permalink\" class=\"auto-link after\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a></h3>\n<p>원래 <code class=\"language-text\">~/.gitconfig</code> 파일이 있었다. 하지만, <code class=\"language-text\">~/.config/git</code> 경로에 config 파일을 생성해 설정 파일을 두어도 똑같은 역할을 한다. 레파지토리를 보면 <code class=\"language-text\">dot_config/git/config.tmpl</code> 파일이 있다.</p>\n<p>tmpl이란, chezmoi의 템플릿 파일이다. tmpl은 chezmoi만의 특별한 확장자로, 템플릿 파일을 만들 수 있는데 분기문을 사용해 OS 별로 실행 명령어를 다르게 하거나 설정 파일을 다르게 할 수 있다. 또한 chezmoi 설정값을 가져와 적용하게 할 수도 있다.</p>\n<p>예를 들어 tmpl 파일 안에 <code class=\"language-text\">{{ .chezmoi.sourceDir }}</code> 이런 표현식이 있다면 그 자리에는 실행 시점에 소스 디렉토리 경로(<code class=\"language-text\">~/.local/share/chezmoi</code>)로 대체된다. 또한 분기문은</p>\n<div class=\"gatsby-highlight\" data-language=\"toml\"><pre class=\"language-toml\"><code class=\"language-toml\"><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> if eq <span class=\"token punctuation\">.</span>chezmoi<span class=\"token punctuation\">.</span>os <span class=\"token string\">\"darwin\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n<span class=\"token comment\"># darwin</span>\n<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> else if eq <span class=\"token punctuation\">.</span>chezmoi<span class=\"token punctuation\">.</span>os <span class=\"token string\">\"linux\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n<span class=\"token comment\"># linux</span>\n<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> else <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n<span class=\"token comment\"># other operating system</span>\n<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> end <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>이런 방식으로 사용할 수 있다. 템플릿에서 사용하는 <code class=\"language-text\">.chezmoi.</code> 내부의 값은 <code class=\"language-text\">$ chezmoi data</code> 명령어를 통해 알아볼 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"toml\"><pre class=\"language-toml\"><code class=\"language-toml\"><span class=\"token punctuation\">[</span><span class=\"token table class-name\">alias</span><span class=\"token punctuation\">]</span>\n  <span class=\"token key property\">st</span> <span class=\"token punctuation\">=</span> status\n\n<span class=\"token punctuation\">[</span><span class=\"token table class-name\">user</span><span class=\"token punctuation\">]</span>\n  <span class=\"token key property\">name</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> <span class=\"token punctuation\">.</span>chezmoi<span class=\"token punctuation\">.</span>config<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>name | quote <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n  <span class=\"token key property\">email</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> <span class=\"token punctuation\">.</span>chezmoi<span class=\"token punctuation\">.</span>config<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>email | quote <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">[</span><span class=\"token table class-name\">core</span><span class=\"token punctuation\">]</span>\n  <span class=\"token key property\">editor</span> <span class=\"token punctuation\">=</span> code --wait\n  <span class=\"token key property\">precomposeunicode</span> <span class=\"token punctuation\">=</span> <span class=\"token boolean\">true</span>\n  <span class=\"token key property\">quotepath</span> <span class=\"token punctuation\">=</span> <span class=\"token boolean\">false</span>\n  <span class=\"token key property\">excludesfile</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> <span class=\"token punctuation\">.</span>chezmoi<span class=\"token punctuation\">.</span>homeDir <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>/<span class=\"token punctuation\">.</span>gitignore_global\n  <span class=\"token key property\">autocrlf</span> <span class=\"token punctuation\">=</span> input\n\n<span class=\"token punctuation\">[</span><span class=\"token table class-name\">pull</span><span class=\"token punctuation\">]</span>\n  <span class=\"token key property\">rebase</span> <span class=\"token punctuation\">=</span> <span class=\"token boolean\">true</span>\n\n<span class=\"token punctuation\">[</span><span class=\"token table class-name\">init</span><span class=\"token punctuation\">]</span>\n  <span class=\"token key property\">defaultBranch</span> <span class=\"token punctuation\">=</span> main</code></pre></div>\n<p>이렇게 되어있다. <code class=\"language-text\">{{ .chezmoi.config.data.name | quote }}</code></p>\n<p><code class=\"language-text\">quote</code>는 Go 템플릿에서 사용할 수 있는 “파이프라인”을 사용하는 부분이다. 파이프라인을 통해 데이터를 수정하는 함수나 명령을 적용할 수 있다. 예를 들어, 사용자의 이름이 <code class=\"language-text\">O'Reilly</code>라면, <code class=\"language-text\">quote</code>를 적용하지 않은 상태에서 JSON 파일에 직접 삽입하면 문제를 일으킬 수 있다 (<code class=\"language-text\">\"name\": \"O'Reilly\"</code>). <code class=\"language-text\">quote</code>를 사용하면 이 이름이 <code class=\"language-text\">\"O'Reilly\"</code>처럼 안전하게 인용 부호 안에 포함되어 처리된다.</p>\n<p><code class=\"language-text\">.chezmoi.config.data</code> 부분은, chezmoi의 설정 파일에 있는 데이터를 가져오겠다는 말이 된다.</p>\n<h4 id=\"chezmoi-설정-파일\" style=\"position:relative;\">chezmoi 설정 파일<a href=\"#chezmoi-%EC%84%A4%EC%A0%95-%ED%8C%8C%EC%9D%BC\" aria-label=\"chezmoi 설정 파일 permalink\" class=\"auto-link after\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a></h4>\n<p>chezmoi 툴의 설정 파일이 있다. <code class=\"language-text\">~/.config/chezmoi/chezmoi.toml</code> 으로, toml 파일로 관리된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"toml\"><pre class=\"language-toml\"><code class=\"language-toml\"><span class=\"token punctuation\">[</span><span class=\"token table class-name\">data</span><span class=\"token punctuation\">]</span>\n  <span class=\"token key property\">email</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"pozafly@gmail.com\"</span>\n  <span class=\"token key property\">name</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"pozafly\"</span>\n  <span class=\"token key property\">env</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"home\"</span>\n\n<span class=\"token key property\">encryption</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"age\"</span>\n<span class=\"token punctuation\">[</span><span class=\"token table class-name\">age</span><span class=\"token punctuation\">]</span>\n  <span class=\"token key property\">identity</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"/Users/pozafly/age-key.txt\"</span>\n  <span class=\"token key property\">recipient</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"age1k3dd5wtylpz6um3wz2sgyr6ek0zn4mvc8mknaf9tjdjxh7n953psf8gw40\"</span>\n\n<span class=\"token comment\"># chezmoi를 vscode로도 관리한다.</span>\n<span class=\"token punctuation\">[</span><span class=\"token table class-name\">edit</span><span class=\"token punctuation\">]</span>\n  <span class=\"token key property\">command</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"code\"</span>\n  <span class=\"token key property\">args</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"--wait\"</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\"># plist diff을 보여줄 때 바이너리가 아닌, xml로 보여줌</span>\n<span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token table class-name\">textconv</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\n  <span class=\"token key property\">pattern</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"**/*.plist\"</span>\n  <span class=\"token key property\">command</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"plutil\"</span>\n  <span class=\"token key property\">args</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"-convert\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"xml1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"-o\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"-\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"-\"</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token punctuation\">[</span><span class=\"token table class-name\">git</span><span class=\"token punctuation\">]</span>\n<span class=\"token comment\">#  autoCommit = true</span></code></pre></div>\n<p>이곳의 <code class=\"language-text\">[data]</code> 부분에 명시된 이름을 가져와서 git/config 파일에 템플릿으로 넣어주는 것이다.</p>\n<p>이 설정 파일마저도 chezmoi로 관리해 줄 수 있다. 소스 디렉토리에 <code class=\"language-text\">.chezmoi.toml.tmpl</code> 파일을 보자. 이마저도 템플릿 파일로 이루어져 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"toml\"><pre class=\"language-toml\"><code class=\"language-toml\"><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>- $email :<span class=\"token punctuation\">=</span> promptStringOnce <span class=\"token punctuation\">.</span> <span class=\"token string\">\"email\"</span> <span class=\"token string\">\"Email address\"</span> -<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>- $name :<span class=\"token punctuation\">=</span> promptStringOnce <span class=\"token punctuation\">.</span> <span class=\"token string\">\"name\"</span> <span class=\"token string\">\"Name\"</span> -<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>- $env :<span class=\"token punctuation\">=</span> promptStringOnce <span class=\"token punctuation\">.</span> <span class=\"token string\">\"env\"</span> <span class=\"token string\">\"env (예: home | work)\"</span> -<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">[</span><span class=\"token table class-name\">data</span><span class=\"token punctuation\">]</span>\n  <span class=\"token key property\">email</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> $email | quote <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n  <span class=\"token key property\">name</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> $name | quote <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n  <span class=\"token key property\">env</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> $env | quote <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></code></pre></div>\n<p>템플릿 구문을 볼 수 있는데, <code class=\"language-text\">{{- $email := promptStringOnce . \"email\" \"Email address\" -}}</code> 이 부분은 무엇인가? <code class=\"language-text\">chezmoi init</code> 명령어로 chezmoi를 초기화할 때, cli로 email, name, env를 직접 타이핑해서 입력해 줄 수 있다.</p>\n<p>![chezmoi init](../img/tools/manage-with-rm-rf-erased-setting-file-chezmoi/chezmoi init.png)</p>\n<p>이런 방식으로 말이다.</p>\n<br/>\n<h3 id=\"git-global-ignore\" style=\"position:relative;\">git global ignore<a href=\"#git-global-ignore\" aria-label=\"git global ignore permalink\" class=\"auto-link after\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a></h3>\n<p>git이 관리하는 파일에 <code class=\"language-text\">.gitignore</code> 이 있지만, 로컬 컴퓨터 전체에 적용되는 global ignore도 있다. 이를 git config에서</p>\n<div class=\"gatsby-highlight\" data-language=\"toml\"><pre class=\"language-toml\"><code class=\"language-toml\"><span class=\"token punctuation\">[</span><span class=\"token table class-name\">core</span><span class=\"token punctuation\">]</span>\n  <span class=\"token key property\">excludesfile</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> <span class=\"token punctuation\">.</span>chezmoi<span class=\"token punctuation\">.</span>homeDir <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>/<span class=\"token punctuation\">.</span>gitignore_global\n  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></code></pre></div>\n<p>이렇게 적어줄 수 있다. macOS라면 <code class=\"language-text\">.DS_Store</code> 를 넣어주는 것을 추천한다.</p>\n<br/>\n<h3 id=\"스크립트-파일\" style=\"position:relative;\">스크립트 파일<a href=\"#%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-%ED%8C%8C%EC%9D%BC\" aria-label=\"스크립트 파일 permalink\" class=\"auto-link after\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a></h3>\n<p>스크립트 파일은 특정 시점에 실행되는 bash 스크립트 파일이다. 레파지토리를 살펴보면 <code class=\"language-text\">.chezmoiscrips/darwin</code> 내부에 <code class=\"language-text\">run_once_before_01_install-packages-darwin.sh.tmpl</code> 과 같은 파일이 존재한다. .chezmoiscrips는 특정 시점에 실행할 bash 스크립트가 들어있는 파일임을 디렉토리 명을 통해 chezmoi에게 알려준다. 내부에 darwin이라는 디렉토리가 있는데 이는 맥 OS 환경에서만 실행될 것임을 chezmoi에게 알려준다.</p>\n<blockquote>\n<p>※ darwin?</p>\n<p>darwin이란, Apple이 만든 오픈 소스 유닉스 컴퓨터 운영체제다. macOS, IOS, watchOS, iPadOS 등의 운영체제들은 모두 Darwin을 기반으로 한다. 맥에서 터미널에 <code class=\"language-text\">uname</code> 을 입력하면 <code class=\"language-text\">Darwin</code> 이 뜨는 것을 볼 수 있을 것이다.</p>\n</blockquote>\n<p>그렇다면 <code class=\"language-text\">run_once_before_01_install-packages-darwin.sh.tmpl</code> 파일은 어떻게 해석해야 하나? chezmoi는 디렉토리 명 또는 파일 명을 통해 어떤 파일인지, 어떤 시점에 실행해야 하는지 알려준다.</p>\n<ul>\n<li><code class=\"language-text\">run</code> : 실행한다</li>\n<li><code class=\"language-text\">once</code> : 단 한 번만</li>\n<li><code class=\"language-text\">before</code> : 이전에</li>\n<li><code class=\"language-text\">01</code> : 순서 표기</li>\n<li><code class=\"language-text\">install-package</code> : 패키지를 설치하는 시점에</li>\n<li><code class=\"language-text\">darwin</code> : macOS에서</li>\n<li><code class=\"language-text\">sh</code> : 쉘 스크립트 파일 확장자</li>\n<li><code class=\"language-text\">tmpl</code> : chezmoi의 템플릿 파일</li>\n</ul>\n<p>붙여 의미를 설명하면 chezmoi의 초기 설정 단계에서 macOS 시스템에 필요한 패키지를 설치하는 스크립트로 사용되며, 첫 번째 실행 시에만 작동하고, 그 이후에는 실행되지 않도록 설계되어 있다.</p>\n<p>그럼 파일 내부를 한번 보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token shebang important\">#!/bin/bash</span>\n\n<span class=\"token comment\"># If Homebrew is not installed on the system, it will be installed here</span>\n<span class=\"token keyword\">if</span> <span class=\"token builtin class-name\">test</span> <span class=\"token operator\">!</span> <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">which</span> brew<span class=\"token variable\">)</span></span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n   <span class=\"token builtin class-name\">printf</span> <span class=\"token string\">'\\n\\n\\e[33mHomebrew not found. \\e[0mInstalling Homebrew...'</span>\n   /bin/bash <span class=\"token parameter variable\">-c</span> <span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-fsSL</span> https://raw.githubusercontent.com/Homebrew/install/master/install.sh<span class=\"token variable\">)</span></span>\"</span>\n<span class=\"token keyword\">else</span>\n  <span class=\"token builtin class-name\">printf</span> <span class=\"token string\">'\\n\\n\\e[0mHomebrew found. Continuing...'</span>\n<span class=\"token keyword\">fi</span>\n\n<span class=\"token comment\"># If Oh-my-zsh is not installed on the system, it will be installed here</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token operator\">!</span> <span class=\"token parameter variable\">-d</span> <span class=\"token environment constant\">$HOME</span>/.oh-my-zsh <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n  <span class=\"token builtin class-name\">printf</span> <span class=\"token string\">'\\n\\n\\e[33mOh-my-zsh not found. \\e[0mInstalling Oh-my-zsh...'</span>\n  <span class=\"token function\">sh</span> <span class=\"token parameter variable\">-c</span> <span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-fsSL</span> https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh<span class=\"token variable\">)</span></span>\"</span>\n<span class=\"token keyword\">else</span>\n  <span class=\"token builtin class-name\">printf</span> <span class=\"token string\">'\\n\\n\\e[0mOh-my-zsh found. Continuing...'</span>\n<span class=\"token keyword\">fi</span>\n\n<span class=\"token comment\"># Update homebrew packages and apps</span>\n<span class=\"token builtin class-name\">printf</span> <span class=\"token string\">'\\nInitiating Homebrew update...\\n'</span>\nbrew bundle --no-lock <span class=\"token parameter variable\">--file</span><span class=\"token operator\">=</span><span class=\"token string\">\"{{ .chezmoi.sourceDir }}/Brewfile\"</span>\n\n<span class=\"token comment\"># Install age dependency</span>\n<span class=\"token keyword\">if</span> <span class=\"token function\">which</span> age <span class=\"token operator\">></span> /dev/null<span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"'age' is already installed. Skip installation.\"</span>\n<span class=\"token keyword\">else</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"'age' is not installed. Start installation.\"</span>\n  brew <span class=\"token function\">install</span> age\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Successfully installed 'age'.\"</span>\n<span class=\"token keyword\">fi</span>\n\n<span class=\"token builtin class-name\">printf</span> <span class=\"token string\">'\\nbefore install package 01 Done!!\\n'</span></code></pre></div>\n<ol>\n<li>컴퓨터에 homebrew가 설치되어 있지 않다면 homebrew를 설치한다.</li>\n<li>컴퓨터에 .oh-my-zsh 파일이 없다면 oh-my-zsh를 설치한다.</li>\n<li>Brewfile에 명시된 프로그램을 설치한다(Brewfile은 밑에서 설명할 것임).</li>\n<li>age라는 패키지가 설치되어 있지 않다면 설치한다(age 패키지는 밑에서 설명할 것임).</li>\n</ol>\n<br/>\n<h3 id=\"Brewfile\" style=\"position:relative;\">Brewfile<a href=\"#Brewfile\" aria-label=\"Brewfile permalink\" class=\"auto-link after\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a></h3>\n<p>맥 사용 개발자라면 brew 명령어를 통해 macOS에서 여러 파일을 설치해 봤을 것이다. <code class=\"language-text\">$ brew list</code> 명령어를 터미널에서 입력하면 brew를 통해 설치된 파일 리스트를 볼 수 있다. brew list는 어떤 한 패키지에서 종속성을 가지고 있다면 종속성을 가진 패키지까지 모두 설치하고, 그 리스트 모두를 보여준다. 즉, brew install 명령어로 설치된 파일 외, 컴퓨터에 homebrew로 깔린 모든 파일을 보여준다.</p>\n<p>Brewfile이란, npm의 <code class=\"language-text\">package.json</code> 파일 또는 gradle의 <code class=\"language-text\">build.gradle</code> 파일과 같다. 즉, 종속성을 관리하는 파일이다. Brewfile을 까보면</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">tap \"homebrew/bundle\"\nbrew \"age\"\nbrew \"chezmoi\"\nbrew \"fnm\"\nbrew \"git\"\nbrew \"mas\"\nbrew \"php\"\nbrew \"pnpm\"\nbrew \"pure\"\nbrew \"zsh\"\nbrew \"zsh-autosuggestions\"\nbrew \"zsh-completions\"\nbrew \"zsh-syntax-highlighting\"\ncask \"alfred\"\ncask \"alt-tab\"\ncask \"appcleaner\"\ncask \"google-chrome\"\ncask \"iterm2\"\ncask \"itsycal\"\ncask \"notion\"\ncask \"openineditor-lite\"\ncask \"openinterminal-lite\"\ncask \"scroll-reverser\"\ncask \"slack\"\ncask \"sublime-text\"\ncask \"typora\"\ncask \"visual-studio-code\"\nmas \"Gifski\", id: 1351639930\nmas \"Hidden Bar\", id: 1452453066\nmas \"jandi\", id: 1551460285\nmas \"Keynote\", id: 409183694\nmas \"Magnet\", id: 441258766\nmas \"Memory Diag\", id: 748212890\nmas \"Numbers\", id: 409203825\nmas \"Pages\", id: 409201541\nmas \"PhotoScape X\", id: 929507092\nmas \"카카오톡\", id: 869223134</code></pre></div>\n<p>이렇게 생겼다. brew, cask가 붙은 녀석들은 실제 <code class=\"language-text\">brew install</code> 을 통해 설치한 어플리케이션을 나타낸다. 따라서, 어플리케이션을 이렇게 관리하고 싶다면 웬만하면 brew 명령어를 통해 설치하는 것을 추천한다. 또한 brew update, brew upgrade 명령어를 통해 손쉽게 패키지를 업데이트할 수 있으므로 매우 편리하다.</p>\n<blockquote>\n<p>※ 얼마 전 xz 패키지 이슈가 있었다.</p>\n<p>xz 패키지는 압축 유틸리티인데, 많은 패키지에서 종속성을 가지고 있는 패키지다. <a href=\"https://news.hada.io/topic?id=14122&#x26;utm_source=slack&#x26;utm_medium=bot&#x26;utm_campaign=T0101GW47QQ\" target=\"_blank\" rel=\"nofollow\">취약점이 발견되어 떠들썩했던 사건</a>이다. 이때, <code class=\"language-text\">$ brew update &amp;&amp; brew upgrade</code> 명령어로 패키지를 빠르게 업데이트해준다면 취약점을 조금 더 빠르게 방지할 수도 있다.</p>\n</blockquote>\n<p><code class=\"language-text\">run_once_before_01_install-packages-darwin.sh.tmpl</code> 스크립트에서 <code class=\"language-text\">brew bundle --no-lock --file=\"{{ .chezmoi.sourceDir }}/Brewfile\"</code> 명령어로 Brewfile에 명시된 종속성을 설치하고 있다.</p>\n<p>그렇다면 Brewfile을 생성하는 방법은 <code class=\"language-text\">brew bundle dump</code> 으로 생성할 수 있다. <a href=\"https://github.com/Homebrew/homebrew-bundle\" target=\"_blank\" rel=\"nofollow\">brew bundle</a>이란, Homebrew를 위한 번들러다. 이 과정을 <code class=\"language-text\">brew install ...</code> 명령어를 실행하면 자동으로 dump를 뜨게 할 수는 없을까? 아쉽지만 brew bundle에서 hook 기능은 존재하지 않는다. <a href=\"https://github.com/Homebrew/brew/issues/3933\" target=\"_blank\" rel=\"nofollow\">이 이슈</a>를 보자. 5건이나 install hook을 만들어 달라고 요청했지만 메인테이너가 이를 들어주지 않았다.</p>\n<p>어쨌든 Brewfile에 보면 brew로 <code class=\"language-text\">mas</code> 를 설치하고 있고, mas 뒤에 어플리케이션 명이 적힌 것을 볼 수 있다. 이는 맥의 App Store를 통해 설치한 어플리케이션을 말한다. brew로 설치하지 않고 App Store에서 설치한 파일을 명시해두었다. 이들 또한 Brewfile에 명시가 되며 알아서 설치된다. 자세한 사항은 <a href=\"https://github.com/mas-cli/mas\" target=\"_blank\" rel=\"nofollow\">mac-cli</a>를 통해 확인할 수 있다.</p>\n<br/>\n<h3 id=\"age-암호화-라이브러리\" style=\"position:relative;\">age (암호화 라이브러리)<a href=\"#age-%EC%95%94%ED%98%B8%ED%99%94-%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC\" aria-label=\"age 암호화 라이브러리 permalink\" class=\"auto-link after\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a></h3>\n<p>스크립트에서 <a href=\"https://github.com/FiloSottile/age\" target=\"_blank\" rel=\"nofollow\">age</a>를 설치하고 있다. Brewfile에도 명시가 되어있지만, Brewfile을 통해 어플리케이션들을 설치한 뒤 다시 age를 확인하는 이유는 age로 외부에 노출되어서는 안되는 특정 파일을 암호화하고 있으며 이를 chezmoi로 관리하고 있기 때문이다. 즉, age는 암호화, 복호화 라이브러리다.</p>\n<blockquote>\n<p>chezmoi의 암호화 라이브러리</p>\n<p>chezmoi의 암호화 연동 라이브러리는  age, gpg, rage가 있다. 각각 독립적인 암호화 라이브러리고, gpg가 가장 유명해 보였다. 하지만, gpg는 복잡하고 무거운 기술을 사용한다. 나는 간편하게 공개키 전략을 사용해 비밀키와 공개키 한 쌍으로 암호화, 복호화를 하기 원했고 쉽고 가볍기를 원했다.</p>\n</blockquote>\n<p>age를 brew로 설치했다면 아래 명령어로 먼저 공개키를 만든다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">$ age-keygen <span class=\"token parameter variable\">-o</span> <span class=\"token environment constant\">$HOME</span>/age-key.txt\nPublic key: age1ql3z7hjy54pw3hyww5ayyfg7zqgvc7w3j2elw8zmrj2kg5sfn9aqmcac8p</code></pre></div>\n<p>터미널에 즉시 공개키를 알려준다. 그리고 age-key.txt가 생성되는데 이는 비밀키이다. 외부에 노출되면 안 된다. age-key.txt의 형태는 아래와 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># created: 2024-04-14T13:15:05+09:00\n# public key: age1ql3z7hjy54pw3hyww5ayyfg7zqgvc7w3j2elw8zmrj2kg5sfn9aqmcac8p\nAGE-SECRET-KEY-...</code></pre></div>\n<p>공개키도 주석 처리되어 함께 적혀있다.</p>\n<p>그러면, 위에서 봤던 chezmoi 설정 파일인 <code class=\"language-text\">~/.config/chezmoi/chezmoi.toml</code> 에서도 chezmoi에게 age를 통해 암호화하겠다고 명시해 주어야 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"toml\"><pre class=\"language-toml\"><code class=\"language-toml\">~/<span class=\"token punctuation\">.</span>config/chezmoi/chezmoi<span class=\"token punctuation\">.</span>toml\n\n<span class=\"token key property\">encryption</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"age\"</span>\n<span class=\"token punctuation\">[</span><span class=\"token table class-name\">age</span><span class=\"token punctuation\">]</span>\n    <span class=\"token key property\">identity</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"/home/pozafly/age-key.txt\"</span>\n    <span class=\"token key property\">recipient</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"age1ql3z7hjy54pw3hyww5ayyfg7zqgvc7w3j2elw8zmrj2kg5sfn9aqmcac8p\"</span></code></pre></div>\n<ul>\n<li><code class=\"language-text\">identity</code> : 앞으로 암호화하고 복호화 할 비밀키의 경로.</li>\n<li><code class=\"language-text\">recipient</code> : 공개키</li>\n</ul>\n<p>이러면 이제 <code class=\"language-text\">$ chezmoi add --encrypt [파일명]</code> 을 통해 암호화할 파일을 chezmoi에게 알려주어 관리할 수 있다. 암호화 한 파일은 아래와 같이 생겼다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">-----BEGIN AGE ENCRYPTED FILE-----\nYWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBGNHcyMW41dXFaVjlEVGV4\nY3MxT0RTT0hxUUw4ekN6eW1JYTMxR2RaWEdRCnZPek9WVnp4R0RVQ0FUemhYQW85\nNVNkVnJud0ttQ2Z4L1ZaYkFYQzBXam8KLS0tIHVrdlZJWmYzVzJhTGxzWE1OUUhE\nM08zUDFWRW9Bb1FiRVpTVEFxazlwc0UK9kfzYOoKK+75/heyQp2x4uzkH8y0w7CA\nqJYb4g+muRjhrRL29YpbTNIZy+U/RBa+3qAMP47+DX36TtFj0pQCJSLpKDOqSrpz\nVA3Jfriu01udMoTR5dWEKswp\n-----END AGE ENCRYPTED FILE-----</code></pre></div>\n<p>AWS pem 키나, GitHub의 ssh 키 등을 <code class=\"language-text\">--encrypt</code> 옵션을 통해 암호화할 수 있다. 이렇게 암호화된 파일은 GitHub의 public repository에 올라가도 상관없다. 비밀키는 내가 갖고 있기 때문이다. 따라서 비밀키를 안전하게 들고 있는 것이 중요하다.</p>\n<p>mac을 백업하기 전 반드시 비밀키를 옮겨야 하는데 나는 iCloud Drive 깊숙한 곳에 미리 저장해두었다. 다시 복호화 해서 실제로 필요한 경우에는 <code class=\"language-text\">chezmoi apply</code> 명령어를 사용하면 저장했던 경로로 복호화 된 파일이 나타날 것이다.</p>\n<p>ssh key뿐 아니라 일반 text 파일도 가능하니, 암호화를 원한다면 age, chezmoi를 이용해 보자.</p>\n<br/>\n<h3 id=\"macos\" style=\"position:relative;\">.macos<a href=\"#macos\" aria-label=\"macos permalink\" class=\"auto-link after\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a></h3>\n<p>3번째 스크립트 파일에는 아래와 같은 명령어도 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token function\">sh</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> .chezmoi.sourceDir <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>/.macos</code></pre></div>\n<p><code class=\"language-text\">.macos</code> 쉘 스크립트를 실행하라는 명령어다. 아래와 같이 생겼다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token shebang important\">#!/usr/bin/env bash</span>\n\nosascript <span class=\"token parameter variable\">-e</span> <span class=\"token string\">'tell application \"System Preferences\" to quit'</span>\n\n<span class=\"token comment\"># 독 설정</span>\n<span class=\"token comment\"># 독 아이콘 크기 45</span>\ndefaults <span class=\"token function\">write</span> com.apple.dock <span class=\"token string\">\"tilesize\"</span> <span class=\"token parameter variable\">-int</span> <span class=\"token string\">\"45\"</span>\n\n<span class=\"token comment\"># Finder 설정</span>\n<span class=\"token comment\"># 파일 확장자 모두 표시</span>\ndefaults <span class=\"token function\">write</span> NSGlobalDomain <span class=\"token string\">\"AppleShowAllExtensions\"</span> <span class=\"token parameter variable\">-bool</span> <span class=\"token string\">\"true\"</span>\n<span class=\"token comment\"># 하단 위치 표시줄 표시</span>\ndefaults <span class=\"token function\">write</span> com.apple.finder <span class=\"token string\">\"ShowPathbar\"</span> <span class=\"token parameter variable\">-bool</span> <span class=\"token string\">\"true\"</span>\n// <span class=\"token punctuation\">..</span>.\n\n<span class=\"token comment\"># 트랙패트 설정</span>\n<span class=\"token comment\"># 트랙패드 스피드 (가장 빠르게)</span>\ndefaults <span class=\"token function\">write</span> <span class=\"token parameter variable\">-g</span> com.apple.trackpad.scaling <span class=\"token number\">3</span>\n// <span class=\"token punctuation\">..</span>.\n\n<span class=\"token comment\"># 키보드 설정</span>\n<span class=\"token comment\"># 자동으로 대문자 시작안함</span>\ndefaults <span class=\"token function\">write</span> NSGlobalDomain NSAutomaticCapitalizationEnabled <span class=\"token parameter variable\">-bool</span> <span class=\"token boolean\">false</span>\n<span class=\"token comment\"># 자동 수정 안함</span>\ndefaults <span class=\"token function\">write</span> NSGlobalDomain NSAutomaticSpellingCorrectionEnabled <span class=\"token parameter variable\">-bool</span> <span class=\"token boolean\">false</span>\n// <span class=\"token punctuation\">..</span>.\n\n<span class=\"token comment\"># 메뉴바</span>\n<span class=\"token comment\"># 배터리 잔량 표시</span>\ndefaults <span class=\"token function\">write</span> com.apple.menuextra.battery ShowPercent <span class=\"token parameter variable\">-int</span> <span class=\"token number\">1</span>\n<span class=\"token comment\"># spotlight 메뉴바에서 감추기</span>\ndefaults <span class=\"token parameter variable\">-currentHost</span> <span class=\"token function\">write</span> com.apple.Spotlight MenuItemHidden <span class=\"token parameter variable\">-int</span> <span class=\"token number\">1</span>\n// <span class=\"token punctuation\">..</span>.\n\n<span class=\"token function\">killall</span> Dock\n<span class=\"token function\">killall</span> Finder\n<span class=\"token function\">killall</span> SystemUIServer\n<span class=\"token function\">killall</span> ControlCenter</code></pre></div>\n<p>위의 내용은 간추린 버전이고, <a href=\"https://github.com/pozafly/dotfiles/blob/main/.macos\" target=\"_blank\" rel=\"nofollow\">풀버전은 이곳</a>이다.</p>\n<p>osascript는 <a href=\"https://pozafly.github.io/tools/alfred-korean-english-converter/\" target=\"_blank\" rel=\"nofollow\">alfred의 워크플로우를 개발</a>할 때 사용해 봤었다. apple script이다. <code class=\"language-text\">defaults</code> 로 시작하는 명령어는 맥의 설정을 cli로 조작할 수 있다. 맥을 처음부터 세팅하려면 무척이나 귀찮은 작업이다.</p>\n<p>defaults 명령어를 모아둔 <a href=\"https://macos-defaults.com/\" target=\"_blank\" rel=\"nofollow\">macOS defaults</a>라는 곳을 많이 참고했다. 하지만 꼭 적용하고 싶지만 없는 명령어도 있으니 참고해야 한다. 더 많은 defaults 관련 DB는 <a href=\"https://www.real-world-systems.com/docs/defaults.1.html\" target=\"_blank\" rel=\"nofollow\">real-world-systems</a>에서 찾아볼 수 있을 것이다.</p>\n<p>참고로 마지막 줄의 <code class=\"language-text\">killall</code> 명령어는 defaults로 맥의 설정을 변경시켰지만 아직 적용되지 않은 구간을 재부팅 시켜줘서 적용할 수 있게 만들어준다.</p>\n<br/>\n<h3 id=\"plist-관리\" style=\"position:relative;\">plist 관리<a href=\"#plist-%EA%B4%80%EB%A6%AC\" aria-label=\"plist 관리 permalink\" class=\"auto-link after\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a></h3>\n<p>마지막으로 plist에 대해 알아보자. 어플리케이션을 이용하면 자기 입맛대로 설정을 하기 마련이다. 대표적으로 iTerms2을 다시 설치하면 이전 설정 그대로 쓰기 위해 다시 세팅하는 과정을 반드시 거친다.</p>\n<p>plist란, Property List로, 주로 macOS와 iOS 시스템에서 사용되는 설정 파일 형식이다. 애플리케이션의 설정, 사용자 환경 설정, 시스템 구성 정보 등을 저장하는 데 사용된다. <code class=\"language-text\">plist</code> 파일은 바이너리 파일로 작성되어 있는데, 일련의 과정을 거치면 XML 형식으로 볼 수 있다.</p>\n<p>iTerms2의 plist의 형태를 한번 보자.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 220.2%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAsCAYAAABloJjNAAAACXBIWXMAABYlAAAWJQFJUiTwAAAEjklEQVR42qXX11JcRxAG4H0J24gogkgip2XJGQRC5AxFlaDkW/sFeCbf+NqPNuabql6fDUhV1kXvzJlz5u+/48yW7peW059n5bTyWE6z65X0x+/f0pcvh2n/4CAdHR2l4+Pj1+cv6fDwMIv56elpls+fP6f5+fks5XI5zc3NpdLi9ExanZ9MU4vjabZSTlvr62llZSXL6upqWn99Xl5ezs/GqampND09nceJiYk0MjKSBdjMzEwqXV6ep3/+/ut1w0a6urxMZ2dn6e7uLl2+zoPF3t5enn/69Cn19fWl3t7eLOYfPnzI4/b2dlZeWlteSi8vL2mqXEkzr5onJyez9hh93NPTkwGM/f39TSUUlPz88utvqbu7O7W3tzdIZ2dnjXR0dDQV72CUBgYG0sePH6tMgk29xLvvSWYIbH9/Pzt6eHg4O5gJfBPmxJzywcHBpuIdKUHe2NjIoJwvLcbHx7OMjY3lUTTNMWBWPWvroTwDitDJyUk6Pz/P0RVpEb26usp5GBGvVCppd3c3p5D51tZWWltbyykTVpTQvb+/TxcXF3njzc1NHil4enqqgnovgbHFmmsiG0ZHR/8DZDc2tG1ubma2ZGdnJ5vPDRLcO2azyGZSzMWqyX4s0r60tJRHfiLv37/PAsRzceNbUvLR0NBQznL+EPVi1Orlh4AAOBgYXzDje4A/kgzIh9FROB3r/w0omQ9eWxXfzc7OZpaRxD8FyIdMj0r5KUCpIe+w9FwstWLpFaNc9LN5TR5qjMAsAuRXTEXfXP5Zj6S21tXVVU0to+99k9uXpFYRSk5VELWtYgTM89evX6tHgPJbXFzMlYIIhhSpmswwuq3urE5t4FflZqOEVzkYYhPNQIqxCktrmaEFHyt+YwjWgL1vaWlJ7969S62trVXRfDXWaMQUVAF1CyywjXaFPuHfou+kFZ/yYXR0wOH/XMte0MoE0SYUOBqNzF5YWMiKpZbTDzgCzG0ApM0iP0Qw4rSLrsO3FEh+rAMciRqT6wGjsQJT3wLmwMcUgKg6LoBjxTJm1zAs0hYcTRYzbAgggMymhMnhBvvb2tpqGVogGGJ2fX2djwO+ZK5n5w5mTA2W5gKGUA1DL2S6F5joznEVMWKCUVxB6v0oOHxZBVRiFgDSDtCH/BSJHjVuc7T/yMkGk/nPoo9Vx+PjY3p+fs5ye3ubHh4e8prox8UJS8GIgDZNG1pFWWRtZBaRzHFlk+zmsadpYseiOrUJgMpgOj9G8+VLB1bcZ1gVJdjAkAD2kbpVXtEQzAWkeF3h92hrQJuWXrPbFwUahRYWLsAUa1HmggZAmpiETTQG5hevadFMI3W4xjvWNJis0GmO6230vaLTsRA0fZNv5Ws0iYa0EQSAceuqBwxQgECUH5OjMQCsYWjCFMDkLUARBhgVZOTfOMCqgHG480doLIIVGQJgdhwNclYMagCjO0eO1d+ri3kaOSrCGFLiiKj6ULnRQCNQm6OdFSWCwuQoP7nYUHoA+Q9gdA95Zr3+Aq+9UR6+Lv7liAO/enPgG6PW7+O3rhpx2SzeLoo3iH8BOphYFIzaQ5UAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"iTerms2-plist\"\n        title=\"\"\n        src=\"/static/509c6ae8590189777e11085f37412952/78d47/iTerms2-plist.png\"\n        srcset=\"/static/509c6ae8590189777e11085f37412952/0eb09/iTerms2-plist.png 500w,\n/static/509c6ae8590189777e11085f37412952/78d47/iTerms2-plist.png 800w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>이렇게 생겼다. plist는 맥에서 주로 ~/Library/Preperences 경로에 있다. iTerm2는 <code class=\"language-text\">com.googlecode.iterm2.plist</code> 라는 이름을 가지고 있다. 이 설정 파일을 chezmoi로부터 복원하면 어플리케이션 설정이 그대로 복원된다.</p>\n<p>하지만 맥 설정인 <code class=\"language-text\">com.apple...</code> 로 시작하는 설정 파일은 복원했을 경우 그대로 적용이 되지 않는 경우도 있다. 나 같은 경우 단축키 활용을 많이 하는 편인데 <code class=\"language-text\">com.apple.symbolichotkeys.plist</code> 를 그대로 복원해도 단축키가 돌아오지 않았다. 구글링한 결과 애플 측에서 UI를 통해 명시적으로 설정하는 것을 정책으로 삼아두었다는 이야기가 있다.</p>\n<p>단, plist는 <code class=\"language-text\">chezmoi diff</code> 명령어로 변경된 것을 찾을 때, diff 결과에 무척이나 자주 뜰 것이다. 어플리케이션의 마지막 창 위치를 가지고 있는 plist도 있고, update 체크 날짜를 plist에서 관리하는 어플리케이션도 있기 때문이다.</p>\n<p>나 같은 경우는 <a href=\"https://www.chezmoi.io/user-guide/manage-different-types-of-file/#manage-part-but-not-all-of-a-file\" target=\"_blank\" rel=\"nofollow\">chezmoi - Handle configuration files which are externally modified</a>을 보고 여러 번 따라 해봐도 제대로 적용되지가 않았다.</p>\n<p>그래서 plist를 ignore 처리해두고 쉘 스크립트로 원할 때 백업(로컬에 저장된 plist를 chezmoi 관리 파일에 덮어씀) 하고, run_once_before… 스크립트로 맨 처음 mac에 설치할 때 복원하는 방법을 선택했다.</p>\n<h4 id=\"백업-스크립트\" style=\"position:relative;\">백업 스크립트<a href=\"#%EB%B0%B1%EC%97%85-%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8\" aria-label=\"백업 스크립트 permalink\" class=\"auto-link after\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a></h4>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token shebang important\">#!/bin/bash</span>\n\n<span class=\"token comment\"># plist 관리 (백업)</span>\n\n<span class=\"token comment\"># .chezmoiignore 파일의 내용을 백업합니다.</span>\n<span class=\"token function\">cp</span> ~/.local/share/chezmoi/.chezmoiignore ~/.local/share/chezmoi/.chezmoiignore.backup\n\n<span class=\"token comment\"># .chezmoiignore 파일의 내용을 비웁니다.</span>\n<span class=\"token operator\">></span> ~/.local/share/chezmoi/.chezmoiignore\n\n<span class=\"token comment\"># /private_Library/private_Preferences 에 존재하는 plist 파일 이름을 가져와서</span>\n<span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">file</span> <span class=\"token keyword\">in</span> ~/.local/share/chezmoi/private_Library/private_Preferences/*.plist<span class=\"token punctuation\">;</span> <span class=\"token keyword\">do</span>\n    <span class=\"token comment\"># 파일이 심볼릭 링크인지 확인하고, 심볼릭 링크라면 건너뜀</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token parameter variable\">-L</span> <span class=\"token string\">\"<span class=\"token variable\">$file</span>\"</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n        <span class=\"token builtin class-name\">continue</span>\n    <span class=\"token keyword\">fi</span>\n\n    <span class=\"token comment\"># 파일 이름 추출</span>\n    <span class=\"token assign-left variable\">filename</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">basename</span> <span class=\"token string\">\"<span class=\"token variable\">$file</span>\"</span><span class=\"token variable\">)</span></span>\n\n    <span class=\"token assign-left variable\">new_filename</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"<span class=\"token variable\">$filename</span>\"</span> <span class=\"token operator\">|</span> <span class=\"token function\">sed</span> <span class=\"token string\">'s/^private_//'</span><span class=\"token variable\">)</span></span>\n    <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'new_filename'</span> <span class=\"token variable\">$new_filename</span>\n\n    <span class=\"token comment\"># 파일을 /Library/Preferences로 복사</span>\n    chezmoi <span class=\"token function\">add</span> <span class=\"token string\">\"~/Library/Preferences/<span class=\"token variable\">$new_filename</span>\"</span>\n<span class=\"token keyword\">done</span>\n\n<span class=\"token comment\"># .chezmoiignore 파일을 원래 상태로 되돌립니다.</span>\n<span class=\"token function\">cp</span> ~/.local/share/chezmoi/.chezmoiignore.backup ~/.local/share/chezmoi/.chezmoiignore\n\n<span class=\"token comment\"># 백업 파일을 삭제합니다.</span>\n<span class=\"token function\">rm</span> ~/.local/share/chezmoi/.chezmoiignore.backup\n\n<span class=\"token builtin class-name\">printf</span> <span class=\"token string\">'\\nplist backup Done!!\\n'</span></code></pre></div>\n<p>.chezmoiignore 파일에 경로를 등록해두면 경로 하위의 파일들은 chezmoi diff, add, apply 등의 명령어에 적용되지 않기 때문에 잠시 ignore 파일을 <code class=\"language-text\">.chezmoiignore.backup</code> 파일로 변경시켜 둔 뒤 chezmoi add 명령어를 통해 chezmoi에 등록하고 다시 <code class=\"language-text\">.chezmoiignore.backup</code> 파일을 <code class=\"language-text\">.chezmoiignore</code> 로 원상복구 시킨다.</p>\n<h4 id=\"복원-스크립트\" style=\"position:relative;\">복원 스크립트<a href=\"#%EB%B3%B5%EC%9B%90-%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8\" aria-label=\"복원 스크립트 permalink\" class=\"auto-link after\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a></h4>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token shebang important\">#!/bin/bash</span>\n\n<span class=\"token comment\"># plist 관리</span>\n\n<span class=\"token comment\"># /private_Library/private_Preferences 에 존재하는 plist 파일 이름을 가져와서</span>\n<span class=\"token comment\"># /Library/Preferences로 덮어씀(복사).</span>\n<span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">file</span> <span class=\"token keyword\">in</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> .chezmoi.sourceDir <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>/private_Library/private_Preferences/*.plist<span class=\"token punctuation\">;</span> <span class=\"token keyword\">do</span>\n    <span class=\"token comment\"># 파일이 심볼릭 링크인지 확인하고, 심볼릭 링크라면 건너뜀</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token parameter variable\">-L</span> <span class=\"token string\">\"<span class=\"token variable\">$file</span>\"</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n        <span class=\"token builtin class-name\">continue</span>\n    <span class=\"token keyword\">fi</span>\n\n    <span class=\"token comment\"># 파일 이름 추출</span>\n    <span class=\"token assign-left variable\">filename</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">basename</span> <span class=\"token string\">\"<span class=\"token variable\">$file</span>\"</span><span class=\"token variable\">)</span></span>\n\n    <span class=\"token assign-left variable\">new_filename</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"<span class=\"token variable\">$filename</span>\"</span> <span class=\"token operator\">|</span> <span class=\"token function\">sed</span> <span class=\"token string\">'s/^private_//'</span><span class=\"token variable\">)</span></span>\n    <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'new_filename'</span> <span class=\"token variable\">$new_filename</span>\n\n    <span class=\"token comment\"># 파일을 /Library/Preferences로 복사</span>\n    <span class=\"token function\">cp</span> <span class=\"token string\">\"<span class=\"token variable\">$file</span>\"</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> .chezmoi.homeDir <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token string\">\"/Library/Preferences/<span class=\"token variable\">$new_filename</span>\"</span>\n<span class=\"token keyword\">done</span>\n\n<span class=\"token builtin class-name\">printf</span> <span class=\"token string\">'\\nbefore install package 02 Done!!\\n'</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 594px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 97.60000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAADUUlEQVR42m2U63LaSBCF/RRbW0kcGxsHMKALkpCEJJDQhfvVBK/LtVu17/8QJ30aQ0IlP0YzGql6vj59em5q357R6FiIyznatof+YAQ/ThEmYzRln+sgyeCGCeqtLu7qTdw/tf44+O2m3uqgafQweXmD3R8gySpEaYFRMdUgg1GOOC0RjQoN+PdtDV9qT/h093gZn+/ruH34dgrIR02GF4+xfP0PXaEcDMcaOJS51490nVVzJOMK5Xyt+1yP8imy8rRv9HwNekPU2lMTdjjEaLaG6QTwZB0kqcyJUpI2lLSdINb0DcfXbBhwXC3gDYZodm18fWyQsIXHZhv+MEe5OcLxY6TlDPl0qanGWYnJcotqscF4stB3rp9NB399vrukzWCXlEnZMl1EVS6ne0rpBJFStERf0w1guaHOpCMpiajpORDnD8Kmbny6raN4N+FPTWT5UlKZY7n7rgWibrP1XudiusJ0tVNNz/+QmDrSMZeAXx+a8CcWjMAQgQN0bBc9P0K319dBurblStH6Sss106bGlif0XqDEp4BSlC/3DeRvDvzKxrhYqYar/VEqXCKVovCdGq73r7pPfUlazTfYHP7Rb5ThQnhbayBcCOGgC7MXouv0fyPsiKW4Z3sDHSRz+I/sc/3QaP8kvBXC7NiDV9hI0qlYZYLZan8x9nA8Ud0q0XGxecFcRiz6zkXbSP6hvm2R4CpgsrNhxQZ6XiIkA/jRSCutJFJZNzj5kr4zhJoz6XnoLz78mXK8teFkFoIol27IlOjcy+FHP7OarDz30mKmh+Win+X+oSjZ0UEvNTUg02AX0OgMxLRJxJlBaRVmkEkT9GXmIY/NzjWhV5owI0OCiBX6oVIwVQ4Wg6ZmUPY69WuLtU7kQxkxnp6Na8Li3ZWiWBiNF2qDxfaAQFKO01zSWmpPswjFh4XOFwVbld946BVhvzLFNga6lq8WoYHVJlIYFoGE58E9WknbUnTke7NjXxNW/7oS1NLWW+4OKGYrschB9eIo5TZai6lZrM3Lq9hqp5TMZHs43afXhKJhp99Fo22fCOVk2oItdmm9X945c4/Ejbapl8wV4fR/D+FMWq8UkpejXggkYYtRu+lyh+33N70g9sd3JSM5LwhqStv8APG9k2gNIMZUAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"managed-plists\"\n        title=\"\"\n        src=\"/static/1ce2a4094d83fa718f208297c6f5a232/d32a3/managed-plists.png\"\n        srcset=\"/static/1ce2a4094d83fa718f208297c6f5a232/0eb09/managed-plists.png 500w,\n/static/1ce2a4094d83fa718f208297c6f5a232/d32a3/managed-plists.png 594w\"\n        sizes=\"(max-width: 594px) 100vw, 594px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>이런 방식으로 chezmoi source 디렉토리에 저장된다. 하지만 자세히 보면 <code class=\"language-text\">private_</code> 라는 접두사가 붙어있는 것을 볼 수 있는데, 해당 파일이 민감한 정보를 포함하고 있어 보안을 강화하기 위한 경우에 자동으로 붙는다.</p>\n<p>하지만 이 파일들은 <code class=\"language-text\">/Library/Preferences</code> 경로에 원래 plist로 존재할 때는 <code class=\"language-text\">private_</code> 접두사가 붙어버리면 제대로 적용이 되지 않기 때문에 없애주는 것도 스크립트에 포함되어 있다.</p>\n<br/>\n<h2 id=\"마치며\" style=\"position:relative;\">마치며<a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"마치며 permalink\" class=\"auto-link after\"><svg viewBox=\"0 0 16 16\" width=\"16\" height=\"16\"><path fill-rule=\"evenodd\" d=\"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z\"></path></svg></a></h2>\n<p><code class=\"language-text\">rm -rf ~</code> 라는 명령어로 시작해 plist까지 맥 운영체제가 어떤 방식으로 설정 파일들을 관리하고 있는지 알아봤다. 맥 OS가 darwin 운영체제 위에서 돌아가는 것과, 모든 어플리케이션을 설정할 때 설정값들을 컴퓨터의 파일에 저장해두고 구동 시 설정 파일을 읽어 적용하는 사실을 알게 되었다.</p>\n<p>프로그램의 매직은 사실 뒤에서 돌아가고 있는 것이 이렇게 많다는 것을 알 수 있는 시간이었다. 그리고 컴퓨터는 단지 연산과 I/O 작업만 하는 기계라는 생각도 동시에 든다.</p>\n<p>그리고 사실 chezmoi의 공식 문서는 생각보다 읽기 어려웠다. 삽질을 많이 했고 템플릿에 적응하기도 쉽지 않았다. 특히 plist를 정석대로 관리하고, chezmoi diff 명령어에 걸리지 않게 하고 싶어 무척이나 많은 시간을 날렸다. 결국 우회한 방법을 사용하긴 했지만.. 물론 가볍게 사용하려면 add, apply 정도만 알아도 무난하게 사용할 수 있을 것이다.</p>\n<p>chezmoi를 사용하면서 회사에서 신규 입사자가 오면 chezmoi를 통해 필수 어플리케이션을 설치하고, 설정해 주면 시간을 아끼고 체크해야 하는 시간을 줄일 수 있겠다는 생각을 했다. 특히 Brewfile을 잘 이용하면 좋겠다고 생각했다.</p>\n<br/>\n<blockquote>\n<p>참고</p>\n<ul>\n<li><a href=\"https://www.chezmoi.io/\" target=\"_blank\" rel=\"nofollow\">chezmoi.io</a></li>\n<li><a href=\"https://blog.appkr.dev/work-n-play/dotfiles/\" target=\"_blank\" rel=\"nofollow\">dotfiles 만들기</a></li>\n<li><a href=\"https://songkg7.github.io/posts/chezmoi-awesome-dotfile-manager/\" target=\"_blank\" rel=\"nofollow\">chezmoi, 세상 편리하게 dotfile 관리하기</a></li>\n<li><a href=\"https://zacwe.st/2021/09/14/managing-preference-plists-under-chezmoi/\" target=\"_blank\" rel=\"nofollow\">Managing preference plists under Chezmoi</a></li>\n<li><a href=\"https://github.com/felipecrs/dotfiles\" target=\"_blank\" rel=\"nofollow\">felipecrs/dotfiles</a></li>\n<li><a href=\"https://github.com/mathiasbynens/dotfiles/blob/main/.macos\" target=\"_blank\" rel=\"nofollow\">mathiasbynens/dotfiles - .macos</a></li>\n<li><a href=\"https://blog.lazkani.io/posts/dotfiles-with-chezmoi/\" target=\"_blank\" rel=\"nofollow\">Dotfiles with Chezmoi</a></li>\n</ul>\n</blockquote>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"$ rm -rf ~"}]},{"type":"text","value":" 가 얼마나 무서운 명령어인지 아는가? 리눅스 또는 맥 OS에서 사용자의 홈 디렉토리를 삭제하는 명령어다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"얼마 전 "},{"type":"element","tagName":"a","properties":{"href":"https://www.warp.dev/","target":"_blank","rel":["nofollow"]},"children":[{"type":"text","value":"warp"}]},{"type":"text","value":"라는 터미널이 좋아 보여서 맥북에 설치하고 사용해 봤다. 터미널 클라이언트로 iTerm2를 사용한 지 오래되기도 했고 warp은 AI로 명령어를 추천해 주기도 한다고 해서 구미가 당겨 사용해 보고 있었다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"튜토리얼을 따라 해보다가 잘못해서 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"~"}]},{"type":"text","value":" 라는 폴더를 home에 만들게 되었다. "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"~/~"}]},{"type":"text","value":" 경로가 생성된 것이다. 홈 경로에서 작업하고 있었고, 쓸모없는 디렉토리가 만들어졌으니 별생각 없이 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"rm -rf ~"}]},{"type":"text","value":" 라는 명령어를 쳤다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"rm -rf"}]},{"type":"text","value":" 명령어는 제거하라("},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":")는 명령어에 재귀적으로("},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"-rf"}]},{"type":"text","value":") 라는 옵션이 붙은 명령어이다. 따라서 사용자의 홈 디렉터리와 그 하위에 있는 모든 파일과 디렉터리를 강제로 삭제하게 된다. 하지만 아무것도 들어있지 않은 디렉토리를 제거하기에는 생각보다 시간이 오래걸렸고, 어떤 권한까지 물어보는 것이었다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"갸우뚱하다가 실수한 것을 깨닫게 되었다. 내가 home 디렉토리를 지금 날리고 있구나. 얼른 명령어를 취소시켰다. 하지만 이미 컴퓨터의 대부분의 자료가 날아간 상태였다. 컴퓨터를 재부팅했더니 맥북을 처음 샀을 때 한껏 들뜨게 만들었던 맥 초기 화면이 나를 기다리고 있었다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"chezmoi","style":"position:relative;"},"children":[{"type":"text","value":"chezmoi"},{"type":"element","tagName":"a","properties":{"href":"#chezmoi","ariaLabel":"chezmoi permalink","className":["auto-link","after"]},"children":[{"type":"element","tagName":"svg","properties":{"viewBox":"0 0 16 16","width":"16","height":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이전에 dotfiles의 존재를 어렴풋이 알고 있었다. dotfiles는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":" 으로 시작하는 숨김 처리된 파일이다. "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":".git"}]},{"type":"text","value":" 같은 파일은 맥의 Finder를 통해 디렉토리를 살펴보면 보이지 않는 숨김 처리된 파일이다. dotfiles 중에서도 어떤 프로그램의 설정값이나, 컴퓨터 전체의 설정값을 저장하고 있는 파일을 말한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"홈 디렉토리를 잃거나, 맥을 새로 장만했을 때 내가 자주 사용하는 어플리케이션, 설정값들을 복원할 수 있다면 빠르게 개발 환경을 만들 수 있다. 즉, dotfiles를 잘 관리해두면 처음부터 컴퓨터의 세팅을 하지 않아도 된다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://www.chezmoi.io/","target":"_blank","rel":["nofollow"]},"children":[{"type":"text","value":"chezmoi"}]},{"type":"text","value":"라는 툴은 dotfiles를 관리해 주는 툴이다. 기본적으로 Command Line Interface(CLI)를 통해 직접 명령을 내리며 내가 관리하고 싶은 dotfiles를 지정해 주면 스냅샷을 떠서 그대로 관리해 준다. 그리고 맥, 윈도우, 리눅스 운영체제 별로 실행해야 하는 스크립트나 설정 파일을 따로 지정할 수 있고 운영 체제별로 dotfiles를 관리할 수 있다. 다른 사람에게 공개되지 않아야 하는 비밀 키도 관리할 수 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"chezmoi는 Go라는 프로그래밍 언어로 작성되었기 때문에 무척 빠르다. chezmoi를 사용하면서 알게 된 새로운 몇몇 툴과 가벼운 지식을 이번 글에 기록해 보고자 한다. 아래는 전부 맥 OS 기준으로 작성한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"먼저 설치부터 해보자. homebrew를 통해 설치할 수 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sh"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"$ brew "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"install"}]},{"type":"text","value":" chezmoi"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"기본-명령어","style":"position:relative;"},"children":[{"type":"text","value":"기본 명령어"},{"type":"element","tagName":"a","properties":{"href":"#%EA%B8%B0%EB%B3%B8-%EB%AA%85%EB%A0%B9%EC%96%B4","ariaLabel":"기본 명령어 permalink","className":["auto-link","after"]},"children":[{"type":"element","tagName":"svg","properties":{"viewBox":"0 0 16 16","width":"16","height":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"init","style":"position:relative;"},"children":[{"type":"text","value":"init"},{"type":"element","tagName":"a","properties":{"href":"#init","ariaLabel":"init permalink","className":["auto-link","after"]},"children":[{"type":"element","tagName":"svg","properties":{"viewBox":"0 0 16 16","width":"16","height":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sh"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"$ chezmoi init"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"~/.local/share/chezmoi"}]},{"type":"text","value":" 경로가 생성되고, git 로컬 저장소가 생성된다. 이를 chezmoi에서는 소스 디렉토리(source directory)라고 부른다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"※ 소스 디렉토리"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"소스 디렉토리는 마치 git의 staging area와 비슷하다. chezmoi add 명령어로 본을 뜬 녀석은 소스 디렉토리에 저장되고 후에 알아볼 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"chezmoi apply"}]},{"type":"text","value":" 를 통해 실제 파일에 저장된다. 참고로 git add를 통해 git에게 관리되는 파일은 staging area에 저장되게 되는데, 이는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":".git/index"}]},{"type":"text","value":" 에 바이너리 파일로 저장된다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"소스 디렉토리로 이동하는 명령어는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"$ chezmoi cd"}]},{"type":"text","value":" 다."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"add","style":"position:relative;"},"children":[{"type":"text","value":"add"},{"type":"element","tagName":"a","properties":{"href":"#add","ariaLabel":"add permalink","className":["auto-link","after"]},"children":[{"type":"element","tagName":"svg","properties":{"viewBox":"0 0 16 16","width":"16","height":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sh"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"$ chezmoi "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"add"}]},{"type":"text","value":" ~/.zshrc"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"zsh를 사용하고 있다면 홈디렉토리에 .zshrc 파일이 있을 것이다. 이는 zsh 설정 파일이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"# homebrew path\nexport PATH=/opt/homebrew/bin:$PATH\n\nplugins=(\n  git\n  encode64\n)\n\n# oh-my-zsh path, init\nexport ZSH=\"$HOME/.oh-my-zsh\"\nsource $ZSH/oh-my-zsh.sh\n\n# autosuggestions, syntax-highlighting\nsource $(brew --prefix)/share/zsh-autosuggestions/zsh-autosuggestions.zsh\nsource $(brew --prefix)/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh\n\n# pure theme\nfpath+=(\"$(brew --prefix)/share/zsh/site-functions\")\nautoload -U promptinit; promptinit\nprompt pure\n\n# fnm\neval \"$(fnm env --use-on-cd)\""}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"보통은 이렇게 생겼다. chezmoi add 명령어로 이 파일을 관리하겠다고 하면 소스 디렉토리("},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"~/.local/share/chezmoi"}]},{"type":"text","value":")에 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"dot_zshrc"}]},{"type":"text","value":" 파일이 생성된다. 여기서 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"dot_"}]},{"type":"text","value":" 는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":" 을 의미한다. 즉 파일 명이나 디렉토리 명에서 파일의 이름을 유추할 수 있다. 이는 chezmoi의 철학이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"현재 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":".zshrc"}]},{"type":"text","value":" 파일을 스냅샷을 떠 관리를 시작했다. 모든 내용은 복사되어 소스 디렉토리에 존재한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"edit","style":"position:relative;"},"children":[{"type":"text","value":"edit"},{"type":"element","tagName":"a","properties":{"href":"#edit","ariaLabel":"edit permalink","className":["auto-link","after"]},"children":[{"type":"element","tagName":"svg","properties":{"viewBox":"0 0 16 16","width":"16","height":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":".zshrc 파일을 수정해야 한다면 홈 디렉토리에 있는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":".zshrc"}]},{"type":"text","value":" 파일을 직접 수정해도 되지만, chezmoi를 사용하면 add 명령어를 쳤을 그 시점에 가지고 있는 설정값으로 원상복구될 것이다. 따라서 edit 명령어를 통해 chezmoi의 소스 디렉토리에 있는 파일을 수정 후, 적용해 주어야 한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sh"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"$ chezmoi edit ~/.zshrc"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"diff","style":"position:relative;"},"children":[{"type":"text","value":"diff"},{"type":"element","tagName":"a","properties":{"href":"#diff","ariaLabel":"diff permalink","className":["auto-link","after"]},"children":[{"type":"element","tagName":"svg","properties":{"viewBox":"0 0 16 16","width":"16","height":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"chezmoi로 dotfile을 수정했으니 이제 실제 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"~/.zshrc"}]},{"type":"text","value":" 파일에 적용해 줄 차례인데, 적용하기 전에 어떤 것이 변경되었는지 명령어를 통해 볼 수 있는데 diff 명령어를 통해 알 수 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sh"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"$ chezmoi "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"diff"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"diff 명령어는 파일 명을 명시해 주지 않아도 관리되고 있는 dotfiles 중에서 변경된 모든 파일의 변경사항을 보여준다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"apply","style":"position:relative;"},"children":[{"type":"text","value":"apply"},{"type":"element","tagName":"a","properties":{"href":"#apply","ariaLabel":"apply permalink","className":["auto-link","after"]},"children":[{"type":"element","tagName":"svg","properties":{"viewBox":"0 0 16 16","width":"16","height":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이제 적용 명령이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sh"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"$ chezmoi apply "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-v"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"그냥 apply만 해도 되지만, "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"-v"}]},{"type":"text","value":" 옵션을 주면 적용 전에 diff를 통해 어떤 겻이 변경될 것인지 알려준다. 주로 -v(verbose) 옵션을 주어 확인 후 적용하도록 하자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"cd","style":"position:relative;"},"children":[{"type":"text","value":"cd"},{"type":"element","tagName":"a","properties":{"href":"#cd","ariaLabel":"cd permalink","className":["auto-link","after"]},"children":[{"type":"element","tagName":"svg","properties":{"viewBox":"0 0 16 16","width":"16","height":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sh"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"$ chezmoi "},{"type":"element","tagName":"span","properties":{"className":["token","builtin","class-name"]},"children":[{"type":"text","value":"cd"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"터미널에서 소스 디렉토리("},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"~/.local/share/chezmoi"}]},{"type":"text","value":")로 바로 이동하는 명령어다. chezmoi가 관리하는 dotfiles를 git을 통해 버전 관리할 수 있다. 물론 GitHub에도 올릴 수 있다. 컴퓨터가 초기화되었다면 GitHub에서 이전에 관리하던 dotfiles를 그대로 내려받아 똑같은 위치에 dotfiles를 원상복구할 수 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"내가-관리하고-있는-것들","style":"position:relative;"},"children":[{"type":"text","value":"내가 관리하고 있는 것들"},{"type":"element","tagName":"a","properties":{"href":"#%EB%82%B4%EA%B0%80-%EA%B4%80%EB%A6%AC%ED%95%98%EA%B3%A0-%EC%9E%88%EB%8A%94-%EA%B2%83%EB%93%A4","ariaLabel":"내가 관리하고 있는 것들 permalink","className":["auto-link","after"]},"children":[{"type":"element","tagName":"svg","properties":{"viewBox":"0 0 16 16","width":"16","height":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"내 저장소는 "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/pozafly/dotfiles","target":"_blank","rel":["nofollow"]},"children":[{"type":"text","value":"pozafly/dotfiles"}]},{"type":"text","value":" 이곳이다. chezmoi를 통해 관리하고 있는 파일들이다. 가볍게 git config 파일부터 살펴보자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"git-config","style":"position:relative;"},"children":[{"type":"text","value":"git config"},{"type":"element","tagName":"a","properties":{"href":"#git-config","ariaLabel":"git config permalink","className":["auto-link","after"]},"children":[{"type":"element","tagName":"svg","properties":{"viewBox":"0 0 16 16","width":"16","height":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"원래 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"~/.gitconfig"}]},{"type":"text","value":" 파일이 있었다. 하지만, "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"~/.config/git"}]},{"type":"text","value":" 경로에 config 파일을 생성해 설정 파일을 두어도 똑같은 역할을 한다. 레파지토리를 보면 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"dot_config/git/config.tmpl"}]},{"type":"text","value":" 파일이 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"tmpl이란, chezmoi의 템플릿 파일이다. tmpl은 chezmoi만의 특별한 확장자로, 템플릿 파일을 만들 수 있는데 분기문을 사용해 OS 별로 실행 명령어를 다르게 하거나 설정 파일을 다르게 할 수 있다. 또한 chezmoi 설정값을 가져와 적용하게 할 수도 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"예를 들어 tmpl 파일 안에 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"{{ .chezmoi.sourceDir }}"}]},{"type":"text","value":" 이런 표현식이 있다면 그 자리에는 실행 시점에 소스 디렉토리 경로("},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"~/.local/share/chezmoi"}]},{"type":"text","value":")로 대체된다. 또한 분기문은"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"toml"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-toml"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-toml"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" if eq "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"chezmoi"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"os "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"darwin\""}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# darwin"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" else if eq "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"chezmoi"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"os "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"linux\""}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# linux"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" else "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# other operating system"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" end "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이런 방식으로 사용할 수 있다. 템플릿에서 사용하는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":".chezmoi."}]},{"type":"text","value":" 내부의 값은 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"$ chezmoi data"}]},{"type":"text","value":" 명령어를 통해 알아볼 수 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"toml"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-toml"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-toml"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","table","class-name"]},"children":[{"type":"text","value":"alias"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","property"]},"children":[{"type":"text","value":"st"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" status\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","table","class-name"]},"children":[{"type":"text","value":"user"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","property"]},"children":[{"type":"text","value":"name"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"chezmoi"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"config"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"data"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"name | quote "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","property"]},"children":[{"type":"text","value":"email"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"chezmoi"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"config"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"data"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"email | quote "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","table","class-name"]},"children":[{"type":"text","value":"core"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","property"]},"children":[{"type":"text","value":"editor"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" code --wait\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","property"]},"children":[{"type":"text","value":"precomposeunicode"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","boolean"]},"children":[{"type":"text","value":"true"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","property"]},"children":[{"type":"text","value":"quotepath"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","boolean"]},"children":[{"type":"text","value":"false"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","property"]},"children":[{"type":"text","value":"excludesfile"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"chezmoi"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"homeDir "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"/"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"gitignore_global\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","property"]},"children":[{"type":"text","value":"autocrlf"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" input\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","table","class-name"]},"children":[{"type":"text","value":"pull"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","property"]},"children":[{"type":"text","value":"rebase"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","boolean"]},"children":[{"type":"text","value":"true"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","table","class-name"]},"children":[{"type":"text","value":"init"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","property"]},"children":[{"type":"text","value":"defaultBranch"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" main"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이렇게 되어있다. "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"{{ .chezmoi.config.data.name | quote }}"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"quote"}]},{"type":"text","value":"는 Go 템플릿에서 사용할 수 있는 “파이프라인”을 사용하는 부분이다. 파이프라인을 통해 데이터를 수정하는 함수나 명령을 적용할 수 있다. 예를 들어, 사용자의 이름이 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"O'Reilly"}]},{"type":"text","value":"라면, "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"quote"}]},{"type":"text","value":"를 적용하지 않은 상태에서 JSON 파일에 직접 삽입하면 문제를 일으킬 수 있다 ("},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"\"name\": \"O'Reilly\""}]},{"type":"text","value":"). "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"quote"}]},{"type":"text","value":"를 사용하면 이 이름이 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"\"O'Reilly\""}]},{"type":"text","value":"처럼 안전하게 인용 부호 안에 포함되어 처리된다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":".chezmoi.config.data"}]},{"type":"text","value":" 부분은, chezmoi의 설정 파일에 있는 데이터를 가져오겠다는 말이 된다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"chezmoi-설정-파일","style":"position:relative;"},"children":[{"type":"text","value":"chezmoi 설정 파일"},{"type":"element","tagName":"a","properties":{"href":"#chezmoi-%EC%84%A4%EC%A0%95-%ED%8C%8C%EC%9D%BC","ariaLabel":"chezmoi 설정 파일 permalink","className":["auto-link","after"]},"children":[{"type":"element","tagName":"svg","properties":{"viewBox":"0 0 16 16","width":"16","height":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"chezmoi 툴의 설정 파일이 있다. "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"~/.config/chezmoi/chezmoi.toml"}]},{"type":"text","value":" 으로, toml 파일로 관리된다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"toml"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-toml"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-toml"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","table","class-name"]},"children":[{"type":"text","value":"data"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","property"]},"children":[{"type":"text","value":"email"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"pozafly@gmail.com\""}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","property"]},"children":[{"type":"text","value":"name"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"pozafly\""}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","property"]},"children":[{"type":"text","value":"env"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"home\""}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","key","property"]},"children":[{"type":"text","value":"encryption"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"age\""}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","table","class-name"]},"children":[{"type":"text","value":"age"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","property"]},"children":[{"type":"text","value":"identity"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"/Users/pozafly/age-key.txt\""}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","property"]},"children":[{"type":"text","value":"recipient"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"age1k3dd5wtylpz6um3wz2sgyr6ek0zn4mvc8mknaf9tjdjxh7n953psf8gw40\""}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# chezmoi를 vscode로도 관리한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","table","class-name"]},"children":[{"type":"text","value":"edit"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","property"]},"children":[{"type":"text","value":"command"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"code\""}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","property"]},"children":[{"type":"text","value":"args"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"--wait\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# plist diff을 보여줄 때 바이너리가 아닌, xml로 보여줌"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","table","class-name"]},"children":[{"type":"text","value":"textconv"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","property"]},"children":[{"type":"text","value":"pattern"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"**/*.plist\""}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","property"]},"children":[{"type":"text","value":"command"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"plutil\""}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","property"]},"children":[{"type":"text","value":"args"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"-convert\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"xml1\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"-o\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"-\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"-\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","table","class-name"]},"children":[{"type":"text","value":"git"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"#  autoCommit = true"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이곳의 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"[data]"}]},{"type":"text","value":" 부분에 명시된 이름을 가져와서 git/config 파일에 템플릿으로 넣어주는 것이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이 설정 파일마저도 chezmoi로 관리해 줄 수 있다. 소스 디렉토리에 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":".chezmoi.toml.tmpl"}]},{"type":"text","value":" 파일을 보자. 이마저도 템플릿 파일로 이루어져 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"toml"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-toml"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-toml"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"- $email :"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" promptStringOnce "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"email\""}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"Email address\""}]},{"type":"text","value":" -"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"- $name :"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" promptStringOnce "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"name\""}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"Name\""}]},{"type":"text","value":" -"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"- $env :"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" promptStringOnce "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"env\""}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"env (예: home | work)\""}]},{"type":"text","value":" -"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","table","class-name"]},"children":[{"type":"text","value":"data"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","property"]},"children":[{"type":"text","value":"email"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" $email | quote "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","property"]},"children":[{"type":"text","value":"name"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" $name | quote "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","property"]},"children":[{"type":"text","value":"env"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" $env | quote "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"템플릿 구문을 볼 수 있는데, "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"{{- $email := promptStringOnce . \"email\" \"Email address\" -}}"}]},{"type":"text","value":" 이 부분은 무엇인가? "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"chezmoi init"}]},{"type":"text","value":" 명령어로 chezmoi를 초기화할 때, cli로 email, name, env를 직접 타이핑해서 입력해 줄 수 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"![chezmoi init](../img/tools/manage-with-rm-rf-erased-setting-file-chezmoi/chezmoi init.png)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이런 방식으로 말이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"git-global-ignore","style":"position:relative;"},"children":[{"type":"text","value":"git global ignore"},{"type":"element","tagName":"a","properties":{"href":"#git-global-ignore","ariaLabel":"git global ignore permalink","className":["auto-link","after"]},"children":[{"type":"element","tagName":"svg","properties":{"viewBox":"0 0 16 16","width":"16","height":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"git이 관리하는 파일에 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":".gitignore"}]},{"type":"text","value":" 이 있지만, 로컬 컴퓨터 전체에 적용되는 global ignore도 있다. 이를 git config에서"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"toml"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-toml"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-toml"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","table","class-name"]},"children":[{"type":"text","value":"core"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","property"]},"children":[{"type":"text","value":"excludesfile"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"chezmoi"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"homeDir "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"/"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"gitignore_global\n  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이렇게 적어줄 수 있다. macOS라면 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":".DS_Store"}]},{"type":"text","value":" 를 넣어주는 것을 추천한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"스크립트-파일","style":"position:relative;"},"children":[{"type":"text","value":"스크립트 파일"},{"type":"element","tagName":"a","properties":{"href":"#%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-%ED%8C%8C%EC%9D%BC","ariaLabel":"스크립트 파일 permalink","className":["auto-link","after"]},"children":[{"type":"element","tagName":"svg","properties":{"viewBox":"0 0 16 16","width":"16","height":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"스크립트 파일은 특정 시점에 실행되는 bash 스크립트 파일이다. 레파지토리를 살펴보면 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":".chezmoiscrips/darwin"}]},{"type":"text","value":" 내부에 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"run_once_before_01_install-packages-darwin.sh.tmpl"}]},{"type":"text","value":" 과 같은 파일이 존재한다. .chezmoiscrips는 특정 시점에 실행할 bash 스크립트가 들어있는 파일임을 디렉토리 명을 통해 chezmoi에게 알려준다. 내부에 darwin이라는 디렉토리가 있는데 이는 맥 OS 환경에서만 실행될 것임을 chezmoi에게 알려준다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"※ darwin?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"darwin이란, Apple이 만든 오픈 소스 유닉스 컴퓨터 운영체제다. macOS, IOS, watchOS, iPadOS 등의 운영체제들은 모두 Darwin을 기반으로 한다. 맥에서 터미널에 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"uname"}]},{"type":"text","value":" 을 입력하면 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Darwin"}]},{"type":"text","value":" 이 뜨는 것을 볼 수 있을 것이다."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"그렇다면 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"run_once_before_01_install-packages-darwin.sh.tmpl"}]},{"type":"text","value":" 파일은 어떻게 해석해야 하나? chezmoi는 디렉토리 명 또는 파일 명을 통해 어떤 파일인지, 어떤 시점에 실행해야 하는지 알려준다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"run"}]},{"type":"text","value":" : 실행한다"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"once"}]},{"type":"text","value":" : 단 한 번만"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"before"}]},{"type":"text","value":" : 이전에"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"01"}]},{"type":"text","value":" : 순서 표기"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"install-package"}]},{"type":"text","value":" : 패키지를 설치하는 시점에"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"darwin"}]},{"type":"text","value":" : macOS에서"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"sh"}]},{"type":"text","value":" : 쉘 스크립트 파일 확장자"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"tmpl"}]},{"type":"text","value":" : chezmoi의 템플릿 파일"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"붙여 의미를 설명하면 chezmoi의 초기 설정 단계에서 macOS 시스템에 필요한 패키지를 설치하는 스크립트로 사용되며, 첫 번째 실행 시에만 작동하고, 그 이후에는 실행되지 않도록 설계되어 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"그럼 파일 내부를 한번 보자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sh"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","shebang","important"]},"children":[{"type":"text","value":"#!/bin/bash"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# If Homebrew is not installed on the system, it will be installed here"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"if"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","builtin","class-name"]},"children":[{"type":"text","value":"test"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"!"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"$("}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"which"}]},{"type":"text","value":" brew"},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":")"}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"then"}]},{"type":"text","value":"\n   "},{"type":"element","tagName":"span","properties":{"className":["token","builtin","class-name"]},"children":[{"type":"text","value":"printf"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'\\n\\n\\e[33mHomebrew not found. \\e[0mInstalling Homebrew...'"}]},{"type":"text","value":"\n   /bin/bash "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-c"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\""},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"$("}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"curl"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-fsSL"}]},{"type":"text","value":" https://raw.githubusercontent.com/Homebrew/install/master/install.sh"},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":")"}]}]},{"type":"text","value":"\""}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"else"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","builtin","class-name"]},"children":[{"type":"text","value":"printf"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'\\n\\n\\e[0mHomebrew found. Continuing...'"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"fi"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# If Oh-my-zsh is not installed on the system, it will be installed here"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"if"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"!"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-d"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","environment","constant"]},"children":[{"type":"text","value":"$HOME"}]},{"type":"text","value":"/.oh-my-zsh "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"then"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","builtin","class-name"]},"children":[{"type":"text","value":"printf"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'\\n\\n\\e[33mOh-my-zsh not found. \\e[0mInstalling Oh-my-zsh...'"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"sh"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-c"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\""},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"$("}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"curl"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-fsSL"}]},{"type":"text","value":" https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh"},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":")"}]}]},{"type":"text","value":"\""}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"else"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","builtin","class-name"]},"children":[{"type":"text","value":"printf"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'\\n\\n\\e[0mOh-my-zsh found. Continuing...'"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"fi"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# Update homebrew packages and apps"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","builtin","class-name"]},"children":[{"type":"text","value":"printf"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'\\nInitiating Homebrew update...\\n'"}]},{"type":"text","value":"\nbrew bundle --no-lock "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"--file"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"{{ .chezmoi.sourceDir }}/Brewfile\""}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# Install age dependency"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"if"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"which"}]},{"type":"text","value":" age "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]},{"type":"text","value":" /dev/null"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"then"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","builtin","class-name"]},"children":[{"type":"text","value":"echo"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"'age' is already installed. Skip installation.\""}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"else"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","builtin","class-name"]},"children":[{"type":"text","value":"echo"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"'age' is not installed. Start installation.\""}]},{"type":"text","value":"\n  brew "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"install"}]},{"type":"text","value":" age\n  "},{"type":"element","tagName":"span","properties":{"className":["token","builtin","class-name"]},"children":[{"type":"text","value":"echo"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"Successfully installed 'age'.\""}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"fi"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","builtin","class-name"]},"children":[{"type":"text","value":"printf"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'\\nbefore install package 01 Done!!\\n'"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"컴퓨터에 homebrew가 설치되어 있지 않다면 homebrew를 설치한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"컴퓨터에 .oh-my-zsh 파일이 없다면 oh-my-zsh를 설치한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Brewfile에 명시된 프로그램을 설치한다(Brewfile은 밑에서 설명할 것임)."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"age라는 패키지가 설치되어 있지 않다면 설치한다(age 패키지는 밑에서 설명할 것임)."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"Brewfile","style":"position:relative;"},"children":[{"type":"text","value":"Brewfile"},{"type":"element","tagName":"a","properties":{"href":"#Brewfile","ariaLabel":"Brewfile permalink","className":["auto-link","after"]},"children":[{"type":"element","tagName":"svg","properties":{"viewBox":"0 0 16 16","width":"16","height":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"맥 사용 개발자라면 brew 명령어를 통해 macOS에서 여러 파일을 설치해 봤을 것이다. "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"$ brew list"}]},{"type":"text","value":" 명령어를 터미널에서 입력하면 brew를 통해 설치된 파일 리스트를 볼 수 있다. brew list는 어떤 한 패키지에서 종속성을 가지고 있다면 종속성을 가진 패키지까지 모두 설치하고, 그 리스트 모두를 보여준다. 즉, brew install 명령어로 설치된 파일 외, 컴퓨터에 homebrew로 깔린 모든 파일을 보여준다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Brewfile이란, npm의 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"package.json"}]},{"type":"text","value":" 파일 또는 gradle의 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"build.gradle"}]},{"type":"text","value":" 파일과 같다. 즉, 종속성을 관리하는 파일이다. Brewfile을 까보면"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"tap \"homebrew/bundle\"\nbrew \"age\"\nbrew \"chezmoi\"\nbrew \"fnm\"\nbrew \"git\"\nbrew \"mas\"\nbrew \"php\"\nbrew \"pnpm\"\nbrew \"pure\"\nbrew \"zsh\"\nbrew \"zsh-autosuggestions\"\nbrew \"zsh-completions\"\nbrew \"zsh-syntax-highlighting\"\ncask \"alfred\"\ncask \"alt-tab\"\ncask \"appcleaner\"\ncask \"google-chrome\"\ncask \"iterm2\"\ncask \"itsycal\"\ncask \"notion\"\ncask \"openineditor-lite\"\ncask \"openinterminal-lite\"\ncask \"scroll-reverser\"\ncask \"slack\"\ncask \"sublime-text\"\ncask \"typora\"\ncask \"visual-studio-code\"\nmas \"Gifski\", id: 1351639930\nmas \"Hidden Bar\", id: 1452453066\nmas \"jandi\", id: 1551460285\nmas \"Keynote\", id: 409183694\nmas \"Magnet\", id: 441258766\nmas \"Memory Diag\", id: 748212890\nmas \"Numbers\", id: 409203825\nmas \"Pages\", id: 409201541\nmas \"PhotoScape X\", id: 929507092\nmas \"카카오톡\", id: 869223134"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이렇게 생겼다. brew, cask가 붙은 녀석들은 실제 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"brew install"}]},{"type":"text","value":" 을 통해 설치한 어플리케이션을 나타낸다. 따라서, 어플리케이션을 이렇게 관리하고 싶다면 웬만하면 brew 명령어를 통해 설치하는 것을 추천한다. 또한 brew update, brew upgrade 명령어를 통해 손쉽게 패키지를 업데이트할 수 있으므로 매우 편리하다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"※ 얼마 전 xz 패키지 이슈가 있었다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"xz 패키지는 압축 유틸리티인데, 많은 패키지에서 종속성을 가지고 있는 패키지다. "},{"type":"element","tagName":"a","properties":{"href":"https://news.hada.io/topic?id=14122&utm_source=slack&utm_medium=bot&utm_campaign=T0101GW47QQ","target":"_blank","rel":["nofollow"]},"children":[{"type":"text","value":"취약점이 발견되어 떠들썩했던 사건"}]},{"type":"text","value":"이다. 이때, "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"$ brew update && brew upgrade"}]},{"type":"text","value":" 명령어로 패키지를 빠르게 업데이트해준다면 취약점을 조금 더 빠르게 방지할 수도 있다."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"run_once_before_01_install-packages-darwin.sh.tmpl"}]},{"type":"text","value":" 스크립트에서 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"brew bundle --no-lock --file=\"{{ .chezmoi.sourceDir }}/Brewfile\""}]},{"type":"text","value":" 명령어로 Brewfile에 명시된 종속성을 설치하고 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"그렇다면 Brewfile을 생성하는 방법은 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"brew bundle dump"}]},{"type":"text","value":" 으로 생성할 수 있다. "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/Homebrew/homebrew-bundle","target":"_blank","rel":["nofollow"]},"children":[{"type":"text","value":"brew bundle"}]},{"type":"text","value":"이란, Homebrew를 위한 번들러다. 이 과정을 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"brew install ..."}]},{"type":"text","value":" 명령어를 실행하면 자동으로 dump를 뜨게 할 수는 없을까? 아쉽지만 brew bundle에서 hook 기능은 존재하지 않는다. "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/Homebrew/brew/issues/3933","target":"_blank","rel":["nofollow"]},"children":[{"type":"text","value":"이 이슈"}]},{"type":"text","value":"를 보자. 5건이나 install hook을 만들어 달라고 요청했지만 메인테이너가 이를 들어주지 않았다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"어쨌든 Brewfile에 보면 brew로 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"mas"}]},{"type":"text","value":" 를 설치하고 있고, mas 뒤에 어플리케이션 명이 적힌 것을 볼 수 있다. 이는 맥의 App Store를 통해 설치한 어플리케이션을 말한다. brew로 설치하지 않고 App Store에서 설치한 파일을 명시해두었다. 이들 또한 Brewfile에 명시가 되며 알아서 설치된다. 자세한 사항은 "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/mas-cli/mas","target":"_blank","rel":["nofollow"]},"children":[{"type":"text","value":"mac-cli"}]},{"type":"text","value":"를 통해 확인할 수 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"age-암호화-라이브러리","style":"position:relative;"},"children":[{"type":"text","value":"age (암호화 라이브러리)"},{"type":"element","tagName":"a","properties":{"href":"#age-%EC%95%94%ED%98%B8%ED%99%94-%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC","ariaLabel":"age 암호화 라이브러리 permalink","className":["auto-link","after"]},"children":[{"type":"element","tagName":"svg","properties":{"viewBox":"0 0 16 16","width":"16","height":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"스크립트에서 "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/FiloSottile/age","target":"_blank","rel":["nofollow"]},"children":[{"type":"text","value":"age"}]},{"type":"text","value":"를 설치하고 있다. Brewfile에도 명시가 되어있지만, Brewfile을 통해 어플리케이션들을 설치한 뒤 다시 age를 확인하는 이유는 age로 외부에 노출되어서는 안되는 특정 파일을 암호화하고 있으며 이를 chezmoi로 관리하고 있기 때문이다. 즉, age는 암호화, 복호화 라이브러리다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"chezmoi의 암호화 라이브러리"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"chezmoi의 암호화 연동 라이브러리는  age, gpg, rage가 있다. 각각 독립적인 암호화 라이브러리고, gpg가 가장 유명해 보였다. 하지만, gpg는 복잡하고 무거운 기술을 사용한다. 나는 간편하게 공개키 전략을 사용해 비밀키와 공개키 한 쌍으로 암호화, 복호화를 하기 원했고 쉽고 가볍기를 원했다."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"age를 brew로 설치했다면 아래 명령어로 먼저 공개키를 만든다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sh"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"$ age-keygen "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-o"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","environment","constant"]},"children":[{"type":"text","value":"$HOME"}]},{"type":"text","value":"/age-key.txt\nPublic key: age1ql3z7hjy54pw3hyww5ayyfg7zqgvc7w3j2elw8zmrj2kg5sfn9aqmcac8p"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"터미널에 즉시 공개키를 알려준다. 그리고 age-key.txt가 생성되는데 이는 비밀키이다. 외부에 노출되면 안 된다. age-key.txt의 형태는 아래와 같다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"# created: 2024-04-14T13:15:05+09:00\n# public key: age1ql3z7hjy54pw3hyww5ayyfg7zqgvc7w3j2elw8zmrj2kg5sfn9aqmcac8p\nAGE-SECRET-KEY-..."}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"공개키도 주석 처리되어 함께 적혀있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"그러면, 위에서 봤던 chezmoi 설정 파일인 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"~/.config/chezmoi/chezmoi.toml"}]},{"type":"text","value":" 에서도 chezmoi에게 age를 통해 암호화하겠다고 명시해 주어야 한다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"toml"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-toml"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-toml"]},"children":[{"type":"text","value":"~/"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"config/chezmoi/chezmoi"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"toml\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","key","property"]},"children":[{"type":"text","value":"encryption"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"age\""}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","table","class-name"]},"children":[{"type":"text","value":"age"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","property"]},"children":[{"type":"text","value":"identity"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"/home/pozafly/age-key.txt\""}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","property"]},"children":[{"type":"text","value":"recipient"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"age1ql3z7hjy54pw3hyww5ayyfg7zqgvc7w3j2elw8zmrj2kg5sfn9aqmcac8p\""}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"identity"}]},{"type":"text","value":" : 앞으로 암호화하고 복호화 할 비밀키의 경로."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"recipient"}]},{"type":"text","value":" : 공개키"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이러면 이제 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"$ chezmoi add --encrypt [파일명]"}]},{"type":"text","value":" 을 통해 암호화할 파일을 chezmoi에게 알려주어 관리할 수 있다. 암호화 한 파일은 아래와 같이 생겼다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"-----BEGIN AGE ENCRYPTED FILE-----\nYWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBGNHcyMW41dXFaVjlEVGV4\nY3MxT0RTT0hxUUw4ekN6eW1JYTMxR2RaWEdRCnZPek9WVnp4R0RVQ0FUemhYQW85\nNVNkVnJud0ttQ2Z4L1ZaYkFYQzBXam8KLS0tIHVrdlZJWmYzVzJhTGxzWE1OUUhE\nM08zUDFWRW9Bb1FiRVpTVEFxazlwc0UK9kfzYOoKK+75/heyQp2x4uzkH8y0w7CA\nqJYb4g+muRjhrRL29YpbTNIZy+U/RBa+3qAMP47+DX36TtFj0pQCJSLpKDOqSrpz\nVA3Jfriu01udMoTR5dWEKswp\n-----END AGE ENCRYPTED FILE-----"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"AWS pem 키나, GitHub의 ssh 키 등을 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"--encrypt"}]},{"type":"text","value":" 옵션을 통해 암호화할 수 있다. 이렇게 암호화된 파일은 GitHub의 public repository에 올라가도 상관없다. 비밀키는 내가 갖고 있기 때문이다. 따라서 비밀키를 안전하게 들고 있는 것이 중요하다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"mac을 백업하기 전 반드시 비밀키를 옮겨야 하는데 나는 iCloud Drive 깊숙한 곳에 미리 저장해두었다. 다시 복호화 해서 실제로 필요한 경우에는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"chezmoi apply"}]},{"type":"text","value":" 명령어를 사용하면 저장했던 경로로 복호화 된 파일이 나타날 것이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ssh key뿐 아니라 일반 text 파일도 가능하니, 암호화를 원한다면 age, chezmoi를 이용해 보자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"macos","style":"position:relative;"},"children":[{"type":"text","value":".macos"},{"type":"element","tagName":"a","properties":{"href":"#macos","ariaLabel":"macos permalink","className":["auto-link","after"]},"children":[{"type":"element","tagName":"svg","properties":{"viewBox":"0 0 16 16","width":"16","height":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"3번째 스크립트 파일에는 아래와 같은 명령어도 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sh"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"sh"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" .chezmoi.sourceDir "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"/.macos"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":".macos"}]},{"type":"text","value":" 쉘 스크립트를 실행하라는 명령어다. 아래와 같이 생겼다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sh"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","shebang","important"]},"children":[{"type":"text","value":"#!/usr/bin/env bash"}]},{"type":"text","value":"\n\nosascript "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-e"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'tell application \"System Preferences\" to quit'"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# 독 설정"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# 독 아이콘 크기 45"}]},{"type":"text","value":"\ndefaults "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"write"}]},{"type":"text","value":" com.apple.dock "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"tilesize\""}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-int"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"45\""}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# Finder 설정"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# 파일 확장자 모두 표시"}]},{"type":"text","value":"\ndefaults "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"write"}]},{"type":"text","value":" NSGlobalDomain "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"AppleShowAllExtensions\""}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-bool"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"true\""}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# 하단 위치 표시줄 표시"}]},{"type":"text","value":"\ndefaults "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"write"}]},{"type":"text","value":" com.apple.finder "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"ShowPathbar\""}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-bool"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"true\""}]},{"type":"text","value":"\n// "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":".."}]},{"type":"text","value":".\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# 트랙패트 설정"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# 트랙패드 스피드 (가장 빠르게)"}]},{"type":"text","value":"\ndefaults "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"write"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-g"}]},{"type":"text","value":" com.apple.trackpad.scaling "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"3"}]},{"type":"text","value":"\n// "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":".."}]},{"type":"text","value":".\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# 키보드 설정"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# 자동으로 대문자 시작안함"}]},{"type":"text","value":"\ndefaults "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"write"}]},{"type":"text","value":" NSGlobalDomain NSAutomaticCapitalizationEnabled "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-bool"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","boolean"]},"children":[{"type":"text","value":"false"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# 자동 수정 안함"}]},{"type":"text","value":"\ndefaults "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"write"}]},{"type":"text","value":" NSGlobalDomain NSAutomaticSpellingCorrectionEnabled "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-bool"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","boolean"]},"children":[{"type":"text","value":"false"}]},{"type":"text","value":"\n// "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":".."}]},{"type":"text","value":".\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# 메뉴바"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# 배터리 잔량 표시"}]},{"type":"text","value":"\ndefaults "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"write"}]},{"type":"text","value":" com.apple.menuextra.battery ShowPercent "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-int"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"1"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# spotlight 메뉴바에서 감추기"}]},{"type":"text","value":"\ndefaults "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-currentHost"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"write"}]},{"type":"text","value":" com.apple.Spotlight MenuItemHidden "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-int"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"1"}]},{"type":"text","value":"\n// "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":".."}]},{"type":"text","value":".\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"killall"}]},{"type":"text","value":" Dock\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"killall"}]},{"type":"text","value":" Finder\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"killall"}]},{"type":"text","value":" SystemUIServer\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"killall"}]},{"type":"text","value":" ControlCenter"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"위의 내용은 간추린 버전이고, "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/pozafly/dotfiles/blob/main/.macos","target":"_blank","rel":["nofollow"]},"children":[{"type":"text","value":"풀버전은 이곳"}]},{"type":"text","value":"이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"osascript는 "},{"type":"element","tagName":"a","properties":{"href":"https://pozafly.github.io/tools/alfred-korean-english-converter/","target":"_blank","rel":["nofollow"]},"children":[{"type":"text","value":"alfred의 워크플로우를 개발"}]},{"type":"text","value":"할 때 사용해 봤었다. apple script이다. "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"defaults"}]},{"type":"text","value":" 로 시작하는 명령어는 맥의 설정을 cli로 조작할 수 있다. 맥을 처음부터 세팅하려면 무척이나 귀찮은 작업이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"defaults 명령어를 모아둔 "},{"type":"element","tagName":"a","properties":{"href":"https://macos-defaults.com/","target":"_blank","rel":["nofollow"]},"children":[{"type":"text","value":"macOS defaults"}]},{"type":"text","value":"라는 곳을 많이 참고했다. 하지만 꼭 적용하고 싶지만 없는 명령어도 있으니 참고해야 한다. 더 많은 defaults 관련 DB는 "},{"type":"element","tagName":"a","properties":{"href":"https://www.real-world-systems.com/docs/defaults.1.html","target":"_blank","rel":["nofollow"]},"children":[{"type":"text","value":"real-world-systems"}]},{"type":"text","value":"에서 찾아볼 수 있을 것이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"참고로 마지막 줄의 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"killall"}]},{"type":"text","value":" 명령어는 defaults로 맥의 설정을 변경시켰지만 아직 적용되지 않은 구간을 재부팅 시켜줘서 적용할 수 있게 만들어준다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"plist-관리","style":"position:relative;"},"children":[{"type":"text","value":"plist 관리"},{"type":"element","tagName":"a","properties":{"href":"#plist-%EA%B4%80%EB%A6%AC","ariaLabel":"plist 관리 permalink","className":["auto-link","after"]},"children":[{"type":"element","tagName":"svg","properties":{"viewBox":"0 0 16 16","width":"16","height":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"마지막으로 plist에 대해 알아보자. 어플리케이션을 이용하면 자기 입맛대로 설정을 하기 마련이다. 대표적으로 iTerms2을 다시 설치하면 이전 설정 그대로 쓰기 위해 다시 세팅하는 과정을 반드시 거친다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"plist란, Property List로, 주로 macOS와 iOS 시스템에서 사용되는 설정 파일 형식이다. 애플리케이션의 설정, 사용자 환경 설정, 시스템 구성 정보 등을 저장하는 데 사용된다. "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"plist"}]},{"type":"text","value":" 파일은 바이너리 파일로 작성되어 있는데, 일련의 과정을 거치면 XML 형식으로 볼 수 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"iTerms2의 plist의 형태를 한번 보자."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 220.2%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAsCAYAAABloJjNAAAACXBIWXMAABYlAAAWJQFJUiTwAAAEjklEQVR42qXX11JcRxAG4H0J24gogkgip2XJGQRC5AxFlaDkW/sFeCbf+NqPNuabql6fDUhV1kXvzJlz5u+/48yW7peW059n5bTyWE6z65X0x+/f0pcvh2n/4CAdHR2l4+Pj1+cv6fDwMIv56elpls+fP6f5+fks5XI5zc3NpdLi9ExanZ9MU4vjabZSTlvr62llZSXL6upqWn99Xl5ezs/GqampND09nceJiYk0MjKSBdjMzEwqXV6ep3/+/ut1w0a6urxMZ2dn6e7uLl2+zoPF3t5enn/69Cn19fWl3t7eLOYfPnzI4/b2dlZeWlteSi8vL2mqXEkzr5onJyez9hh93NPTkwGM/f39TSUUlPz88utvqbu7O7W3tzdIZ2dnjXR0dDQV72CUBgYG0sePH6tMgk29xLvvSWYIbH9/Pzt6eHg4O5gJfBPmxJzywcHBpuIdKUHe2NjIoJwvLcbHx7OMjY3lUTTNMWBWPWvroTwDitDJyUk6Pz/P0RVpEb26usp5GBGvVCppd3c3p5D51tZWWltbyykTVpTQvb+/TxcXF3njzc1NHil4enqqgnovgbHFmmsiG0ZHR/8DZDc2tG1ubma2ZGdnJ5vPDRLcO2azyGZSzMWqyX4s0r60tJRHfiLv37/PAsRzceNbUvLR0NBQznL+EPVi1Orlh4AAOBgYXzDje4A/kgzIh9FROB3r/w0omQ9eWxXfzc7OZpaRxD8FyIdMj0r5KUCpIe+w9FwstWLpFaNc9LN5TR5qjMAsAuRXTEXfXP5Zj6S21tXVVU0to+99k9uXpFYRSk5VELWtYgTM89evX6tHgPJbXFzMlYIIhhSpmswwuq3urE5t4FflZqOEVzkYYhPNQIqxCktrmaEFHyt+YwjWgL1vaWlJ7969S62trVXRfDXWaMQUVAF1CyywjXaFPuHfou+kFZ/yYXR0wOH/XMte0MoE0SYUOBqNzF5YWMiKpZbTDzgCzG0ApM0iP0Qw4rSLrsO3FEh+rAMciRqT6wGjsQJT3wLmwMcUgKg6LoBjxTJm1zAs0hYcTRYzbAgggMymhMnhBvvb2tpqGVogGGJ2fX2djwO+ZK5n5w5mTA2W5gKGUA1DL2S6F5joznEVMWKCUVxB6v0oOHxZBVRiFgDSDtCH/BSJHjVuc7T/yMkGk/nPoo9Vx+PjY3p+fs5ye3ubHh4e8prox8UJS8GIgDZNG1pFWWRtZBaRzHFlk+zmsadpYseiOrUJgMpgOj9G8+VLB1bcZ1gVJdjAkAD2kbpVXtEQzAWkeF3h92hrQJuWXrPbFwUahRYWLsAUa1HmggZAmpiETTQG5hevadFMI3W4xjvWNJis0GmO6230vaLTsRA0fZNv5Ws0iYa0EQSAceuqBwxQgECUH5OjMQCsYWjCFMDkLUARBhgVZOTfOMCqgHG480doLIIVGQJgdhwNclYMagCjO0eO1d+ri3kaOSrCGFLiiKj6ULnRQCNQm6OdFSWCwuQoP7nYUHoA+Q9gdA95Zr3+Aq+9UR6+Lv7liAO/enPgG6PW7+O3rhpx2SzeLoo3iH8BOphYFIzaQ5UAAAAASUVORK5CYII='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"iTerms2-plist","title":"","src":"/static/509c6ae8590189777e11085f37412952/78d47/iTerms2-plist.png","srcSet":["/static/509c6ae8590189777e11085f37412952/0eb09/iTerms2-plist.png 500w","/static/509c6ae8590189777e11085f37412952/78d47/iTerms2-plist.png 800w"],"sizes":"(max-width: 800px) 100vw, 800px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n    "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이렇게 생겼다. plist는 맥에서 주로 ~/Library/Preperences 경로에 있다. iTerm2는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"com.googlecode.iterm2.plist"}]},{"type":"text","value":" 라는 이름을 가지고 있다. 이 설정 파일을 chezmoi로부터 복원하면 어플리케이션 설정이 그대로 복원된다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"하지만 맥 설정인 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"com.apple..."}]},{"type":"text","value":" 로 시작하는 설정 파일은 복원했을 경우 그대로 적용이 되지 않는 경우도 있다. 나 같은 경우 단축키 활용을 많이 하는 편인데 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"com.apple.symbolichotkeys.plist"}]},{"type":"text","value":" 를 그대로 복원해도 단축키가 돌아오지 않았다. 구글링한 결과 애플 측에서 UI를 통해 명시적으로 설정하는 것을 정책으로 삼아두었다는 이야기가 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"단, plist는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"chezmoi diff"}]},{"type":"text","value":" 명령어로 변경된 것을 찾을 때, diff 결과에 무척이나 자주 뜰 것이다. 어플리케이션의 마지막 창 위치를 가지고 있는 plist도 있고, update 체크 날짜를 plist에서 관리하는 어플리케이션도 있기 때문이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"나 같은 경우는 "},{"type":"element","tagName":"a","properties":{"href":"https://www.chezmoi.io/user-guide/manage-different-types-of-file/#manage-part-but-not-all-of-a-file","target":"_blank","rel":["nofollow"]},"children":[{"type":"text","value":"chezmoi - Handle configuration files which are externally modified"}]},{"type":"text","value":"을 보고 여러 번 따라 해봐도 제대로 적용되지가 않았다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"그래서 plist를 ignore 처리해두고 쉘 스크립트로 원할 때 백업(로컬에 저장된 plist를 chezmoi 관리 파일에 덮어씀) 하고, run_once_before… 스크립트로 맨 처음 mac에 설치할 때 복원하는 방법을 선택했다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"백업-스크립트","style":"position:relative;"},"children":[{"type":"text","value":"백업 스크립트"},{"type":"element","tagName":"a","properties":{"href":"#%EB%B0%B1%EC%97%85-%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8","ariaLabel":"백업 스크립트 permalink","className":["auto-link","after"]},"children":[{"type":"element","tagName":"svg","properties":{"viewBox":"0 0 16 16","width":"16","height":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sh"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","shebang","important"]},"children":[{"type":"text","value":"#!/bin/bash"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# plist 관리 (백업)"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# .chezmoiignore 파일의 내용을 백업합니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"cp"}]},{"type":"text","value":" ~/.local/share/chezmoi/.chezmoiignore ~/.local/share/chezmoi/.chezmoiignore.backup\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# .chezmoiignore 파일의 내용을 비웁니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]},{"type":"text","value":" ~/.local/share/chezmoi/.chezmoiignore\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# /private_Library/private_Preferences 에 존재하는 plist 파일 이름을 가져와서"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"for"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","for-or-select","variable"]},"children":[{"type":"text","value":"file"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"in"}]},{"type":"text","value":" ~/.local/share/chezmoi/private_Library/private_Preferences/*.plist"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"do"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# 파일이 심볼릭 링크인지 확인하고, 심볼릭 링크라면 건너뜀"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"if"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-L"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\""},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"$file"}]},{"type":"text","value":"\""}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"then"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","builtin","class-name"]},"children":[{"type":"text","value":"continue"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"fi"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# 파일 이름 추출"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","assign-left","variable"]},"children":[{"type":"text","value":"filename"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"$("}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"basename"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\""},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"$file"}]},{"type":"text","value":"\""}]},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":")"}]}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","assign-left","variable"]},"children":[{"type":"text","value":"new_filename"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"$("}]},{"type":"element","tagName":"span","properties":{"className":["token","builtin","class-name"]},"children":[{"type":"text","value":"echo"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\""},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"$filename"}]},{"type":"text","value":"\""}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"sed"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'s/^private_//'"}]},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":")"}]}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","builtin","class-name"]},"children":[{"type":"text","value":"echo"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'new_filename'"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"$new_filename"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# 파일을 /Library/Preferences로 복사"}]},{"type":"text","value":"\n    chezmoi "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"add"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"~/Library/Preferences/"},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"$new_filename"}]},{"type":"text","value":"\""}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"done"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# .chezmoiignore 파일을 원래 상태로 되돌립니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"cp"}]},{"type":"text","value":" ~/.local/share/chezmoi/.chezmoiignore.backup ~/.local/share/chezmoi/.chezmoiignore\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# 백업 파일을 삭제합니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" ~/.local/share/chezmoi/.chezmoiignore.backup\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","builtin","class-name"]},"children":[{"type":"text","value":"printf"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'\\nplist backup Done!!\\n'"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":".chezmoiignore 파일에 경로를 등록해두면 경로 하위의 파일들은 chezmoi diff, add, apply 등의 명령어에 적용되지 않기 때문에 잠시 ignore 파일을 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":".chezmoiignore.backup"}]},{"type":"text","value":" 파일로 변경시켜 둔 뒤 chezmoi add 명령어를 통해 chezmoi에 등록하고 다시 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":".chezmoiignore.backup"}]},{"type":"text","value":" 파일을 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":".chezmoiignore"}]},{"type":"text","value":" 로 원상복구 시킨다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"복원-스크립트","style":"position:relative;"},"children":[{"type":"text","value":"복원 스크립트"},{"type":"element","tagName":"a","properties":{"href":"#%EB%B3%B5%EC%9B%90-%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8","ariaLabel":"복원 스크립트 permalink","className":["auto-link","after"]},"children":[{"type":"element","tagName":"svg","properties":{"viewBox":"0 0 16 16","width":"16","height":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sh"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","shebang","important"]},"children":[{"type":"text","value":"#!/bin/bash"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# plist 관리"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# /private_Library/private_Preferences 에 존재하는 plist 파일 이름을 가져와서"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# /Library/Preferences로 덮어씀(복사)."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"for"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","for-or-select","variable"]},"children":[{"type":"text","value":"file"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"in"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" .chezmoi.sourceDir "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"/private_Library/private_Preferences/*.plist"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"do"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# 파일이 심볼릭 링크인지 확인하고, 심볼릭 링크라면 건너뜀"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"if"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","parameter","variable"]},"children":[{"type":"text","value":"-L"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\""},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"$file"}]},{"type":"text","value":"\""}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"then"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","builtin","class-name"]},"children":[{"type":"text","value":"continue"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"fi"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# 파일 이름 추출"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","assign-left","variable"]},"children":[{"type":"text","value":"filename"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"$("}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"basename"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\""},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"$file"}]},{"type":"text","value":"\""}]},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":")"}]}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","assign-left","variable"]},"children":[{"type":"text","value":"new_filename"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"$("}]},{"type":"element","tagName":"span","properties":{"className":["token","builtin","class-name"]},"children":[{"type":"text","value":"echo"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\""},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"$filename"}]},{"type":"text","value":"\""}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"|"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"sed"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'s/^private_//'"}]},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":")"}]}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","builtin","class-name"]},"children":[{"type":"text","value":"echo"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'new_filename'"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"$new_filename"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# 파일을 /Library/Preferences로 복사"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"cp"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\""},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"$file"}]},{"type":"text","value":"\""}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" .chezmoi.homeDir "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"/Library/Preferences/"},{"type":"element","tagName":"span","properties":{"className":["token","variable"]},"children":[{"type":"text","value":"$new_filename"}]},{"type":"text","value":"\""}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"done"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","builtin","class-name"]},"children":[{"type":"text","value":"printf"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'\\nbefore install package 02 Done!!\\n'"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 594px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 97.60000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAADUUlEQVR42m2U63LaSBCF/RRbW0kcGxsHMKALkpCEJJDQhfvVBK/LtVu17/8QJ30aQ0IlP0YzGql6vj59em5q357R6FiIyznatof+YAQ/ThEmYzRln+sgyeCGCeqtLu7qTdw/tf44+O2m3uqgafQweXmD3R8gySpEaYFRMdUgg1GOOC0RjQoN+PdtDV9qT/h093gZn+/ruH34dgrIR02GF4+xfP0PXaEcDMcaOJS51490nVVzJOMK5Xyt+1yP8imy8rRv9HwNekPU2lMTdjjEaLaG6QTwZB0kqcyJUpI2lLSdINb0DcfXbBhwXC3gDYZodm18fWyQsIXHZhv+MEe5OcLxY6TlDPl0qanGWYnJcotqscF4stB3rp9NB399vrukzWCXlEnZMl1EVS6ne0rpBJFStERf0w1guaHOpCMpiajpORDnD8Kmbny6raN4N+FPTWT5UlKZY7n7rgWibrP1XudiusJ0tVNNz/+QmDrSMZeAXx+a8CcWjMAQgQN0bBc9P0K319dBurblStH6Sss106bGlif0XqDEp4BSlC/3DeRvDvzKxrhYqYar/VEqXCKVovCdGq73r7pPfUlazTfYHP7Rb5ThQnhbayBcCOGgC7MXouv0fyPsiKW4Z3sDHSRz+I/sc/3QaP8kvBXC7NiDV9hI0qlYZYLZan8x9nA8Ud0q0XGxecFcRiz6zkXbSP6hvm2R4CpgsrNhxQZ6XiIkA/jRSCutJFJZNzj5kr4zhJoz6XnoLz78mXK8teFkFoIol27IlOjcy+FHP7OarDz30mKmh+Win+X+oSjZ0UEvNTUg02AX0OgMxLRJxJlBaRVmkEkT9GXmIY/NzjWhV5owI0OCiBX6oVIwVQ4Wg6ZmUPY69WuLtU7kQxkxnp6Na8Li3ZWiWBiNF2qDxfaAQFKO01zSWmpPswjFh4XOFwVbld946BVhvzLFNga6lq8WoYHVJlIYFoGE58E9WknbUnTke7NjXxNW/7oS1NLWW+4OKGYrschB9eIo5TZai6lZrM3Lq9hqp5TMZHs43afXhKJhp99Fo22fCOVk2oItdmm9X945c4/Ejbapl8wV4fR/D+FMWq8UkpejXggkYYtRu+lyh+33N70g9sd3JSM5LwhqStv8APG9k2gNIMZUAAAAAElFTkSuQmCC'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"managed-plists","title":"","src":"/static/1ce2a4094d83fa718f208297c6f5a232/d32a3/managed-plists.png","srcSet":["/static/1ce2a4094d83fa718f208297c6f5a232/0eb09/managed-plists.png 500w","/static/1ce2a4094d83fa718f208297c6f5a232/d32a3/managed-plists.png 594w"],"sizes":"(max-width: 594px) 100vw, 594px","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy","decoding":"async"},"children":[]},{"type":"text","value":"\n    "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"이런 방식으로 chezmoi source 디렉토리에 저장된다. 하지만 자세히 보면 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"private_"}]},{"type":"text","value":" 라는 접두사가 붙어있는 것을 볼 수 있는데, 해당 파일이 민감한 정보를 포함하고 있어 보안을 강화하기 위한 경우에 자동으로 붙는다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"하지만 이 파일들은 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"/Library/Preferences"}]},{"type":"text","value":" 경로에 원래 plist로 존재할 때는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"private_"}]},{"type":"text","value":" 접두사가 붙어버리면 제대로 적용이 되지 않기 때문에 없애주는 것도 스크립트에 포함되어 있다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"마치며","style":"position:relative;"},"children":[{"type":"text","value":"마치며"},{"type":"element","tagName":"a","properties":{"href":"#%EB%A7%88%EC%B9%98%EB%A9%B0","ariaLabel":"마치며 permalink","className":["auto-link","after"]},"children":[{"type":"element","tagName":"svg","properties":{"viewBox":"0 0 16 16","width":"16","height":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"rm -rf ~"}]},{"type":"text","value":" 라는 명령어로 시작해 plist까지 맥 운영체제가 어떤 방식으로 설정 파일들을 관리하고 있는지 알아봤다. 맥 OS가 darwin 운영체제 위에서 돌아가는 것과, 모든 어플리케이션을 설정할 때 설정값들을 컴퓨터의 파일에 저장해두고 구동 시 설정 파일을 읽어 적용하는 사실을 알게 되었다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"프로그램의 매직은 사실 뒤에서 돌아가고 있는 것이 이렇게 많다는 것을 알 수 있는 시간이었다. 그리고 컴퓨터는 단지 연산과 I/O 작업만 하는 기계라는 생각도 동시에 든다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"그리고 사실 chezmoi의 공식 문서는 생각보다 읽기 어려웠다. 삽질을 많이 했고 템플릿에 적응하기도 쉽지 않았다. 특히 plist를 정석대로 관리하고, chezmoi diff 명령어에 걸리지 않게 하고 싶어 무척이나 많은 시간을 날렸다. 결국 우회한 방법을 사용하긴 했지만.. 물론 가볍게 사용하려면 add, apply 정도만 알아도 무난하게 사용할 수 있을 것이다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"chezmoi를 사용하면서 회사에서 신규 입사자가 오면 chezmoi를 통해 필수 어플리케이션을 설치하고, 설정해 주면 시간을 아끼고 체크해야 하는 시간을 줄일 수 있겠다는 생각을 했다. 특히 Brewfile을 잘 이용하면 좋겠다고 생각했다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"참고"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://www.chezmoi.io/","target":"_blank","rel":["nofollow"]},"children":[{"type":"text","value":"chezmoi.io"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://blog.appkr.dev/work-n-play/dotfiles/","target":"_blank","rel":["nofollow"]},"children":[{"type":"text","value":"dotfiles 만들기"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://songkg7.github.io/posts/chezmoi-awesome-dotfile-manager/","target":"_blank","rel":["nofollow"]},"children":[{"type":"text","value":"chezmoi, 세상 편리하게 dotfile 관리하기"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://zacwe.st/2021/09/14/managing-preference-plists-under-chezmoi/","target":"_blank","rel":["nofollow"]},"children":[{"type":"text","value":"Managing preference plists under Chezmoi"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://github.com/felipecrs/dotfiles","target":"_blank","rel":["nofollow"]},"children":[{"type":"text","value":"felipecrs/dotfiles"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://github.com/mathiasbynens/dotfiles/blob/main/.macos","target":"_blank","rel":["nofollow"]},"children":[{"type":"text","value":"mathiasbynens/dotfiles - .macos"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://blog.lazkani.io/posts/dotfiles-with-chezmoi/","target":"_blank","rel":["nofollow"]},"children":[{"type":"text","value":"Dotfiles with Chezmoi"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}},"excerpt":"가 얼마나 무서운 명령어인지 아는가? 리눅스 또는 맥 OS에서 사용자의 홈 디렉토리를 삭제하는 명령어다. 얼마 전 warp라는 터미널이 좋아 보여서 맥북에 설치하고 사용해 봤다. 터미널 클라이언트로 iTerm2를 사용한 지 오래되기도 했고 warp…","fields":{"readingTime":{"text":"17 min read"}},"frontmatter":{"title":"rm -rf로 날린 설정 파일 chezmoi로 관리하기","userDate":"16 April 2024","date":"2024-04-16T23:25:47","tags":["Tool","Automation","chezmoi"],"excerpt":"rm -rf ~ 명령어로 컴퓨터 말아먹고 chezmoi로 환경설정 파일을 관리한 이야기","photoAuthor":"GPT4 - DALL·E>>https://chat.openai.com/","photoVender":null,"image":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/webp;base64,UklGRtYBAABXRUJQVlA4IMoBAADQDQCdASoUAAsAAAAAJaACdMoRwN4B+AFSB74PtmyAFgAfrB1ovlHXID6QOliPNfif4Ufq7ogPw3/F3LL/xy1QD+d/kBrlv67+N3sxfkv5AeYB/Sfxm+gD+G/w7+afjv/Wv/T3AHsAfqqd1Vfi8BvMvBCAzDB6gAD+//9YxVVfdI4EZDYVgAn1Ed+bpMdzAuJMi9zWXQLvGGFTqsnuRIKopWQFQaIxlEkRlwSrTRi2TJZFUPuJqBo6pubKCodFRyOOvrhEnjQPqyJfH/10rlDqZoQZ+ttadc7dFhP3LSoNQmXvF5+R/+nrgv7pkHKGyTq0S5lhJvrpDhHfyIKn4fq3xJzqlle/rG+Qrh2oc/+W08CvGOg809OcFoRzpvM5+/6+LIv4OmJdp40da4CDLhJG4f/3pUh7XJmiUO4buPmkxU0X4DSf2Te/fmyr/9/I5v/fqzxMX55pzZvnRZChnxJ1f71wCyf0H6q/mKi9KbjlQL/kQNxpdzrGzq1rMzWUqlz1JM202rJOTYZCOBz/SFtEHppQmHjJRj+Z4o7pJYEH8Wr5imKTQGS6Wgxrphjt0aSf/lP5HQP8Zf9mZifnB/s4tWKILEyRg1cAAA=="},"images":{"fallback":{"src":"/static/eede54c8acd4dd95e82a4e798228b595/eac02/main.webp","srcSet":"/static/eede54c8acd4dd95e82a4e798228b595/c1503/main.webp 500w,\n/static/eede54c8acd4dd95e82a4e798228b595/3c7a2/main.webp 800w,\n/static/eede54c8acd4dd95e82a4e798228b595/eac02/main.webp 1170w","sizes":"100vw"},"sources":[{"srcSet":"/static/eede54c8acd4dd95e82a4e798228b595/c9b7d/main.avif 500w,\n/static/eede54c8acd4dd95e82a4e798228b595/69a73/main.avif 800w,\n/static/eede54c8acd4dd95e82a4e798228b595/3cf24/main.avif 1170w","type":"image/avif","sizes":"100vw"}]},"width":1,"height":0.5717948717948718}}},"author":[{"name":"Pozafly","bio":"Frontend Developer","avatar":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#6808f8","images":{"fallback":{"src":"/static/8c061761f263c344f2c0416607c8adf1/73bb6/pozafly.jpg","srcSet":"/static/8c061761f263c344f2c0416607c8adf1/2f28c/pozafly.jpg 40w,\n/static/8c061761f263c344f2c0416607c8adf1/499f6/pozafly.jpg 80w,\n/static/8c061761f263c344f2c0416607c8adf1/73bb6/pozafly.jpg 120w","sizes":"100vw"},"sources":[{"srcSet":"/static/8c061761f263c344f2c0416607c8adf1/e73fe/pozafly.webp 40w,\n/static/8c061761f263c344f2c0416607c8adf1/61ca6/pozafly.webp 80w,\n/static/8c061761f263c344f2c0416607c8adf1/507b0/pozafly.webp 120w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":1}}}}]}},"relatedPosts":{"totalCount":5,"edges":[{"node":{"id":"20e66498-8ae4-553a-a499-452f7df167b8","excerpt":"가 얼마나 무서운 명령어인지 아는가? 리눅스 또는 맥 OS에서 사용자의 홈 디렉토리를 삭제하는 명령어다. 얼마 전 warp라는 터미널이 좋아 보여서 맥북에 설치하고 사용해 봤다. 터미널 클라이언트로 iTerm2를 사용한 지 오래되기도 했고 warp…","frontmatter":{"title":"rm -rf로 날린 설정 파일 chezmoi로 관리하기","date":"2024-04-16T23:25:47"},"fields":{"readingTime":{"text":"17 min read"},"slug":"/tools/manage-with-rm-rf-erased-setting-file-chezmoi/"}}},{"node":{"id":"8f8d9609-6878-5a19-aaf0-2877302794ee","excerpt":"팀에서 달에 한 번 오후…","frontmatter":{"title":"Cloudflare로 배포하는 슬랙 랜덤 추첨기 앱 만들기","date":"2024-03-15T23:25:47"},"fields":{"readingTime":{"text":"23 min read"},"slug":"/tools/create-a-slack-random-drawer-app-to-deploy-with-cloudflare/"}}},{"node":{"id":"93306910-14db-5ef9-ab4d-da5410707374","excerpt":"요구사항 문서를 정독할 때 때로는 타이핑해서 옮겨 적는 것도 큰 도움이 되는 편이다. 편집기랑 창을 양쪽으로 분할 한 뒤 이해한 부분을 타이핑 하다보면 한글 타자와 영어 타자가 원하는대로 타이핑 되지 않는 상황이 꽤나 많았다. 내 맥은 CapsLock…","frontmatter":{"title":"한영타변환기 Alfred Workflow 개발기","date":"2023-06-10T20:25:47"},"fields":{"readingTime":{"text":"8 min read"},"slug":"/tools/alfred-korean-english-converter/"}}},{"node":{"id":"1383ddeb-881d-543b-a7bb-558ddcd21204","excerpt":"모두 Node.js의 버전을 관리하는 툴이다. 가장 먼저 nvm을 시작으로 Node.js 버전을 관리하다 fnm을 알게되었고, 추가로 Volta를 알게되어 세가지 툴의 속도 및 방식에 대해서 간략하게 알아본 정보를 정리해본다. nvm 먼저 nvm…","frontmatter":{"title":"노드 버전 매니저 툴 비교기(nvm & fnm & Volta)","date":"2023-03-28"},"fields":{"readingTime":{"text":"9 min read"},"slug":"/node/node-version-manager/"}}},{"node":{"id":"bf01eccd-bdc1-59ec-847a-3555d81842d6","excerpt":"nvm이란, Node Version Manager로, Node.js의 버전을 관리하는 도구다. 시스템에 여러 개의 Node.js를 설치하고 사용할 버전을 쉽게 전환할 수 있도록 도와주는 유틸이다. 이는 쉘(sh, dash, ksh, zsh, bash…","frontmatter":{"title":"nvm을 사용해 프로젝트별로 Node.js 버전 다르게 사용하기","date":"2022-04-10T12:13:47.149Z"},"fields":{"readingTime":{"text":"5 min read"},"slug":"/node/setting-npm-differently-for-each-project/"}}}]}},"pageContext":{"slug":"/tools/manage-with-rm-rf-erased-setting-file-chezmoi/","prev":null,"next":{"excerpt":"팀에서 달에 한 번 오후…","frontmatter":{"title":"Cloudflare로 배포하는 슬랙 랜덤 추첨기 앱 만들기","tags":["Tool","Cloud","Slack"],"date":"2024-03-15T23:25:47","draft":false,"photoAuthor":"ullas us>>https://unsplash.com/ko/@wildhearts>>true","photoVender":"Unsplash>>https://unsplash.com","excerpt":"Bolt-js와 Ngrok을 사용한 서버 개발환경 구성, Cloudflare의 Workers에 배포하기까지 마이그레이션 과정의 기록","image":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAYHCAn/xAAWAQEBAQAAAAAAAAAAAAAAAAAFAgj/2gAMAwEAAhADEAAAAUaxeerNpIZ7IZF5/8QAGhAAAgMBAQAAAAAAAAAAAAAAAwUBAgYEB//aAAgBAQABBQJMoM2aO/O4BxHWdlCh0/cOjPdaBvNtQ1mf/8QAIhEAAgEDBAIDAAAAAAAAAAAAAQIDBBESBQYHEwAhI2Jx/9oACAEDAQE/AY9rccRRRMZdRrFmkZ6tTTmnqII0dTFDSzfKjdikrJKyApYHGe+CttXjbJuuu3OI8jgDS6ebLcW99i39fUfnn//EACMRAAEDAwIHAAAAAAAAAAAAAAECAwQFERIAIQYHEyIjUXH/2gAIAQIBAT8Bnz+Y0qqsuQahTafBjshAbUlUnruLQpK35DPiz3sGmg8gNkZggk3Fe40AAWiglYAyIVOSCdrm3da/rI/df//EACYQAAIBBAIBAgcAAAAAAAAAAAIDAQQREhMAIQUUIjFCYWJykaH/2gAIAQEABj8CT4lDVLNxFHqTFzUguOpqdSBKpauOi1qXtx+UYEyEKzxbmiCXspq0/JTUjSmxhoijmjqj8XSDGxJlUNCpEDgWKWORAfCH0rGWm2SB3rm026YrIZ/k/ThjrTYwwL22LCYiLQUdx8L/AJd8WXkKqHmq+J6qdBTEwkbNmlQjfYULEN2crGJEJESmOdPMPtWeA/q3P//EABoQAQEBAAMBAAAAAAAAAAAAAAERIQAxQVH/2gAIAQEAAT8hG01a/RTdk2V4BLkN3aQUSnaq7bUmKRSdSywRQJRItEdY/TwdUz0JicTXbaAwUCjM0eARMIQvZ7fD5z//2gAMAwEAAgADAAAAEFPP/8QAFxEBAQEBAAAAAAAAAAAAAAAAAREAIf/aAAgBAwEBPxCOvrGp5QLsnEQzVGPiVJAlVZULN//EABcRAQEBAQAAAAAAAAAAAAAAAAERACH/2gAIAQIBAT8QOygXtFnm1tRGinQNiQFBQoI0Kl3/xAAYEAEBAQEBAAAAAAAAAAAAAAABEQAQMf/aAAgBAQABPxBav2SyHojLj3hpOvr4fEqQjcKmz1QhKgrbbxA2wgojRWcQGNE+h19op1Q2KnOpVgAkgYApKB4N/9k="},"images":{"fallback":{"src":"/static/f1883a75a3650115622d887347cf2f5d/5267c/main.jpg","srcSet":"/static/f1883a75a3650115622d887347cf2f5d/7284f/main.jpg 750w,\n/static/f1883a75a3650115622d887347cf2f5d/29ba9/main.jpg 1080w,\n/static/f1883a75a3650115622d887347cf2f5d/c8896/main.jpg 1366w,\n/static/f1883a75a3650115622d887347cf2f5d/5267c/main.jpg 1920w","sizes":"100vw"},"sources":[{"srcSet":"/static/f1883a75a3650115622d887347cf2f5d/57584/main.webp 750w,\n/static/f1883a75a3650115622d887347cf2f5d/984df/main.webp 1080w,\n/static/f1883a75a3650115622d887347cf2f5d/4a276/main.webp 1366w,\n/static/f1883a75a3650115622d887347cf2f5d/9c00f/main.webp 1920w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.6666666666666666}}}},"fields":{"readingTime":{"text":"23 min read"},"layout":"post","slug":"/tools/create-a-slack-random-drawer-app-to-deploy-with-cloudflare/"}},"primaryTag":"Tool"}},"staticQueryHashes":["1661920220"],"slicesMap":{}}