{"version":3,"file":"af52a822-be664091820f31d1059f.js","mappings":"mOAWgD,IAY1CA,EAAO,iFAAAC,EAAAA,GAAAA,UAAAA,GA+CV,OA/CUC,EAAAA,EAAAA,KAAAA,MAAAA,EAAAA,CAAAA,MAAAA,OAAAA,KAAAA,MACXC,SAAWC,EAAAA,YAAkCF,EAC7CG,YAAc,EAACH,EACfI,SAAU,EAAKJ,EACfK,MAAQ,CAAEC,WAAW,GAAON,EAa5BO,SAAW,KACJP,EAAKC,UAAaD,EAAKC,SAASO,UAIhCR,EAAKI,SACRK,sBAAsBT,EAAKU,QAG7BV,EAAKI,SAAU,EAAI,EACpBJ,EAEDU,OAAS,KACP,IAAKV,EAAKC,WAAaD,EAAKC,SAASO,QACnC,OAGFR,EAAKG,YAAcQ,OAAOC,QAE1B,MAAMC,EAAUb,EAAKC,SAASO,QAAQM,wBAAwBC,IACxDC,EAAgBhB,EAAKC,SAASO,QAAQS,aAAe,GAGvDjB,EAAKG,aAAeU,EAAUG,EAChChB,EAAKkB,SAAS,CAAEZ,WAAW,IAE3BN,EAAKkB,SAAS,CAAEZ,WAAW,IAG7BN,EAAKI,SAAU,CAAK,EACrB,GA/CUe,EAAAA,EAAAA,GAAAA,EAAAA,GA+CV,kBAuFA,OAvFAC,EAzCDC,kBAAA,WACEC,KAAKnB,YAAcQ,OAAOC,QACtBU,KAAKC,MAAMC,QACbb,OAAOc,iBAAiB,SAAUH,KAAKf,SAAU,CAAEmB,SAAS,GAEhE,EAACN,EAEDO,qBAAA,WACEhB,OAAOiB,oBAAoB,SAAUN,KAAKf,SAC5C,EAACa,EAkCDS,OAAA,WACE,MAAM,OAAEC,GAAS,EAAK,OAAEN,GAAS,EAAK,KAAEO,EAAO,CAAC,GAAMT,KAAKC,MAC3D,OACES,EAAAA,EAAAA,IAAAA,EAAAA,SAAAA,MACEA,EAAAA,EAAAA,IAAAA,MAAAA,CAAKC,IAAKC,IACRF,EAAAA,EAAAA,IAACG,EAAW,CAACC,UAAY,kBAAgBN,EAAS,UAAY,MAC5DE,EAAAA,EAAAA,IAACK,EAAAA,EAAW,OACZL,EAAAA,EAAAA,IAACM,EAAc,CAACL,IAAG,CAAGX,KAAKjB,MAAMC,UAAYiC,EAAU,GAAE,SACvDP,EAAAA,EAAAA,IAAAA,KAAAA,CAAIC,IAAKO,EAAWC,KAAK,SACvBT,EAAAA,EAAAA,IAAAA,KAAAA,CAAIS,KAAK,aACPT,EAAAA,EAAAA,IAACU,EAAAA,GAAI,CACHC,GAAG,IACHC,gBAAgB,cAChBR,UAAY,IAAEN,EAAS,UAAY,KACpC,UAIHE,EAAAA,EAAAA,IAAAA,KAAAA,CAAIS,KAAK,aACPT,EAAAA,EAAAA,IAACU,EAAAA,GAAI,CACHC,GAAG,SACHC,gBAAgB,cAChBR,UAAY,IAAEN,EAAS,UAAY,KACpC,WAIHE,EAAAA,EAAAA,IAAAA,KAAAA,CAAIS,KAAK,aACPT,EAAAA,EAAAA,IAACU,EAAAA,GAAI,CACHC,GAAG,QACHC,gBAAgB,cAChBR,UAAY,IAAEN,EAAS,UAAY,KACpC,UAIHE,EAAAA,EAAAA,IAAAA,KAAAA,CAAIS,KAAK,aACPT,EAAAA,EAAAA,IAACU,EAAAA,GAAI,CACHC,GAAG,eACHC,gBAAgB,cAChBR,UAAY,IAAEN,EAAS,UAAY,KACpC,WAKJN,IACCQ,EAAAA,EAAAA,IAACa,EAAY,CAACC,IAAKxB,KAAKrB,SAAUmC,UAAU,kBACzCL,EAAKgB,UAKdf,EAAAA,EAAAA,IAACgB,EAAY,MACXhB,EAAAA,EAAAA,IAACiB,EAAW,KACTC,EAAAA,EAAAA,YACClB,EAAAA,EAAAA,IAAAA,IAAAA,CACEI,WAAcN,EAAS,UAAY,IAAvB,cACZG,IAAG,CAAGkB,EAAAA,GAAYC,EAAAA,GAAY,OAC9BC,KAAMH,EAAAA,EAAAA,UACNI,OAAO,SACPP,MAAM,YACNQ,IAAI,wBAEJvB,EAAAA,EAAAA,IAACwB,EAAAA,EAAS,OAGbN,EAAAA,EAAAA,SACClB,EAAAA,EAAAA,IAAAA,IAAAA,CACEI,WAAcN,EAAS,UAAY,IAAvB,cACZG,IAAKkB,EAAAA,GACLE,KAAMH,EAAAA,EAAAA,OACNH,MAAM,SACNO,OAAO,SACPC,IAAI,wBAEJvB,EAAAA,EAAAA,IAACyB,EAAAA,EAAM,QAGXzB,EAAAA,EAAAA,IAAC0B,EAAAA,EAAe,CAAC5B,OAAQA,OAMrC,EAAC,EAtIU,CAAS5B,EAAAA,eAyItB,MAAMgC,EAAgB,CAAHyB,KAAAA,SAAAC,OAAAA,kJAWbzB,GAAW,cAAAmB,OAAAA,aAAA,EAAAK,KAAAA,SAAAC,OAAAA,oTAqBXtB,GAAc,cAAAgB,OAAAA,aAAA,EAAAK,KAAAA,SAAAC,OAAAA,4CAKdpB,EAAaqB,IAAiB5B,EAAAA,EAAAA,IAAG,gQAoB1B4B,EAAMC,IAAIC,UAAS,4OAqBdF,EAAMC,IAAIC,UAAS,kLAsB/Bf,GAAY,cAAAM,OAAAA,aAAA,EAAAK,KAAAA,SAAAC,OAAAA,sGASZX,GAAW,cAAAK,OAAAA,aAAA,EAAAK,KAAAA,UAAAC,OAAAA,wGAYXf,GAAY,eAAAS,OAAAA,aAAA,uDAIPU,IAAA,IAAC,MAAEH,GAAO,SAAKA,EAAMC,IAAIC,SAAS,+TAyBvCxB,EAAU,CAAHoB,KAAAA,SAAAC,OAAAA,sIAab,K","sources":["webpack://gatsby-casper/./src/components/header/SiteNav.tsx"],"sourcesContent":["import { Link } from 'gatsby';\nimport React from 'react';\n\nimport { Theme, css } from '@emotion/react';\nimport styled from '@emotion/styled';\n\nimport { SocialLink, SocialLinkFb } from '../../styles/shared';\nimport config from '../../website-config';\nimport { Instagram } from '../icons/instagram';\nimport { Github } from '../icons/github';\nimport { SiteNavLogo } from './SiteNavLogo';\nimport ThemeModeSwitch from './ThemeModeSwitch';\n\ntype SiteNavProps = {\n  isHome?: boolean;\n  isPost?: boolean;\n  post?: any;\n};\n\ntype SiteNavState = {\n  showTitle: boolean;\n};\n\nclass SiteNav extends React.PureComponent<SiteNavProps, SiteNavState> {\n  titleRef = React.createRef<HTMLSpanElement>();\n  lastScrollY = 0;\n  ticking = false;\n  state = { showTitle: false };\n\n  componentDidMount(): void {\n    this.lastScrollY = window.scrollY;\n    if (this.props.isPost) {\n      window.addEventListener('scroll', this.onScroll, { passive: true });\n    }\n  }\n\n  componentWillUnmount(): void {\n    window.removeEventListener('scroll', this.onScroll);\n  }\n\n  onScroll = () => {\n    if (!this.titleRef || !this.titleRef.current) {\n      return;\n    }\n\n    if (!this.ticking) {\n      requestAnimationFrame(this.update);\n    }\n\n    this.ticking = true;\n  };\n\n  update = () => {\n    if (!this.titleRef || !this.titleRef.current) {\n      return;\n    }\n\n    this.lastScrollY = window.scrollY;\n\n    const trigger = this.titleRef.current.getBoundingClientRect().top;\n    const triggerOffset = this.titleRef.current.offsetHeight + 35;\n\n    // show/hide post title\n    if (this.lastScrollY >= trigger + triggerOffset) {\n      this.setState({ showTitle: true });\n    } else {\n      this.setState({ showTitle: false });\n    }\n\n    this.ticking = false;\n  };\n\n  render() {\n    const { isHome = false, isPost = false, post = {} } = this.props;\n    return (\n      <>\n        <nav css={SiteNavStyles}>\n          <SiteNavLeft className={`site-nav-left ${isHome ? 'is-home' : ''}`}>\n            <SiteNavLogo />\n            <SiteNavContent css={[this.state.showTitle ? HideNav : '']}>\n              <ul css={NavStyles} role=\"menu\">\n                <li role=\"menuitem\">\n                  <Link\n                    to=\"/\"\n                    activeClassName=\"nav-current\"\n                    className={`${isHome ? 'is-home' : ''}`}\n                  >\n                    Home\n                  </Link>\n                </li>\n                <li role=\"menuitem\">\n                  <Link\n                    to=\"/about\"\n                    activeClassName=\"nav-current\"\n                    className={`${isHome ? 'is-home' : ''}`}\n                  >\n                    About\n                  </Link>\n                </li>\n                <li role=\"menuitem\">\n                  <Link\n                    to=\"/tags\"\n                    activeClassName=\"nav-current\"\n                    className={`${isHome ? 'is-home' : ''}`}\n                  >\n                    Tags\n                  </Link>\n                </li>\n                <li role=\"menuitem\">\n                  <Link\n                    to=\"/tags/diary/\"\n                    activeClassName=\"nav-current\"\n                    className={`${isHome ? 'is-home' : ''}`}\n                  >\n                    Diary\n                  </Link>\n                </li>\n              </ul>\n              {isPost && (\n                <NavPostTitle ref={this.titleRef} className=\"nav-post-title\">\n                  {post.title}\n                </NavPostTitle>\n              )}\n            </SiteNavContent>\n          </SiteNavLeft>\n          <SiteNavRight>\n            <SocialLinks>\n              {config.instagram && (\n                <a\n                  className={`${isHome ? 'is-home' : ''} not-mobile`}\n                  css={[SocialLink, SocialLinkFb]}\n                  href={config.instagram}\n                  target=\"_blank\"\n                  title=\"Instagram\"\n                  rel=\"noopener noreferrer\"\n                >\n                  <Instagram />\n                </a>\n              )}\n              {config.github && (\n                <a\n                  className={`${isHome ? 'is-home' : ''} not-mobile`}\n                  css={SocialLink}\n                  href={config.github}\n                  title=\"Github\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  <Github />\n                </a>\n              )}\n              <ThemeModeSwitch isHome={isHome} />\n            </SocialLinks>\n          </SiteNavRight>\n        </nav>\n      </>\n    );\n  }\n}\n\nconst SiteNavStyles = css`\n  position: relative;\n  z-index: 100;\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  overflow-y: hidden;\n  height: 64px;\n  font-size: 1.3rem;\n`;\n\nconst SiteNavLeft = styled.div`\n  flex: 1 0 auto;\n  display: flex;\n  align-items: center;\n  overflow-x: auto;\n  overflow-y: hidden;\n  -webkit-overflow-scrolling: touch;\n  margin-right: 10px;\n  padding: 10px 0 80px;\n  font-weight: 500;\n  letter-spacing: 0.2px;\n  text-transform: uppercase;\n  white-space: nowrap;\n\n  -ms-overflow-scrolling: touch;\n\n  @media (max-width: 700px) {\n    margin-right: 0;\n  }\n`;\n\nconst SiteNavContent = styled.div`\n  position: relative;\n  align-self: flex-start;\n`;\n\nconst NavStyles = (theme: Theme) => css`\n  position: absolute;\n  z-index: 1000;\n  display: flex;\n  margin: 0 0 0 -12px;\n  padding: 0;\n  list-style: none;\n  transition: all 1s cubic-bezier(0.19, 1, 0.22, 1);\n\n  li {\n    display: block;\n    margin: 0;\n    padding: 0;\n  }\n\n  li a {\n    font-size: 1.2rem;\n    position: relative;\n    display: block;\n    padding: 10px 12px;\n    color: ${theme.nav.linkColor};\n    opacity: 0.8;\n    transition: opacity 0.35s ease-in-out;\n\n    @media (max-width: 700px) {\n      padding: 10px 8px;\n    }\n  }\n\n  li a:hover {\n    text-decoration: none;\n    opacity: 1;\n  }\n\n  li a:before {\n    content: '';\n    position: absolute;\n    right: 100%;\n    bottom: 8px;\n    left: 12px;\n    height: 1px;\n    background: ${theme.nav.linkColor};\n    opacity: 0.25;\n    transition: all 0.35s ease-in-out;\n  }\n\n  li a:hover:before {\n    right: 12px;\n    opacity: 0.5;\n  }\n\n  li a.is-home {\n    color: #fff;\n    &:before {\n      background: #fff;\n    }\n  }\n\n  .nav-current {\n    opacity: 1;\n  }\n`;\n\nconst SiteNavRight = styled.div`\n  flex: 0 1 auto;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  padding: 10px 0;\n  height: 64px;\n`;\n\nconst SocialLinks = styled.div`\n  flex-shrink: 0;\n  display: flex;\n  align-items: center;\n\n  @media (max-width: 700px) {\n    .not-mobile {\n      display: none;\n    }\n  }\n`;\n\nconst NavPostTitle = styled.span`\n  visibility: hidden;\n  position: absolute;\n  top: 9px;\n  color: ${({ theme }) => theme.nav.linkColor};\n  font-size: 1.7rem;\n  font-weight: 400;\n  text-transform: none;\n  opacity: 0;\n  transition: all 1s cubic-bezier(0.19, 1, 0.22, 1);\n  transform: translateY(175%);\n\n  @media (max-width: 700px) {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    max-width: calc(100vw - 110px);\n  }\n\n  .dash {\n    left: -25px;\n  }\n\n  .dash:before {\n    content: '– ';\n    opacity: 0.5;\n  }\n`;\n\nconst HideNav = css`\n  ul {\n    visibility: hidden;\n    opacity: 0;\n    transform: translateY(-175%);\n  }\n  .nav-post-title {\n    visibility: visible;\n    opacity: 1;\n    transform: translateY(0);\n  }\n`;\n\nexport default SiteNav;\n"],"names":["SiteNav","args","_this","titleRef","React","lastScrollY","ticking","state","showTitle","onScroll","current","requestAnimationFrame","update","window","scrollY","trigger","getBoundingClientRect","top","triggerOffset","offsetHeight","setState","_inheritsLoose","_proto","componentDidMount","this","props","isPost","addEventListener","passive","componentWillUnmount","removeEventListener","render","isHome","post","___EmotionJSX","css","SiteNavStyles","SiteNavLeft","className","SiteNavLogo","SiteNavContent","HideNav","NavStyles","role","Link","to","activeClassName","NavPostTitle","ref","title","SiteNavRight","SocialLinks","config","SocialLink","SocialLinkFb","href","target","rel","Instagram","Github","ThemeModeSwitch","name","styles","theme","nav","linkColor","_ref"],"sourceRoot":""}