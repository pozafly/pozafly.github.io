<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.15.0"/><meta name="description" content="rm -rf ~ 명령어로 컴퓨터 말아먹고 chezmoi로 환경설정 파일을 관리한 이야기" data-gatsby-head="true"/><meta property="og:site_name" content="Pozafly&#x27;s Blog" data-gatsby-head="true"/><meta property="og:type" content="article" data-gatsby-head="true"/><meta property="og:title" content="rm -rf로 날린 컴퓨터, chezmoi로 관리하기" data-gatsby-head="true"/><meta property="og:description" content="rm -rf ~ 명령어로 컴퓨터 말아먹고 chezmoi로 환경설정 파일을 관리한 이야기" data-gatsby-head="true"/><meta property="og:url" content="https://pozafly.github.io/tools/manage-with-rm-rf-erased-setting-file-chezmoi/" data-gatsby-head="true"/><meta property="og:image" content="https://pozafly.github.io/static/eede54c8acd4dd95e82a4e798228b595/e7867/main.webp" data-gatsby-head="true"/><meta property="article:published_time" content="2024-04-16T14:25:47.000Z" data-gatsby-head="true"/><meta property="article:tag" content="Tool" data-gatsby-head="true"/><meta name="github:card" content="summary_large_image" data-gatsby-head="true"/><meta name="github:title" content="rm -rf로 날린 컴퓨터, chezmoi로 관리하기" data-gatsby-head="true"/><meta name="github:description" content="rm -rf ~ 명령어로 컴퓨터 말아먹고 chezmoi로 환경설정 파일을 관리한 이야기" data-gatsby-head="true"/><meta name="github:url" content="https://pozafly.github.io/tools/manage-with-rm-rf-erased-setting-file-chezmoi/" data-gatsby-head="true"/><meta name="github:image" content="https://pozafly.github.io/static/eede54c8acd4dd95e82a4e798228b595/e7867/main.webp" data-gatsby-head="true"/><meta name="github:label1" content="Written by" data-gatsby-head="true"/><meta name="github:data1" content="Pozafly" data-gatsby-head="true"/><meta name="github:label2" content="Filed under" data-gatsby-head="true"/><meta name="github:data2" content="Tool" data-gatsby-head="true"/><meta name="github:site" content="@pozafly" data-gatsby-head="true"/><meta name="github:creator" content="@pozafly" data-gatsby-head="true"/><meta property="og:image:width" content="1" data-gatsby-head="true"/><meta property="og:image:height" content="0.5717948717948718" data-gatsby-head="true"/><style data-href="/styles.d4d27a32d6eda6a27949.css" data-identity="gatsby-global-css">@font-face{font-display:swap;font-family:Pretendard;font-weight:700;src:local("Pretendard Bold"),url(/fonts/pretendard/Pretendard-Bold.subset.woff2) format("woff2")}@font-face{font-display:swap;font-family:Pretendard;font-weight:600;src:local("Pretendard SemiBold"),url(/fonts/pretendard/Pretendard-SemiBold.subset.woff2) format("woff2")}@font-face{font-display:swap;font-family:Pretendard;font-weight:500;src:local("Pretendard Medium"),url(/fonts/pretendard/Pretendard-Medium.subset.woff2) format("woff2")}@font-face{font-display:swap;font-family:Pretendard;font-weight:400;src:local("Pretendard Regular"),url(/fonts/pretendard/Pretendard-Regular.subset.woff2) format("woff2")}@font-face{font-display:swap;font-family:Pretendard;font-weight:300;src:local("Pretendard Light"),url(/fonts/pretendard/Pretendard-Light.subset.woff2) format("woff2")}</style><link rel="icon" href="/favicon-32x32.png?v=a62d45ddbe29cf42da820a576d9375e1" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=a62d45ddbe29cf42da820a576d9375e1"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=a62d45ddbe29cf42da820a576d9375e1"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=a62d45ddbe29cf42da820a576d9375e1"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=a62d45ddbe29cf42da820a576d9375e1"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=a62d45ddbe29cf42da820a576d9375e1"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=a62d45ddbe29cf42da820a576d9375e1"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=a62d45ddbe29cf42da820a576d9375e1"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=a62d45ddbe29cf42da820a576d9375e1"/><link rel="sitemap" type="application/xml" href="/sitemap-index.xml"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><style type="text/css">
    .auto-link.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .auto-link.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .auto-link svg,
    h2 .auto-link svg,
    h3 .auto-link svg,
    h4 .auto-link svg,
    h5 .auto-link svg,
    h6 .auto-link svg {
      visibility: hidden;
    }
    h1:hover .auto-link svg,
    h2:hover .auto-link svg,
    h3:hover .auto-link svg,
    h4:hover .auto-link svg,
    h5:hover .auto-link svg,
    h6:hover .auto-link svg,
    h1 .auto-link:focus svg,
    h2 .auto-link:focus svg,
    h3 .auto-link:focus svg,
    h4 .auto-link:focus svg,
    h5 .auto-link:focus svg,
    h6 .auto-link:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 100)
          }), 0)
        }
      }
    })
  </script><link rel="canonical" href="https://pozafly.github.io/tools/manage-with-rm-rf-erased-setting-file-chezmoi/" data-baseprotocol="https:" data-basehost="pozafly.github.io"/><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-SLQNH3ND3J"></script><script>
      
      function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='G-SLQNH3ND3J',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
      if(!(navigator.doNotTrack == "1" || window.doNotTrack == "1")) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-SLQNH3ND3J', {"anonymize_ip":true,"cookie_expires":0,"send_page_view":false});
      }
      </script><link rel="preload" href="/fonts/pretendard/Pretendard-Bold.subset.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><link rel="preload" href="/fonts/pretendard/Pretendard-SemiBold.subset.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><link rel="preload" href="/fonts/pretendard/Pretendard-Medium.subset.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><link rel="preload" href="/fonts/pretendard/Pretendard-Regular.subset.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><link rel="preload" href="/fonts/pretendard/Pretendard-Light.subset.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><title data-gatsby-head="true">rm -rf로 날린 컴퓨터, chezmoi로 관리하기</title></head><body><script>
  (function() {
    window.__onThemeChange = function() {}; // 컴포넌트에서 정의할 테마 변경 콜백

    let preferredTheme; // 초기화에 사용할 테마
    try {
      const saved = localStorage.getItem('theme') // 로컬 스토리지에 있는 것 사용
      if (saved) {
        preferredTheme = saved.toLowerCase()
      }
    } catch (err) { }

    // 테마 설정 함수
    window.__setPreferredTheme = function(newTheme) {
      window.__theme = newTheme; // 테마는 전역 변수에 저장
      preferredTheme = newTheme;
      document.body.className = newTheme; // 바디에 클래스 추가
      window.__onThemeChange(newTheme); // 콜백 실행

      try {
        localStorage.setItem('theme', newTheme);
      } catch (err) {}
    }

    // 컬러모드 미디어 쿼리 객체를 가져온다
    const darkQuery = window.matchMedia('(prefers-color-scheme: dark)');

    // 컬러모드 변경 탐지 이벤트 리스터 추가
    darkQuery.addListener(function(e) {
      window.__setPreferredTheme(e.matches ? 'dark' : 'light')
    });

    // 테마 설정. 저장된 테마가 없으면 시스템 설정을 사용한다.
    window.__setPreferredTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'));
  })();
  </script><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="post-template"><style data-emotion="css-global 10pnfog">html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,dl,dt,dd,ol,fieldset,form,label,legend,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;font:inherit;font-size:16px;vertical-align:baseline;border:0;}html .error-front-page,body .error-front-page,div .error-front-page,span .error-front-page,applet .error-front-page,object .error-front-page,iframe .error-front-page,h1 .error-front-page,h2 .error-front-page,h3 .error-front-page,h4 .error-front-page,h5 .error-front-page,h6 .error-front-page,p .error-front-page,blockquote .error-front-page,pre .error-front-page,a .error-front-page,abbr .error-front-page,acronym .error-front-page,address .error-front-page,big .error-front-page,cite .error-front-page,code .error-front-page,del .error-front-page,dfn .error-front-page,em .error-front-page,img .error-front-page,ins .error-front-page,kbd .error-front-page,q .error-front-page,s .error-front-page,samp .error-front-page,small .error-front-page,strike .error-front-page,strong .error-front-page,sub .error-front-page,sup .error-front-page,tt .error-front-page,var .error-front-page,dl .error-front-page,dt .error-front-page,dd .error-front-page,ol .error-front-page,fieldset .error-front-page,form .error-front-page,label .error-front-page,legend .error-front-page,article .error-front-page,aside .error-front-page,canvas .error-front-page,details .error-front-page,embed .error-front-page,figure .error-front-page,figcaption .error-front-page,footer .error-front-page,header .error-front-page,hgroup .error-front-page,menu .error-front-page,nav .error-front-page,output .error-front-page,ruby .error-front-page,section .error-front-page,summary .error-front-page,time .error-front-page,mark .error-front-page,audio .error-front-page,video .error-front-page{font-size:1.6rem;}html{overflow:hidden scroll;box-sizing:border-box;font-size:62.5%;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgb(0 0 0 / 0);}body{overflow-x:hidden;font-size:1.6rem;-moz-font-feature-settings:'liga' on;font-weight:400;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;line-height:1.6em;color:var(--body-color);letter-spacing:0;background:var(--background-color);text-rendering:optimizeLegibility;word-break:break-word;}body::-webkit-scrollbar{width:6px;background-color:transparent;}body::-webkit-scrollbar-thumb{background-color:hsl(230 5% 35%);border-radius:8px;}body.light{--body-color:#303a3e;--background-color:#fff;--main-color:#000;--link-color:#0a0b0c;--border-top-color:#e4eaed;--nav-background:rgb(255 255 255 / 0.4);--nav-border-color:rgb(0 0 0 / 0.05);--header-color:var(--background-color);--header-after:var(--background-color);--header-before:rgb(0 0 0 / 0.15);--author-border:#fff;--home-header-color:#15171A;--home-header-border-bottom:#eaeff1;--header-author-link:#15171A;--no-image-border:#eaeff1;--strong-font-weight:600;--anchor-color:#0b63f0;--anchor-secondary-color:#768086;--loader-color:hsla(230 40% 10% / 0.8);--loader-color2:hsla(230 40% 10% / 0.2);--image-border-color:hsl(230 25% 94%);--image-border-color__dark:hsl(230 6% 23%);--post-card-title:rgb(21 23 26);--post-card-description:rgb(48 58 62);--post-card-by-line:#434952;--strong-color:#0a0b0c;--figcaption-color:#000;--table-first-of-type:linear-gradient(
        to right,
        rgb(255 255 255) 50%,
        rgb(255 255 255 / 0) 100%
      );--table-last-of-type:linear-gradient(
        to left,
        rgb(255 255 255) 50%,
        rgb(255 255 255 / 0) 100%
      );--table-th-background:#f4f8fb;--table-th-border:#e1edf4;--tag-boxshadow:hsl(218 53% 10% / 0.12);--tag-background:#f5f5f5;--post-full-border:#e4eaed;--post-full-meta-link:#2c3036;--post-full-meta-link-hover:#15171A;--post-full-title:#0b0c0e;--highlight-background:#fafafa;--highlight-border:#d1d1d1;--pre-code-color:#000;--little-code-background:var(--highlight-background);--little-code-border:#d1d1d1;--prism-background:hsl(0 0% 90.66%);--prism-border-left:hsl(0 0% 82.88%);--about-box-shadow:10px 10px 30px #bebebe,-10px -10px 30px #fff;--post-card-opacity:0;--post-card-background:rgb(0 0 0 / 0.1);--post-card-after-opacity:1;}body.dark{--body-color:rgba(255 255 255 / 0.75);--background-color:#191b1f;--main-color:#fff;--link-color:rgba(255 255 255 / 0.9);--border-top-color:#2b2f36;--nav-background:rgba(25 27 31 / 0.4);--nav-border-color:rgba(255 255 255 / 0.05);--header-color:#0a0b0c;--header-after:#191b1f;--header-before:rgba(0 0 0 / 0.6);--author-border:#1a1c20;--home-header-color:rgba(255 255 255 / 0.9);--home-header-border-bottom:#272a30;--header-author-link:rgba(255 255 255 / 0.75);--no-image-border:#3b4049;--strong-font-weight:500;--anchor-color:#2071f3;--anchor-secondary-color:#90a2aa;--loader-color:hsl(230 40% 90% / 0.8);--loader-color2:hsl(230 40% 90% / 0.2);--image-border-color:hsl(230 6% 23%);--image-border-color__dark:hsl(230 6% 23%);--post-card-title:rgba(255 255 255 / 0.85);--post-card-description:#768086;--post-card-by-line:rgba(255 255 255 / 0.75);--strong-color:#f2f2f2;--figcaption-color:rgba(255 255 255 / 0.6);--table-first-of-type:linear-gradient(
        to right,
        #191b1f 50%,
        #191b1f 100%
      );--table-last-of-type:linear-gradient(270deg, #191b1f 50%, rgb(25 27 31));--table-th-background:#2b2f36;--table-th-border:var(--table-th-background);--tag-background:#1f2125;--tag-boxshadow:#090f1a;--post-full-border:#3b4049;--post-full-meta-link:rgb(255 255 255 / 0.75);--post-full-meta-link-hover:#fff;--post-full-title:rgb(255 255 255 / 0.9);--highlight-background:rgb(32 36 39);--highlight-border:none;--pre-code-color:#c9d1d9;--little-code-background:rgb(96 98 100 / 0.4);--little-code-border:none;--prism-background:rgb(0 0 0 / 0.4);--prism-border-left:#818181;--about-box-shadow:10px 20px 20px hsl(0 0 0 / 0.3);--post-card-opacity:0.6;--post-card-background:rgb(0 0 0 / 0.3);--post-card-after-opacity:0.1;}html,body{font-family:Pretendard,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Noto Sans','Ubuntu','Droid Sans','Helvetica Neue',sans-serif;}a{color:var(--anchor-color);-webkit-text-decoration:none;text-decoration:none;background-color:transparent;}a:hover{-webkit-text-decoration:underline;text-decoration:underline;}a:active,a:hover{outline:0;}ol,ul{max-width:100%;padding-left:1.3em;list-style:none;}blockquote,q{quotes:none;}blockquote:before,blockquote:after,q:before,q:after{content:none;}table{border-spacing:0;border-collapse:collapse;}img{max-width:100%;border:0;}*,*:before,*:after{box-sizing:inherit;}b,strong{font-weight:var(--strong-font-weight);}i,em,dfn{font-style:italic;}small{font-size:80%;}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline;}sup{top:-0.5em;}sub{bottom:-0.25em;}mark{background-color:#fdffb6;}code,kbd,pre,samp{font-family:monospace;font-size:1em;}button,input,optgroup,select,textarea{margin:0;font:inherit;color:inherit;}button{overflow:visible;border:none;}button,select{text-transform:none;}button,html input[type='button'],input[type='reset'],input[type='submit']{cursor:pointer;-webkit-appearance:button;}button[disabled],html input[disabled]{cursor:default;}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0;}input{line-height:normal;}input:focus{outline:none;}input[type='checkbox'],input[type='radio']{box-sizing:border-box;padding:0;}input[type='number']::-webkit-inner-spin-button,input[type='number']::-webkit-outer-spin-button{height:auto;}input[type='search']{box-sizing:content-box;-webkit-appearance:textfield;}input[type='search']::-webkit-search-cancel-button,input[type='search']::-webkit-search-decoration{-webkit-appearance:none;}legend{padding:0;border:0;}textarea{resize:vertical;overflow:auto;}td,th{padding:0;}hr{position:relative;display:block;width:100%;height:1px;margin:2.5em 0 3.5em;padding:0;border:0;border-top:1px solid var(--border-top-color);}audio,canvas,iframe,img,svg,video{vertical-align:middle;}svg:not(:root){overflow:hidden;}fieldset{margin:0;padding:0;border:0;}p,ul,ol,dl,blockquote{margin:0 0 1.5em;}ul{list-style:disc;}ol{list-style:decimal;}ol ol,ul ul,ul ol,ol ul{margin:0.5em 0 1em;}li{margin:0.4em 0;padding-left:0.3em;line-height:1.6em;}dt{float:left;width:120px;margin:0 20px 0 0;font-weight:500;color:#15171A;text-align:right;}dd{margin:0 0 5px;text-align:left;}blockquote{margin:1.5em 0;padding:0 1.6em;border-left:#e5eff5 0.5em solid;}blockquote p{margin:0.8em 0;font-size:1.2em;font-weight:400;}blockquote small{display:inline-block;margin:0.8em 0 0.8em 1.5em;font-size:0.9em;opacity:0.8;}blockquote cite{font-weight:700;}blockquote cite a{font-weight:400;}h1,h2,h3,h4,h5,h6{margin-top:0;font-weight:600;line-height:1.15;text-rendering:optimizeLegibility;}h1 a.auto-link,h2 a.auto-link,h3 a.auto-link,h4 a.auto-link,h5 a.auto-link,h6 a.auto-link{box-shadow:none!important;}h1 a.auto-link:hover,h2 a.auto-link:hover,h3 a.auto-link:hover,h4 a.auto-link:hover,h5 a.auto-link:hover,h6 a.auto-link:hover{box-shadow:none!important;}h1 a.auto-link svg,h2 a.auto-link svg,h3 a.auto-link svg,h4 a.auto-link svg,h5 a.auto-link svg,h6 a.auto-link svg{opacity:0;fill:var(--link-color)!important;-webkit-transition:0.25s ease;transition:0.25s ease;}h1:hover a.auto-link svg,h2:hover a.auto-link svg,h3:hover a.auto-link svg,h4:hover a.auto-link svg,h5:hover a.auto-link svg,h6:hover a.auto-link svg{opacity:1;}h1{margin:0 0 0.5em;font-size:5.5rem;font-weight:600;}@media (max-width: 500px){h1{font-size:2.2rem;}}h2{margin:1.5em 0 0.5em;font-size:2.2rem;}@media (max-width: 500px){h2{font-size:1.8rem;}}h3{margin:1.5em 0 0.5em;font-size:1.8rem;font-weight:500;}@media (max-width: 500px){h3{font-size:1.7rem;}}h4{margin:1.5em 0 0.5em;font-size:1.6rem;font-weight:500;}h5{margin:1.5em 0 0.5em;font-size:1.4rem;font-weight:500;}h6{margin:1.5em 0 0.5em;font-size:1.4rem;font-weight:500;}.medium-zoom-overlay{-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);}.gatsby-resp-image-background-image{border-radius:6px;}.gatsby-resp-image-wrapper{margin:40px 0;}@media (max-width: 800px){.gatsby-resp-image-wrapper{width:100%;margin:initial;}}.medium-zoom-image{box-shadow:none!important;}.copyright{font-size:1.4rem;}.copyright a{font-size:inherit;}</style><style data-emotion="css vva9px">.css-vva9px .site-main{margin-top:64px;padding-bottom:4vw;background:var(--background-color);}</style><style data-emotion="css 163jdes">.css-163jdes{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;}.css-163jdes .site-main{margin-top:64px;padding-bottom:4vw;background:var(--background-color);}</style><div class="css-163jdes e1xu36er0"><header class="site-header"><style data-emotion="css 1kbvt30">.css-1kbvt30{position:relative;padding:0 5vw;position:fixed;z-index:1000;top:0;right:0;left:0;background:var(--nav-background);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px);border-bottom:1px solid var(--nav-border-color);}</style><div class="css-1kbvt30"><style data-emotion="css 8aaawc">.css-8aaawc{width:100%;max-width:1040px;margin:0 auto;}</style><div class="css-8aaawc"><style data-emotion="css tetqay">.css-tetqay{position:relative;z-index:100;overflow-y:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;height:52px;font-size:1.3rem;}</style><nav class="css-tetqay"><style data-emotion="css qxzoul">.css-qxzoul{overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-right:10px;font-weight:500;text-transform:uppercase;letter-spacing:0.2px;white-space:nowrap;-webkit-overflow-scrolling:touch;-ms-overflow-scrolling:touch;}@media (max-width: 700px){.css-qxzoul{margin-right:0;}}</style><div class="site-nav-left css-qxzoul esgr0m44"><style data-emotion="css yn94hc">.css-yn94hc{position:relative;z-index:100;display:inline-block;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:32px;padding:12px 0;font-size:1.7rem;font-weight:700;line-height:1.8rem;color:#fff;text-transform:none;letter-spacing:-0.5px;}.css-yn94hc:hover{-webkit-text-decoration:none;text-decoration:none;}.css-yn94hc img{display:block;width:auto;height:21px;}@media (max-width: 700px){.css-yn94hc{margin-right:18px;}}</style><a class="site-nav-logo css-yn94hc" href="/"><img src="/static/a62d45ddbe29cf42da820a576d9375e1/aef42/alien.png" alt="Pozafly&#x27;s Blog" width="21" height="21"/></a><style data-emotion="css 1xdepn">.css-1xdepn{position:relative;-webkit-align-self:flex-start;-ms-flex-item-align:flex-start;align-self:flex-start;}</style><div class="css-1xdepn esgr0m43"><style data-emotion="css f30i1v">.css-f30i1v{position:absolute;z-index:1000;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:0 0 0 -12px;padding:0;list-style:none;-webkit-transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);}.css-f30i1v li{display:block;margin:0;padding:0;}.css-f30i1v li a{position:relative;display:block;padding:10px 12px;font-size:1.2rem;color:var(--main-color);opacity:0.7;-webkit-transition:opacity 0.2s ease-in-out;transition:opacity 0.2s ease-in-out;}@media (max-width: 700px){.css-f30i1v li a{padding:10px 8px;}}.css-f30i1v li a:hover{-webkit-text-decoration:none;text-decoration:none;opacity:1;}.css-f30i1v .nav-current{opacity:1;}</style><ul role="menu" class="css-f30i1v"><li role="menuitem"><a href="/">Home</a></li><li role="menuitem"><a href="/about/">About</a></li><li role="menuitem"><a href="/tags/">Tags</a></li><li role="menuitem"><a href="/tags/diary/">Diary</a></li></ul><style data-emotion="css 289bqd">.css-289bqd{position:absolute;top:10px;-webkit-transform:translateY(175%);-moz-transform:translateY(175%);-ms-transform:translateY(175%);transform:translateY(175%);font-size:1.7rem;font-weight:400;color:var(--main-color);text-transform:none;visibility:hidden;opacity:0;-webkit-transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);}.css-289bqd .dash{left:-25px;}.css-289bqd .dash:before{content:'- ';opacity:0.5;}@media (max-width: 700px){.css-289bqd{overflow:hidden;max-width:calc(100vw - 126px);text-overflow:ellipsis;white-space:nowrap;}}</style><span class="nav-post-title css-289bqd esgr0m40">rm -rf로 날린 컴퓨터, chezmoi로 관리하기</span></div></div><style data-emotion="css 1wxq7hc">.css-1wxq7hc{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:0 1 auto;-ms-flex:0 1 auto;flex:0 1 auto;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;}</style><div class="css-1wxq7hc esgr0m42"><style data-emotion="css 150gfpr">.css-150gfpr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}@media (max-width: 700px){.css-150gfpr .not-mobile{display:none;}}</style><div class="css-150gfpr esgr0m41"><style data-emotion="css u4kwjs">.css-u4kwjs{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;margin:0;padding:10px;opacity:0.8;-webkit-transition:opacity 0.35s ease;transition:opacity 0.35s ease;}.css-u4kwjs:hover{opacity:1;}.css-u4kwjs svg{height:1.8rem;fill:var(--main-color);-webkit-transition:fill 0.45s ease;transition:fill 0.45s ease;}.css-u4kwjs.is-white svg{fill:#fff;}</style><a class="not-mobile css-u4kwjs" href="https://github.com/pozafly" title="Github" target="_blank" rel="noopener noreferrer"><svg width="21px" height="21px" viewBox="0 0 1024 1024" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 0C3.58 0 0 3.58 0 8C0 11.54 2.29 14.53 5.47 15.59C5.87 15.66 6.02 15.42 6.02 15.21C6.02 15.02 6.01 14.39 6.01 13.72C4 14.09 3.48 13.23 3.32 12.78C3.23 12.55 2.84 11.84 2.5 11.65C2.22 11.5 1.82 11.13 2.49 11.12C3.12 11.11 3.57 11.7 3.72 11.94C4.44 13.15 5.59 12.81 6.05 12.6C6.12 12.08 6.33 11.73 6.56 11.53C4.78 11.33 2.92 10.64 2.92 7.58C2.92 6.71 3.23 5.99 3.74 5.43C3.66 5.23 3.38 4.41 3.82 3.31C3.82 3.31 4.49 3.1 6.02 4.13C6.66 3.95 7.34 3.86 8.02 3.86C8.7 3.86 9.38 3.95 10.02 4.13C11.55 3.09 12.22 3.31 12.22 3.31C12.66 4.41 12.38 5.23 12.3 5.43C12.81 5.99 13.12 6.7 13.12 7.58C13.12 10.65 11.25 11.33 9.47 11.53C9.76 11.78 10.01 12.26 10.01 13.01C10.01 14.08 10 14.94 10 15.21C10 15.42 10.15 15.67 10.55 15.59C13.71 14.53 16 11.53 16 8C16 3.58 12.42 0 8 0Z" transform="scale(64)"></path></svg></a><style data-emotion="css-global 8o55qm">body .theme-toggler{overflow:hidden;margin:6px;padding:2px;background:transparent;border-radius:50%;-webkit-transition:all 0.3s ease;transition:all 0.3s ease;}body .theme-toggler #switch{position:relative;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;width:21px;height:21px;padding:0;background:transparent;border:0;}body .theme-toggler .mode{position:relative;width:18px;height:18px;opacity:0.8;background:#000;-webkit-clip-path:path(
          'M17.5306 13.5882C16.6384 13.8558 15.689 14 14.7044 14C9.5004 14 5.28174 9.97061 5.28174 5.00005C5.28174 3.32422 5.76127 1.75538 6.59643 0.411865C2.77326 1.55853 0 4.96994 0 9.00001C0 13.9706 4.21866 18 9.42265 18C12.8721 18 15.8887 16.2296 17.5306 13.5882Z'
        );clip-path:path(
          'M17.5306 13.5882C16.6384 13.8558 15.689 14 14.7044 14C9.5004 14 5.28174 9.97061 5.28174 5.00005C5.28174 3.32422 5.76127 1.75538 6.59643 0.411865C2.77326 1.55853 0 4.96994 0 9.00001C0 13.9706 4.21866 18 9.42265 18C12.8721 18 15.8887 16.2296 17.5306 13.5882Z'
        );border-radius:50%;-webkit-transition:all 0.45s ease;transition:all 0.45s ease;}body .theme-toggler .mode:before{content:'';position:absolute;z-index:-1;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);-moz-transform:translateX(-50%) translateY(-50%);-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);width:5px;height:5px;opacity:0;background:inherit;border-radius:50%;-webkit-transition:box-shadow 0.4s 0s ease;transition:box-shadow 0.4s 0s ease;}body .theme-toggler .mode:after{content:'';position:absolute;top:-20%;left:30%;width:90%;height:90%;background:rgb(255 255 255 / 1);border-radius:50%;-webkit-transition:all 0.3s ease;transition:all 0.3s ease;}body .theme-toggler .mode:hover{opacity:1;}body .theme-toggler:hover{background:rgb(215 215 215 / 0.9);}body .theme-toggler.is-white .mode{background:#fff;}body .theme-toggler.is-white:hover{background:rgb(215 215 215 / 0.2);}body.dark .theme-toggler{background:transparent;}body.dark .theme-toggler:hover{background:rgb(255 255 255 / 0.1);}body.dark .theme-toggler .mode{-webkit-transform:scale(0.5);-moz-transform:scale(0.5);-ms-transform:scale(0.5);transform:scale(0.5);overflow:initial;opacity:0.8;background:white;-webkit-clip-path:none;clip-path:none;}body.dark .theme-toggler .mode:before{opacity:1;box-shadow:0 -16px 0 0 white,0 16px 0 0 white,-16px 0 0 0 white,16px 0 0 0 white,12px 12px 0 0 white,12px -12px 0 0 white,-12px 12px 0 0 white,-12px -12px 0 0 white;}body.dark .theme-toggler .mode:after{-webkit-transform:translateX(50%) translateY(-50%);-moz-transform:translateX(50%) translateY(-50%);-ms-transform:translateX(50%) translateY(-50%);transform:translateX(50%) translateY(-50%);opacity:0;-webkit-transition:background 0.45s ease;transition:background 0.45s ease;}body.dark .theme-toggler.is-white .mode:before{box-shadow:0 -16px 0 0 white,0 16px 0 0 white,-16px 0 0 0 white,16px 0 0 0 white,12px 12px 0 0 white,12px -12px 0 0 white,-12px 12px 0 0 white,-12px -12px 0 0 white;}</style><button class="theme-toggler " aria-label="theme toggle button" type="button"><div id="switch"><div class="mode"></div></div></button></div></div></nav></div></div></header><style data-emotion="css 1h9yqcb">.css-1h9yqcb{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;position:relative;padding:0 5vw;}</style><main id="site-main" class="site-main css-1h9yqcb"><div class="css-8aaawc"><style data-emotion="css 150a24d">.css-150a24d{position:relative;}</style><article class="css-150a24d"><style data-emotion="css iltggy">.css-iltggy{position:relative;margin:0 auto;padding:70px 100px 50px;word-break:keep-all;border-top-left-radius:3px;border-top-right-radius:3px;}@media (max-width: 1170px){.css-iltggy{padding:60px 11vw 50px;}}@media (max-width: 800px){.css-iltggy{padding-right:5vw;padding-left:5vw;}}@media (max-width: 500px){.css-iltggy{padding:20px 0 35px;}}</style><header class="post-full-header css-iltggy edf4ga72"><style data-emotion="css 1njwbu9">.css-1njwbu9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;font-size:1.2rem;font-weight:600;line-height:1.4em;color:#738a94;}.css-1njwbu9 a{font-size:1.2rem;color:var(--anchor-secondary-color);}</style><section class="post-full-tags css-1njwbu9 emmlh0d3"><a href="/tags/tool/">Tool</a>,  <a href="/tags/automation/">Automation</a>,  <a href="/tags/chezmoi/">chezmoi</a></section><style data-emotion="css 18a1ftz">.css-18a1ftz{margin:0 0 0.2em;color:var(--post-full-title);word-break:keep-all;}@media (max-width: 500px){.css-18a1ftz{margin-top:0.2em;font-size:3.3rem;}}</style><h1 class="post-full-title css-18a1ftz edf4ga71">rm -rf로 날린 컴퓨터, chezmoi로 관리하기</h1><style data-emotion="css d62skr">.css-d62skr{margin:20px 0 0;font-size:2rem;font-weight:300;line-height:1.4em;color:var(--post-card-description);}@media (max-width: 500px){.css-d62skr{font-size:1.9rem;line-height:1.5em;}}</style><p class="post-full-custom-excerpt css-d62skr emmlh0d2">rm -rf ~ 명령어로 컴퓨터 말아먹고 chezmoi로 환경설정 파일을 관리한 이야기</p><style data-emotion="css sglr6c">.css-sglr6c{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin:35px 0 0;padding-top:15px;border-top:1px solid var(--post-full-border);}.css-sglr6c .post-full-byline-content{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}.css-sglr6c .post-full-byline-content .author-list{-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;padding:0 12px 0 0;}.css-sglr6c .post-full-byline-meta{margin:2px 0 0;font-size:1.4rem;line-height:1.2em;color:#768086;letter-spacing:0.2px;}.css-sglr6c .post-full-byline-meta .author-name{margin:0 0 3px;font-size:1.4rem;font-weight:500;line-height:1.3em;}.css-sglr6c .post-full-byline-meta .author-name a{font-size:13px;color:var(--post-full-meta-link);}.css-sglr6c .post-full-byline-meta .author-name a:hover{color:var(--post-full-meta-link-hover);}.css-sglr6c .post-full-byline-meta .byline-reading-time,.css-sglr6c .post-full-byline-meta .byline-meta-date,.css-sglr6c .post-full-byline-meta .byline-modified-time{font-size:13px;}.css-sglr6c .post-full-byline-meta .bull{display:inline-block;margin:0 4px;opacity:0.6;}</style><div class="post-full-byline css-sglr6c emmlh0d1"><section class="post-full-byline-content"><style data-emotion="css 12fmpzj">.css-12fmpzj{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:0 0 0 4px;padding:0;list-style:none;}</style><ul class="author-list css-12fmpzj emmlh0d0"><style data-emotion="css 4q5div">.css-4q5div{position:relative;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin:0;padding:0;}.css-4q5div:hover .author-name-tooltip{-webkit-transform:translate(-10px, -2px);-moz-transform:translate(-10px, -2px);-ms-transform:translate(-10px, -2px);transform:translate(-10px, -2px);opacity:1;}</style><li class="author-list-item css-4q5div e13xkhp00"><style data-emotion="css aezf96">.css-aezf96{overflow:hidden;display:block;width:40px;height:40px;margin:0 -4px;border:2px solid var(--author-border);border-radius:100%;}@media (max-width: 500px){.css-aezf96{width:36px;height:36px;}}</style><a class="author-avatar css-aezf96" href="/about/"><style data-emotion="css 1ip6e3z">.css-1ip6e3z{display:block;width:100%;height:100%;object-fit:cover;background:var(--background-color);border-radius:100%;}.css-1ip6e3z img{border-radius:100%;}</style><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper author-profile-image css-1ip6e3z"><div aria-hidden="true" style="padding-top:100%"></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#6808f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="/static/8c061761f263c344f2c0416607c8adf1/ae5f4/pozafly.webp 40w,/static/8c061761f263c344f2c0416607c8adf1/87ddd/pozafly.webp 80w,/static/8c061761f263c344f2c0416607c8adf1/2988d/pozafly.webp 120w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/static/8c061761f263c344f2c0416607c8adf1/b9493/pozafly.jpg" data-srcset="/static/8c061761f263c344f2c0416607c8adf1/5e3dc/pozafly.jpg 40w,/static/8c061761f263c344f2c0416607c8adf1/d18de/pozafly.jpg 80w,/static/8c061761f263c344f2c0416607c8adf1/b9493/pozafly.jpg 120w" alt="Pozafly"/></picture><noscript><picture><source type="image/webp" srcSet="/static/8c061761f263c344f2c0416607c8adf1/ae5f4/pozafly.webp 40w,/static/8c061761f263c344f2c0416607c8adf1/87ddd/pozafly.webp 80w,/static/8c061761f263c344f2c0416607c8adf1/2988d/pozafly.webp 120w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/static/8c061761f263c344f2c0416607c8adf1/b9493/pozafly.jpg" srcSet="/static/8c061761f263c344f2c0416607c8adf1/5e3dc/pozafly.jpg 40w,/static/8c061761f263c344f2c0416607c8adf1/d18de/pozafly.jpg 80w,/static/8c061761f263c344f2c0416607c8adf1/b9493/pozafly.jpg 120w" alt="Pozafly"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></a></li></ul><section class="post-full-byline-meta"><div class="author-name"><a href="/about/">Pozafly</a></div><div class="byline-meta-content"><time class="byline-meta-date" dateTime="2024-04-16"> <!-- -->2024-04-16</time><span class="byline-reading-time"><span class="bull">•</span>17 min read</span></div></section></section></div></header><style data-emotion="css 1y1xnji">.css-1y1xnji{width:80%;max-height:800px;margin:25px auto 100px;-webkit-background-size:cover;background-size:cover;}.css-1y1xnji .image-wrapper{overflow:hidden;width:100%;border:1px solid var(--image-border-color);border-radius:8px;}.css-1y1xnji .image-wrapper img{border-radius:8px;}@media (max-width: 1170px){.css-1y1xnji .image-wrapper img{max-width:1170px;}}@media (max-width: 800px){.css-1y1xnji{width:100%;margin:25px auto 60px;}}</style><figure class="css-1y1xnji e16cwxex1"><div class="image-wrapper"><div data-gatsby-image-wrapper="" style="height:100%" class="gatsby-image-wrapper"><div aria-hidden="true" style="padding-top:57.179487179487175%"></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/webp;base64,UklGRgIBAABXRUJQVlA4IPYAAADQBQCdASoUAAsAPm0skkWkIqGYBABABsS0AE6ZQjgA9oLOaqAdEn9Mx1f9dukF6/jxGGHMORgAAP76DpaBqMJL4yD5XHzeps/0tKP5aTmAG8ygT4M/UccJT0plv53V+uISbOe8DNyus8IlXeXVaGbjT7v8cA20Srplsyd0CbeNyixmRGAkQRMGqdgsokWMsQhrX79EBieoMBNSOY/Kln8MJVrPl/bH2nHl0pPMuDn2uYD/DD+eZg/sw7KeStkOP2NjNNg1baTOSKX//aOmbyX9cc6fSr8eYGdFABfdHZN0pBkAwu7OepeWMjv/kADIUGNFveoAAAA=" alt=""/><picture><source type="image/avif" data-srcset="/static/eede54c8acd4dd95e82a4e798228b595/5c06d/main.avif 500w,/static/eede54c8acd4dd95e82a4e798228b595/9cbf4/main.avif 800w,/static/eede54c8acd4dd95e82a4e798228b595/802e6/main.avif 1170w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/static/eede54c8acd4dd95e82a4e798228b595/e7867/main.webp" data-srcset="/static/eede54c8acd4dd95e82a4e798228b595/56154/main.webp 500w,/static/eede54c8acd4dd95e82a4e798228b595/2c662/main.webp 800w,/static/eede54c8acd4dd95e82a4e798228b595/e7867/main.webp 1170w" alt="rm -rf로 날린 컴퓨터, chezmoi로 관리하기"/></picture><noscript><picture><source type="image/avif" srcSet="/static/eede54c8acd4dd95e82a4e798228b595/5c06d/main.avif 500w,/static/eede54c8acd4dd95e82a4e798228b595/9cbf4/main.avif 800w,/static/eede54c8acd4dd95e82a4e798228b595/802e6/main.avif 1170w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/static/eede54c8acd4dd95e82a4e798228b595/e7867/main.webp" srcSet="/static/eede54c8acd4dd95e82a4e798228b595/56154/main.webp 500w,/static/eede54c8acd4dd95e82a4e798228b595/2c662/main.webp 800w,/static/eede54c8acd4dd95e82a4e798228b595/e7867/main.webp 1170w" alt="rm -rf로 날린 컴퓨터, chezmoi로 관리하기"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></div><style data-emotion="css 2cqlea">.css-2cqlea{max-width:728px;margin:10px auto;font-size:12px;text-align:center;}.css-2cqlea a,.css-2cqlea span{font-size:12px;color:var(--anchor-secondary-color);}@media (max-width: 800px){.css-2cqlea{font-size:11px;}.css-2cqlea a,.css-2cqlea span{font-size:11px;}}</style><figcaption class="css-2cqlea e16cwxex0">Photo by <a href="https://chat.openai.com/" target="_blank" rel="noreferrer">GPT4 - DALL·E</a></figcaption></figure><style data-emotion="css 13di0oz">.css-13di0oz *:not(pre)>code[class*='language-']{border-radius:0.3em;background:var(--little-code-background);border:1px solid var(--little-code-border);color:var(--main-color);padding:0.15em 0.5em;white-space:normal;font-size:13px;}@media (max-width: 800px){.css-13di0oz *:not(pre)>code[class*='language-']{display:inline;}}.css-13di0oz .gatsby-highlight-code-line{display:block;margin-right:-1.3125rem;margin-left:-1.3125rem;padding-right:1em;padding-left:1.25em;border-left:0.25em solid var(--prism-border-left);font-size:1.4rem;background-image:linear-gradient(90deg, var(--prism-background) 60%, rgba(0, 0, 0, 0) 100%),none!important;}.css-13di0oz .gatsby-highlight{margin-bottom:1.75rem;margin-left:-1.3125rem;margin-right:-1.3125rem;border-radius:10px;background:var(--highlight-background);box-shadow:inset 0 0 0 1px var(--highlight-border);-webkit-overflow-scrolling:touch;overflow:auto;}.css-13di0oz .gatsby-highlight pre[class*='language-']{float:left;min-width:100%;font-size:1.4rem;line-height:24px;}.css-13di0oz pre[class*='language-'],.css-13di0oz code[class*='language-']{color:var(--pre-code-color);text-shadow:none;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}.css-13di0oz pre[class*='language-']::-webkit-scrollbar,.css-13di0oz code[class*='language-']::-webkit-scrollbar{background-color:transparent;height:4px;}.css-13di0oz pre[class*='language-']::-webkit-scrollbar-thumb,.css-13di0oz code[class*='language-']::-webkit-scrollbar-thumb{border-radius:8px;background-color:hsla(230, 5%, 35%, 1);}@media (max-width: 800px){.css-13di0oz pre[class*='language-'],.css-13di0oz code[class*='language-']{display:inline-block;}}.css-13di0oz pre[class*='language-']{overflow:auto;}.css-13di0oz .token{font-size:1.4rem;}.css-13di0oz pre[data-line]{padding:1em 0 1em 3em;position:relative;}@media print{.css-13di0oz pre[class*='language-'],.css-13di0oz code[class*='language-']{text-shadow:none;}}.css-13di0oz pre[class*='language-']{padding:1em;overflow:auto;margin:0;}.css-13di0oz:not(pre)>code[class*='language-']{padding:0.1em 0.3em;border-radius:0.3em;color:#c9d1d9;background:#343942;}.css-13di0oz pre[data-line]{position:relative;}.css-13di0oz pre[class*='language-']>code[class*='language-']{position:relative;z-index:1;}.css-13di0oz .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:#2f2a1e;box-shadow:inset 5px 0 0 #674c16;z-index:0;pointer-events:none;line-height:inherit;white-space:pre;}.css-13di0oz .namespace{opacity:0.7;}.css-13di0oz .token.comment,.css-13di0oz .token.prolog,.css-13di0oz .token.doctype,.css-13di0oz .token.cdata{color:#8b949e;}.css-13di0oz .token.punctuation{color:#c9d1d9;}.css-13di0oz .token.property,.css-13di0oz .token.tag,.css-13di0oz .token.boolean,.css-13di0oz .token.number,.css-13di0oz .token.constant,.css-13di0oz .token.symbol,.css-13di0oz .token.deleted{color:#79c0ff;}.css-13di0oz .token.selector,.css-13di0oz .token.attr-name,.css-13di0oz .token.string,.css-13di0oz .token.char,.css-13di0oz .token.builtin,.css-13di0oz .token.inserted{color:#a5d6ff;}.css-13di0oz .token.operator,.css-13di0oz .token.entity,.css-13di0oz .token.url,.css-13di0oz .language-css .token.string,.css-13di0oz .style .token.string{color:#a5d6ff;}.css-13di0oz .token.atrule,.css-13di0oz .token.attr-value,.css-13di0oz .token.keyword{color:#a5d6ff;}.css-13di0oz .token.function{color:#d2a8ff;}.css-13di0oz .token.regex,.css-13di0oz .token.important,.css-13di0oz .token.variable{color:#a8daff;}.css-13di0oz .token.important,.css-13di0oz .token.bold{font-weight:bold;}.css-13di0oz .token.italic{font-style:italic;}.css-13di0oz .token.entity{cursor:help;}</style><style data-emotion="css 1x2k2ne">.css-1x2k2ne{position:relative;min-height:230px;margin:0 auto;padding:0 100px 6vw;font-size:2rem;line-height:1.6em;background:var(--background-color);border-radius:6px;}.css-1x2k2ne .no-image{padding-top:0;}.css-1x2k2ne h1,.css-1x2k2ne h2,.css-1x2k2ne h3,.css-1x2k2ne h4,.css-1x2k2ne h5,.css-1x2k2ne h6,.css-1x2k2ne p,.css-1x2k2ne ul,.css-1x2k2ne ol,.css-1x2k2ne dl,.css-1x2k2ne pre,.css-1x2k2ne blockquote,.css-1x2k2ne .post-full-comments,.css-1x2k2ne .footnotes{min-width:100%;margin:0 0 1.5em;}.css-1x2k2ne li>ul,.css-1x2k2ne li>ol{margin:0;}.css-1x2k2ne li{word-break:break-word;}.css-1x2k2ne li p{margin:0;}.css-1x2k2ne a[class*='image'],.css-1x2k2ne a[class*='image']:hover{box-shadow:none;}.css-1x2k2ne a[class*='image'] span[class*='image'],.css-1x2k2ne a[class*='image']:hover span[class*='image']{border-radius:6px;}.css-1x2k2ne strong,.css-1x2k2ne em{color:var(--strong-color);}.css-1x2k2ne small{display:inline-block;line-height:1.6em;}.css-1x2k2ne img,.css-1x2k2ne video{display:block;max-width:840px;height:auto;margin:2em auto;border:1px solid var(--image-border-color);border-radius:8px;}.css-1x2k2ne hr+p{margin-top:1.2em;}.css-1x2k2ne img[src$='#full']{width:100vw;max-width:none;}.css-1x2k2ne img+br+small{display:block;margin-top:-3em;margin-bottom:1.5em;text-align:center;}.css-1x2k2ne iframe{margin:10px auto 20px;}.css-1x2k2ne blockquote{margin:0 0 1.5em;padding:0 1.5em;border-left:3px solid var(--image-border-color);}.css-1x2k2ne blockquote p{margin:0 0 1em;font-size:inherit;font-style:italic;line-height:inherit;color:inherit;}.css-1x2k2ne blockquote p:last-child{margin-bottom:0;}.css-1x2k2ne code{padding:0 5px 2px;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Noto Sans','Ubuntu','Droid Sans','Helvetica Neue',sans-serif;font-size:0.8em;font-weight:400!important;line-height:1em;border-radius:3px;}.css-1x2k2ne p code{word-break:keep-all;}.css-1x2k2ne pre{overflow-x:auto;max-width:100%;padding:20px;font-size:1.4rem;line-height:1.5em;color:#e5eff5;border-radius:5px;}.css-1x2k2ne pre code{padding:0;font-size:inherit;line-height:inherit;background:transparent;}.css-1x2k2ne pre code :not(span){color:inherit;}.css-1x2k2ne .fluid-width-video-wrapper{margin:1.5em 0 3em;}.css-1x2k2ne hr{margin:2em 0;}.css-1x2k2ne h1,.css-1x2k2ne h2,.css-1x2k2ne h3,.css-1x2k2ne h4,.css-1x2k2ne h5,.css-1x2k2ne h6{color:var(--home-header-color);}.css-1x2k2ne h1{margin:0.5em 0 0.4em;font-size:4.2rem;font-weight:600;line-height:1.25em;}.css-1x2k2ne p+h1{margin-top:0.8em;}.css-1x2k2ne h2{margin:1.2em 0 0.6em;font-size:3.4rem;font-weight:600;line-height:1.25em;}.css-1x2k2ne p+h2{margin-top:0.8em;}.css-1x2k2ne h3{margin:1rem 0 0.2em;padding-top:1.8rem;font-size:2.6rem;font-weight:600;line-height:1.3em;}.css-1x2k2ne h2+h3{margin-top:0.7em;}.css-1x2k2ne h4{margin:1em 0 0.2em;font-size:2rem;font-weight:800;}.css-1x2k2ne h2+h4{margin-top:0.7em;}.css-1x2k2ne h3+h4{margin-top:0;}.css-1x2k2ne h5{display:block;margin:0.5em 0;font-size:1.8rem;font-weight:600;line-height:1.35em;border:0;}.css-1x2k2ne h6{margin:0.5em 0 0.2em;font-size:2rem;font-weight:700;}.css-1x2k2ne table{overflow-x:auto;display:inline-block;border-spacing:0;border-collapse:collapse;width:auto;max-width:100%;margin:0.5em 0 2.5em;font-size:1.6rem;white-space:nowrap;vertical-align:top;background:radial-gradient(ellipse at left, rgb(0 0 0 / 0.2) 0%, rgb(0 0 0 / 0) 75%) 0 center,radial-gradient(ellipse at right, rgb(0 0 0 / 0.2) 0%, rgb(0 0 0 / 0) 75%) 100% center;background-repeat:no-repeat;background-attachment:scroll,scroll;-webkit-background-size:10px 100%,10px 100%;background-size:10px 100%,10px 100%;-webkit-overflow-scrolling:touch;}.css-1x2k2ne table th{font-size:1.2rem;font-weight:700;color:var(--home-header-color);text-align:left;text-transform:uppercase;letter-spacing:0.2px;background-color:var(--table-th-background);}.css-1x2k2ne table th,.css-1x2k2ne table td{padding:6px 12px;border:var(--table-th-border) 1px solid;}.css-1x2k2ne table td:first-of-type{background-image:var(--table-first-of-type);background-repeat:no-repeat;-webkit-background-size:20px 100%;background-size:20px 100%;}.css-1x2k2ne table td:last-child{background-image:var(--table-last-of-type);background-repeat:no-repeat;-webkit-background-position:100% 0;background-position:100% 0;-webkit-background-size:20px 100%;background-size:20px 100%;}.css-1x2k2ne figcaption{color:var(--figcaption-color);}@media (max-width: 1170px){.css-1x2k2ne{padding:0 11vw;}}@media (max-width: 800px){.css-1x2k2ne{padding:0 5vw;font-size:1.8rem;}}@media (max-width: 500px){.css-1x2k2ne{padding:0;}}@media (max-width: 500px){.css-1x2k2ne .post-full-custom-excerpt{font-size:1.9rem;line-height:1.5em;}}@media (max-width: 500px){.css-1x2k2ne p,.css-1x2k2ne ul,.css-1x2k2ne ol,.css-1x2k2ne dl,.css-1x2k2ne pre,.css-1x2k2ne .post-full-comments,.css-1x2k2ne .footnotes{margin-bottom:1.28em;}}@media (max-width: 1040px){.css-1x2k2ne img,.css-1x2k2ne video{width:100%;}}@media (max-width: 500px){.css-1x2k2ne blockquote{padding:0 1.3em;}}@media (max-width: 800px){.css-1x2k2ne h1{font-size:3.2rem;line-height:1.25em;}.css-1x2k2ne h2{margin:0.5rem 0 0.3em;font-size:2.8rem;line-height:1.25em;}.css-1x2k2ne h3{margin:0.5rem 0 0.3em;font-size:2.4rem;line-height:1.3em;}.css-1x2k2ne h4{margin-bottom:0.3em;font-size:1.8rem;line-height:1.3em;}.css-1x2k2ne h5{max-width:1060px;padding:0 0 0.5em;font-size:2.4rem;text-align:initial;}.css-1x2k2ne h6{font-size:1.8rem;line-height:1.4em;}}.css-1x2k2ne *:not(pre)>code[class*='language-']{border-radius:0.3em;background:var(--little-code-background);border:1px solid var(--little-code-border);color:var(--main-color);padding:0.15em 0.5em;white-space:normal;font-size:13px;}@media (max-width: 800px){.css-1x2k2ne *:not(pre)>code[class*='language-']{display:inline;}}.css-1x2k2ne .gatsby-highlight-code-line{display:block;margin-right:-1.3125rem;margin-left:-1.3125rem;padding-right:1em;padding-left:1.25em;border-left:0.25em solid var(--prism-border-left);font-size:1.4rem;background-image:linear-gradient(90deg, var(--prism-background) 60%, rgba(0, 0, 0, 0) 100%),none!important;}.css-1x2k2ne .gatsby-highlight{margin-bottom:1.75rem;margin-left:-1.3125rem;margin-right:-1.3125rem;border-radius:10px;background:var(--highlight-background);box-shadow:inset 0 0 0 1px var(--highlight-border);-webkit-overflow-scrolling:touch;overflow:auto;}.css-1x2k2ne .gatsby-highlight pre[class*='language-']{float:left;min-width:100%;font-size:1.4rem;line-height:24px;}.css-1x2k2ne pre[class*='language-'],.css-1x2k2ne code[class*='language-']{color:var(--pre-code-color);text-shadow:none;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}.css-1x2k2ne pre[class*='language-']::-webkit-scrollbar,.css-1x2k2ne code[class*='language-']::-webkit-scrollbar{background-color:transparent;height:4px;}.css-1x2k2ne pre[class*='language-']::-webkit-scrollbar-thumb,.css-1x2k2ne code[class*='language-']::-webkit-scrollbar-thumb{border-radius:8px;background-color:hsla(230, 5%, 35%, 1);}@media (max-width: 800px){.css-1x2k2ne pre[class*='language-'],.css-1x2k2ne code[class*='language-']{display:inline-block;}}.css-1x2k2ne pre[class*='language-']{overflow:auto;}.css-1x2k2ne .token{font-size:1.4rem;}.css-1x2k2ne pre[data-line]{padding:1em 0 1em 3em;position:relative;}@media print{.css-1x2k2ne pre[class*='language-'],.css-1x2k2ne code[class*='language-']{text-shadow:none;}}.css-1x2k2ne pre[class*='language-']{padding:1em;overflow:auto;margin:0;}.css-1x2k2ne:not(pre)>code[class*='language-']{padding:0.1em 0.3em;border-radius:0.3em;color:#c9d1d9;background:#343942;}.css-1x2k2ne pre[data-line]{position:relative;}.css-1x2k2ne pre[class*='language-']>code[class*='language-']{position:relative;z-index:1;}.css-1x2k2ne .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:#2f2a1e;box-shadow:inset 5px 0 0 #674c16;z-index:0;pointer-events:none;line-height:inherit;white-space:pre;}.css-1x2k2ne .namespace{opacity:0.7;}.css-1x2k2ne .token.comment,.css-1x2k2ne .token.prolog,.css-1x2k2ne .token.doctype,.css-1x2k2ne .token.cdata{color:#8b949e;}.css-1x2k2ne .token.punctuation{color:#c9d1d9;}.css-1x2k2ne .token.property,.css-1x2k2ne .token.tag,.css-1x2k2ne .token.boolean,.css-1x2k2ne .token.number,.css-1x2k2ne .token.constant,.css-1x2k2ne .token.symbol,.css-1x2k2ne .token.deleted{color:#79c0ff;}.css-1x2k2ne .token.selector,.css-1x2k2ne .token.attr-name,.css-1x2k2ne .token.string,.css-1x2k2ne .token.char,.css-1x2k2ne .token.builtin,.css-1x2k2ne .token.inserted{color:#a5d6ff;}.css-1x2k2ne .token.operator,.css-1x2k2ne .token.entity,.css-1x2k2ne .token.url,.css-1x2k2ne .language-css .token.string,.css-1x2k2ne .style .token.string{color:#a5d6ff;}.css-1x2k2ne .token.atrule,.css-1x2k2ne .token.attr-value,.css-1x2k2ne .token.keyword{color:#a5d6ff;}.css-1x2k2ne .token.function{color:#d2a8ff;}.css-1x2k2ne .token.regex,.css-1x2k2ne .token.important,.css-1x2k2ne .token.variable{color:#a8daff;}.css-1x2k2ne .token.important,.css-1x2k2ne .token.bold{font-weight:bold;}.css-1x2k2ne .token.italic{font-style:italic;}.css-1x2k2ne .token.entity{cursor:help;}</style><section class="post-full-content css-1x2k2ne edf4ga70"><div class="post-content"><p><code class="language-text">$ rm -rf ~</code> 가 얼마나 무서운 명령어인지 아는가? 리눅스 또는 맥 OS에서 사용자의 홈 디렉토리를 삭제하는 명령어다.</p>
<p>얼마 전 <a href="https://www.warp.dev/" target="_blank" rel="nofollow">warp</a>라는 터미널이 좋아 보여서 맥북에 설치하고 사용해 봤다. 터미널 클라이언트로 iTerm2를 사용한 지 오래되기도 했고 warp은 AI로 명령어를 추천해 주기도 한다고 해서 구미가 당겨 사용해 보고 있었다.</p>
<p>튜토리얼을 따라 해보다가 잘못해서 <code class="language-text">~</code> 라는 폴더를 home에 만들게 되었다. <code class="language-text">~/~</code> 경로가 생성된 것이다. 홈 경로에서 작업하고 있었고, 쓸모없는 디렉토리가 만들어졌으니 별생각 없이 <code class="language-text">rm -rf ~</code> 라는 명령어를 쳤다.</p>
<p><code class="language-text">rm -rf</code> 명령어는 제거하라(<code class="language-text">rm</code>)는 명령어에 재귀적으로(<code class="language-text">-rf</code>) 라는 옵션이 붙은 명령어이다. 따라서 사용자의 홈 디렉터리와 그 하위에 있는 모든 파일과 디렉터리를 강제로 삭제하게 된다. 하지만 아무것도 들어있지 않은 디렉토리를 제거하기에는 생각보다 시간이 오래걸렸고, 어떤 권한까지 물어보는 것이었다.</p>
<p>갸우뚱하다가 실수한 것을 깨닫게 되었다. 내가 home 디렉토리를 지금 날리고 있구나. 얼른 명령어를 취소시켰다. 하지만 이미 컴퓨터의 대부분의 자료가 날아간 상태였다. 컴퓨터를 재부팅했더니 맥북을 처음 샀을 때 한껏 들뜨게 만들었던 맥 초기 화면이 나를 기다리고 있었다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 61.199999999999996%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAACtUlEQVR42m2Ry08TURjF70xLC21nmE7oUIcytLRVWizlWYhSTRRQwyMpkUQhbSmmEMAEJVihlikgQojGx96l/hkmbnVl3BvW7llMxsXxK8+aeJOTO/fx/b5z7jBGYyA59CS7Ukb+2e5Rfm3HmF/bIunGUuFEQ+NTxvDYfWNxtWgsr64bG6WScbC/bbzZ3zI+HOwcvd0rYeLerRV2NnwdN/RISkdssmQmJh9jYHwG3aNpdE3MI5FaQHIqj4nMPLLzi1hYWsba2lO8KBawXihgr6ybH9/vITV6e/McqGq+zXC0BcFggxlotkNxM9icFggeAU1+AaE2F3riTgyS4hEZWkiDSw3D5rkCt3b1T7SzF61hf+kc2OYX9WSUR2cLM8ONDF6BwVHD4HEytHoYYhqrnKGD5rDK0OThYHfYwbh6MF42+RoPJKnhwqFfFfWYZkGnxpn9AQ7XWhmuk0Y6BNyNKxgMWJAdi+BmzI0QNbjs5dBMKQRqaLfzpuCsgyzLVUCvqLerPKJeZvaSi5EIjzshho3cLbwuPsL6QgrvXj5HYXEG48kYghJBFQ5BhSHayMxEEw9NES+AiiTqQg0PnjFTobidPopH0eMhFX3dcQz0J9Db3obhvi50aQ0IuhjaKHb0Et0hYLubhypXASVR1K08D/o0HXYGycFg5Vhl/Y/sJK+NISCSKHKEmvb4mBmldN5qhyIB+VNgNYDjOFT2T2YO7loeSh0HTz2BZQY/RY8o5FCjyGoVUJalstVqqRSalcJqVWA2m+1YisBBFTlItQR1cfA6aO3kzGbZAs0rlascuv7r8EzHLnkL6qwM9RSZ3ho2ktNCf9rKTJHeXxZPHf74/mVyd6v4OZt+8HsuM/0rl54+PNNs+uHh3OzMYX4uc6xcZuZ4L5epnJ2KajJU+2q7+Onnt6+pvz+1M4T6Q6F8AAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="mac-init"
        title=""
        src="/static/682e5a56a78abb147e2c73dbbb1f44d8/7491f/mac-init.png"
        srcset="/static/682e5a56a78abb147e2c73dbbb1f44d8/b30f8/mac-init.png 500w,
/static/682e5a56a78abb147e2c73dbbb1f44d8/7491f/mac-init.png 600w"
        sizes="(max-width: 600px) 100vw, 600px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
    </span></p>
<br/>
<h2 id="chezmoi" style="position:relative;">chezmoi<a href="#chezmoi" aria-label="chezmoi permalink" class="auto-link after"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a></h2>
<p>이전에 dotfiles의 존재를 어렴풋이 알고 있었다. dotfiles는 <code class="language-text">.</code> 으로 시작하는 숨김 처리된 파일이다. <code class="language-text">.git</code> 같은 파일은 맥의 Finder를 통해 디렉토리를 살펴보면 보이지 않는 숨김 처리된 파일이다. dotfiles 중에서도 어떤 프로그램의 설정값이나, 컴퓨터 전체의 설정값을 저장하고 있는 파일을 말한다.</p>
<p>홈 디렉토리를 잃거나, 맥을 새로 장만했을 때 내가 자주 사용하는 어플리케이션, 설정값들을 복원할 수 있다면 빠르게 개발 환경을 만들 수 있다. 즉, dotfiles를 잘 관리해두면 처음부터 컴퓨터의 세팅을 하지 않아도 된다.</p>
<p><a href="https://www.chezmoi.io/" target="_blank" rel="nofollow">chezmoi</a>라는 툴은 dotfiles를 관리해 주는 툴이다. 기본적으로 Command Line Interface(CLI)를 통해 직접 명령을 내리며 내가 관리하고 싶은 dotfiles를 지정해 주면 스냅샷을 떠서 그대로 관리해 준다. 그리고 맥, 윈도우, 리눅스 운영체제 별로 실행해야 하는 스크립트나 설정 파일을 따로 지정할 수 있고 운영 체제별로 dotfiles를 관리할 수 있다. 다른 사람에게 공개되지 않아야 하는 비밀 키도 관리할 수 있다.</p>
<p>chezmoi는 Go라는 프로그래밍 언어로 작성되었기 때문에 무척 빠르다. chezmoi를 사용하면서 알게 된 새로운 몇몇 툴과 가벼운 지식을 이번 글에 기록해 보고자 한다. 아래는 전부 맥 OS 기준으로 작성한다.</p>
<p>먼저 설치부터 해보자. homebrew를 통해 설치할 수 있다.</p>
<div class="gatsby-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh">$ brew <span class="token function">install</span> chezmoi</code></pre></div>
<h3 id="기본-명령어" style="position:relative;">기본 명령어<a href="#%EA%B8%B0%EB%B3%B8-%EB%AA%85%EB%A0%B9%EC%96%B4" aria-label="기본 명령어 permalink" class="auto-link after"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a></h3>
<h3 id="init" style="position:relative;">init<a href="#init" aria-label="init permalink" class="auto-link after"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a></h3>
<div class="gatsby-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh">$ chezmoi init</code></pre></div>
<p><code class="language-text">~/.local/share/chezmoi</code> 경로가 생성되고, git 로컬 저장소가 생성된다. 이를 chezmoi에서는 소스 디렉토리(source directory)라고 부른다.</p>
<blockquote>
<p>※ 소스 디렉토리</p>
<p>소스 디렉토리는 마치 git의 staging area와 비슷하다. chezmoi add 명령어로 본을 뜬 녀석은 소스 디렉토리에 저장되고 후에 알아볼 <code class="language-text">chezmoi apply</code> 를 통해 실제 파일에 저장된다. 참고로 git add를 통해 git에게 관리되는 파일은 staging area에 저장되게 되는데, 이는 <code class="language-text">.git/index</code> 에 바이너리 파일로 저장된다.</p>
<p>소스 디렉토리로 이동하는 명령어는 <code class="language-text">$ chezmoi cd</code> 다.</p>
</blockquote>
<h3 id="add" style="position:relative;">add<a href="#add" aria-label="add permalink" class="auto-link after"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a></h3>
<div class="gatsby-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh">$ chezmoi <span class="token function">add</span> ~/.zshrc</code></pre></div>
<p>zsh를 사용하고 있다면 홈디렉토리에 .zshrc 파일이 있을 것이다. 이는 zsh 설정 파일이다.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text"># homebrew path
export PATH=/opt/homebrew/bin:$PATH

plugins=(
  git
  encode64
)

# oh-my-zsh path, init
export ZSH="$HOME/.oh-my-zsh"
source $ZSH/oh-my-zsh.sh

# autosuggestions, syntax-highlighting
source $(brew --prefix)/share/zsh-autosuggestions/zsh-autosuggestions.zsh
source $(brew --prefix)/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh

# pure theme
fpath+=("$(brew --prefix)/share/zsh/site-functions")
autoload -U promptinit; promptinit
prompt pure

# fnm
eval "$(fnm env --use-on-cd)"</code></pre></div>
<p>보통은 이렇게 생겼다. chezmoi add 명령어로 이 파일을 관리하겠다고 하면 소스 디렉토리(<code class="language-text">~/.local/share/chezmoi</code>)에 <code class="language-text">dot_zshrc</code> 파일이 생성된다. 여기서 <code class="language-text">dot_</code> 는 <code class="language-text">.</code> 을 의미한다. 즉 파일 명이나 디렉토리 명에서 파일의 이름을 유추할 수 있다. 이는 chezmoi의 철학이다.</p>
<p>현재 <code class="language-text">.zshrc</code> 파일을 스냅샷을 떠 관리를 시작했다. 모든 내용은 복사되어 소스 디렉토리에 존재한다.</p>
<h3 id="edit" style="position:relative;">edit<a href="#edit" aria-label="edit permalink" class="auto-link after"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a></h3>
<p>.zshrc 파일을 수정해야 한다면 홈 디렉토리에 있는 <code class="language-text">.zshrc</code> 파일을 직접 수정해도 되지만, chezmoi를 사용하면 add 명령어를 쳤을 그 시점에 가지고 있는 설정값으로 원상복구될 것이다. 따라서 edit 명령어를 통해 chezmoi의 소스 디렉토리에 있는 파일을 수정 후, 적용해 주어야 한다.</p>
<div class="gatsby-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh">$ chezmoi edit ~/.zshrc</code></pre></div>
<h3 id="diff" style="position:relative;">diff<a href="#diff" aria-label="diff permalink" class="auto-link after"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a></h3>
<p>chezmoi로 dotfile을 수정했으니 이제 실제 <code class="language-text">~/.zshrc</code> 파일에 적용해 줄 차례인데, 적용하기 전에 어떤 것이 변경되었는지 명령어를 통해 볼 수 있는데 diff 명령어를 통해 알 수 있다.</p>
<div class="gatsby-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh">$ chezmoi <span class="token function">diff</span></code></pre></div>
<p>diff 명령어는 파일 명을 명시해 주지 않아도 관리되고 있는 dotfiles 중에서 변경된 모든 파일의 변경사항을 보여준다.</p>
<h3 id="apply" style="position:relative;">apply<a href="#apply" aria-label="apply permalink" class="auto-link after"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a></h3>
<p>이제 적용 명령이다.</p>
<div class="gatsby-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh">$ chezmoi apply <span class="token parameter variable">-v</span></code></pre></div>
<p>그냥 apply만 해도 되지만, <code class="language-text">-v</code> 옵션을 주면 적용 전에 diff를 통해 어떤 겻이 변경될 것인지 알려준다. 주로 -v(verbose) 옵션을 주어 확인 후 적용하도록 하자.</p>
<h3 id="cd" style="position:relative;">cd<a href="#cd" aria-label="cd permalink" class="auto-link after"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a></h3>
<div class="gatsby-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh">$ chezmoi <span class="token builtin class-name">cd</span></code></pre></div>
<p>터미널에서 소스 디렉토리(<code class="language-text">~/.local/share/chezmoi</code>)로 바로 이동하는 명령어다. chezmoi가 관리하는 dotfiles를 git을 통해 버전 관리할 수 있다. 물론 GitHub에도 올릴 수 있다. 컴퓨터가 초기화되었다면 GitHub에서 이전에 관리하던 dotfiles를 그대로 내려받아 똑같은 위치에 dotfiles를 원상복구할 수 있다.</p>
<br/>
<h2 id="내가-관리하고-있는-것들" style="position:relative;">내가 관리하고 있는 것들<a href="#%EB%82%B4%EA%B0%80-%EA%B4%80%EB%A6%AC%ED%95%98%EA%B3%A0-%EC%9E%88%EB%8A%94-%EA%B2%83%EB%93%A4" aria-label="내가 관리하고 있는 것들 permalink" class="auto-link after"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a></h2>
<p>내 저장소는 <a href="https://github.com/pozafly/dotfiles" target="_blank" rel="nofollow">pozafly/dotfiles</a> 이곳이다. chezmoi를 통해 관리하고 있는 파일들이다. 가볍게 git config 파일부터 살펴보자.</p>
<br/>
<h3 id="git-config" style="position:relative;">git config<a href="#git-config" aria-label="git config permalink" class="auto-link after"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a></h3>
<p>원래 <code class="language-text">~/.gitconfig</code> 파일이 있었다. 하지만, <code class="language-text">~/.config/git</code> 경로에 config 파일을 생성해 설정 파일을 두어도 똑같은 역할을 한다. 레파지토리를 보면 <code class="language-text">dot_config/git/config.tmpl</code> 파일이 있다.</p>
<p>tmpl이란, chezmoi의 템플릿 파일이다. tmpl은 chezmoi만의 특별한 확장자로, 템플릿 파일을 만들 수 있는데 분기문을 사용해 OS 별로 실행 명령어를 다르게 하거나 설정 파일을 다르게 할 수 있다. 또한 chezmoi 설정값을 가져와 적용하게 할 수도 있다.</p>
<p>예를 들어 tmpl 파일 안에 <code class="language-text">{{ .chezmoi.sourceDir }}</code> 이런 표현식이 있다면 그 자리에는 실행 시점에 소스 디렉토리 경로(<code class="language-text">~/.local/share/chezmoi</code>)로 대체된다. 또한 분기문은</p>
<div class="gatsby-highlight" data-language="toml"><pre class="language-toml"><code class="language-toml"><span class="token punctuation">{</span><span class="token punctuation">{</span> if eq <span class="token punctuation">.</span>chezmoi<span class="token punctuation">.</span>os <span class="token string">"darwin"</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token comment"># darwin</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span> else if eq <span class="token punctuation">.</span>chezmoi<span class="token punctuation">.</span>os <span class="token string">"linux"</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token comment"># linux</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span> else <span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token comment"># other operating system</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span> end <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></div>
<p>이런 방식으로 사용할 수 있다. 템플릿에서 사용하는 <code class="language-text">.chezmoi.</code> 내부의 값은 <code class="language-text">$ chezmoi data</code> 명령어를 통해 알아볼 수 있다.</p>
<div class="gatsby-highlight" data-language="toml"><pre class="language-toml"><code class="language-toml"><span class="token punctuation">[</span><span class="token table class-name">alias</span><span class="token punctuation">]</span>
  <span class="token key property">st</span> <span class="token punctuation">=</span> status

<span class="token punctuation">[</span><span class="token table class-name">user</span><span class="token punctuation">]</span>
  <span class="token key property">name</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token punctuation">.</span>chezmoi<span class="token punctuation">.</span>config<span class="token punctuation">.</span>data<span class="token punctuation">.</span>name | quote <span class="token punctuation">}</span><span class="token punctuation">}</span>
  <span class="token key property">email</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token punctuation">.</span>chezmoi<span class="token punctuation">.</span>config<span class="token punctuation">.</span>data<span class="token punctuation">.</span>email | quote <span class="token punctuation">}</span><span class="token punctuation">}</span>

<span class="token punctuation">[</span><span class="token table class-name">core</span><span class="token punctuation">]</span>
  <span class="token key property">editor</span> <span class="token punctuation">=</span> code --wait
  <span class="token key property">precomposeunicode</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>
  <span class="token key property">quotepath</span> <span class="token punctuation">=</span> <span class="token boolean">false</span>
  <span class="token key property">excludesfile</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token punctuation">.</span>chezmoi<span class="token punctuation">.</span>homeDir <span class="token punctuation">}</span><span class="token punctuation">}</span>/<span class="token punctuation">.</span>gitignore_global
  <span class="token key property">autocrlf</span> <span class="token punctuation">=</span> input

<span class="token punctuation">[</span><span class="token table class-name">pull</span><span class="token punctuation">]</span>
  <span class="token key property">rebase</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>

<span class="token punctuation">[</span><span class="token table class-name">init</span><span class="token punctuation">]</span>
  <span class="token key property">defaultBranch</span> <span class="token punctuation">=</span> main</code></pre></div>
<p>이렇게 되어있다. <code class="language-text">{{ .chezmoi.config.data.name | quote }}</code></p>
<p><code class="language-text">quote</code>는 Go 템플릿에서 사용할 수 있는 “파이프라인”을 사용하는 부분이다. 파이프라인을 통해 데이터를 수정하는 함수나 명령을 적용할 수 있다. 예를 들어, 사용자의 이름이 <code class="language-text">O'Reilly</code>라면, <code class="language-text">quote</code>를 적용하지 않은 상태에서 JSON 파일에 직접 삽입하면 문제를 일으킬 수 있다 (<code class="language-text">"name": "O'Reilly"</code>). <code class="language-text">quote</code>를 사용하면 이 이름이 <code class="language-text">"O'Reilly"</code>처럼 안전하게 인용 부호 안에 포함되어 처리된다.</p>
<p><code class="language-text">.chezmoi.config.data</code> 부분은, chezmoi의 설정 파일에 있는 데이터를 가져오겠다는 말이 된다.</p>
<h4 id="chezmoi-설정-파일" style="position:relative;">chezmoi 설정 파일<a href="#chezmoi-%EC%84%A4%EC%A0%95-%ED%8C%8C%EC%9D%BC" aria-label="chezmoi 설정 파일 permalink" class="auto-link after"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a></h4>
<p>chezmoi 툴의 설정 파일이 있다. <code class="language-text">~/.config/chezmoi/chezmoi.toml</code> 으로, toml 파일로 관리된다.</p>
<div class="gatsby-highlight" data-language="toml"><pre class="language-toml"><code class="language-toml"><span class="token punctuation">[</span><span class="token table class-name">data</span><span class="token punctuation">]</span>
  <span class="token key property">email</span> <span class="token punctuation">=</span> <span class="token string">"pozafly@gmail.com"</span>
  <span class="token key property">name</span> <span class="token punctuation">=</span> <span class="token string">"pozafly"</span>
  <span class="token key property">env</span> <span class="token punctuation">=</span> <span class="token string">"home"</span>

<span class="token key property">encryption</span> <span class="token punctuation">=</span> <span class="token string">"age"</span>
<span class="token punctuation">[</span><span class="token table class-name">age</span><span class="token punctuation">]</span>
  <span class="token key property">identity</span> <span class="token punctuation">=</span> <span class="token string">"/Users/pozafly/age-key.txt"</span>
  <span class="token key property">recipient</span> <span class="token punctuation">=</span> <span class="token string">"age1k3dd5wtylpz6um3wz2sgyr6ek0zn4mvc8mknaf9tjdjxh7n953psf8gw40"</span>

<span class="token comment"># chezmoi를 vscode로도 관리한다.</span>
<span class="token punctuation">[</span><span class="token table class-name">edit</span><span class="token punctuation">]</span>
  <span class="token key property">command</span> <span class="token punctuation">=</span> <span class="token string">"code"</span>
  <span class="token key property">args</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">"--wait"</span><span class="token punctuation">]</span>

<span class="token comment"># plist diff을 보여줄 때 바이너리가 아닌, xml로 보여줌</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token table class-name">textconv</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
  <span class="token key property">pattern</span> <span class="token punctuation">=</span> <span class="token string">"**/*.plist"</span>
  <span class="token key property">command</span> <span class="token punctuation">=</span> <span class="token string">"plutil"</span>
  <span class="token key property">args</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">"-convert"</span><span class="token punctuation">,</span> <span class="token string">"xml1"</span><span class="token punctuation">,</span> <span class="token string">"-o"</span><span class="token punctuation">,</span> <span class="token string">"-"</span><span class="token punctuation">,</span> <span class="token string">"-"</span><span class="token punctuation">]</span>

<span class="token punctuation">[</span><span class="token table class-name">git</span><span class="token punctuation">]</span>
<span class="token comment">#  autoCommit = true</span></code></pre></div>
<p>이곳의 <code class="language-text">[data]</code> 부분에 명시된 이름을 가져와서 git/config 파일에 템플릿으로 넣어주는 것이다.</p>
<p>이 설정 파일마저도 chezmoi로 관리해 줄 수 있다. 소스 디렉토리에 <code class="language-text">.chezmoi.toml.tmpl</code> 파일을 보자. 이마저도 템플릿 파일로 이루어져 있다.</p>
<div class="gatsby-highlight" data-language="toml"><pre class="language-toml"><code class="language-toml"><span class="token punctuation">{</span><span class="token punctuation">{</span>- $email :<span class="token punctuation">=</span> promptStringOnce <span class="token punctuation">.</span> <span class="token string">"email"</span> <span class="token string">"Email address"</span> -<span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span>- $name :<span class="token punctuation">=</span> promptStringOnce <span class="token punctuation">.</span> <span class="token string">"name"</span> <span class="token string">"Name"</span> -<span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span>- $env :<span class="token punctuation">=</span> promptStringOnce <span class="token punctuation">.</span> <span class="token string">"env"</span> <span class="token string">"env (예: home | work)"</span> -<span class="token punctuation">}</span><span class="token punctuation">}</span>

<span class="token punctuation">[</span><span class="token table class-name">data</span><span class="token punctuation">]</span>
  <span class="token key property">email</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span><span class="token punctuation">{</span> $email | quote <span class="token punctuation">}</span><span class="token punctuation">}</span>
  <span class="token key property">name</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span><span class="token punctuation">{</span> $name | quote <span class="token punctuation">}</span><span class="token punctuation">}</span>
  <span class="token key property">env</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span><span class="token punctuation">{</span> $env | quote <span class="token punctuation">}</span><span class="token punctuation">}</span>

<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></code></pre></div>
<p>템플릿 구문을 볼 수 있는데, <code class="language-text">{{- $email := promptStringOnce . "email" "Email address" -}}</code> 이 부분은 무엇인가? <code class="language-text">chezmoi init</code> 명령어로 chezmoi를 초기화할 때, cli로 email, name, env를 직접 타이핑해서 입력해 줄 수 있다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 356px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 25.280898876404496%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAABHklEQVR42m2QW0vDQBCF+0cEn9pmk81tc9lselsLEkhbLK1VtLamVbRVEBGf/EfqfzxOtuCD+HDYmWU4881pMFuizRK0nBQsytG2U7RdEpewPEn/CRxXwXYzuH4HjpejRfOWI837V41hWEBxDbvQiDcTiNUI0e0YyeMZxM0ITSGRqVPMFitMZ0uUkwWaVoKjY/6/YRoPEYoBUUl4cQ+BGqBFhCxQpnfDLtEpIjtQhnEfUXqC+4cXMohh1ReRfg2Lco5qu8f27pkIrtEflPCCLjbbJ+z2r1hXO0znS1xeVTi/WEMPx+jpEp9f3zSXww87RqnU4LS0UWfBKRdf9AwJ45nJp+49ojuQKVP7ok/nxhCJxtv7h6kNHckhesYlfgAvVKkAKll9LAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="chezmoi-init"
        title=""
        src="/static/e0c11ea1e416b2583f8c5864d87f90f0/2a741/chezmoi-init.png"
        srcset="/static/e0c11ea1e416b2583f8c5864d87f90f0/2a741/chezmoi-init.png 356w"
        sizes="(max-width: 356px) 100vw, 356px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
    </span></p>
<p>이런 방식으로 말이다.</p>
<br/>
<h3 id="git-global-ignore" style="position:relative;">git global ignore<a href="#git-global-ignore" aria-label="git global ignore permalink" class="auto-link after"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a></h3>
<p>git이 관리하는 파일에 <code class="language-text">.gitignore</code> 이 있지만, 로컬 컴퓨터 전체에 적용되는 global ignore도 있다. 이를 git config에서</p>
<div class="gatsby-highlight" data-language="toml"><pre class="language-toml"><code class="language-toml"><span class="token punctuation">[</span><span class="token table class-name">core</span><span class="token punctuation">]</span>
  <span class="token key property">excludesfile</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token punctuation">.</span>chezmoi<span class="token punctuation">.</span>homeDir <span class="token punctuation">}</span><span class="token punctuation">}</span>/<span class="token punctuation">.</span>gitignore_global
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></code></pre></div>
<p>이렇게 적어줄 수 있다. macOS라면 <code class="language-text">.DS_Store</code> 를 넣어주는 것을 추천한다.</p>
<br/>
<h3 id="스크립트-파일" style="position:relative;">스크립트 파일<a href="#%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-%ED%8C%8C%EC%9D%BC" aria-label="스크립트 파일 permalink" class="auto-link after"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a></h3>
<p>스크립트 파일은 특정 시점에 실행되는 bash 스크립트 파일이다. 레파지토리를 살펴보면 <code class="language-text">.chezmoiscrips/darwin</code> 내부에 <code class="language-text">run_once_before_01_install-packages-darwin.sh.tmpl</code> 과 같은 파일이 존재한다. .chezmoiscrips는 특정 시점에 실행할 bash 스크립트가 들어있는 파일임을 디렉토리 명을 통해 chezmoi에게 알려준다. 내부에 darwin이라는 디렉토리가 있는데 이는 맥 OS 환경에서만 실행될 것임을 chezmoi에게 알려준다.</p>
<blockquote>
<p>※ darwin?</p>
<p>darwin이란, Apple이 만든 오픈 소스 유닉스 컴퓨터 운영체제다. macOS, IOS, watchOS, iPadOS 등의 운영체제들은 모두 Darwin을 기반으로 한다. 맥에서 터미널에 <code class="language-text">uname</code> 을 입력하면 <code class="language-text">Darwin</code> 이 뜨는 것을 볼 수 있을 것이다.</p>
</blockquote>
<p>그렇다면 <code class="language-text">run_once_before_01_install-packages-darwin.sh.tmpl</code> 파일은 어떻게 해석해야 하나? chezmoi는 디렉토리 명 또는 파일 명을 통해 어떤 파일인지, 어떤 시점에 실행해야 하는지 알려준다.</p>
<ul>
<li><code class="language-text">run</code> : 실행한다</li>
<li><code class="language-text">once</code> : 단 한 번만</li>
<li><code class="language-text">before</code> : 이전에</li>
<li><code class="language-text">01</code> : 순서 표기</li>
<li><code class="language-text">install-package</code> : 패키지를 설치하는 시점에</li>
<li><code class="language-text">darwin</code> : macOS에서</li>
<li><code class="language-text">sh</code> : 쉘 스크립트 파일 확장자</li>
<li><code class="language-text">tmpl</code> : chezmoi의 템플릿 파일</li>
</ul>
<p>붙여 의미를 설명하면 chezmoi의 초기 설정 단계에서 macOS 시스템에 필요한 패키지를 설치하는 스크립트로 사용되며, 첫 번째 실행 시에만 작동하고, 그 이후에는 실행되지 않도록 설계되어 있다.</p>
<p>그럼 파일 내부를 한번 보자.</p>
<div class="gatsby-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh"><span class="token shebang important">#!/bin/bash</span>

<span class="token comment"># If Homebrew is not installed on the system, it will be installed here</span>
<span class="token keyword">if</span> <span class="token builtin class-name">test</span> <span class="token operator">!</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">which</span> brew<span class="token variable">)</span></span><span class="token punctuation">;</span> <span class="token keyword">then</span>
   <span class="token builtin class-name">printf</span> <span class="token string">'\n\n\e[33mHomebrew not found. \e[0mInstalling Homebrew...'</span>
   /bin/bash <span class="token parameter variable">-c</span> <span class="token string">"<span class="token variable"><span class="token variable">$(</span><span class="token function">curl</span> <span class="token parameter variable">-fsSL</span> https://raw.githubusercontent.com/Homebrew/install/master/install.sh<span class="token variable">)</span></span>"</span>
<span class="token keyword">else</span>
  <span class="token builtin class-name">printf</span> <span class="token string">'\n\n\e[0mHomebrew found. Continuing...'</span>
<span class="token keyword">fi</span>

<span class="token comment"># If Oh-my-zsh is not installed on the system, it will be installed here</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> <span class="token parameter variable">-d</span> <span class="token environment constant">$HOME</span>/.oh-my-zsh <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">printf</span> <span class="token string">'\n\n\e[33mOh-my-zsh not found. \e[0mInstalling Oh-my-zsh...'</span>
  <span class="token function">sh</span> <span class="token parameter variable">-c</span> <span class="token string">"<span class="token variable"><span class="token variable">$(</span><span class="token function">curl</span> <span class="token parameter variable">-fsSL</span> https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh<span class="token variable">)</span></span>"</span>
<span class="token keyword">else</span>
  <span class="token builtin class-name">printf</span> <span class="token string">'\n\n\e[0mOh-my-zsh found. Continuing...'</span>
<span class="token keyword">fi</span>

<span class="token comment"># Update homebrew packages and apps</span>
<span class="token builtin class-name">printf</span> <span class="token string">'\nInitiating Homebrew update...\n'</span>
brew bundle --no-lock <span class="token parameter variable">--file</span><span class="token operator">=</span><span class="token string">"{{ .chezmoi.sourceDir }}/Brewfile"</span>

<span class="token comment"># Install age dependency</span>
<span class="token keyword">if</span> <span class="token function">which</span> age <span class="token operator">></span> /dev/null<span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">"'age' is already installed. Skip installation."</span>
<span class="token keyword">else</span>
  <span class="token builtin class-name">echo</span> <span class="token string">"'age' is not installed. Start installation."</span>
  brew <span class="token function">install</span> age
  <span class="token builtin class-name">echo</span> <span class="token string">"Successfully installed 'age'."</span>
<span class="token keyword">fi</span>

<span class="token builtin class-name">printf</span> <span class="token string">'\nbefore install package 01 Done!!\n'</span></code></pre></div>
<ol>
<li>컴퓨터에 homebrew가 설치되어 있지 않다면 homebrew를 설치한다.</li>
<li>컴퓨터에 .oh-my-zsh 파일이 없다면 oh-my-zsh를 설치한다.</li>
<li>Brewfile에 명시된 프로그램을 설치한다(Brewfile은 밑에서 설명할 것임).</li>
<li>age라는 패키지가 설치되어 있지 않다면 설치한다(age 패키지는 밑에서 설명할 것임).</li>
</ol>
<br/>
<h3 id="Brewfile" style="position:relative;">Brewfile<a href="#Brewfile" aria-label="Brewfile permalink" class="auto-link after"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a></h3>
<p>맥 사용 개발자라면 brew 명령어를 통해 macOS에서 여러 파일을 설치해 봤을 것이다. <code class="language-text">$ brew list</code> 명령어를 터미널에서 입력하면 brew를 통해 설치된 파일 리스트를 볼 수 있다. brew list는 어떤 한 패키지에서 종속성을 가지고 있다면 종속성을 가진 패키지까지 모두 설치하고, 그 리스트 모두를 보여준다. 즉, brew install 명령어로 설치된 파일 외, 컴퓨터에 homebrew로 깔린 모든 파일을 보여준다.</p>
<p>Brewfile이란, npm의 <code class="language-text">package.json</code> 파일 또는 gradle의 <code class="language-text">build.gradle</code> 파일과 같다. 즉, 종속성을 관리하는 파일이다. Brewfile을 까보면</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">tap "homebrew/bundle"
brew "age"
brew "chezmoi"
brew "fnm"
brew "git"
brew "mas"
brew "php"
brew "pnpm"
brew "pure"
brew "zsh"
brew "zsh-autosuggestions"
brew "zsh-completions"
brew "zsh-syntax-highlighting"
cask "alfred"
cask "alt-tab"
cask "appcleaner"
cask "google-chrome"
cask "iterm2"
cask "itsycal"
cask "notion"
cask "openineditor-lite"
cask "openinterminal-lite"
cask "scroll-reverser"
cask "slack"
cask "sublime-text"
cask "typora"
cask "visual-studio-code"
mas "Gifski", id: 1351639930
mas "Hidden Bar", id: 1452453066
mas "jandi", id: 1551460285
mas "Keynote", id: 409183694
mas "Magnet", id: 441258766
mas "Memory Diag", id: 748212890
mas "Numbers", id: 409203825
mas "Pages", id: 409201541
mas "PhotoScape X", id: 929507092
mas "카카오톡", id: 869223134</code></pre></div>
<p>이렇게 생겼다. brew, cask가 붙은 녀석들은 실제 <code class="language-text">brew install</code> 을 통해 설치한 어플리케이션을 나타낸다. 따라서, 어플리케이션을 이렇게 관리하고 싶다면 웬만하면 brew 명령어를 통해 설치하는 것을 추천한다. 또한 brew update, brew upgrade 명령어를 통해 손쉽게 패키지를 업데이트할 수 있으므로 매우 편리하다.</p>
<blockquote>
<p>※ 얼마 전 xz 패키지 이슈가 있었다.</p>
<p>xz 패키지는 압축 유틸리티인데, 많은 패키지에서 종속성을 가지고 있는 패키지다. <a href="https://news.hada.io/topic?id=14122&#x26;utm_source=slack&#x26;utm_medium=bot&#x26;utm_campaign=T0101GW47QQ" target="_blank" rel="nofollow">취약점이 발견되어 떠들썩했던 사건</a>이다. 이때, <code class="language-text">$ brew update &amp;&amp; brew upgrade</code> 명령어로 패키지를 빠르게 업데이트해준다면 취약점을 조금 더 빠르게 방지할 수도 있다.</p>
</blockquote>
<p><code class="language-text">run_once_before_01_install-packages-darwin.sh.tmpl</code> 스크립트에서 <code class="language-text">brew bundle --no-lock --file="{{ .chezmoi.sourceDir }}/Brewfile"</code> 명령어로 Brewfile에 명시된 종속성을 설치하고 있다.</p>
<p>그렇다면 Brewfile을 생성하는 방법은 <code class="language-text">$ brew bundle dump</code> 으로 생성할 수 있다. <a href="https://github.com/Homebrew/homebrew-bundle" target="_blank" rel="nofollow">brew bundle</a>이란, Homebrew를 위한 번들러다. 이 과정을 <code class="language-text">brew install ...</code> 명령어를 실행하면 자동으로 dump를 뜨게 할 수는 없을까? 아쉽지만 brew bundle에서 hook 기능은 존재하지 않는다. <a href="https://github.com/Homebrew/brew/issues/3933" target="_blank" rel="nofollow">이 이슈</a>를 보자. 5건이나 install hook을 만들어 달라고 요청했지만 메인테이너가 이를 들어주지 않았다.</p>
<p>어쨌든 Brewfile에 보면 brew로 <code class="language-text">mas</code> 를 설치하고 있고, mas 뒤에 어플리케이션 명이 적힌 것을 볼 수 있다. 이는 맥의 App Store를 통해 설치한 어플리케이션을 말한다. brew로 설치하지 않고 App Store에서 설치한 파일을 명시해두었다. 이들 또한 Brewfile에 명시가 되며 알아서 설치된다. 자세한 사항은 <a href="https://github.com/mas-cli/mas" target="_blank" rel="nofollow">mac-cli</a>를 통해 확인할 수 있다.</p>
<br/>
<h3 id="age-암호화-라이브러리" style="position:relative;">age (암호화 라이브러리)<a href="#age-%EC%95%94%ED%98%B8%ED%99%94-%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC" aria-label="age 암호화 라이브러리 permalink" class="auto-link after"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a></h3>
<p>스크립트에서 <a href="https://github.com/FiloSottile/age" target="_blank" rel="nofollow">age</a>를 설치하고 있다. Brewfile에도 명시가 되어있지만, Brewfile을 통해 어플리케이션들을 설치한 뒤 다시 age를 확인하는 이유는 age로 외부에 노출되어서는 안되는 특정 파일을 암호화하고 있으며 이를 chezmoi로 관리하고 있기 때문이다. 즉, age는 암호화, 복호화 라이브러리다.</p>
<blockquote>
<p>chezmoi의 암호화 라이브러리</p>
<p>chezmoi의 암호화 연동 라이브러리는  age, gpg, rage가 있다. 각각 독립적인 암호화 라이브러리고, gpg가 가장 유명해 보였다. 하지만, gpg는 복잡하고 무거운 기술을 사용한다. 나는 간편하게 공개키 전략을 사용해 비밀키와 공개키 한 쌍으로 암호화, 복호화를 하기 원했고 쉽고 가볍기를 원했다.</p>
</blockquote>
<p>age를 brew로 설치했다면 아래 명령어로 먼저 공개키를 만든다.</p>
<div class="gatsby-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh">$ age-keygen <span class="token parameter variable">-o</span> <span class="token environment constant">$HOME</span>/age-key.txt
Public key: age1ql3z7hjy54pw3hyww5ayyfg7zqgvc7w3j2elw8zmrj2kg5sfn9aqmcac8p</code></pre></div>
<p>터미널에 즉시 공개키를 알려준다. 그리고 age-key.txt가 생성되는데 이는 비밀키이다. 외부에 노출되면 안 된다. age-key.txt의 형태는 아래와 같다.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text"># created: 2024-04-14T13:15:05+09:00
# public key: age1ql3z7hjy54pw3hyww5ayyfg7zqgvc7w3j2elw8zmrj2kg5sfn9aqmcac8p
AGE-SECRET-KEY-...</code></pre></div>
<p>공개키도 주석 처리되어 함께 적혀있다.</p>
<p>그러면, 위에서 봤던 chezmoi 설정 파일인 <code class="language-text">~/.config/chezmoi/chezmoi.toml</code> 에서도 chezmoi에게 age를 통해 암호화하겠다고 명시해 주어야 한다.</p>
<div class="gatsby-highlight" data-language="toml"><pre class="language-toml"><code class="language-toml">~/<span class="token punctuation">.</span>config/chezmoi/chezmoi<span class="token punctuation">.</span>toml

<span class="token key property">encryption</span> <span class="token punctuation">=</span> <span class="token string">"age"</span>
<span class="token punctuation">[</span><span class="token table class-name">age</span><span class="token punctuation">]</span>
    <span class="token key property">identity</span> <span class="token punctuation">=</span> <span class="token string">"/home/pozafly/age-key.txt"</span>
    <span class="token key property">recipient</span> <span class="token punctuation">=</span> <span class="token string">"age1ql3z7hjy54pw3hyww5ayyfg7zqgvc7w3j2elw8zmrj2kg5sfn9aqmcac8p"</span></code></pre></div>
<ul>
<li><code class="language-text">identity</code> : 앞으로 암호화하고 복호화 할 비밀키의 경로.</li>
<li><code class="language-text">recipient</code> : 공개키</li>
</ul>
<p>이러면 이제 <code class="language-text">$ chezmoi add --encrypt [파일명]</code> 을 통해 암호화할 파일을 chezmoi에게 알려주어 관리할 수 있다. 암호화 한 파일은 아래와 같이 생겼다.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">-----BEGIN AGE ENCRYPTED FILE-----
YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBGNHcyMW41dXFaVjlEVGV4
Y3MxT0RTT0hxUUw4ekN6eW1JYTMxR2RaWEdRCnZPek9WVnp4R0RVQ0FUemhYQW85
NVNkVnJud0ttQ2Z4L1ZaYkFYQzBXam8KLS0tIHVrdlZJWmYzVzJhTGxzWE1OUUhE
M08zUDFWRW9Bb1FiRVpTVEFxazlwc0UK9kfzYOoKK+75/heyQp2x4uzkH8y0w7CA
qJYb4g+muRjhrRL29YpbTNIZy+U/RBa+3qAMP47+DX36TtFj0pQCJSLpKDOqSrpz
VA3Jfriu01udMoTR5dWEKswp
-----END AGE ENCRYPTED FILE-----</code></pre></div>
<p>AWS pem 키나, GitHub의 ssh 키 등을 <code class="language-text">--encrypt</code> 옵션을 통해 암호화할 수 있다. 이렇게 암호화된 파일은 GitHub의 public repository에 올라가도 상관없다. 비밀키는 내가 갖고 있기 때문이다. 따라서 비밀키를 안전하게 들고 있는 것이 중요하다.</p>
<p>mac을 백업하기 전 반드시 비밀키를 옮겨야 하는데 나는 iCloud Drive 깊숙한 곳에 미리 저장해두었다. 다시 복호화 해서 실제로 필요한 경우에는 <code class="language-text">chezmoi apply</code> 명령어를 사용하면 저장했던 경로로 복호화 된 파일이 나타날 것이다.</p>
<p>ssh key뿐 아니라 일반 text 파일도 가능하니, 암호화를 원한다면 age, chezmoi를 이용해 보자.</p>
<br/>
<h3 id="macos" style="position:relative;">.macos<a href="#macos" aria-label="macos permalink" class="auto-link after"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a></h3>
<p>3번째 스크립트 파일에는 아래와 같은 명령어도 있다.</p>
<div class="gatsby-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh"><span class="token function">sh</span> <span class="token punctuation">{</span><span class="token punctuation">{</span> .chezmoi.sourceDir <span class="token punctuation">}</span><span class="token punctuation">}</span>/.macos</code></pre></div>
<p><code class="language-text">.macos</code> 쉘 스크립트를 실행하라는 명령어다. 아래와 같이 생겼다.</p>
<div class="gatsby-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh"><span class="token shebang important">#!/usr/bin/env bash</span>

osascript <span class="token parameter variable">-e</span> <span class="token string">'tell application "System Preferences" to quit'</span>

<span class="token comment"># 독 설정</span>
<span class="token comment"># 독 아이콘 크기 45</span>
defaults <span class="token function">write</span> com.apple.dock <span class="token string">"tilesize"</span> <span class="token parameter variable">-int</span> <span class="token string">"45"</span>

<span class="token comment"># Finder 설정</span>
<span class="token comment"># 파일 확장자 모두 표시</span>
defaults <span class="token function">write</span> NSGlobalDomain <span class="token string">"AppleShowAllExtensions"</span> <span class="token parameter variable">-bool</span> <span class="token string">"true"</span>
<span class="token comment"># 하단 위치 표시줄 표시</span>
defaults <span class="token function">write</span> com.apple.finder <span class="token string">"ShowPathbar"</span> <span class="token parameter variable">-bool</span> <span class="token string">"true"</span>
// <span class="token punctuation">..</span>.

<span class="token comment"># 트랙패트 설정</span>
<span class="token comment"># 트랙패드 스피드 (가장 빠르게)</span>
defaults <span class="token function">write</span> <span class="token parameter variable">-g</span> com.apple.trackpad.scaling <span class="token number">3</span>
// <span class="token punctuation">..</span>.

<span class="token comment"># 키보드 설정</span>
<span class="token comment"># 자동으로 대문자 시작안함</span>
defaults <span class="token function">write</span> NSGlobalDomain NSAutomaticCapitalizationEnabled <span class="token parameter variable">-bool</span> <span class="token boolean">false</span>
<span class="token comment"># 자동 수정 안함</span>
defaults <span class="token function">write</span> NSGlobalDomain NSAutomaticSpellingCorrectionEnabled <span class="token parameter variable">-bool</span> <span class="token boolean">false</span>
// <span class="token punctuation">..</span>.

<span class="token comment"># 메뉴바</span>
<span class="token comment"># 배터리 잔량 표시</span>
defaults <span class="token function">write</span> com.apple.menuextra.battery ShowPercent <span class="token parameter variable">-int</span> <span class="token number">1</span>
<span class="token comment"># spotlight 메뉴바에서 감추기</span>
defaults <span class="token parameter variable">-currentHost</span> <span class="token function">write</span> com.apple.Spotlight MenuItemHidden <span class="token parameter variable">-int</span> <span class="token number">1</span>
// <span class="token punctuation">..</span>.

<span class="token function">killall</span> Dock
<span class="token function">killall</span> Finder
<span class="token function">killall</span> SystemUIServer
<span class="token function">killall</span> ControlCenter</code></pre></div>
<p>위의 내용은 간추린 버전이고, <a href="https://github.com/pozafly/dotfiles/blob/main/.macos" target="_blank" rel="nofollow">풀버전은 이곳</a>이다.</p>
<p>osascript는 <a href="https://pozafly.github.io/tools/alfred-korean-english-converter/" target="_blank" rel="nofollow">alfred의 워크플로우를 개발</a>할 때 사용해 봤었다. apple script이다. <code class="language-text">defaults</code> 로 시작하는 명령어는 맥의 설정을 cli로 조작할 수 있다. 맥을 처음부터 세팅하려면 무척이나 귀찮은 작업이다.</p>
<p>defaults 명령어를 모아둔 <a href="https://macos-defaults.com/" target="_blank" rel="nofollow">macOS defaults</a>라는 곳을 많이 참고했다. 하지만 꼭 적용하고 싶지만 없는 명령어도 있으니 참고해야 한다. 더 많은 defaults 관련 DB는 <a href="https://www.real-world-systems.com/docs/defaults.1.html" target="_blank" rel="nofollow">real-world-systems</a>에서 찾아볼 수 있을 것이다.</p>
<p>참고로 마지막 줄의 <code class="language-text">killall</code> 명령어는 defaults로 맥의 설정을 변경시켰지만 아직 적용되지 않은 구간을 재부팅 시켜줘서 적용할 수 있게 만들어준다.</p>
<br/>
<h3 id="plist-관리" style="position:relative;">plist 관리<a href="#plist-%EA%B4%80%EB%A6%AC" aria-label="plist 관리 permalink" class="auto-link after"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a></h3>
<p>마지막으로 plist에 대해 알아보자. 어플리케이션을 이용하면 자기 입맛대로 설정을 하기 마련이다. 대표적으로 iTerms2을 다시 설치하면 이전 설정 그대로 쓰기 위해 다시 세팅하는 과정을 반드시 거친다.</p>
<p>plist란, Property List로, 주로 macOS와 iOS 시스템에서 사용되는 설정 파일 형식이다. 애플리케이션의 설정, 사용자 환경 설정, 시스템 구성 정보 등을 저장하는 데 사용된다. <code class="language-text">plist</code> 파일은 바이너리 파일로 작성되어 있는데, 일련의 과정을 거치면 XML 형식으로 볼 수 있다.</p>
<p>iTerms2의 plist의 형태를 한번 보자.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 220.2%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAsCAYAAABloJjNAAAACXBIWXMAABYlAAAWJQFJUiTwAAAEjklEQVR42qXX11JcRxAG4H0J24gogkgip2XJGQRC5AxFlaDkW/sFeCbf+NqPNuabql6fDUhV1kXvzJlz5u+/48yW7peW059n5bTyWE6z65X0x+/f0pcvh2n/4CAdHR2l4+Pj1+cv6fDwMIv56elpls+fP6f5+fks5XI5zc3NpdLi9ExanZ9MU4vjabZSTlvr62llZSXL6upqWn99Xl5ezs/GqampND09nceJiYk0MjKSBdjMzEwqXV6ep3/+/ut1w0a6urxMZ2dn6e7uLl2+zoPF3t5enn/69Cn19fWl3t7eLOYfPnzI4/b2dlZeWlteSi8vL2mqXEkzr5onJyez9hh93NPTkwGM/f39TSUUlPz88utvqbu7O7W3tzdIZ2dnjXR0dDQV72CUBgYG0sePH6tMgk29xLvvSWYIbH9/Pzt6eHg4O5gJfBPmxJzywcHBpuIdKUHe2NjIoJwvLcbHx7OMjY3lUTTNMWBWPWvroTwDitDJyUk6Pz/P0RVpEb26usp5GBGvVCppd3c3p5D51tZWWltbyykTVpTQvb+/TxcXF3njzc1NHil4enqqgnovgbHFmmsiG0ZHR/8DZDc2tG1ubma2ZGdnJ5vPDRLcO2azyGZSzMWqyX4s0r60tJRHfiLv37/PAsRzceNbUvLR0NBQznL+EPVi1Orlh4AAOBgYXzDje4A/kgzIh9FROB3r/w0omQ9eWxXfzc7OZpaRxD8FyIdMj0r5KUCpIe+w9FwstWLpFaNc9LN5TR5qjMAsAuRXTEXfXP5Zj6S21tXVVU0to+99k9uXpFYRSk5VELWtYgTM89evX6tHgPJbXFzMlYIIhhSpmswwuq3urE5t4FflZqOEVzkYYhPNQIqxCktrmaEFHyt+YwjWgL1vaWlJ7969S62trVXRfDXWaMQUVAF1CyywjXaFPuHfou+kFZ/yYXR0wOH/XMte0MoE0SYUOBqNzF5YWMiKpZbTDzgCzG0ApM0iP0Qw4rSLrsO3FEh+rAMciRqT6wGjsQJT3wLmwMcUgKg6LoBjxTJm1zAs0hYcTRYzbAgggMymhMnhBvvb2tpqGVogGGJ2fX2djwO+ZK5n5w5mTA2W5gKGUA1DL2S6F5joznEVMWKCUVxB6v0oOHxZBVRiFgDSDtCH/BSJHjVuc7T/yMkGk/nPoo9Vx+PjY3p+fs5ye3ubHh4e8prox8UJS8GIgDZNG1pFWWRtZBaRzHFlk+zmsadpYseiOrUJgMpgOj9G8+VLB1bcZ1gVJdjAkAD2kbpVXtEQzAWkeF3h92hrQJuWXrPbFwUahRYWLsAUa1HmggZAmpiETTQG5hevadFMI3W4xjvWNJis0GmO6230vaLTsRA0fZNv5Ws0iYa0EQSAceuqBwxQgECUH5OjMQCsYWjCFMDkLUARBhgVZOTfOMCqgHG480doLIIVGQJgdhwNclYMagCjO0eO1d+ri3kaOSrCGFLiiKj6ULnRQCNQm6OdFSWCwuQoP7nYUHoA+Q9gdA95Zr3+Aq+9UR6+Lv7liAO/enPgG6PW7+O3rhpx2SzeLoo3iH8BOphYFIzaQ5UAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="iTerms2-plist"
        title=""
        src="/static/509c6ae8590189777e11085f37412952/a331c/iTerms2-plist.png"
        srcset="/static/509c6ae8590189777e11085f37412952/b30f8/iTerms2-plist.png 500w,
/static/509c6ae8590189777e11085f37412952/a331c/iTerms2-plist.png 800w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
    </span></p>
<p>이렇게 생겼다. plist는 맥에서 주로 ~/Library/Preperences 경로에 있다. iTerm2는 <code class="language-text">com.googlecode.iterm2.plist</code> 라는 이름을 가지고 있다. 이 설정 파일을 chezmoi로부터 복원하면 어플리케이션 설정이 그대로 복원된다.</p>
<p>하지만 맥 설정인 <code class="language-text">com.apple...</code> 로 시작하는 설정 파일은 복원했을 경우 그대로 적용이 되지 않는 경우도 있다. 나 같은 경우 단축키 활용을 많이 하는 편인데 <code class="language-text">com.apple.symbolichotkeys.plist</code> 를 그대로 복원해도 단축키가 돌아오지 않았다. 구글링한 결과 애플 측에서 UI를 통해 명시적으로 설정하는 것을 정책으로 삼아두었다는 이야기가 있다.</p>
<p>단, plist는 <code class="language-text">chezmoi diff</code> 명령어로 변경된 것을 찾을 때, diff 결과에 무척이나 자주 뜰 것이다. 어플리케이션의 마지막 창 위치를 가지고 있는 plist도 있고, update 체크 날짜를 plist에서 관리하는 어플리케이션도 있기 때문이다.</p>
<p>나 같은 경우는 <a href="https://www.chezmoi.io/user-guide/manage-different-types-of-file/#manage-part-but-not-all-of-a-file" target="_blank" rel="nofollow">chezmoi - Handle configuration files which are externally modified</a>을 보고 여러 번 따라 해봐도 제대로 적용되지가 않았다.</p>
<p>그래서 plist를 ignore 처리해두고 쉘 스크립트로 원할 때 백업(로컬에 저장된 plist를 chezmoi 관리 파일에 덮어씀) 하고, run_once_before… 스크립트로 맨 처음 mac에 설치할 때 복원하는 방법을 선택했다.</p>
<h4 id="백업-스크립트" style="position:relative;">백업 스크립트<a href="#%EB%B0%B1%EC%97%85-%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8" aria-label="백업 스크립트 permalink" class="auto-link after"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a></h4>
<div class="gatsby-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh"><span class="token shebang important">#!/bin/bash</span>

<span class="token comment"># plist 관리 (백업)</span>

<span class="token comment"># .chezmoiignore 파일의 내용을 백업합니다.</span>
<span class="token function">cp</span> ~/.local/share/chezmoi/.chezmoiignore ~/.local/share/chezmoi/.chezmoiignore.backup

<span class="token comment"># .chezmoiignore 파일의 내용을 비웁니다.</span>
<span class="token operator">></span> ~/.local/share/chezmoi/.chezmoiignore

<span class="token comment"># /private_Library/private_Preferences 에 존재하는 plist 파일 이름을 가져와서</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">file</span> <span class="token keyword">in</span> ~/.local/share/chezmoi/private_Library/private_Preferences/*.plist<span class="token punctuation">;</span> <span class="token keyword">do</span>
    <span class="token comment"># 파일이 심볼릭 링크인지 확인하고, 심볼릭 링크라면 건너뜀</span>
    <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-L</span> <span class="token string">"<span class="token variable">$file</span>"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
        <span class="token builtin class-name">continue</span>
    <span class="token keyword">fi</span>

    <span class="token comment"># 파일 이름 추출</span>
    <span class="token assign-left variable">filename</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">basename</span> <span class="token string">"<span class="token variable">$file</span>"</span><span class="token variable">)</span></span>

    <span class="token assign-left variable">new_filename</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$filename</span>"</span> <span class="token operator">|</span> <span class="token function">sed</span> <span class="token string">'s/^private_//'</span><span class="token variable">)</span></span>
    <span class="token builtin class-name">echo</span> <span class="token string">'new_filename'</span> <span class="token variable">$new_filename</span>

    <span class="token comment"># 파일을 /Library/Preferences로 복사</span>
    chezmoi <span class="token function">add</span> <span class="token string">"~/Library/Preferences/<span class="token variable">$new_filename</span>"</span>
<span class="token keyword">done</span>

<span class="token comment"># .chezmoiignore 파일을 원래 상태로 되돌립니다.</span>
<span class="token function">cp</span> ~/.local/share/chezmoi/.chezmoiignore.backup ~/.local/share/chezmoi/.chezmoiignore

<span class="token comment"># 백업 파일을 삭제합니다.</span>
<span class="token function">rm</span> ~/.local/share/chezmoi/.chezmoiignore.backup

<span class="token builtin class-name">printf</span> <span class="token string">'\nplist backup Done!!\n'</span></code></pre></div>
<p>.chezmoiignore 파일에 경로를 등록해두면 경로 하위의 파일들은 chezmoi diff, add, apply 등의 명령어에 적용되지 않기 때문에 잠시 ignore 파일을 <code class="language-text">.chezmoiignore.backup</code> 파일로 변경시켜 둔 뒤 chezmoi add 명령어를 통해 chezmoi에 등록하고 다시 <code class="language-text">.chezmoiignore.backup</code> 파일을 <code class="language-text">.chezmoiignore</code> 로 원상복구 시킨다.</p>
<h4 id="복원-스크립트" style="position:relative;">복원 스크립트<a href="#%EB%B3%B5%EC%9B%90-%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8" aria-label="복원 스크립트 permalink" class="auto-link after"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a></h4>
<div class="gatsby-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh"><span class="token shebang important">#!/bin/bash</span>

<span class="token comment"># plist 관리</span>

<span class="token comment"># /private_Library/private_Preferences 에 존재하는 plist 파일 이름을 가져와서</span>
<span class="token comment"># /Library/Preferences로 덮어씀(복사).</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">file</span> <span class="token keyword">in</span> <span class="token punctuation">{</span><span class="token punctuation">{</span> .chezmoi.sourceDir <span class="token punctuation">}</span><span class="token punctuation">}</span>/private_Library/private_Preferences/*.plist<span class="token punctuation">;</span> <span class="token keyword">do</span>
    <span class="token comment"># 파일이 심볼릭 링크인지 확인하고, 심볼릭 링크라면 건너뜀</span>
    <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-L</span> <span class="token string">"<span class="token variable">$file</span>"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
        <span class="token builtin class-name">continue</span>
    <span class="token keyword">fi</span>

    <span class="token comment"># 파일 이름 추출</span>
    <span class="token assign-left variable">filename</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">basename</span> <span class="token string">"<span class="token variable">$file</span>"</span><span class="token variable">)</span></span>

    <span class="token assign-left variable">new_filename</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$filename</span>"</span> <span class="token operator">|</span> <span class="token function">sed</span> <span class="token string">'s/^private_//'</span><span class="token variable">)</span></span>
    <span class="token builtin class-name">echo</span> <span class="token string">'new_filename'</span> <span class="token variable">$new_filename</span>

    <span class="token comment"># 파일을 /Library/Preferences로 복사</span>
    <span class="token function">cp</span> <span class="token string">"<span class="token variable">$file</span>"</span> <span class="token punctuation">{</span><span class="token punctuation">{</span> .chezmoi.homeDir <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token string">"/Library/Preferences/<span class="token variable">$new_filename</span>"</span>
<span class="token keyword">done</span>

<span class="token builtin class-name">printf</span> <span class="token string">'\nbefore install package 02 Done!!\n'</span></code></pre></div>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 594px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 97.60000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAADUUlEQVR42m2U63LaSBCF/RRbW0kcGxsHMKALkpCEJJDQhfvVBK/LtVu17/8QJ30aQ0IlP0YzGql6vj59em5q357R6FiIyznatof+YAQ/ThEmYzRln+sgyeCGCeqtLu7qTdw/tf44+O2m3uqgafQweXmD3R8gySpEaYFRMdUgg1GOOC0RjQoN+PdtDV9qT/h093gZn+/ruH34dgrIR02GF4+xfP0PXaEcDMcaOJS51490nVVzJOMK5Xyt+1yP8imy8rRv9HwNekPU2lMTdjjEaLaG6QTwZB0kqcyJUpI2lLSdINb0DcfXbBhwXC3gDYZodm18fWyQsIXHZhv+MEe5OcLxY6TlDPl0qanGWYnJcotqscF4stB3rp9NB399vrukzWCXlEnZMl1EVS6ne0rpBJFStERf0w1guaHOpCMpiajpORDnD8Kmbny6raN4N+FPTWT5UlKZY7n7rgWibrP1XudiusJ0tVNNz/+QmDrSMZeAXx+a8CcWjMAQgQN0bBc9P0K319dBurblStH6Sss106bGlif0XqDEp4BSlC/3DeRvDvzKxrhYqYar/VEqXCKVovCdGq73r7pPfUlazTfYHP7Rb5ThQnhbayBcCOGgC7MXouv0fyPsiKW4Z3sDHSRz+I/sc/3QaP8kvBXC7NiDV9hI0qlYZYLZan8x9nA8Ud0q0XGxecFcRiz6zkXbSP6hvm2R4CpgsrNhxQZ6XiIkA/jRSCutJFJZNzj5kr4zhJoz6XnoLz78mXK8teFkFoIol27IlOjcy+FHP7OarDz30mKmh+Win+X+oSjZ0UEvNTUg02AX0OgMxLRJxJlBaRVmkEkT9GXmIY/NzjWhV5owI0OCiBX6oVIwVQ4Wg6ZmUPY69WuLtU7kQxkxnp6Na8Li3ZWiWBiNF2qDxfaAQFKO01zSWmpPswjFh4XOFwVbld946BVhvzLFNga6lq8WoYHVJlIYFoGE58E9WknbUnTke7NjXxNW/7oS1NLWW+4OKGYrschB9eIo5TZai6lZrM3Lq9hqp5TMZHs43afXhKJhp99Fo22fCOVk2oItdmm9X945c4/Ejbapl8wV4fR/D+FMWq8UkpejXggkYYtRu+lyh+33N70g9sd3JSM5LwhqStv8APG9k2gNIMZUAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="managed-plists"
        title=""
        src="/static/1ce2a4094d83fa718f208297c6f5a232/ff7bb/managed-plists.png"
        srcset="/static/1ce2a4094d83fa718f208297c6f5a232/b30f8/managed-plists.png 500w,
/static/1ce2a4094d83fa718f208297c6f5a232/ff7bb/managed-plists.png 594w"
        sizes="(max-width: 594px) 100vw, 594px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
    </span></p>
<p>이런 방식으로 chezmoi source 디렉토리에 저장된다. 하지만 자세히 보면 <code class="language-text">private_</code> 라는 접두사가 붙어있는 것을 볼 수 있는데, 해당 파일이 민감한 정보를 포함하고 있어 보안을 강화하기 위한 경우에 자동으로 붙는다.</p>
<p>하지만 이 파일들은 <code class="language-text">/Library/Preferences</code> 경로에 원래 plist로 존재할 때는 <code class="language-text">private_</code> 접두사가 붙어버리면 제대로 적용이 되지 않기 때문에 없애주는 것도 스크립트에 포함되어 있다.</p>
<br/>
<h2 id="마치며" style="position:relative;">마치며<a href="#%EB%A7%88%EC%B9%98%EB%A9%B0" aria-label="마치며 permalink" class="auto-link after"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a></h2>
<p><code class="language-text">rm -rf ~</code> 라는 명령어로 시작해 plist까지 맥 운영체제가 어떤 방식으로 설정 파일들을 관리하고 있는지 알아봤다. 맥 OS가 darwin 운영체제 위에서 돌아가는 것과, 모든 어플리케이션을 설정할 때 설정값들을 컴퓨터의 파일에 저장해두고 구동 시 설정 파일을 읽어 적용하는 사실을 알게 되었다.</p>
<p>프로그램의 매직은 사실 뒤에서 돌아가고 있는 것이 이렇게 많다는 것을 알 수 있는 시간이었다. 그리고 컴퓨터는 단지 연산과 I/O 작업만 하는 기계라는 생각도 동시에 든다.</p>
<p>그리고 사실 chezmoi의 공식 문서는 생각보다 읽기 어려웠다. 삽질을 많이 했고 템플릿에 적응하기도 쉽지 않았다. 특히 plist를 정석대로 관리하고, chezmoi diff 명령어에 걸리지 않게 하고 싶어 무척이나 많은 시간을 날렸다. 결국 우회한 방법을 사용하긴 했지만.. 물론 chezmoi를 가볍게 사용하려면 <code class="language-text">$ chezmoi add</code>, <code class="language-text">$ chezmoi apply</code> 정도만 알아도 무난하게 사용할 수 있을 것이다.</p>
<p>chezmoi를 사용하면서 회사에서 신규 입사자가 오면 chezmoi를 통해 필수 어플리케이션을 설치하고, 설정해 주면 시간을 아끼고 체크해야 하는 시간을 줄일 수 있겠다는 생각을 했다. 특히 Brewfile을 잘 이용하면 좋겠다고 생각했다.</p>
<br/>
<blockquote>
<p>참고</p>
<ul>
<li><a href="https://www.chezmoi.io/" target="_blank" rel="nofollow">chezmoi.io</a></li>
<li><a href="https://blog.appkr.dev/work-n-play/dotfiles/" target="_blank" rel="nofollow">dotfiles 만들기</a></li>
<li><a href="https://songkg7.github.io/posts/chezmoi-awesome-dotfile-manager/" target="_blank" rel="nofollow">chezmoi, 세상 편리하게 dotfile 관리하기</a></li>
<li><a href="https://zacwe.st/2021/09/14/managing-preference-plists-under-chezmoi/" target="_blank" rel="nofollow">Managing preference plists under Chezmoi</a></li>
<li><a href="https://github.com/felipecrs/dotfiles" target="_blank" rel="nofollow">felipecrs/dotfiles</a></li>
<li><a href="https://github.com/mathiasbynens/dotfiles/blob/main/.macos" target="_blank" rel="nofollow">mathiasbynens/dotfiles - .macos</a></li>
<li><a href="https://blog.lazkani.io/posts/dotfiles-with-chezmoi/" target="_blank" rel="nofollow">Dotfiles with Chezmoi</a></li>
</ul>
</blockquote></div></section></article><style data-emotion="css lhozv1">.css-lhozv1{position:relative;box-sizing:border-box;width:100%;max-width:760px;margin-right:auto;margin-left:auto;}</style><div class="css-lhozv1"><div></div></div></div></main><style data-emotion="css dcfhc9">.css-dcfhc9{position:relative;padding:0 5vw;}</style><style data-emotion="css 1exn8a1">.css-1exn8a1{background:#0a0b0c;position:relative;padding:0 5vw;}.css-1exn8a1 .post-card{padding-bottom:0;border-bottom:none;}.css-1exn8a1 .post-card:after{display:none;}.css-1exn8a1 .post-card-primary-tag{color:#fff;opacity:0.6;}.css-1exn8a1 .post-card-title{color:#fff;word-break:keep-all;opacity:0.8;-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;}.css-1exn8a1 .post-card:hover .post-card-image{opacity:1;}.css-1exn8a1 .post-card-excerpt{color:rgb(255 255 255 / 0.6);}.css-1exn8a1 .static-avatar{border-color:#000;}.css-1exn8a1 .post-card-byline-content{color:rgb(255 255 255 / 0.6);}.css-1exn8a1 .post-card-byline-content a{color:rgb(255 255 255 / 0.8);}.css-1exn8a1 .author-avatar{border-color:#0a0b0c;}.css-1exn8a1 .author-profile-image{background:#0a0b0c;}@media (max-width: 650px){.css-1exn8a1 .post-card{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;margin:25px;padding:25px 0 0;}}</style><aside class="read-next css-1exn8a1 e7ky4j51"><div class="css-8aaawc"><style data-emotion="css 2ud111">.css-2ud111{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:0 -25px;padding:60px 0 0;}</style><div class="read-next-feed css-2ud111 e7ky4j50"><style data-emotion="css 1ncrsd">.css-1ncrsd{position:relative;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:0 1 326px;-ms-flex:0 1 326px;flex:0 1 326px;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin:0 25px 50px;padding:25px;background:linear-gradient(
    #1a1c20,
    #0a0b0c
  );border-radius:12px;}.css-1ncrsd a{-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;}.css-1ncrsd a:hover{-webkit-text-decoration:none;text-decoration:none;}@media (max-width: 1170px){.css-1ncrsd{-webkit-flex:1 1 261px;-ms-flex:1 1 261px;flex:1 1 261px;margin-bottom:5vw;}}@media (max-width: 650px){.css-1ncrsd{display:none;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;margin:0 25px;padding:0;background:none;}}</style><article class="read-next-card css-1ncrsd ez817vd4"><header class="read-next-card-header"><style data-emotion="css 18chcim">.css-18chcim{margin:0;font-size:1.3rem;font-weight:300;line-height:1em;color:rgb(255 255 255 / 0.6);letter-spacing:0.4px;}.css-18chcim span,.css-18chcim a{font-size:inherit;}.css-18chcim a{font-weight:500;color:#fff;-webkit-text-decoration:none;text-decoration:none;opacity:0.8;}.css-18chcim a:hover{opacity:1;}</style><h3 class="css-18chcim ez817vd3"><span>More in</span> <a href="/tags/tool/">Tool</a></h3></header><style data-emotion="css 1vix6iq">.css-1vix6iq{font-size:1.3rem;}.css-1vix6iq ul{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin:0;padding:0;list-style:none;}.css-1vix6iq li{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;margin:0;padding:20px 0;border-bottom:rgb(255 255 255 / 0.1);}.css-1vix6iq li:last-of-type{padding-bottom:5px;border:none;}.css-1vix6iq h4{margin:0;font-size:1.3rem;font-weight:600;line-height:1.6em;}.css-1vix6iq li a{display:block;font-size:inherit;color:#fff;opacity:0.8;}.css-1vix6iq li a:hover{opacity:1;}</style><div class="read-next-card-content css-1vix6iq ez817vd2"><ul><li><h4><a href="/tools/create-a-slack-random-drawer-app-to-deploy-with-cloudflare/">Cloudflare로 배포하는 슬랙 랜덤 추첨기 앱 만들기</a></h4><style data-emotion="css 1qhf9t">.css-1qhf9t{margin-top:2px;font-size:1.2rem;font-weight:400;line-height:1.4em;}.css-1qhf9t p{margin:0;font-size:inherit;color:rgb(255 255 255 / 0.6);}.css-1qhf9t p time{font-size:inherit;}</style><div class="read-next-card-meta css-1qhf9t ez817vd1"><p><time dateTime="2024-03-15">2024-03-15</time> -<!-- --> <!-- -->23 min read</p></div></li><li><h4><a href="/tools/alfred-korean-english-converter/">한영타변환기 Alfred Workflow 개발기</a></h4><div class="read-next-card-meta css-1qhf9t ez817vd1"><p><time dateTime="2023-06-10">2023-06-10</time> -<!-- --> <!-- -->8 min read</p></div></li><li><h4><a href="/node/node-version-manager/">노드 버전 매니저 툴 비교기(nvm &amp; fnm &amp; Volta)</a></h4><div class="read-next-card-meta css-1qhf9t ez817vd1"><p><time dateTime="2023-03-28">2023-03-28</time> -<!-- --> <!-- -->9 min read</p></div></li></ul></div><style data-emotion="css ok4czd">.css-ok4czd{position:relative;margin:40px 0 5px;}.css-ok4czd a{padding:7px 12px 8px 14px;font-size:1.3rem;color:rgb(255 255 255 / 0.6);border:1px solid rgb(255 255 255 / 0.6);border-radius:999px;-webkit-transition:all 0.35s ease-in-out;transition:all 0.35s ease-in-out;}.css-ok4czd a:hover{color:#fecd35;-webkit-text-decoration:none;text-decoration:none;border-color:#fecd35;}</style><footer class="read-next-card-footer css-ok4czd ez817vd0"><a href="/tags/tool/">See all 5 posts<!-- --> →</a></footer></article><style data-emotion="css 1a2xhz7">.css-1a2xhz7{position:relative;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1 1 301px;-ms-flex:1 1 301px;flex:1 1 301px;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:220px;margin:0 20px 60px;-webkit-background-size:cover;background-size:cover;}.css-1a2xhz7 img{-webkit-transform:scale(1)!important;-moz-transform:scale(1)!important;-ms-transform:scale(1)!important;transform:scale(1)!important;-webkit-transition:opacity 0.3s ease-out 0s,-webkit-transform 0.5s ease 0s!important;transition:opacity 0.3s ease-out 0s,transform 0.5s ease 0s!important;}.css-1a2xhz7:hover .post-card-image:after{opacity:var(--post-card-after-opacity);}.css-1a2xhz7:hover img[data-main-image]{-webkit-transform:scale(1.03)!important;-moz-transform:scale(1.03)!important;-ms-transform:scale(1.03)!important;transform:scale(1.03)!important;}.css-1a2xhz7.is-next .post-card-image{background:#191b1f;border:1px solid var(--image-border-color__dark);}.css-1a2xhz7.is-next .post-card-primary-tag a{color:#90a2aa;}.css-1a2xhz7.is-next .post-card-excerpt{color:#768086;}.css-1a2xhz7.is-next .post-card-byline-content{color:#90a2aa;}</style><article class="post-card is-next css-1a2xhz7"><style data-emotion="css uih3rl">.css-uih3rl{position:relative;overflow:hidden;display:block;border-radius:12px;}</style><a class="post-card-image-link css-uih3rl" href="/html/securely-create-a-pdf-page-with-css/"><style data-emotion="css pg199o">.css-pg199o{overflow:hidden;width:auto;height:200px;background-color:var(--background-color);-webkit-background-size:cover;background-size:cover;border:1px solid var(--image-border-color);border-radius:12px;}.css-pg199o:after{content:'';position:absolute;top:0;left:0;display:block;width:100%;height:100%;opacity:var(--post-card-opacity);background-color:var(--post-card-background);-webkit-transition:all 0.3s ease 0s;transition:all 0.3s ease 0s;}.css-pg199o img{border-radius:12px;}</style><div class="post-card-image css-pg199o ezywgfd6"><div data-gatsby-image-wrapper="" style="height:100%" class="gatsby-image-wrapper"><div aria-hidden="true" style="padding-top:52.5%"></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABKklEQVR42pWT0U7CMBSGu3nFg+iNS9DoAxB9ARIeghm9dO+i0QteQLxAJJAt8CgwE2AjoHZAu0Dy2xYDi+vidvHnpKfnfGn/0xLOObRiDHyzQQyktd3u9jV9JBMmmlgQgPZ6oN3uQWIt8zwDSrJOJpvG5TJGhMA3TPjEUFGux2fnO6io+wtNA9drda3I8zAUzSPDUJC9TFPlo/5A1fHV6h+gKJCF360WJqcWFrd3CK+u8eU4mF5cYmHbmByfgHY6BYEvTcxqNTDXxfLpGZ/3DqKHR7C3NqaWBdp+LwhsvmJWrSpoUKlg2Whgbt9gXq8LPwmo6+UE/npIEx76Qh+lkvDv6ODhIK+HminvByPisPCUk+8wDMU0+ynJfP53mITGsfanyLy0RvdTfgD4wgAkBeu5twAAAABJRU5ErkJggg==" alt=""/><picture><source type="image/webp" data-srcset="/static/39ee9e2452b5c68830fa2ebb9eec0967/17074/main.webp 750w,/static/39ee9e2452b5c68830fa2ebb9eec0967/e4fbc/main.webp 1080w,/static/39ee9e2452b5c68830fa2ebb9eec0967/7d981/main.webp 1200w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/static/39ee9e2452b5c68830fa2ebb9eec0967/d8bb9/main.png" data-srcset="/static/39ee9e2452b5c68830fa2ebb9eec0967/8c964/main.png 750w,/static/39ee9e2452b5c68830fa2ebb9eec0967/10850/main.png 1080w,/static/39ee9e2452b5c68830fa2ebb9eec0967/d8bb9/main.png 1200w" alt="PDF 페이지 CSS로 안전하게 작성하기 cover image"/></picture><noscript><picture><source type="image/webp" srcSet="/static/39ee9e2452b5c68830fa2ebb9eec0967/17074/main.webp 750w,/static/39ee9e2452b5c68830fa2ebb9eec0967/e4fbc/main.webp 1080w,/static/39ee9e2452b5c68830fa2ebb9eec0967/7d981/main.webp 1200w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/static/39ee9e2452b5c68830fa2ebb9eec0967/d8bb9/main.png" srcSet="/static/39ee9e2452b5c68830fa2ebb9eec0967/8c964/main.png 750w,/static/39ee9e2452b5c68830fa2ebb9eec0967/10850/main.png 1080w,/static/39ee9e2452b5c68830fa2ebb9eec0967/d8bb9/main.png 1200w" alt="PDF 페이지 CSS로 안전하게 작성하기 cover image"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></div></a><style data-emotion="css z5atxi">.css-z5atxi{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}</style><div class="post-card-content css-z5atxi ezywgfd5"><style data-emotion="css 1k7wcu">.css-1k7wcu{margin:15px 0 0.2em;font-size:1.2rem;font-weight:500;color:#90a2aa;letter-spacing:0.2px;}.css-1k7wcu a{font-size:1.2rem;color:var(--anchor-secondary-color);}</style><div class="post-card-primary-tag css-1k7wcu ezywgfd4"><a href="/tags/css/">CSS</a>,  <a href="/tags/html/">HTML</a>,  <a href="/tags/pdf/">PDF</a></div><style data-emotion="css 1fjrpmt">.css-1fjrpmt{position:relative;display:block;color:#15171A;}.css-1fjrpmt:hover{-webkit-text-decoration:none;text-decoration:none;}</style><a class="post-card-content-link css-1fjrpmt" href="/html/securely-create-a-pdf-page-with-css/"><header><style data-emotion="css 18yvs8h">.css-18yvs8h{margin:0 0 0.4em;line-height:1.15em;color:var(--post-card-title);word-break:keep-all;}</style><h2 class="post-card-title css-18yvs8h ezywgfd3">PDF 페이지 CSS로 안전하게 작성하기</h2></header><style data-emotion="css 1uf2vd9">.css-1uf2vd9{font-size:1.6rem;color:var(--post-card-description);}.css-1uf2vd9 p{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;width:100%;margin-bottom:0.4em;font-size:1.4rem;text-overflow:ellipsis;word-break:keep-all;}</style><section class="post-card-excerpt css-1uf2vd9 ezywgfd2"><p>웹을 개발하다 보면, PDF로 문서를 사용자에게 제공하는 기능을 구현해야 할 때가 있다. 다른 개발자분들이 헤매지 않을 수 있도록 정리해 보았다.</p></section></a><style data-emotion="css 143c7df">.css-143c7df{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;padding:0;}</style><footer class="post-card-meta css-143c7df ezywgfd1"><style data-emotion="css 137vq87">.css-137vq87{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1 1 50%;-ms-flex:1 1 50%;flex:1 1 50%;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;font-weight:400;line-height:1.4em;color:#90a2aa;letter-spacing:0.2px;}.css-137vq87 time{font-size:1.3rem;}.css-137vq87 span{margin:0;font-size:1.3rem;}.css-137vq87 a{font-weight:600;color:var(--post-card-by-line);}</style><div class="post-card-byline-content css-137vq87 ezywgfd0"><span class="post-card-byline-date"><time dateTime="2025-08-30T21:13">2025-08-30</time> <span class="bull">•</span> <span>10 min read</span></span></div></footer></div></article><article class="post-card is-next css-1a2xhz7"><a class="post-card-image-link css-uih3rl" href="/tools/create-a-slack-random-drawer-app-to-deploy-with-cloudflare/"><div class="post-card-image css-pg199o ezywgfd6"><div data-gatsby-image-wrapper="" style="height:100%" class="gatsby-image-wrapper"><div aria-hidden="true" style="padding-top:66.66666666666666%"></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/jpeg;base64,/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAQFAwb/xAAXAQADAQAAAAAAAAAAAAAAAAAAAgMF/9oADAMBAAIQAxAAAAFWvye2rNonDn//xAAaEAACAwEBAAAAAAAAAAAAAAACAwAEEQEU/9oACAEBAAEFAkr6xr6WAQFvLBYy21k9Bz//xAAXEQADAQAAAAAAAAAAAAAAAAAAAxNh/9oACAEDAQE/AYoIo0//xAAZEQACAwEAAAAAAAAAAAAAAAAAAgEDEyH/2gAIAQIBAT8BZr5bkmlp/8QAHhAAAgEDBQAAAAAAAAAAAAAAAAESAgMxESJBYYH/2gAIAQEABj8CVCfpK2+nIwcG96mT/8QAGxABAQACAwEAAAAAAAAAAAAAAREAcSExYbH/2gAIAQEAAT8hFMLsbyOiDSp5GYJFuucIicsfGo8D5jXsaz//2gAMAwEAAgADAAAAEPfP/8QAGhEBAAEFAAAAAAAAAAAAAAAAAQAhQVGR4f/aAAgBAwEBPxAAKrnkbLoT/8QAGBEBAQADAAAAAAAAAAAAAAAAAQARUaH/2gAIAQIBAT8QBJAW7Hb/xAAcEAEAAgMAAwAAAAAAAAAAAAABESEAMWFBUZH/2gAIAQEAAT8Qcp8SEDgtOF4ABWoGqaHwzfsylmqTD6YGIhDVxhq9FkOtwJ0bxlORQZ//2Q==" alt=""/><picture><source type="image/webp" data-srcset="/static/f1883a75a3650115622d887347cf2f5d/d2542/main.webp 750w,/static/f1883a75a3650115622d887347cf2f5d/813fe/main.webp 1080w,/static/f1883a75a3650115622d887347cf2f5d/7ed23/main.webp 1366w,/static/f1883a75a3650115622d887347cf2f5d/a0a70/main.webp 1920w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/static/f1883a75a3650115622d887347cf2f5d/10527/main.jpg" data-srcset="/static/f1883a75a3650115622d887347cf2f5d/12e5e/main.jpg 750w,/static/f1883a75a3650115622d887347cf2f5d/5a234/main.jpg 1080w,/static/f1883a75a3650115622d887347cf2f5d/1801c/main.jpg 1366w,/static/f1883a75a3650115622d887347cf2f5d/10527/main.jpg 1920w" alt="Cloudflare로 배포하는 슬랙 랜덤 추첨기 앱 만들기 cover image"/></picture><noscript><picture><source type="image/webp" srcSet="/static/f1883a75a3650115622d887347cf2f5d/d2542/main.webp 750w,/static/f1883a75a3650115622d887347cf2f5d/813fe/main.webp 1080w,/static/f1883a75a3650115622d887347cf2f5d/7ed23/main.webp 1366w,/static/f1883a75a3650115622d887347cf2f5d/a0a70/main.webp 1920w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/static/f1883a75a3650115622d887347cf2f5d/10527/main.jpg" srcSet="/static/f1883a75a3650115622d887347cf2f5d/12e5e/main.jpg 750w,/static/f1883a75a3650115622d887347cf2f5d/5a234/main.jpg 1080w,/static/f1883a75a3650115622d887347cf2f5d/1801c/main.jpg 1366w,/static/f1883a75a3650115622d887347cf2f5d/10527/main.jpg 1920w" alt="Cloudflare로 배포하는 슬랙 랜덤 추첨기 앱 만들기 cover image"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div></div></a><div class="post-card-content css-z5atxi ezywgfd5"><div class="post-card-primary-tag css-1k7wcu ezywgfd4"><a href="/tags/tool/">Tool</a>,  <a href="/tags/cloud/">Cloud</a>,  <a href="/tags/slack/">Slack</a></div><a class="post-card-content-link css-1fjrpmt" href="/tools/create-a-slack-random-drawer-app-to-deploy-with-cloudflare/"><header><h2 class="post-card-title css-18yvs8h ezywgfd3">Cloudflare로 배포하는 슬랙 랜덤 추첨기 앱 만들기</h2></header><section class="post-card-excerpt css-1uf2vd9 ezywgfd2"><p>Bolt-js와 Ngrok을 사용한 서버 개발환경 구성, Cloudflare의 Workers에 배포하기까지 마이그레이션 과정의 기록</p></section></a><footer class="post-card-meta css-143c7df ezywgfd1"><div class="post-card-byline-content css-137vq87 ezywgfd0"><span class="post-card-byline-date"><time dateTime="2024-03-15T23:25">2024-03-15</time> <span class="bull">•</span> <span>23 min read</span></span></div></footer></div></article></div></div></aside><style data-emotion="css d4eprp">.css-d4eprp{position:relative;padding:0 5vw;position:relative;padding-top:20px;padding-bottom:22px;color:#fff;background:#000;}</style><footer class="css-d4eprp"><style data-emotion="css 98e3yl">.css-98e3yl{width:100%;max-width:1040px;margin:0 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;font-size:1.3rem;color:rgb(255 255 255 / 0.7);}.css-98e3yl a{color:rgb(255 255 255 / 0.7);}.css-98e3yl a:hover{color:rgb(255 255 255 / 1);-webkit-text-decoration:none;text-decoration:none;}@media (max-width: 650px){.css-98e3yl{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}</style><div class="css-98e3yl"><section class="copyright">© <!-- -->2025<!-- --> <span>|  </span><a href="https://www.gatsbyjs.com/" target="_blank" rel="nofollow noreferrer">Pozafly&#x27;s Blog<!-- --> <!-- -->is based on Gatsby</a></section><style data-emotion="css 13qgqyf">.css-13qgqyf{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}.css-13qgqyf a{position:relative;margin-left:20px;font-size:1.3rem;}.css-13qgqyf a:before{content:'';position:absolute;top:11px;left:-11px;display:block;width:2px;height:2px;background:#fff;border-radius:100%;}.css-13qgqyf a:first-of-type:before{display:none;}@media (max-width: 650px){.css-13qgqyf a:first-of-type{margin-left:0;}}</style><nav class="css-13qgqyf e69t7dt0"><a href="/">Latest Posts</a><a href="https://github.com/pozafly" target="_blank" rel="noopener noreferrer">Github</a><a href="/rss.xml">RSS</a></nav></div></footer></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/tools/manage-with-rm-rf-erased-setting-file-chezmoi/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-54484e1c65ecf944a06f.js\"],\"component---src-pages-404-tsx\":[\"/component---src-pages-404-tsx-ffdabbb04b36e7b959cd.js\"],\"component---src-pages-about-tsx\":[\"/component---src-pages-about-tsx-abecc008a895b39ff90b.js\"],\"component---src-pages-tags-tsx\":[\"/component---src-pages-tags-tsx-d03bc5c2220084f6a0ab.js\"],\"component---src-templates-index-tsx\":[\"/component---src-templates-index-tsx-e8ed446a0eab2c50675d.js\"],\"component---src-templates-post-tsx\":[],\"component---src-templates-tags-tsx\":[\"/component---src-templates-tags-tsx-97a6ef03653b3520e40d.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="625cae3c50bbe5dab97f";</script><script src="/webpack-runtime-9875fb84bd2d720f42a8.js" async></script><script src="/app-54484e1c65ecf944a06f.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>