{"version":3,"file":"commons-2faed4c311e2eff20a5a.js","mappings":"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","sources":["webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/flatten.js","webpack://record-journey/./node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/cancellation.js","webpack://record-journey/./node_modules/.pnpm/@mermaid-js+parser@0.6.1/node_modules/@mermaid-js/parser/dist/chunks/mermaid-parser.core/chunk-BFZLARZY.mjs","webpack://record-journey/./node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/ral.js","webpack://record-journey/./node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/events.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/utils/grammar-loader.js","webpack://record-journey/./node_modules/.pnpm/@mermaid-js+parser@0.6.1/node_modules/@mermaid-js/parser/dist/chunks/mermaid-parser.core/chunk-YAJQ3QCK.mjs","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseGet.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isString.js","webpack://record-journey/./src/components/header/ThemeModeSwitch.tsx","webpack://record-journey/./src/utils/gtags.ts","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isUndefined.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_setCacheAdd.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_setCacheHas.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_SetCache.js","webpack://record-journey/./node_modules/.pnpm/chevrotain-allstar@0.3.1_chevrotain@11.0.3/node_modules/chevrotain-allstar/lib/atn.js","webpack://record-journey/./node_modules/.pnpm/chevrotain-allstar@0.3.1_chevrotain@11.0.3/node_modules/chevrotain-allstar/lib/dfa.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/uniqBy.js","webpack://record-journey/./node_modules/.pnpm/chevrotain-allstar@0.3.1_chevrotain@11.0.3/node_modules/chevrotain-allstar/lib/all-star-lookahead.js","webpack://record-journey/./node_modules/.pnpm/vscode-languageserver-types@3.17.5/node_modules/vscode-languageserver-types/lib/esm/main.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/parser/cst-node-builder.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/parser/langium-parser.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/parser/parser-builder-base.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/parser/langium-parser-builder.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/utils/promise-utils.js","webpack://record-journey/./node_modules/.pnpm/vscode-languageserver-textdocument@1.0.12/node_modules/vscode-languageserver-textdocument/lib/esm/main.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/workspace/documents.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/references/linker.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/references/name-provider.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/utils/uri-utils.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/references/references.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/utils/collections.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/references/scope-computation.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/references/scope.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/utils/caching.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/references/scope-provider.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/serializer/json-serializer.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/service-registry.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/validation/validation-registry.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/validation/document-validator.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/workspace/ast-descriptions.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/workspace/ast-node-locator.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/utils/disposable.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/workspace/configuration.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/workspace/document-builder.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/workspace/index-manager.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/workspace/workspace-manager.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/parser/lexer.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/documentation/jsdoc.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/documentation/documentation-provider.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/documentation/comment-provider.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/parser/async-parser.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/workspace/workspace-lock.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/serializer/hydrator.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/default-module.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/languages/grammar-config.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/parser/completion-parser-builder.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseSet.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_basePickBy.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_arrayFilter.js","webpack://record-journey/./node_modules/.pnpm/mermaid@11.8.1/node_modules/mermaid/dist/chunks/mermaid.core/chunk-E2GYISFI.mjs","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/toInteger.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseToString.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/toString.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getSymbols.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseMap.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_toKey.js","webpack://record-journey/./node_modules/.pnpm/mermaid@11.8.1/node_modules/mermaid/dist/chunks/mermaid.core/chunk-BFAMUDN2.mjs","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_arrayPush.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseAssign.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseAssignIn.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_copySymbols.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_copySymbolsIn.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_initCloneArray.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_cloneDataView.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_cloneRegExp.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_cloneSymbol.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_initCloneByTag.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseIsMap.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isMap.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseIsSet.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isSet.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseClone.js","webpack://record-journey/./node_modules/.pnpm/@mermaid-js+parser@0.6.1/node_modules/@mermaid-js/parser/dist/chunks/mermaid-parser.core/chunk-4D64QAKS.mjs","webpack://record-journey/./src/hooks/useTheme.ts","webpack://record-journey/./src/styles/GlobalStyles.tsx","webpack://record-journey/./src/layouts/index.tsx","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/map.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/parser/value-converter.js","webpack://record-journey/./node_modules/.pnpm/@mermaid-js+parser@0.6.1/node_modules/@mermaid-js/parser/dist/chunks/mermaid-parser.core/chunk-DI7F6ITA.mjs","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_createFind.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/findIndex.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/find.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getSymbolsIn.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_arrayMap.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/min.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseFilter.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/keys.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_setToArray.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isSymbol.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/forEach.js","webpack://record-journey/./src/components/header/SiteNavLogo.tsx","webpack://record-journey/./node_modules/.pnpm/polished@4.3.1/node_modules/polished/dist/polished.esm.js","webpack://record-journey/./node_modules/.pnpm/@babel+runtime@7.27.6/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_trimmedEndIndex.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseTrim.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/toNumber.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/toFinite.js","webpack://record-journey/./node_modules/.pnpm/@mermaid-js+parser@0.6.1/node_modules/@mermaid-js/parser/dist/chunks/mermaid-parser.core/chunk-FHLWH6W2.mjs","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_arrayEach.js","webpack://record-journey/./src/styles/colors.ts","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseProperty.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseLt.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseExtremum.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/utils/stream.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_arrayIncludesWith.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_equalArrays.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_mapToArray.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_equalByTag.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_equalObjects.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseIsEqualDeep.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseIsEqual.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseIsMatch.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_isStrictComparable.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getMatchData.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_matchesStrictComparable.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseMatches.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/get.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseMatchesProperty.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_basePropertyDeep.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/property.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseIteratee.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_memoizeCapped.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_stringToPath.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_castPath.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/clone.js","webpack://record-journey/./node_modules/.pnpm/mermaid@11.8.1/node_modules/mermaid/dist/chunks/mermaid.core/chunk-SKB7J2MH.mjs","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/utils/ast-utils.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseForOwn.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_createBaseEach.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseEach.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/flatMap.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseGetAllKeys.js","webpack://record-journey/./node_modules/.pnpm/@chevrotain+regexp-to-ast@11.0.3/node_modules/@chevrotain/regexp-to-ast/lib/src/utils.js","webpack://record-journey/./node_modules/.pnpm/@chevrotain+regexp-to-ast@11.0.3/node_modules/@chevrotain/regexp-to-ast/lib/src/character-classes.js","webpack://record-journey/./node_modules/.pnpm/@chevrotain+regexp-to-ast@11.0.3/node_modules/@chevrotain/regexp-to-ast/lib/src/regexp-parser.js","webpack://record-journey/./node_modules/.pnpm/@chevrotain+regexp-to-ast@11.0.3/node_modules/@chevrotain/regexp-to-ast/lib/src/base-regexp-visitor.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/languages/generated/ast.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseHas.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/has.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/syntax-tree.js","webpack://record-journey/./node_modules/.pnpm/mermaid@11.8.1/node_modules/mermaid/dist/chunks/mermaid.core/chunk-353BL4L5.mjs","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_arrayReduce.js","webpack://record-journey/./node_modules/.pnpm/vscode-uri@3.0.8/node_modules/vscode-uri/lib/esm/index.mjs","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/defaults.js","webpack://record-journey/./node_modules/.pnpm/date-fns@3.6.0/node_modules/date-fns/locale/en-US/_lib/formatDistance.mjs","webpack://record-journey/./node_modules/.pnpm/date-fns@3.6.0/node_modules/date-fns/locale/_lib/buildFormatLongFn.mjs","webpack://record-journey/./node_modules/.pnpm/date-fns@3.6.0/node_modules/date-fns/locale/en-US/_lib/formatLong.mjs","webpack://record-journey/./node_modules/.pnpm/date-fns@3.6.0/node_modules/date-fns/locale/en-US/_lib/formatRelative.mjs","webpack://record-journey/./node_modules/.pnpm/date-fns@3.6.0/node_modules/date-fns/locale/_lib/buildLocalizeFn.mjs","webpack://record-journey/./node_modules/.pnpm/date-fns@3.6.0/node_modules/date-fns/locale/_lib/buildMatchFn.mjs","webpack://record-journey/./node_modules/.pnpm/date-fns@3.6.0/node_modules/date-fns/locale/_lib/buildMatchPatternFn.mjs","webpack://record-journey/./node_modules/.pnpm/date-fns@3.6.0/node_modules/date-fns/locale/en-US.mjs","webpack://record-journey/./node_modules/.pnpm/date-fns@3.6.0/node_modules/date-fns/locale/en-US/_lib/localize.mjs","webpack://record-journey/./node_modules/.pnpm/date-fns@3.6.0/node_modules/date-fns/locale/en-US/_lib/match.mjs","webpack://record-journey/./node_modules/.pnpm/date-fns@3.6.0/node_modules/date-fns/_lib/defaultOptions.mjs","webpack://record-journey/./node_modules/.pnpm/date-fns@3.6.0/node_modules/date-fns/constants.mjs","webpack://record-journey/./node_modules/.pnpm/date-fns@3.6.0/node_modules/date-fns/toDate.mjs","webpack://record-journey/./node_modules/.pnpm/date-fns@3.6.0/node_modules/date-fns/startOfDay.mjs","webpack://record-journey/./node_modules/.pnpm/date-fns@3.6.0/node_modules/date-fns/_lib/getTimezoneOffsetInMilliseconds.mjs","webpack://record-journey/./node_modules/.pnpm/date-fns@3.6.0/node_modules/date-fns/differenceInCalendarDays.mjs","webpack://record-journey/./node_modules/.pnpm/date-fns@3.6.0/node_modules/date-fns/constructFrom.mjs","webpack://record-journey/./node_modules/.pnpm/date-fns@3.6.0/node_modules/date-fns/startOfYear.mjs","webpack://record-journey/./node_modules/.pnpm/date-fns@3.6.0/node_modules/date-fns/getDayOfYear.mjs","webpack://record-journey/./node_modules/.pnpm/date-fns@3.6.0/node_modules/date-fns/startOfWeek.mjs","webpack://record-journey/./node_modules/.pnpm/date-fns@3.6.0/node_modules/date-fns/startOfISOWeek.mjs","webpack://record-journey/./node_modules/.pnpm/date-fns@3.6.0/node_modules/date-fns/getISOWeekYear.mjs","webpack://record-journey/./node_modules/.pnpm/date-fns@3.6.0/node_modules/date-fns/startOfISOWeekYear.mjs","webpack://record-journey/./node_modules/.pnpm/date-fns@3.6.0/node_modules/date-fns/getISOWeek.mjs","webpack://record-journey/./node_modules/.pnpm/date-fns@3.6.0/node_modules/date-fns/getWeekYear.mjs","webpack://record-journey/./node_modules/.pnpm/date-fns@3.6.0/node_modules/date-fns/startOfWeekYear.mjs","webpack://record-journey/./node_modules/.pnpm/date-fns@3.6.0/node_modules/date-fns/getWeek.mjs","webpack://record-journey/./node_modules/.pnpm/date-fns@3.6.0/node_modules/date-fns/_lib/addLeadingZeros.mjs","webpack://record-journey/./node_modules/.pnpm/date-fns@3.6.0/node_modules/date-fns/_lib/format/lightFormatters.mjs","webpack://record-journey/./node_modules/.pnpm/date-fns@3.6.0/node_modules/date-fns/_lib/format/formatters.mjs","webpack://record-journey/./node_modules/.pnpm/date-fns@3.6.0/node_modules/date-fns/_lib/format/longFormatters.mjs","webpack://record-journey/./node_modules/.pnpm/date-fns@3.6.0/node_modules/date-fns/_lib/protectedTokens.mjs","webpack://record-journey/./node_modules/.pnpm/date-fns@3.6.0/node_modules/date-fns/isDate.mjs","webpack://record-journey/./node_modules/.pnpm/date-fns@3.6.0/node_modules/date-fns/isValid.mjs","webpack://record-journey/./node_modules/.pnpm/date-fns@3.6.0/node_modules/date-fns/format.mjs","webpack://record-journey/./src/website-config.ts","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isArray.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_arraySome.js","webpack://record-journey/./node_modules/.pnpm/@mermaid-js+parser@0.6.1/node_modules/@mermaid-js/parser/dist/chunks/mermaid-parser.core/chunk-VX7I4HLL.mjs","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_Symbol.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/dependency-injection.js","webpack://record-journey/../src/image-utils.ts","webpack://record-journey/../src/components/hooks.ts","webpack://record-journey/../src/components/layout-wrapper.tsx","webpack://record-journey/../src/components/picture.tsx","webpack://record-journey/../src/components/placeholder.tsx","webpack://record-journey/../src/components/main-image.tsx","webpack://record-journey/../src/components/gatsby-image.server.tsx","webpack://record-journey/../src/components/gatsby-image.browser.tsx","webpack://record-journey/../src/components/static-image.server.tsx","webpack://record-journey/../src/components/static-image.tsx","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_isFlattenable.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseFlatten.js","webpack://record-journey/./node_modules/.pnpm/@mermaid-js+parser@0.6.1/node_modules/@mermaid-js/parser/dist/chunks/mermaid-parser.core/chunk-PYI2724P.mjs","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_basePropertyOf.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_deburrLetter.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/deburr.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_asciiWords.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_hasUnicodeWord.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_unicodeWords.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/words.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_createCompounder.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/kebabCase.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/workspace/file-system-provider.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_castFunction.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseFindIndex.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/utils/errors.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_createSet.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseUniq.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/noop.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_freeGlobal.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_hasPath.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_isKey.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getAllKeysIn.js","webpack://record-journey/./node_modules/.pnpm/@mermaid-js+parser@0.6.1/node_modules/@mermaid-js/parser/dist/chunks/mermaid-parser.core/chunk-6MM43HOH.mjs","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseHasIn.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/hasIn.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isObjectLike.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_root.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/utils/cst-utils.js","webpack://record-journey/./src/components/Wrapper.tsx","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseValues.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/values.js","webpack://record-journey/./node_modules/.pnpm/@emotion+is-prop-valid@1.3.1/node_modules/@emotion/is-prop-valid/dist/emotion-is-prop-valid.esm.js","webpack://record-journey/./node_modules/.pnpm/@emotion+styled@11.11.5_@emotion+react@11.11.4_@types+react@18.3.23_react@18.3.1/node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js","webpack://record-journey/./src/components/icons/github.tsx","webpack://record-journey/./src/components/icons/instagram.tsx","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseReduce.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/reduce.js","webpack://record-journey/./src/contexts/ThemeToggleContext.ts","webpack://record-journey/./node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/is.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseIsNaN.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_strictIndexOf.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseIndexOf.js","webpack://record-journey/./node_modules/.pnpm/@chevrotain+utils@11.0.3/node_modules/@chevrotain/utils/lib/src/to-fast-properties.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseSlice.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/drop.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/assign.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/pickBy.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseIsRegExp.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isRegExp.js","webpack://record-journey/./node_modules/.pnpm/@chevrotain+gast@11.0.3/node_modules/@chevrotain/gast/lib/src/model.js","webpack://record-journey/./node_modules/.pnpm/@chevrotain+gast@11.0.3/node_modules/@chevrotain/gast/lib/src/visitor.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseSome.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/some.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/includes.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_arrayEvery.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseEvery.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/every.js","webpack://record-journey/./node_modules/.pnpm/@chevrotain+gast@11.0.3/node_modules/@chevrotain/gast/lib/src/helpers.js","webpack://record-journey/./node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/rest.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/uniq.js","webpack://record-journey/./node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/first.js","webpack://record-journey/./node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/constants.js","webpack://record-journey/./node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/follow.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/negate.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/reject.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/indexOf.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseDifference.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/difference.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/compact.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/head.js","webpack://record-journey/./node_modules/.pnpm/@chevrotain+utils@11.0.3/node_modules/@chevrotain/utils/lib/src/print.js","webpack://record-journey/./node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/reg_exp_parser.js","webpack://record-journey/./node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/reg_exp.js","webpack://record-journey/./node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/lexer.js","webpack://record-journey/./node_modules/.pnpm/@chevrotain+utils@11.0.3/node_modules/@chevrotain/utils/lib/src/timer.js","webpack://record-journey/./node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/tokens.js","webpack://record-journey/./node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/lexer_errors_public.js","webpack://record-journey/./node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/lexer_public.js","webpack://record-journey/./node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/scan/tokens_public.js","webpack://record-journey/./node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/errors_public.js","webpack://record-journey/./node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/resolver.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_arrayAggregator.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseAggregator.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_createAggregator.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/groupBy.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/dropRight.js","webpack://record-journey/./node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/lookahead.js","webpack://record-journey/./node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/interpreter.js","webpack://record-journey/./node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/checks.js","webpack://record-journey/./node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/gast/gast_resolver_public.js","webpack://record-journey/./node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/exceptions_public.js","webpack://record-journey/./node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/recoverable.js","webpack://record-journey/./node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/keys.js","webpack://record-journey/./node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/grammar/llk_lookahead.js","webpack://record-journey/./node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/looksahead.js","webpack://record-journey/./node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/cst/cst.js","webpack://record-journey/./node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/lang/lang_extensions.js","webpack://record-journey/./node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/cst/cst_visitor.js","webpack://record-journey/./node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/gast_recorder.js","webpack://record-journey/./node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/parser.js","webpack://record-journey/./node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/utils/apply_mixins.js","webpack://record-journey/./node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/tree_builder.js","webpack://record-journey/./node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/lexer_adapter.js","webpack://record-journey/./node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/recognizer_engine.js","webpack://record-journey/./node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/recognizer_api.js","webpack://record-journey/./node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/error_handler.js","webpack://record-journey/./node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/context_assist.js","webpack://record-journey/./node_modules/.pnpm/chevrotain@11.0.3/node_modules/chevrotain/lib/src/parse/parser/traits/perf_tracer.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/last.js","webpack://record-journey/./node_modules/.pnpm/camelcase@6.3.0/node_modules/camelcase/index.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getRawTag.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_objectToString.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseGetTag.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/parser/token-builder.js","webpack://record-journey/./node_modules/.pnpm/@mermaid-js+parser@0.6.1/node_modules/@mermaid-js/parser/dist/mermaid-parser.core.mjs","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/utils/grammar-utils.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_arrayIncludes.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_cacheHas.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/stubArray.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getAllKeys.js","webpack://record-journey/./node_modules/.pnpm/langium@3.3.1/node_modules/langium/lib/utils/regexp-utils.js","webpack://record-journey/./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/filter.js"],"sourcesContent":["import baseFlatten from './_baseFlatten.js';\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nexport default flatten;\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CancellationTokenSource = exports.CancellationToken = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst events_1 = require(\"./events\");\nvar CancellationToken;\n(function (CancellationToken) {\n    CancellationToken.None = Object.freeze({\n        isCancellationRequested: false,\n        onCancellationRequested: events_1.Event.None\n    });\n    CancellationToken.Cancelled = Object.freeze({\n        isCancellationRequested: true,\n        onCancellationRequested: events_1.Event.None\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate === CancellationToken.None\n            || candidate === CancellationToken.Cancelled\n            || (Is.boolean(candidate.isCancellationRequested) && !!candidate.onCancellationRequested));\n    }\n    CancellationToken.is = is;\n})(CancellationToken || (exports.CancellationToken = CancellationToken = {}));\nconst shortcutEvent = Object.freeze(function (callback, context) {\n    const handle = (0, ral_1.default)().timer.setTimeout(callback.bind(context), 0);\n    return { dispose() { handle.dispose(); } };\n});\nclass MutableToken {\n    constructor() {\n        this._isCancelled = false;\n    }\n    cancel() {\n        if (!this._isCancelled) {\n            this._isCancelled = true;\n            if (this._emitter) {\n                this._emitter.fire(undefined);\n                this.dispose();\n            }\n        }\n    }\n    get isCancellationRequested() {\n        return this._isCancelled;\n    }\n    get onCancellationRequested() {\n        if (this._isCancelled) {\n            return shortcutEvent;\n        }\n        if (!this._emitter) {\n            this._emitter = new events_1.Emitter();\n        }\n        return this._emitter.event;\n    }\n    dispose() {\n        if (this._emitter) {\n            this._emitter.dispose();\n            this._emitter = undefined;\n        }\n    }\n}\nclass CancellationTokenSource {\n    get token() {\n        if (!this._token) {\n            // be lazy and create the token only when\n            // actually needed\n            this._token = new MutableToken();\n        }\n        return this._token;\n    }\n    cancel() {\n        if (!this._token) {\n            // save an object by returning the default\n            // cancelled token when cancellation happens\n            // before someone asks for the token\n            this._token = CancellationToken.Cancelled;\n        }\n        else {\n            this._token.cancel();\n        }\n    }\n    dispose() {\n        if (!this._token) {\n            // ensure to initialize with an empty token if we had none\n            this._token = CancellationToken.None;\n        }\n        else if (this._token instanceof MutableToken) {\n            // actually dispose\n            this._token.dispose();\n        }\n    }\n}\nexports.CancellationTokenSource = CancellationTokenSource;\n","import {\n  AbstractMermaidTokenBuilder,\n  CommonValueConverter,\n  GitGraphGeneratedModule,\n  MermaidGeneratedSharedModule,\n  __name\n} from \"./chunk-YAJQ3QCK.mjs\";\n\n// src/language/gitGraph/module.ts\nimport {\n  inject,\n  createDefaultCoreModule,\n  createDefaultSharedCoreModule,\n  EmptyFileSystem\n} from \"langium\";\n\n// src/language/gitGraph/tokenBuilder.ts\nvar GitGraphTokenBuilder = class extends AbstractMermaidTokenBuilder {\n  static {\n    __name(this, \"GitGraphTokenBuilder\");\n  }\n  constructor() {\n    super([\"gitGraph\"]);\n  }\n};\n\n// src/language/gitGraph/module.ts\nvar GitGraphModule = {\n  parser: {\n    TokenBuilder: /* @__PURE__ */ __name(() => new GitGraphTokenBuilder(), \"TokenBuilder\"),\n    ValueConverter: /* @__PURE__ */ __name(() => new CommonValueConverter(), \"ValueConverter\")\n  }\n};\nfunction createGitGraphServices(context = EmptyFileSystem) {\n  const shared = inject(\n    createDefaultSharedCoreModule(context),\n    MermaidGeneratedSharedModule\n  );\n  const GitGraph = inject(\n    createDefaultCoreModule({ shared }),\n    GitGraphGeneratedModule,\n    GitGraphModule\n  );\n  shared.ServiceRegistry.register(GitGraph);\n  return { shared, GitGraph };\n}\n__name(createGitGraphServices, \"createGitGraphServices\");\n\nexport {\n  GitGraphModule,\n  createGitGraphServices\n};\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nlet _ral;\nfunction RAL() {\n    if (_ral === undefined) {\n        throw new Error(`No runtime abstraction layer installed`);\n    }\n    return _ral;\n}\n(function (RAL) {\n    function install(ral) {\n        if (ral === undefined) {\n            throw new Error(`No runtime abstraction layer provided`);\n        }\n        _ral = ral;\n    }\n    RAL.install = install;\n})(RAL || (RAL = {}));\nexports.default = RAL;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Emitter = exports.Event = void 0;\nconst ral_1 = require(\"./ral\");\nvar Event;\n(function (Event) {\n    const _disposable = { dispose() { } };\n    Event.None = function () { return _disposable; };\n})(Event || (exports.Event = Event = {}));\nclass CallbackList {\n    add(callback, context = null, bucket) {\n        if (!this._callbacks) {\n            this._callbacks = [];\n            this._contexts = [];\n        }\n        this._callbacks.push(callback);\n        this._contexts.push(context);\n        if (Array.isArray(bucket)) {\n            bucket.push({ dispose: () => this.remove(callback, context) });\n        }\n    }\n    remove(callback, context = null) {\n        if (!this._callbacks) {\n            return;\n        }\n        let foundCallbackWithDifferentContext = false;\n        for (let i = 0, len = this._callbacks.length; i < len; i++) {\n            if (this._callbacks[i] === callback) {\n                if (this._contexts[i] === context) {\n                    // callback & context match => remove it\n                    this._callbacks.splice(i, 1);\n                    this._contexts.splice(i, 1);\n                    return;\n                }\n                else {\n                    foundCallbackWithDifferentContext = true;\n                }\n            }\n        }\n        if (foundCallbackWithDifferentContext) {\n            throw new Error('When adding a listener with a context, you should remove it with the same context');\n        }\n    }\n    invoke(...args) {\n        if (!this._callbacks) {\n            return [];\n        }\n        const ret = [], callbacks = this._callbacks.slice(0), contexts = this._contexts.slice(0);\n        for (let i = 0, len = callbacks.length; i < len; i++) {\n            try {\n                ret.push(callbacks[i].apply(contexts[i], args));\n            }\n            catch (e) {\n                // eslint-disable-next-line no-console\n                (0, ral_1.default)().console.error(e);\n            }\n        }\n        return ret;\n    }\n    isEmpty() {\n        return !this._callbacks || this._callbacks.length === 0;\n    }\n    dispose() {\n        this._callbacks = undefined;\n        this._contexts = undefined;\n    }\n}\nclass Emitter {\n    constructor(_options) {\n        this._options = _options;\n    }\n    /**\n     * For the public to allow to subscribe\n     * to events from this Emitter\n     */\n    get event() {\n        if (!this._event) {\n            this._event = (listener, thisArgs, disposables) => {\n                if (!this._callbacks) {\n                    this._callbacks = new CallbackList();\n                }\n                if (this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty()) {\n                    this._options.onFirstListenerAdd(this);\n                }\n                this._callbacks.add(listener, thisArgs);\n                const result = {\n                    dispose: () => {\n                        if (!this._callbacks) {\n                            // disposable is disposed after emitter is disposed.\n                            return;\n                        }\n                        this._callbacks.remove(listener, thisArgs);\n                        result.dispose = Emitter._noop;\n                        if (this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty()) {\n                            this._options.onLastListenerRemove(this);\n                        }\n                    }\n                };\n                if (Array.isArray(disposables)) {\n                    disposables.push(result);\n                }\n                return result;\n            };\n        }\n        return this._event;\n    }\n    /**\n     * To be kept private to fire an event to\n     * subscribers\n     */\n    fire(event) {\n        if (this._callbacks) {\n            this._callbacks.invoke.call(this._callbacks, event);\n        }\n    }\n    dispose() {\n        if (this._callbacks) {\n            this._callbacks.dispose();\n            this._callbacks = undefined;\n        }\n    }\n}\nexports.Emitter = Emitter;\nEmitter._noop = function () { };\n","/******************************************************************************\n * Copyright 2023 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { createDefaultCoreModule, createDefaultSharedCoreModule } from '../default-module.js';\nimport { inject } from '../dependency-injection.js';\nimport * as ast from '../languages/generated/ast.js';\nimport { EmptyFileSystem } from '../workspace/file-system-provider.js';\nimport { URI } from './uri-utils.js';\nconst minimalGrammarModule = {\n    Grammar: () => undefined,\n    LanguageMetaData: () => ({\n        caseInsensitive: false,\n        fileExtensions: ['.langium'],\n        languageId: 'langium'\n    })\n};\nconst minimalSharedGrammarModule = {\n    AstReflection: () => new ast.LangiumGrammarAstReflection()\n};\nfunction createMinimalGrammarServices() {\n    const shared = inject(createDefaultSharedCoreModule(EmptyFileSystem), minimalSharedGrammarModule);\n    const grammar = inject(createDefaultCoreModule({ shared }), minimalGrammarModule);\n    shared.ServiceRegistry.register(grammar);\n    return grammar;\n}\n/**\n * Load a Langium grammar for your language from a JSON string. This is used by several services,\n * most notably the parser builder which interprets the grammar to create a parser.\n */\nexport function loadGrammarFromJson(json) {\n    var _a;\n    const services = createMinimalGrammarServices();\n    const astNode = services.serializer.JsonSerializer.deserialize(json);\n    services.shared.workspace.LangiumDocumentFactory.fromModel(astNode, URI.parse(`memory://${(_a = astNode.name) !== null && _a !== void 0 ? _a : 'grammar'}.langium`));\n    return astNode;\n}\n//# sourceMappingURL=grammar-loader.js.map","var __defProp = Object.defineProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\n\n// src/language/generated/ast.ts\nimport { AbstractAstReflection } from \"langium\";\nvar Statement = \"Statement\";\nvar Architecture = \"Architecture\";\nfunction isArchitecture(item) {\n  return reflection.isInstance(item, Architecture);\n}\n__name(isArchitecture, \"isArchitecture\");\nvar Axis = \"Axis\";\nvar Branch = \"Branch\";\nfunction isBranch(item) {\n  return reflection.isInstance(item, Branch);\n}\n__name(isBranch, \"isBranch\");\nvar Checkout = \"Checkout\";\nvar CherryPicking = \"CherryPicking\";\nvar ClassDefStatement = \"ClassDefStatement\";\nvar Commit = \"Commit\";\nfunction isCommit(item) {\n  return reflection.isInstance(item, Commit);\n}\n__name(isCommit, \"isCommit\");\nvar Curve = \"Curve\";\nvar Edge = \"Edge\";\nvar Entry = \"Entry\";\nvar GitGraph = \"GitGraph\";\nfunction isGitGraph(item) {\n  return reflection.isInstance(item, GitGraph);\n}\n__name(isGitGraph, \"isGitGraph\");\nvar Group = \"Group\";\nvar Info = \"Info\";\nfunction isInfo(item) {\n  return reflection.isInstance(item, Info);\n}\n__name(isInfo, \"isInfo\");\nvar Item = \"Item\";\nvar Junction = \"Junction\";\nvar Merge = \"Merge\";\nfunction isMerge(item) {\n  return reflection.isInstance(item, Merge);\n}\n__name(isMerge, \"isMerge\");\nvar Option = \"Option\";\nvar Packet = \"Packet\";\nfunction isPacket(item) {\n  return reflection.isInstance(item, Packet);\n}\n__name(isPacket, \"isPacket\");\nvar PacketBlock = \"PacketBlock\";\nfunction isPacketBlock(item) {\n  return reflection.isInstance(item, PacketBlock);\n}\n__name(isPacketBlock, \"isPacketBlock\");\nvar Pie = \"Pie\";\nfunction isPie(item) {\n  return reflection.isInstance(item, Pie);\n}\n__name(isPie, \"isPie\");\nvar PieSection = \"PieSection\";\nfunction isPieSection(item) {\n  return reflection.isInstance(item, PieSection);\n}\n__name(isPieSection, \"isPieSection\");\nvar Radar = \"Radar\";\nvar Service = \"Service\";\nvar Treemap = \"Treemap\";\nfunction isTreemap(item) {\n  return reflection.isInstance(item, Treemap);\n}\n__name(isTreemap, \"isTreemap\");\nvar TreemapRow = \"TreemapRow\";\nvar Direction = \"Direction\";\nvar Leaf = \"Leaf\";\nvar Section = \"Section\";\nvar MermaidAstReflection = class extends AbstractAstReflection {\n  static {\n    __name(this, \"MermaidAstReflection\");\n  }\n  getAllTypes() {\n    return [Architecture, Axis, Branch, Checkout, CherryPicking, ClassDefStatement, Commit, Curve, Direction, Edge, Entry, GitGraph, Group, Info, Item, Junction, Leaf, Merge, Option, Packet, PacketBlock, Pie, PieSection, Radar, Section, Service, Statement, Treemap, TreemapRow];\n  }\n  computeIsSubtype(subtype, supertype) {\n    switch (subtype) {\n      case Branch:\n      case Checkout:\n      case CherryPicking:\n      case Commit:\n      case Merge: {\n        return this.isSubtype(Statement, supertype);\n      }\n      case Direction: {\n        return this.isSubtype(GitGraph, supertype);\n      }\n      case Leaf:\n      case Section: {\n        return this.isSubtype(Item, supertype);\n      }\n      default: {\n        return false;\n      }\n    }\n  }\n  getReferenceType(refInfo) {\n    const referenceId = `${refInfo.container.$type}:${refInfo.property}`;\n    switch (referenceId) {\n      case \"Entry:axis\": {\n        return Axis;\n      }\n      default: {\n        throw new Error(`${referenceId} is not a valid reference id.`);\n      }\n    }\n  }\n  getTypeMetaData(type) {\n    switch (type) {\n      case Architecture: {\n        return {\n          name: Architecture,\n          properties: [\n            { name: \"accDescr\" },\n            { name: \"accTitle\" },\n            { name: \"edges\", defaultValue: [] },\n            { name: \"groups\", defaultValue: [] },\n            { name: \"junctions\", defaultValue: [] },\n            { name: \"services\", defaultValue: [] },\n            { name: \"title\" }\n          ]\n        };\n      }\n      case Axis: {\n        return {\n          name: Axis,\n          properties: [\n            { name: \"label\" },\n            { name: \"name\" }\n          ]\n        };\n      }\n      case Branch: {\n        return {\n          name: Branch,\n          properties: [\n            { name: \"name\" },\n            { name: \"order\" }\n          ]\n        };\n      }\n      case Checkout: {\n        return {\n          name: Checkout,\n          properties: [\n            { name: \"branch\" }\n          ]\n        };\n      }\n      case CherryPicking: {\n        return {\n          name: CherryPicking,\n          properties: [\n            { name: \"id\" },\n            { name: \"parent\" },\n            { name: \"tags\", defaultValue: [] }\n          ]\n        };\n      }\n      case ClassDefStatement: {\n        return {\n          name: ClassDefStatement,\n          properties: [\n            { name: \"className\" },\n            { name: \"styleText\" }\n          ]\n        };\n      }\n      case Commit: {\n        return {\n          name: Commit,\n          properties: [\n            { name: \"id\" },\n            { name: \"message\" },\n            { name: \"tags\", defaultValue: [] },\n            { name: \"type\" }\n          ]\n        };\n      }\n      case Curve: {\n        return {\n          name: Curve,\n          properties: [\n            { name: \"entries\", defaultValue: [] },\n            { name: \"label\" },\n            { name: \"name\" }\n          ]\n        };\n      }\n      case Edge: {\n        return {\n          name: Edge,\n          properties: [\n            { name: \"lhsDir\" },\n            { name: \"lhsGroup\", defaultValue: false },\n            { name: \"lhsId\" },\n            { name: \"lhsInto\", defaultValue: false },\n            { name: \"rhsDir\" },\n            { name: \"rhsGroup\", defaultValue: false },\n            { name: \"rhsId\" },\n            { name: \"rhsInto\", defaultValue: false },\n            { name: \"title\" }\n          ]\n        };\n      }\n      case Entry: {\n        return {\n          name: Entry,\n          properties: [\n            { name: \"axis\" },\n            { name: \"value\" }\n          ]\n        };\n      }\n      case GitGraph: {\n        return {\n          name: GitGraph,\n          properties: [\n            { name: \"accDescr\" },\n            { name: \"accTitle\" },\n            { name: \"statements\", defaultValue: [] },\n            { name: \"title\" }\n          ]\n        };\n      }\n      case Group: {\n        return {\n          name: Group,\n          properties: [\n            { name: \"icon\" },\n            { name: \"id\" },\n            { name: \"in\" },\n            { name: \"title\" }\n          ]\n        };\n      }\n      case Info: {\n        return {\n          name: Info,\n          properties: [\n            { name: \"accDescr\" },\n            { name: \"accTitle\" },\n            { name: \"title\" }\n          ]\n        };\n      }\n      case Item: {\n        return {\n          name: Item,\n          properties: [\n            { name: \"classSelector\" },\n            { name: \"name\" }\n          ]\n        };\n      }\n      case Junction: {\n        return {\n          name: Junction,\n          properties: [\n            { name: \"id\" },\n            { name: \"in\" }\n          ]\n        };\n      }\n      case Merge: {\n        return {\n          name: Merge,\n          properties: [\n            { name: \"branch\" },\n            { name: \"id\" },\n            { name: \"tags\", defaultValue: [] },\n            { name: \"type\" }\n          ]\n        };\n      }\n      case Option: {\n        return {\n          name: Option,\n          properties: [\n            { name: \"name\" },\n            { name: \"value\", defaultValue: false }\n          ]\n        };\n      }\n      case Packet: {\n        return {\n          name: Packet,\n          properties: [\n            { name: \"accDescr\" },\n            { name: \"accTitle\" },\n            { name: \"blocks\", defaultValue: [] },\n            { name: \"title\" }\n          ]\n        };\n      }\n      case PacketBlock: {\n        return {\n          name: PacketBlock,\n          properties: [\n            { name: \"bits\" },\n            { name: \"end\" },\n            { name: \"label\" },\n            { name: \"start\" }\n          ]\n        };\n      }\n      case Pie: {\n        return {\n          name: Pie,\n          properties: [\n            { name: \"accDescr\" },\n            { name: \"accTitle\" },\n            { name: \"sections\", defaultValue: [] },\n            { name: \"showData\", defaultValue: false },\n            { name: \"title\" }\n          ]\n        };\n      }\n      case PieSection: {\n        return {\n          name: PieSection,\n          properties: [\n            { name: \"label\" },\n            { name: \"value\" }\n          ]\n        };\n      }\n      case Radar: {\n        return {\n          name: Radar,\n          properties: [\n            { name: \"accDescr\" },\n            { name: \"accTitle\" },\n            { name: \"axes\", defaultValue: [] },\n            { name: \"curves\", defaultValue: [] },\n            { name: \"options\", defaultValue: [] },\n            { name: \"title\" }\n          ]\n        };\n      }\n      case Service: {\n        return {\n          name: Service,\n          properties: [\n            { name: \"icon\" },\n            { name: \"iconText\" },\n            { name: \"id\" },\n            { name: \"in\" },\n            { name: \"title\" }\n          ]\n        };\n      }\n      case Treemap: {\n        return {\n          name: Treemap,\n          properties: [\n            { name: \"accDescr\" },\n            { name: \"accTitle\" },\n            { name: \"title\" },\n            { name: \"TreemapRows\", defaultValue: [] }\n          ]\n        };\n      }\n      case TreemapRow: {\n        return {\n          name: TreemapRow,\n          properties: [\n            { name: \"indent\" },\n            { name: \"item\" }\n          ]\n        };\n      }\n      case Direction: {\n        return {\n          name: Direction,\n          properties: [\n            { name: \"accDescr\" },\n            { name: \"accTitle\" },\n            { name: \"dir\" },\n            { name: \"statements\", defaultValue: [] },\n            { name: \"title\" }\n          ]\n        };\n      }\n      case Leaf: {\n        return {\n          name: Leaf,\n          properties: [\n            { name: \"classSelector\" },\n            { name: \"name\" },\n            { name: \"value\" }\n          ]\n        };\n      }\n      case Section: {\n        return {\n          name: Section,\n          properties: [\n            { name: \"classSelector\" },\n            { name: \"name\" }\n          ]\n        };\n      }\n      default: {\n        return {\n          name: type,\n          properties: []\n        };\n      }\n    }\n  }\n};\nvar reflection = new MermaidAstReflection();\n\n// src/language/generated/grammar.ts\nimport { loadGrammarFromJson } from \"langium\";\nvar loadedInfoGrammar;\nvar InfoGrammar = /* @__PURE__ */ __name(() => loadedInfoGrammar ?? (loadedInfoGrammar = loadGrammarFromJson(`{\"$type\":\"Grammar\",\"isDeclared\":true,\"name\":\"Info\",\"imports\":[],\"rules\":[{\"$type\":\"ParserRule\",\"entry\":true,\"name\":\"Info\",\"definition\":{\"$type\":\"Group\",\"elements\":[{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@12\"},\"arguments\":[],\"cardinality\":\"*\"},{\"$type\":\"Keyword\",\"value\":\"info\"},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@12\"},\"arguments\":[],\"cardinality\":\"*\"},{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\"showInfo\"},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@12\"},\"arguments\":[],\"cardinality\":\"*\"}],\"cardinality\":\"?\"},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@2\"},\"arguments\":[],\"cardinality\":\"?\"}]},\"definesHiddenTokens\":false,\"fragment\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"ParserRule\",\"fragment\":true,\"name\":\"EOL\",\"dataType\":\"string\",\"definition\":{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@12\"},\"arguments\":[],\"cardinality\":\"+\"},{\"$type\":\"EndOfFile\"}]},\"definesHiddenTokens\":false,\"entry\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"ParserRule\",\"fragment\":true,\"name\":\"TitleAndAccessibilities\",\"definition\":{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"Assignment\",\"feature\":\"accDescr\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@4\"},\"arguments\":[]}},{\"$type\":\"Assignment\",\"feature\":\"accTitle\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@5\"},\"arguments\":[]}},{\"$type\":\"Assignment\",\"feature\":\"title\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@6\"},\"arguments\":[]}}]},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@1\"},\"arguments\":[]}],\"cardinality\":\"+\"},\"definesHiddenTokens\":false,\"entry\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"TerminalRule\",\"name\":\"BOOLEAN\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"boolean\"},\"definition\":{\"$type\":\"TerminalAlternatives\",\"elements\":[{\"$type\":\"CharacterRange\",\"left\":{\"$type\":\"Keyword\",\"value\":\"true\"}},{\"$type\":\"CharacterRange\",\"left\":{\"$type\":\"Keyword\",\"value\":\"false\"}}]},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"ACC_DESCR\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]*accDescr(?:[\\\\\\\\t ]*:([^\\\\\\\\n\\\\\\\\r]*?(?=%%)|[^\\\\\\\\n\\\\\\\\r]*)|\\\\\\\\s*{([^}]*)})/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"ACC_TITLE\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]*accTitle[\\\\\\\\t ]*:(?:[^\\\\\\\\n\\\\\\\\r]*?(?=%%)|[^\\\\\\\\n\\\\\\\\r]*)/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"TITLE\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]*title(?:[\\\\\\\\t ][^\\\\\\\\n\\\\\\\\r]*?(?=%%)|[\\\\\\\\t ][^\\\\\\\\n\\\\\\\\r]*|)/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"FLOAT\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"number\"},\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[0-9]+\\\\\\\\.[0-9]+(?!\\\\\\\\.)/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"INT\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"number\"},\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/0|[1-9][0-9]*(?!\\\\\\\\.)/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"NUMBER\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"number\"},\"definition\":{\"$type\":\"TerminalAlternatives\",\"elements\":[{\"$type\":\"TerminalRuleCall\",\"rule\":{\"$ref\":\"#/rules@7\"}},{\"$type\":\"TerminalRuleCall\",\"rule\":{\"$ref\":\"#/rules@8\"}}]},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"STRING\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"string\"},\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/\\\\\"([^\\\\\"\\\\\\\\\\\\\\\\]|\\\\\\\\\\\\\\\\.)*\\\\\"|'([^'\\\\\\\\\\\\\\\\]|\\\\\\\\\\\\\\\\.)*'/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"ID\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"string\"},\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\w]([-\\\\\\\\w]*\\\\\\\\w)?/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"NEWLINE\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/\\\\\\\\r?\\\\\\\\n/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"hidden\":true,\"name\":\"WHITESPACE\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]+/\"},\"fragment\":false},{\"$type\":\"TerminalRule\",\"hidden\":true,\"name\":\"YAML\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/---[\\\\\\\\t ]*\\\\\\\\r?\\\\\\\\n(?:[\\\\\\\\S\\\\\\\\s]*?\\\\\\\\r?\\\\\\\\n)?---(?:\\\\\\\\r?\\\\\\\\n|(?!\\\\\\\\S))/\"},\"fragment\":false},{\"$type\":\"TerminalRule\",\"hidden\":true,\"name\":\"DIRECTIVE\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]*%%{[\\\\\\\\S\\\\\\\\s]*?}%%(?:\\\\\\\\r?\\\\\\\\n|(?!\\\\\\\\S))/\"},\"fragment\":false},{\"$type\":\"TerminalRule\",\"hidden\":true,\"name\":\"SINGLE_LINE_COMMENT\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]*%%[^\\\\\\\\n\\\\\\\\r]*/\"},\"fragment\":false}],\"definesHiddenTokens\":false,\"hiddenTokens\":[],\"interfaces\":[],\"types\":[],\"usedGrammars\":[]}`)), \"InfoGrammar\");\nvar loadedPacketGrammar;\nvar PacketGrammar = /* @__PURE__ */ __name(() => loadedPacketGrammar ?? (loadedPacketGrammar = loadGrammarFromJson(`{\"$type\":\"Grammar\",\"isDeclared\":true,\"name\":\"Packet\",\"imports\":[],\"rules\":[{\"$type\":\"ParserRule\",\"entry\":true,\"name\":\"Packet\",\"definition\":{\"$type\":\"Group\",\"elements\":[{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@13\"},\"arguments\":[],\"cardinality\":\"*\"},{\"$type\":\"Keyword\",\"value\":\"packet-beta\"},{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@3\"},\"arguments\":[]},{\"$type\":\"Assignment\",\"feature\":\"blocks\",\"operator\":\"+=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@1\"},\"arguments\":[]}},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@13\"},\"arguments\":[]}],\"cardinality\":\"*\"}]},\"definesHiddenTokens\":false,\"fragment\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"ParserRule\",\"name\":\"PacketBlock\",\"definition\":{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Assignment\",\"feature\":\"start\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@9\"},\"arguments\":[]}},{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\"-\"},{\"$type\":\"Assignment\",\"feature\":\"end\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@9\"},\"arguments\":[]}}],\"cardinality\":\"?\"}]},{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\"+\"},{\"$type\":\"Assignment\",\"feature\":\"bits\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@9\"},\"arguments\":[]}}]}]},{\"$type\":\"Keyword\",\"value\":\":\"},{\"$type\":\"Assignment\",\"feature\":\"label\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@11\"},\"arguments\":[]}},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@2\"},\"arguments\":[]}]},\"definesHiddenTokens\":false,\"entry\":false,\"fragment\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"ParserRule\",\"fragment\":true,\"name\":\"EOL\",\"dataType\":\"string\",\"definition\":{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@13\"},\"arguments\":[],\"cardinality\":\"+\"},{\"$type\":\"EndOfFile\"}]},\"definesHiddenTokens\":false,\"entry\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"ParserRule\",\"fragment\":true,\"name\":\"TitleAndAccessibilities\",\"definition\":{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"Assignment\",\"feature\":\"accDescr\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@5\"},\"arguments\":[]}},{\"$type\":\"Assignment\",\"feature\":\"accTitle\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@6\"},\"arguments\":[]}},{\"$type\":\"Assignment\",\"feature\":\"title\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@7\"},\"arguments\":[]}}]},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@2\"},\"arguments\":[]}],\"cardinality\":\"+\"},\"definesHiddenTokens\":false,\"entry\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"TerminalRule\",\"name\":\"BOOLEAN\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"boolean\"},\"definition\":{\"$type\":\"TerminalAlternatives\",\"elements\":[{\"$type\":\"CharacterRange\",\"left\":{\"$type\":\"Keyword\",\"value\":\"true\"}},{\"$type\":\"CharacterRange\",\"left\":{\"$type\":\"Keyword\",\"value\":\"false\"}}]},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"ACC_DESCR\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]*accDescr(?:[\\\\\\\\t ]*:([^\\\\\\\\n\\\\\\\\r]*?(?=%%)|[^\\\\\\\\n\\\\\\\\r]*)|\\\\\\\\s*{([^}]*)})/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"ACC_TITLE\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]*accTitle[\\\\\\\\t ]*:(?:[^\\\\\\\\n\\\\\\\\r]*?(?=%%)|[^\\\\\\\\n\\\\\\\\r]*)/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"TITLE\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]*title(?:[\\\\\\\\t ][^\\\\\\\\n\\\\\\\\r]*?(?=%%)|[\\\\\\\\t ][^\\\\\\\\n\\\\\\\\r]*|)/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"FLOAT\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"number\"},\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[0-9]+\\\\\\\\.[0-9]+(?!\\\\\\\\.)/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"INT\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"number\"},\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/0|[1-9][0-9]*(?!\\\\\\\\.)/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"NUMBER\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"number\"},\"definition\":{\"$type\":\"TerminalAlternatives\",\"elements\":[{\"$type\":\"TerminalRuleCall\",\"rule\":{\"$ref\":\"#/rules@8\"}},{\"$type\":\"TerminalRuleCall\",\"rule\":{\"$ref\":\"#/rules@9\"}}]},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"STRING\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"string\"},\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/\\\\\"([^\\\\\"\\\\\\\\\\\\\\\\]|\\\\\\\\\\\\\\\\.)*\\\\\"|'([^'\\\\\\\\\\\\\\\\]|\\\\\\\\\\\\\\\\.)*'/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"ID\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"string\"},\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\w]([-\\\\\\\\w]*\\\\\\\\w)?/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"NEWLINE\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/\\\\\\\\r?\\\\\\\\n/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"hidden\":true,\"name\":\"WHITESPACE\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]+/\"},\"fragment\":false},{\"$type\":\"TerminalRule\",\"hidden\":true,\"name\":\"YAML\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/---[\\\\\\\\t ]*\\\\\\\\r?\\\\\\\\n(?:[\\\\\\\\S\\\\\\\\s]*?\\\\\\\\r?\\\\\\\\n)?---(?:\\\\\\\\r?\\\\\\\\n|(?!\\\\\\\\S))/\"},\"fragment\":false},{\"$type\":\"TerminalRule\",\"hidden\":true,\"name\":\"DIRECTIVE\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]*%%{[\\\\\\\\S\\\\\\\\s]*?}%%(?:\\\\\\\\r?\\\\\\\\n|(?!\\\\\\\\S))/\"},\"fragment\":false},{\"$type\":\"TerminalRule\",\"hidden\":true,\"name\":\"SINGLE_LINE_COMMENT\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]*%%[^\\\\\\\\n\\\\\\\\r]*/\"},\"fragment\":false}],\"definesHiddenTokens\":false,\"hiddenTokens\":[],\"interfaces\":[],\"types\":[],\"usedGrammars\":[]}`)), \"PacketGrammar\");\nvar loadedPieGrammar;\nvar PieGrammar = /* @__PURE__ */ __name(() => loadedPieGrammar ?? (loadedPieGrammar = loadGrammarFromJson(`{\"$type\":\"Grammar\",\"isDeclared\":true,\"name\":\"Pie\",\"imports\":[],\"rules\":[{\"$type\":\"ParserRule\",\"entry\":true,\"name\":\"Pie\",\"definition\":{\"$type\":\"Group\",\"elements\":[{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@13\"},\"arguments\":[],\"cardinality\":\"*\"},{\"$type\":\"Keyword\",\"value\":\"pie\"},{\"$type\":\"Assignment\",\"feature\":\"showData\",\"operator\":\"?=\",\"terminal\":{\"$type\":\"Keyword\",\"value\":\"showData\"},\"cardinality\":\"?\"},{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@3\"},\"arguments\":[]},{\"$type\":\"Assignment\",\"feature\":\"sections\",\"operator\":\"+=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@1\"},\"arguments\":[]}},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@13\"},\"arguments\":[]}],\"cardinality\":\"*\"}]},\"definesHiddenTokens\":false,\"fragment\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"ParserRule\",\"name\":\"PieSection\",\"definition\":{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Assignment\",\"feature\":\"label\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@11\"},\"arguments\":[]}},{\"$type\":\"Keyword\",\"value\":\":\"},{\"$type\":\"Assignment\",\"feature\":\"value\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@10\"},\"arguments\":[]}},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@2\"},\"arguments\":[]}]},\"definesHiddenTokens\":false,\"entry\":false,\"fragment\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"ParserRule\",\"fragment\":true,\"name\":\"EOL\",\"dataType\":\"string\",\"definition\":{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@13\"},\"arguments\":[],\"cardinality\":\"+\"},{\"$type\":\"EndOfFile\"}]},\"definesHiddenTokens\":false,\"entry\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"ParserRule\",\"fragment\":true,\"name\":\"TitleAndAccessibilities\",\"definition\":{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"Assignment\",\"feature\":\"accDescr\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@5\"},\"arguments\":[]}},{\"$type\":\"Assignment\",\"feature\":\"accTitle\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@6\"},\"arguments\":[]}},{\"$type\":\"Assignment\",\"feature\":\"title\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@7\"},\"arguments\":[]}}]},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@2\"},\"arguments\":[]}],\"cardinality\":\"+\"},\"definesHiddenTokens\":false,\"entry\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"TerminalRule\",\"name\":\"BOOLEAN\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"boolean\"},\"definition\":{\"$type\":\"TerminalAlternatives\",\"elements\":[{\"$type\":\"CharacterRange\",\"left\":{\"$type\":\"Keyword\",\"value\":\"true\"}},{\"$type\":\"CharacterRange\",\"left\":{\"$type\":\"Keyword\",\"value\":\"false\"}}]},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"ACC_DESCR\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]*accDescr(?:[\\\\\\\\t ]*:([^\\\\\\\\n\\\\\\\\r]*?(?=%%)|[^\\\\\\\\n\\\\\\\\r]*)|\\\\\\\\s*{([^}]*)})/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"ACC_TITLE\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]*accTitle[\\\\\\\\t ]*:(?:[^\\\\\\\\n\\\\\\\\r]*?(?=%%)|[^\\\\\\\\n\\\\\\\\r]*)/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"TITLE\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]*title(?:[\\\\\\\\t ][^\\\\\\\\n\\\\\\\\r]*?(?=%%)|[\\\\\\\\t ][^\\\\\\\\n\\\\\\\\r]*|)/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"FLOAT\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"number\"},\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[0-9]+\\\\\\\\.[0-9]+(?!\\\\\\\\.)/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"INT\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"number\"},\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/0|[1-9][0-9]*(?!\\\\\\\\.)/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"NUMBER\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"number\"},\"definition\":{\"$type\":\"TerminalAlternatives\",\"elements\":[{\"$type\":\"TerminalRuleCall\",\"rule\":{\"$ref\":\"#/rules@8\"}},{\"$type\":\"TerminalRuleCall\",\"rule\":{\"$ref\":\"#/rules@9\"}}]},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"STRING\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"string\"},\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/\\\\\"([^\\\\\"\\\\\\\\\\\\\\\\]|\\\\\\\\\\\\\\\\.)*\\\\\"|'([^'\\\\\\\\\\\\\\\\]|\\\\\\\\\\\\\\\\.)*'/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"ID\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"string\"},\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\w]([-\\\\\\\\w]*\\\\\\\\w)?/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"NEWLINE\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/\\\\\\\\r?\\\\\\\\n/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"hidden\":true,\"name\":\"WHITESPACE\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]+/\"},\"fragment\":false},{\"$type\":\"TerminalRule\",\"hidden\":true,\"name\":\"YAML\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/---[\\\\\\\\t ]*\\\\\\\\r?\\\\\\\\n(?:[\\\\\\\\S\\\\\\\\s]*?\\\\\\\\r?\\\\\\\\n)?---(?:\\\\\\\\r?\\\\\\\\n|(?!\\\\\\\\S))/\"},\"fragment\":false},{\"$type\":\"TerminalRule\",\"hidden\":true,\"name\":\"DIRECTIVE\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]*%%{[\\\\\\\\S\\\\\\\\s]*?}%%(?:\\\\\\\\r?\\\\\\\\n|(?!\\\\\\\\S))/\"},\"fragment\":false},{\"$type\":\"TerminalRule\",\"hidden\":true,\"name\":\"SINGLE_LINE_COMMENT\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]*%%[^\\\\\\\\n\\\\\\\\r]*/\"},\"fragment\":false}],\"definesHiddenTokens\":false,\"hiddenTokens\":[],\"interfaces\":[],\"types\":[],\"usedGrammars\":[]}`)), \"PieGrammar\");\nvar loadedArchitectureGrammar;\nvar ArchitectureGrammar = /* @__PURE__ */ __name(() => loadedArchitectureGrammar ?? (loadedArchitectureGrammar = loadGrammarFromJson(`{\"$type\":\"Grammar\",\"isDeclared\":true,\"name\":\"Architecture\",\"imports\":[],\"rules\":[{\"$type\":\"ParserRule\",\"entry\":true,\"name\":\"Architecture\",\"definition\":{\"$type\":\"Group\",\"elements\":[{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@23\"},\"arguments\":[],\"cardinality\":\"*\"},{\"$type\":\"Keyword\",\"value\":\"architecture-beta\"},{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@23\"},\"arguments\":[]},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@13\"},\"arguments\":[]},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@1\"},\"arguments\":[]}],\"cardinality\":\"*\"}]},\"definesHiddenTokens\":false,\"fragment\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"ParserRule\",\"fragment\":true,\"name\":\"Statement\",\"definition\":{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"Assignment\",\"feature\":\"groups\",\"operator\":\"+=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@5\"},\"arguments\":[]}},{\"$type\":\"Assignment\",\"feature\":\"services\",\"operator\":\"+=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@6\"},\"arguments\":[]}},{\"$type\":\"Assignment\",\"feature\":\"junctions\",\"operator\":\"+=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@7\"},\"arguments\":[]}},{\"$type\":\"Assignment\",\"feature\":\"edges\",\"operator\":\"+=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@8\"},\"arguments\":[]}}]},\"definesHiddenTokens\":false,\"entry\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"ParserRule\",\"fragment\":true,\"name\":\"LeftPort\",\"definition\":{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\":\"},{\"$type\":\"Assignment\",\"feature\":\"lhsDir\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@9\"},\"arguments\":[]}}]},\"definesHiddenTokens\":false,\"entry\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"ParserRule\",\"fragment\":true,\"name\":\"RightPort\",\"definition\":{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Assignment\",\"feature\":\"rhsDir\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@9\"},\"arguments\":[]}},{\"$type\":\"Keyword\",\"value\":\":\"}]},\"definesHiddenTokens\":false,\"entry\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"ParserRule\",\"fragment\":true,\"name\":\"Arrow\",\"definition\":{\"$type\":\"Group\",\"elements\":[{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@2\"},\"arguments\":[]},{\"$type\":\"Assignment\",\"feature\":\"lhsInto\",\"operator\":\"?=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@11\"},\"arguments\":[]},\"cardinality\":\"?\"},{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\"--\"},{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\"-\"},{\"$type\":\"Assignment\",\"feature\":\"title\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@29\"},\"arguments\":[]}},{\"$type\":\"Keyword\",\"value\":\"-\"}]}]},{\"$type\":\"Assignment\",\"feature\":\"rhsInto\",\"operator\":\"?=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@11\"},\"arguments\":[]},\"cardinality\":\"?\"},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@3\"},\"arguments\":[]}]},\"definesHiddenTokens\":false,\"entry\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"ParserRule\",\"name\":\"Group\",\"definition\":{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\"group\"},{\"$type\":\"Assignment\",\"feature\":\"id\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@22\"},\"arguments\":[]}},{\"$type\":\"Assignment\",\"feature\":\"icon\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@28\"},\"arguments\":[]},\"cardinality\":\"?\"},{\"$type\":\"Assignment\",\"feature\":\"title\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@29\"},\"arguments\":[]},\"cardinality\":\"?\"},{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\"in\"},{\"$type\":\"Assignment\",\"feature\":\"in\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@22\"},\"arguments\":[]}}],\"cardinality\":\"?\"},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@12\"},\"arguments\":[]}]},\"definesHiddenTokens\":false,\"entry\":false,\"fragment\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"ParserRule\",\"name\":\"Service\",\"definition\":{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\"service\"},{\"$type\":\"Assignment\",\"feature\":\"id\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@22\"},\"arguments\":[]}},{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"Assignment\",\"feature\":\"iconText\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@21\"},\"arguments\":[]}},{\"$type\":\"Assignment\",\"feature\":\"icon\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@28\"},\"arguments\":[]}}],\"cardinality\":\"?\"},{\"$type\":\"Assignment\",\"feature\":\"title\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@29\"},\"arguments\":[]},\"cardinality\":\"?\"},{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\"in\"},{\"$type\":\"Assignment\",\"feature\":\"in\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@22\"},\"arguments\":[]}}],\"cardinality\":\"?\"},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@12\"},\"arguments\":[]}]},\"definesHiddenTokens\":false,\"entry\":false,\"fragment\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"ParserRule\",\"name\":\"Junction\",\"definition\":{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\"junction\"},{\"$type\":\"Assignment\",\"feature\":\"id\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@22\"},\"arguments\":[]}},{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\"in\"},{\"$type\":\"Assignment\",\"feature\":\"in\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@22\"},\"arguments\":[]}}],\"cardinality\":\"?\"},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@12\"},\"arguments\":[]}]},\"definesHiddenTokens\":false,\"entry\":false,\"fragment\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"ParserRule\",\"name\":\"Edge\",\"definition\":{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Assignment\",\"feature\":\"lhsId\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@22\"},\"arguments\":[]}},{\"$type\":\"Assignment\",\"feature\":\"lhsGroup\",\"operator\":\"?=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@10\"},\"arguments\":[]},\"cardinality\":\"?\"},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@4\"},\"arguments\":[]},{\"$type\":\"Assignment\",\"feature\":\"rhsId\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@22\"},\"arguments\":[]}},{\"$type\":\"Assignment\",\"feature\":\"rhsGroup\",\"operator\":\"?=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@10\"},\"arguments\":[]},\"cardinality\":\"?\"},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@12\"},\"arguments\":[]}]},\"definesHiddenTokens\":false,\"entry\":false,\"fragment\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"TerminalRule\",\"name\":\"ARROW_DIRECTION\",\"definition\":{\"$type\":\"TerminalAlternatives\",\"elements\":[{\"$type\":\"TerminalAlternatives\",\"elements\":[{\"$type\":\"TerminalAlternatives\",\"elements\":[{\"$type\":\"CharacterRange\",\"left\":{\"$type\":\"Keyword\",\"value\":\"L\"}},{\"$type\":\"CharacterRange\",\"left\":{\"$type\":\"Keyword\",\"value\":\"R\"}}]},{\"$type\":\"CharacterRange\",\"left\":{\"$type\":\"Keyword\",\"value\":\"T\"}}]},{\"$type\":\"CharacterRange\",\"left\":{\"$type\":\"Keyword\",\"value\":\"B\"}}]},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"ARROW_GROUP\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/\\\\\\\\{group\\\\\\\\}/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"ARROW_INTO\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/<|>/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"ParserRule\",\"fragment\":true,\"name\":\"EOL\",\"dataType\":\"string\",\"definition\":{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@23\"},\"arguments\":[],\"cardinality\":\"+\"},{\"$type\":\"EndOfFile\"}]},\"definesHiddenTokens\":false,\"entry\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"ParserRule\",\"fragment\":true,\"name\":\"TitleAndAccessibilities\",\"definition\":{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"Assignment\",\"feature\":\"accDescr\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@15\"},\"arguments\":[]}},{\"$type\":\"Assignment\",\"feature\":\"accTitle\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@16\"},\"arguments\":[]}},{\"$type\":\"Assignment\",\"feature\":\"title\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@17\"},\"arguments\":[]}}]},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@12\"},\"arguments\":[]}],\"cardinality\":\"+\"},\"definesHiddenTokens\":false,\"entry\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"TerminalRule\",\"name\":\"BOOLEAN\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"boolean\"},\"definition\":{\"$type\":\"TerminalAlternatives\",\"elements\":[{\"$type\":\"CharacterRange\",\"left\":{\"$type\":\"Keyword\",\"value\":\"true\"}},{\"$type\":\"CharacterRange\",\"left\":{\"$type\":\"Keyword\",\"value\":\"false\"}}]},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"ACC_DESCR\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]*accDescr(?:[\\\\\\\\t ]*:([^\\\\\\\\n\\\\\\\\r]*?(?=%%)|[^\\\\\\\\n\\\\\\\\r]*)|\\\\\\\\s*{([^}]*)})/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"ACC_TITLE\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]*accTitle[\\\\\\\\t ]*:(?:[^\\\\\\\\n\\\\\\\\r]*?(?=%%)|[^\\\\\\\\n\\\\\\\\r]*)/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"TITLE\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]*title(?:[\\\\\\\\t ][^\\\\\\\\n\\\\\\\\r]*?(?=%%)|[\\\\\\\\t ][^\\\\\\\\n\\\\\\\\r]*|)/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"FLOAT\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"number\"},\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[0-9]+\\\\\\\\.[0-9]+(?!\\\\\\\\.)/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"INT\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"number\"},\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/0|[1-9][0-9]*(?!\\\\\\\\.)/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"NUMBER\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"number\"},\"definition\":{\"$type\":\"TerminalAlternatives\",\"elements\":[{\"$type\":\"TerminalRuleCall\",\"rule\":{\"$ref\":\"#/rules@18\"}},{\"$type\":\"TerminalRuleCall\",\"rule\":{\"$ref\":\"#/rules@19\"}}]},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"STRING\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"string\"},\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/\\\\\"([^\\\\\"\\\\\\\\\\\\\\\\]|\\\\\\\\\\\\\\\\.)*\\\\\"|'([^'\\\\\\\\\\\\\\\\]|\\\\\\\\\\\\\\\\.)*'/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"ID\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"string\"},\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\w]([-\\\\\\\\w]*\\\\\\\\w)?/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"NEWLINE\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/\\\\\\\\r?\\\\\\\\n/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"hidden\":true,\"name\":\"WHITESPACE\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]+/\"},\"fragment\":false},{\"$type\":\"TerminalRule\",\"hidden\":true,\"name\":\"YAML\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/---[\\\\\\\\t ]*\\\\\\\\r?\\\\\\\\n(?:[\\\\\\\\S\\\\\\\\s]*?\\\\\\\\r?\\\\\\\\n)?---(?:\\\\\\\\r?\\\\\\\\n|(?!\\\\\\\\S))/\"},\"fragment\":false},{\"$type\":\"TerminalRule\",\"hidden\":true,\"name\":\"DIRECTIVE\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]*%%{[\\\\\\\\S\\\\\\\\s]*?}%%(?:\\\\\\\\r?\\\\\\\\n|(?!\\\\\\\\S))/\"},\"fragment\":false},{\"$type\":\"TerminalRule\",\"hidden\":true,\"name\":\"SINGLE_LINE_COMMENT\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]*%%[^\\\\\\\\n\\\\\\\\r]*/\"},\"fragment\":false},{\"$type\":\"TerminalRule\",\"name\":\"ARCH_ICON\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/\\\\\\\\([\\\\\\\\w-:]+\\\\\\\\)/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"ARCH_TITLE\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/\\\\\\\\[[\\\\\\\\w ]+\\\\\\\\]/\"},\"fragment\":false,\"hidden\":false}],\"definesHiddenTokens\":false,\"hiddenTokens\":[],\"interfaces\":[],\"types\":[],\"usedGrammars\":[]}`)), \"ArchitectureGrammar\");\nvar loadedGitGraphGrammar;\nvar GitGraphGrammar = /* @__PURE__ */ __name(() => loadedGitGraphGrammar ?? (loadedGitGraphGrammar = loadGrammarFromJson(`{\"$type\":\"Grammar\",\"isDeclared\":true,\"name\":\"GitGraph\",\"imports\":[],\"rules\":[{\"$type\":\"ParserRule\",\"entry\":true,\"name\":\"GitGraph\",\"definition\":{\"$type\":\"Group\",\"elements\":[{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@19\"},\"arguments\":[],\"cardinality\":\"*\"},{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\"gitGraph\"},{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\"gitGraph\"},{\"$type\":\"Keyword\",\"value\":\":\"}]},{\"$type\":\"Keyword\",\"value\":\"gitGraph:\"},{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\"gitGraph\"},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@2\"},\"arguments\":[]},{\"$type\":\"Keyword\",\"value\":\":\"}]}]},{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@19\"},\"arguments\":[]},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@9\"},\"arguments\":[]},{\"$type\":\"Assignment\",\"feature\":\"statements\",\"operator\":\"+=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@1\"},\"arguments\":[]}}],\"cardinality\":\"*\"}]},\"definesHiddenTokens\":false,\"fragment\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"ParserRule\",\"name\":\"Statement\",\"definition\":{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@3\"},\"arguments\":[]},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@4\"},\"arguments\":[]},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@5\"},\"arguments\":[]},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@6\"},\"arguments\":[]},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@7\"},\"arguments\":[]}]},\"definesHiddenTokens\":false,\"entry\":false,\"fragment\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"ParserRule\",\"name\":\"Direction\",\"definition\":{\"$type\":\"Assignment\",\"feature\":\"dir\",\"operator\":\"=\",\"terminal\":{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\"LR\"},{\"$type\":\"Keyword\",\"value\":\"TB\"},{\"$type\":\"Keyword\",\"value\":\"BT\"}]}},\"definesHiddenTokens\":false,\"entry\":false,\"fragment\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"ParserRule\",\"name\":\"Commit\",\"definition\":{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\"commit\"},{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\"id:\"},{\"$type\":\"Assignment\",\"feature\":\"id\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@17\"},\"arguments\":[]}}]},{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\"msg:\",\"cardinality\":\"?\"},{\"$type\":\"Assignment\",\"feature\":\"message\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@17\"},\"arguments\":[]}}]},{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\"tag:\"},{\"$type\":\"Assignment\",\"feature\":\"tags\",\"operator\":\"+=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@17\"},\"arguments\":[]}}]},{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\"type:\"},{\"$type\":\"Assignment\",\"feature\":\"type\",\"operator\":\"=\",\"terminal\":{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\"NORMAL\"},{\"$type\":\"Keyword\",\"value\":\"REVERSE\"},{\"$type\":\"Keyword\",\"value\":\"HIGHLIGHT\"}]}}]}],\"cardinality\":\"*\"},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@8\"},\"arguments\":[]}]},\"definesHiddenTokens\":false,\"entry\":false,\"fragment\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"ParserRule\",\"name\":\"Branch\",\"definition\":{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\"branch\"},{\"$type\":\"Assignment\",\"feature\":\"name\",\"operator\":\"=\",\"terminal\":{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@24\"},\"arguments\":[]},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@17\"},\"arguments\":[]}]}},{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\"order:\"},{\"$type\":\"Assignment\",\"feature\":\"order\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@15\"},\"arguments\":[]}}],\"cardinality\":\"?\"},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@8\"},\"arguments\":[]}]},\"definesHiddenTokens\":false,\"entry\":false,\"fragment\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"ParserRule\",\"name\":\"Merge\",\"definition\":{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\"merge\"},{\"$type\":\"Assignment\",\"feature\":\"branch\",\"operator\":\"=\",\"terminal\":{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@24\"},\"arguments\":[]},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@17\"},\"arguments\":[]}]}},{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\"id:\"},{\"$type\":\"Assignment\",\"feature\":\"id\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@17\"},\"arguments\":[]}}]},{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\"tag:\"},{\"$type\":\"Assignment\",\"feature\":\"tags\",\"operator\":\"+=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@17\"},\"arguments\":[]}}]},{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\"type:\"},{\"$type\":\"Assignment\",\"feature\":\"type\",\"operator\":\"=\",\"terminal\":{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\"NORMAL\"},{\"$type\":\"Keyword\",\"value\":\"REVERSE\"},{\"$type\":\"Keyword\",\"value\":\"HIGHLIGHT\"}]}}]}],\"cardinality\":\"*\"},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@8\"},\"arguments\":[]}]},\"definesHiddenTokens\":false,\"entry\":false,\"fragment\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"ParserRule\",\"name\":\"Checkout\",\"definition\":{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\"checkout\"},{\"$type\":\"Keyword\",\"value\":\"switch\"}]},{\"$type\":\"Assignment\",\"feature\":\"branch\",\"operator\":\"=\",\"terminal\":{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@24\"},\"arguments\":[]},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@17\"},\"arguments\":[]}]}},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@8\"},\"arguments\":[]}]},\"definesHiddenTokens\":false,\"entry\":false,\"fragment\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"ParserRule\",\"name\":\"CherryPicking\",\"definition\":{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\"cherry-pick\"},{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\"id:\"},{\"$type\":\"Assignment\",\"feature\":\"id\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@17\"},\"arguments\":[]}}]},{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\"tag:\"},{\"$type\":\"Assignment\",\"feature\":\"tags\",\"operator\":\"+=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@17\"},\"arguments\":[]}}]},{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\"parent:\"},{\"$type\":\"Assignment\",\"feature\":\"parent\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@17\"},\"arguments\":[]}}]}],\"cardinality\":\"*\"},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@8\"},\"arguments\":[]}]},\"definesHiddenTokens\":false,\"entry\":false,\"fragment\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"ParserRule\",\"fragment\":true,\"name\":\"EOL\",\"dataType\":\"string\",\"definition\":{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@19\"},\"arguments\":[],\"cardinality\":\"+\"},{\"$type\":\"EndOfFile\"}]},\"definesHiddenTokens\":false,\"entry\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"ParserRule\",\"fragment\":true,\"name\":\"TitleAndAccessibilities\",\"definition\":{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"Assignment\",\"feature\":\"accDescr\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@11\"},\"arguments\":[]}},{\"$type\":\"Assignment\",\"feature\":\"accTitle\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@12\"},\"arguments\":[]}},{\"$type\":\"Assignment\",\"feature\":\"title\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@13\"},\"arguments\":[]}}]},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@8\"},\"arguments\":[]}],\"cardinality\":\"+\"},\"definesHiddenTokens\":false,\"entry\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"TerminalRule\",\"name\":\"BOOLEAN\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"boolean\"},\"definition\":{\"$type\":\"TerminalAlternatives\",\"elements\":[{\"$type\":\"CharacterRange\",\"left\":{\"$type\":\"Keyword\",\"value\":\"true\"}},{\"$type\":\"CharacterRange\",\"left\":{\"$type\":\"Keyword\",\"value\":\"false\"}}]},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"ACC_DESCR\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]*accDescr(?:[\\\\\\\\t ]*:([^\\\\\\\\n\\\\\\\\r]*?(?=%%)|[^\\\\\\\\n\\\\\\\\r]*)|\\\\\\\\s*{([^}]*)})/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"ACC_TITLE\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]*accTitle[\\\\\\\\t ]*:(?:[^\\\\\\\\n\\\\\\\\r]*?(?=%%)|[^\\\\\\\\n\\\\\\\\r]*)/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"TITLE\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]*title(?:[\\\\\\\\t ][^\\\\\\\\n\\\\\\\\r]*?(?=%%)|[\\\\\\\\t ][^\\\\\\\\n\\\\\\\\r]*|)/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"FLOAT\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"number\"},\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[0-9]+\\\\\\\\.[0-9]+(?!\\\\\\\\.)/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"INT\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"number\"},\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/0|[1-9][0-9]*(?!\\\\\\\\.)/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"NUMBER\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"number\"},\"definition\":{\"$type\":\"TerminalAlternatives\",\"elements\":[{\"$type\":\"TerminalRuleCall\",\"rule\":{\"$ref\":\"#/rules@14\"}},{\"$type\":\"TerminalRuleCall\",\"rule\":{\"$ref\":\"#/rules@15\"}}]},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"STRING\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"string\"},\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/\\\\\"([^\\\\\"\\\\\\\\\\\\\\\\]|\\\\\\\\\\\\\\\\.)*\\\\\"|'([^'\\\\\\\\\\\\\\\\]|\\\\\\\\\\\\\\\\.)*'/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"ID\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"string\"},\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\w]([-\\\\\\\\w]*\\\\\\\\w)?/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"NEWLINE\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/\\\\\\\\r?\\\\\\\\n/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"hidden\":true,\"name\":\"WHITESPACE\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]+/\"},\"fragment\":false},{\"$type\":\"TerminalRule\",\"hidden\":true,\"name\":\"YAML\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/---[\\\\\\\\t ]*\\\\\\\\r?\\\\\\\\n(?:[\\\\\\\\S\\\\\\\\s]*?\\\\\\\\r?\\\\\\\\n)?---(?:\\\\\\\\r?\\\\\\\\n|(?!\\\\\\\\S))/\"},\"fragment\":false},{\"$type\":\"TerminalRule\",\"hidden\":true,\"name\":\"DIRECTIVE\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]*%%{[\\\\\\\\S\\\\\\\\s]*?}%%(?:\\\\\\\\r?\\\\\\\\n|(?!\\\\\\\\S))/\"},\"fragment\":false},{\"$type\":\"TerminalRule\",\"hidden\":true,\"name\":\"SINGLE_LINE_COMMENT\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]*%%[^\\\\\\\\n\\\\\\\\r]*/\"},\"fragment\":false},{\"$type\":\"TerminalRule\",\"name\":\"REFERENCE\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"string\"},\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/\\\\\\\\w([-\\\\\\\\./\\\\\\\\w]*[-\\\\\\\\w])?/\"},\"fragment\":false,\"hidden\":false}],\"definesHiddenTokens\":false,\"hiddenTokens\":[],\"interfaces\":[],\"types\":[],\"usedGrammars\":[]}`)), \"GitGraphGrammar\");\nvar loadedRadarGrammar;\nvar RadarGrammar = /* @__PURE__ */ __name(() => loadedRadarGrammar ?? (loadedRadarGrammar = loadGrammarFromJson(`{\"$type\":\"Grammar\",\"isDeclared\":true,\"name\":\"Radar\",\"imports\":[],\"rules\":[{\"$type\":\"ParserRule\",\"entry\":true,\"name\":\"Radar\",\"definition\":{\"$type\":\"Group\",\"elements\":[{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@20\"},\"arguments\":[],\"cardinality\":\"*\"},{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\"radar-beta\"},{\"$type\":\"Keyword\",\"value\":\"radar-beta:\"},{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\"radar-beta\"},{\"$type\":\"Keyword\",\"value\":\":\"}]}]},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@20\"},\"arguments\":[],\"cardinality\":\"*\"},{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@10\"},\"arguments\":[]},{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\"axis\"},{\"$type\":\"Assignment\",\"feature\":\"axes\",\"operator\":\"+=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@2\"},\"arguments\":[]}},{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\",\"},{\"$type\":\"Assignment\",\"feature\":\"axes\",\"operator\":\"+=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@2\"},\"arguments\":[]}}],\"cardinality\":\"*\"}]},{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\"curve\"},{\"$type\":\"Assignment\",\"feature\":\"curves\",\"operator\":\"+=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@3\"},\"arguments\":[]}},{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\",\"},{\"$type\":\"Assignment\",\"feature\":\"curves\",\"operator\":\"+=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@3\"},\"arguments\":[]}}],\"cardinality\":\"*\"}]},{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Assignment\",\"feature\":\"options\",\"operator\":\"+=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@7\"},\"arguments\":[]}},{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\",\"},{\"$type\":\"Assignment\",\"feature\":\"options\",\"operator\":\"+=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@7\"},\"arguments\":[]}}],\"cardinality\":\"*\"}]},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@20\"},\"arguments\":[]}],\"cardinality\":\"*\"}]},\"definesHiddenTokens\":false,\"fragment\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"ParserRule\",\"fragment\":true,\"name\":\"Label\",\"definition\":{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\"[\"},{\"$type\":\"Assignment\",\"feature\":\"label\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@18\"},\"arguments\":[]}},{\"$type\":\"Keyword\",\"value\":\"]\"}]},\"definesHiddenTokens\":false,\"entry\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"ParserRule\",\"name\":\"Axis\",\"definition\":{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Assignment\",\"feature\":\"name\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@19\"},\"arguments\":[]}},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@1\"},\"arguments\":[],\"cardinality\":\"?\"}]},\"definesHiddenTokens\":false,\"entry\":false,\"fragment\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"ParserRule\",\"name\":\"Curve\",\"definition\":{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Assignment\",\"feature\":\"name\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@19\"},\"arguments\":[]}},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@1\"},\"arguments\":[],\"cardinality\":\"?\"},{\"$type\":\"Keyword\",\"value\":\"{\"},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@4\"},\"arguments\":[]},{\"$type\":\"Keyword\",\"value\":\"}\"}]},\"definesHiddenTokens\":false,\"entry\":false,\"fragment\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"ParserRule\",\"fragment\":true,\"name\":\"Entries\",\"definition\":{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"Group\",\"elements\":[{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@20\"},\"arguments\":[],\"cardinality\":\"*\"},{\"$type\":\"Assignment\",\"feature\":\"entries\",\"operator\":\"+=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@6\"},\"arguments\":[]}},{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\",\"},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@20\"},\"arguments\":[],\"cardinality\":\"*\"},{\"$type\":\"Assignment\",\"feature\":\"entries\",\"operator\":\"+=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@6\"},\"arguments\":[]}}],\"cardinality\":\"*\"},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@20\"},\"arguments\":[],\"cardinality\":\"*\"}]},{\"$type\":\"Group\",\"elements\":[{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@20\"},\"arguments\":[],\"cardinality\":\"*\"},{\"$type\":\"Assignment\",\"feature\":\"entries\",\"operator\":\"+=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@5\"},\"arguments\":[]}},{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Keyword\",\"value\":\",\"},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@20\"},\"arguments\":[],\"cardinality\":\"*\"},{\"$type\":\"Assignment\",\"feature\":\"entries\",\"operator\":\"+=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@5\"},\"arguments\":[]}}],\"cardinality\":\"*\"},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@20\"},\"arguments\":[],\"cardinality\":\"*\"}]}]},\"definesHiddenTokens\":false,\"entry\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"ParserRule\",\"name\":\"DetailedEntry\",\"returnType\":{\"$ref\":\"#/interfaces@0\"},\"definition\":{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Assignment\",\"feature\":\"axis\",\"operator\":\"=\",\"terminal\":{\"$type\":\"CrossReference\",\"type\":{\"$ref\":\"#/rules@2\"},\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@19\"},\"arguments\":[]},\"deprecatedSyntax\":false}},{\"$type\":\"Keyword\",\"value\":\":\",\"cardinality\":\"?\"},{\"$type\":\"Assignment\",\"feature\":\"value\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@17\"},\"arguments\":[]}}]},\"definesHiddenTokens\":false,\"entry\":false,\"fragment\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"ParserRule\",\"name\":\"NumberEntry\",\"returnType\":{\"$ref\":\"#/interfaces@0\"},\"definition\":{\"$type\":\"Assignment\",\"feature\":\"value\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@17\"},\"arguments\":[]}},\"definesHiddenTokens\":false,\"entry\":false,\"fragment\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"ParserRule\",\"name\":\"Option\",\"definition\":{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Assignment\",\"feature\":\"name\",\"operator\":\"=\",\"terminal\":{\"$type\":\"Keyword\",\"value\":\"showLegend\"}},{\"$type\":\"Assignment\",\"feature\":\"value\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@11\"},\"arguments\":[]}}]},{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Assignment\",\"feature\":\"name\",\"operator\":\"=\",\"terminal\":{\"$type\":\"Keyword\",\"value\":\"ticks\"}},{\"$type\":\"Assignment\",\"feature\":\"value\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@17\"},\"arguments\":[]}}]},{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Assignment\",\"feature\":\"name\",\"operator\":\"=\",\"terminal\":{\"$type\":\"Keyword\",\"value\":\"max\"}},{\"$type\":\"Assignment\",\"feature\":\"value\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@17\"},\"arguments\":[]}}]},{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Assignment\",\"feature\":\"name\",\"operator\":\"=\",\"terminal\":{\"$type\":\"Keyword\",\"value\":\"min\"}},{\"$type\":\"Assignment\",\"feature\":\"value\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@17\"},\"arguments\":[]}}]},{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Assignment\",\"feature\":\"name\",\"operator\":\"=\",\"terminal\":{\"$type\":\"Keyword\",\"value\":\"graticule\"}},{\"$type\":\"Assignment\",\"feature\":\"value\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@8\"},\"arguments\":[]}}]}]},\"definesHiddenTokens\":false,\"entry\":false,\"fragment\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"TerminalRule\",\"name\":\"GRATICULE\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"string\"},\"definition\":{\"$type\":\"TerminalAlternatives\",\"elements\":[{\"$type\":\"CharacterRange\",\"left\":{\"$type\":\"Keyword\",\"value\":\"circle\"}},{\"$type\":\"CharacterRange\",\"left\":{\"$type\":\"Keyword\",\"value\":\"polygon\"}}]},\"fragment\":false,\"hidden\":false},{\"$type\":\"ParserRule\",\"fragment\":true,\"name\":\"EOL\",\"dataType\":\"string\",\"definition\":{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@20\"},\"arguments\":[],\"cardinality\":\"+\"},{\"$type\":\"EndOfFile\"}]},\"definesHiddenTokens\":false,\"entry\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"ParserRule\",\"fragment\":true,\"name\":\"TitleAndAccessibilities\",\"definition\":{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"Assignment\",\"feature\":\"accDescr\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@12\"},\"arguments\":[]}},{\"$type\":\"Assignment\",\"feature\":\"accTitle\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@13\"},\"arguments\":[]}},{\"$type\":\"Assignment\",\"feature\":\"title\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@14\"},\"arguments\":[]}}]},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@9\"},\"arguments\":[]}],\"cardinality\":\"+\"},\"definesHiddenTokens\":false,\"entry\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"TerminalRule\",\"name\":\"BOOLEAN\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"boolean\"},\"definition\":{\"$type\":\"TerminalAlternatives\",\"elements\":[{\"$type\":\"CharacterRange\",\"left\":{\"$type\":\"Keyword\",\"value\":\"true\"}},{\"$type\":\"CharacterRange\",\"left\":{\"$type\":\"Keyword\",\"value\":\"false\"}}]},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"ACC_DESCR\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]*accDescr(?:[\\\\\\\\t ]*:([^\\\\\\\\n\\\\\\\\r]*?(?=%%)|[^\\\\\\\\n\\\\\\\\r]*)|\\\\\\\\s*{([^}]*)})/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"ACC_TITLE\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]*accTitle[\\\\\\\\t ]*:(?:[^\\\\\\\\n\\\\\\\\r]*?(?=%%)|[^\\\\\\\\n\\\\\\\\r]*)/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"TITLE\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]*title(?:[\\\\\\\\t ][^\\\\\\\\n\\\\\\\\r]*?(?=%%)|[\\\\\\\\t ][^\\\\\\\\n\\\\\\\\r]*|)/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"FLOAT\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"number\"},\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[0-9]+\\\\\\\\.[0-9]+(?!\\\\\\\\.)/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"INT\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"number\"},\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/0|[1-9][0-9]*(?!\\\\\\\\.)/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"NUMBER\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"number\"},\"definition\":{\"$type\":\"TerminalAlternatives\",\"elements\":[{\"$type\":\"TerminalRuleCall\",\"rule\":{\"$ref\":\"#/rules@15\"}},{\"$type\":\"TerminalRuleCall\",\"rule\":{\"$ref\":\"#/rules@16\"}}]},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"STRING\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"string\"},\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/\\\\\"([^\\\\\"\\\\\\\\\\\\\\\\]|\\\\\\\\\\\\\\\\.)*\\\\\"|'([^'\\\\\\\\\\\\\\\\]|\\\\\\\\\\\\\\\\.)*'/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"ID\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"string\"},\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\w]([-\\\\\\\\w]*\\\\\\\\w)?/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"NEWLINE\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/\\\\\\\\r?\\\\\\\\n/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"hidden\":true,\"name\":\"WHITESPACE\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]+/\"},\"fragment\":false},{\"$type\":\"TerminalRule\",\"hidden\":true,\"name\":\"YAML\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/---[\\\\\\\\t ]*\\\\\\\\r?\\\\\\\\n(?:[\\\\\\\\S\\\\\\\\s]*?\\\\\\\\r?\\\\\\\\n)?---(?:\\\\\\\\r?\\\\\\\\n|(?!\\\\\\\\S))/\"},\"fragment\":false},{\"$type\":\"TerminalRule\",\"hidden\":true,\"name\":\"DIRECTIVE\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]*%%{[\\\\\\\\S\\\\\\\\s]*?}%%(?:\\\\\\\\r?\\\\\\\\n|(?!\\\\\\\\S))/\"},\"fragment\":false},{\"$type\":\"TerminalRule\",\"hidden\":true,\"name\":\"SINGLE_LINE_COMMENT\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]*%%[^\\\\\\\\n\\\\\\\\r]*/\"},\"fragment\":false}],\"interfaces\":[{\"$type\":\"Interface\",\"name\":\"Entry\",\"attributes\":[{\"$type\":\"TypeAttribute\",\"name\":\"axis\",\"isOptional\":true,\"type\":{\"$type\":\"ReferenceType\",\"referenceType\":{\"$type\":\"SimpleType\",\"typeRef\":{\"$ref\":\"#/rules@2\"}}}},{\"$type\":\"TypeAttribute\",\"name\":\"value\",\"type\":{\"$type\":\"SimpleType\",\"primitiveType\":\"number\"},\"isOptional\":false}],\"superTypes\":[]}],\"definesHiddenTokens\":false,\"hiddenTokens\":[],\"types\":[],\"usedGrammars\":[]}`)), \"RadarGrammar\");\nvar loadedTreemapGrammar;\nvar TreemapGrammar = /* @__PURE__ */ __name(() => loadedTreemapGrammar ?? (loadedTreemapGrammar = loadGrammarFromJson(`{\"$type\":\"Grammar\",\"isDeclared\":true,\"name\":\"Treemap\",\"rules\":[{\"$type\":\"ParserRule\",\"fragment\":true,\"name\":\"TitleAndAccessibilities\",\"definition\":{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"Assignment\",\"feature\":\"accDescr\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@2\"},\"arguments\":[]}},{\"$type\":\"Assignment\",\"feature\":\"accTitle\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@3\"},\"arguments\":[]}},{\"$type\":\"Assignment\",\"feature\":\"title\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@4\"},\"arguments\":[]}}],\"cardinality\":\"+\"},\"definesHiddenTokens\":false,\"entry\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"TerminalRule\",\"name\":\"BOOLEAN\",\"type\":{\"$type\":\"ReturnType\",\"name\":\"boolean\"},\"definition\":{\"$type\":\"TerminalAlternatives\",\"elements\":[{\"$type\":\"CharacterRange\",\"left\":{\"$type\":\"Keyword\",\"value\":\"true\"}},{\"$type\":\"CharacterRange\",\"left\":{\"$type\":\"Keyword\",\"value\":\"false\"}}]},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"ACC_DESCR\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]*accDescr(?:[\\\\\\\\t ]*:([^\\\\\\\\n\\\\\\\\r]*?(?=%%)|[^\\\\\\\\n\\\\\\\\r]*)|\\\\\\\\s*{([^}]*)})/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"ACC_TITLE\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]*accTitle[\\\\\\\\t ]*:(?:[^\\\\\\\\n\\\\\\\\r]*?(?=%%)|[^\\\\\\\\n\\\\\\\\r]*)/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"TITLE\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[\\\\\\\\t ]*title(?:[\\\\\\\\t ][^\\\\\\\\n\\\\\\\\r]*?(?=%%)|[\\\\\\\\t ][^\\\\\\\\n\\\\\\\\r]*|)/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"ParserRule\",\"entry\":true,\"name\":\"Treemap\",\"returnType\":{\"$ref\":\"#/interfaces@4\"},\"definition\":{\"$type\":\"Group\",\"elements\":[{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@6\"},\"arguments\":[]},{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@0\"},\"arguments\":[]},{\"$type\":\"Assignment\",\"feature\":\"TreemapRows\",\"operator\":\"+=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@14\"},\"arguments\":[]}}],\"cardinality\":\"*\"}]},\"definesHiddenTokens\":false,\"fragment\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"TerminalRule\",\"name\":\"TREEMAP_KEYWORD\",\"definition\":{\"$type\":\"TerminalAlternatives\",\"elements\":[{\"$type\":\"CharacterRange\",\"left\":{\"$type\":\"Keyword\",\"value\":\"treemap-beta\"}},{\"$type\":\"CharacterRange\",\"left\":{\"$type\":\"Keyword\",\"value\":\"treemap\"}}]},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"CLASS_DEF\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/classDef\\\\\\\\s+([a-zA-Z_][a-zA-Z0-9_]+)(?:\\\\\\\\s+([^;\\\\\\\\r\\\\\\\\n]*))?(?:;)?/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"STYLE_SEPARATOR\",\"definition\":{\"$type\":\"CharacterRange\",\"left\":{\"$type\":\"Keyword\",\"value\":\":::\"}},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"SEPARATOR\",\"definition\":{\"$type\":\"CharacterRange\",\"left\":{\"$type\":\"Keyword\",\"value\":\":\"}},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"COMMA\",\"definition\":{\"$type\":\"CharacterRange\",\"left\":{\"$type\":\"Keyword\",\"value\":\",\"}},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"hidden\":true,\"name\":\"WS\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[ \\\\\\\\t]+/\"},\"fragment\":false},{\"$type\":\"TerminalRule\",\"hidden\":true,\"name\":\"ML_COMMENT\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/\\\\\\\\%\\\\\\\\%[^\\\\\\\\n]*/\"},\"fragment\":false},{\"$type\":\"TerminalRule\",\"hidden\":true,\"name\":\"NL\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/\\\\\\\\r?\\\\\\\\n/\"},\"fragment\":false},{\"$type\":\"ParserRule\",\"name\":\"TreemapRow\",\"definition\":{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Assignment\",\"feature\":\"indent\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@19\"},\"arguments\":[]},\"cardinality\":\"?\"},{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"Assignment\",\"feature\":\"item\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@16\"},\"arguments\":[]}},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@15\"},\"arguments\":[]}]}]},\"definesHiddenTokens\":false,\"entry\":false,\"fragment\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"ParserRule\",\"name\":\"ClassDef\",\"dataType\":\"string\",\"definition\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@7\"},\"arguments\":[]},\"definesHiddenTokens\":false,\"entry\":false,\"fragment\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"ParserRule\",\"name\":\"Item\",\"returnType\":{\"$ref\":\"#/interfaces@0\"},\"definition\":{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@18\"},\"arguments\":[]},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@17\"},\"arguments\":[]}]},\"definesHiddenTokens\":false,\"entry\":false,\"fragment\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"ParserRule\",\"name\":\"Section\",\"returnType\":{\"$ref\":\"#/interfaces@1\"},\"definition\":{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Assignment\",\"feature\":\"name\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@23\"},\"arguments\":[]}},{\"$type\":\"Group\",\"elements\":[{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@8\"},\"arguments\":[]},{\"$type\":\"Assignment\",\"feature\":\"classSelector\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@20\"},\"arguments\":[]}}],\"cardinality\":\"?\"}]},\"definesHiddenTokens\":false,\"entry\":false,\"fragment\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"ParserRule\",\"name\":\"Leaf\",\"returnType\":{\"$ref\":\"#/interfaces@2\"},\"definition\":{\"$type\":\"Group\",\"elements\":[{\"$type\":\"Assignment\",\"feature\":\"name\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@23\"},\"arguments\":[]}},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@19\"},\"arguments\":[],\"cardinality\":\"?\"},{\"$type\":\"Alternatives\",\"elements\":[{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@9\"},\"arguments\":[]},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@10\"},\"arguments\":[]}]},{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@19\"},\"arguments\":[],\"cardinality\":\"?\"},{\"$type\":\"Assignment\",\"feature\":\"value\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@22\"},\"arguments\":[]}},{\"$type\":\"Group\",\"elements\":[{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@8\"},\"arguments\":[]},{\"$type\":\"Assignment\",\"feature\":\"classSelector\",\"operator\":\"=\",\"terminal\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@20\"},\"arguments\":[]}}],\"cardinality\":\"?\"}]},\"definesHiddenTokens\":false,\"entry\":false,\"fragment\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"TerminalRule\",\"name\":\"INDENTATION\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[ \\\\\\\\t]{1,}/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"ID2\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[a-zA-Z_][a-zA-Z0-9_]*/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"TerminalRule\",\"name\":\"NUMBER2\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/[0-9_\\\\\\\\.\\\\\\\\,]+/\"},\"fragment\":false,\"hidden\":false},{\"$type\":\"ParserRule\",\"name\":\"MyNumber\",\"dataType\":\"number\",\"definition\":{\"$type\":\"RuleCall\",\"rule\":{\"$ref\":\"#/rules@21\"},\"arguments\":[]},\"definesHiddenTokens\":false,\"entry\":false,\"fragment\":false,\"hiddenTokens\":[],\"parameters\":[],\"wildcard\":false},{\"$type\":\"TerminalRule\",\"name\":\"STRING2\",\"definition\":{\"$type\":\"RegexToken\",\"regex\":\"/\\\\\"[^\\\\\"]*\\\\\"|'[^']*'/\"},\"fragment\":false,\"hidden\":false}],\"interfaces\":[{\"$type\":\"Interface\",\"name\":\"Item\",\"attributes\":[{\"$type\":\"TypeAttribute\",\"name\":\"name\",\"type\":{\"$type\":\"SimpleType\",\"primitiveType\":\"string\"},\"isOptional\":false},{\"$type\":\"TypeAttribute\",\"name\":\"classSelector\",\"isOptional\":true,\"type\":{\"$type\":\"SimpleType\",\"primitiveType\":\"string\"}}],\"superTypes\":[]},{\"$type\":\"Interface\",\"name\":\"Section\",\"superTypes\":[{\"$ref\":\"#/interfaces@0\"}],\"attributes\":[]},{\"$type\":\"Interface\",\"name\":\"Leaf\",\"superTypes\":[{\"$ref\":\"#/interfaces@0\"}],\"attributes\":[{\"$type\":\"TypeAttribute\",\"name\":\"value\",\"type\":{\"$type\":\"SimpleType\",\"primitiveType\":\"number\"},\"isOptional\":false}]},{\"$type\":\"Interface\",\"name\":\"ClassDefStatement\",\"attributes\":[{\"$type\":\"TypeAttribute\",\"name\":\"className\",\"type\":{\"$type\":\"SimpleType\",\"primitiveType\":\"string\"},\"isOptional\":false},{\"$type\":\"TypeAttribute\",\"name\":\"styleText\",\"type\":{\"$type\":\"SimpleType\",\"primitiveType\":\"string\"},\"isOptional\":false}],\"superTypes\":[]},{\"$type\":\"Interface\",\"name\":\"Treemap\",\"attributes\":[{\"$type\":\"TypeAttribute\",\"name\":\"TreemapRows\",\"type\":{\"$type\":\"ArrayType\",\"elementType\":{\"$type\":\"SimpleType\",\"typeRef\":{\"$ref\":\"#/rules@14\"}}},\"isOptional\":false},{\"$type\":\"TypeAttribute\",\"name\":\"title\",\"isOptional\":true,\"type\":{\"$type\":\"SimpleType\",\"primitiveType\":\"string\"}},{\"$type\":\"TypeAttribute\",\"name\":\"accTitle\",\"isOptional\":true,\"type\":{\"$type\":\"SimpleType\",\"primitiveType\":\"string\"}},{\"$type\":\"TypeAttribute\",\"name\":\"accDescr\",\"isOptional\":true,\"type\":{\"$type\":\"SimpleType\",\"primitiveType\":\"string\"}}],\"superTypes\":[]}],\"definesHiddenTokens\":false,\"hiddenTokens\":[],\"imports\":[],\"types\":[],\"usedGrammars\":[],\"$comment\":\"/**\\\\n * Treemap grammar for Langium\\\\n * Converted from mindmap grammar\\\\n *\\\\n * The ML_COMMENT and NL hidden terminals handle whitespace, comments, and newlines\\\\n * before the treemap keyword, allowing for empty lines and comments before the\\\\n * treemap declaration.\\\\n */\"}`)), \"TreemapGrammar\");\n\n// src/language/generated/module.ts\nvar InfoLanguageMetaData = {\n  languageId: \"info\",\n  fileExtensions: [\".mmd\", \".mermaid\"],\n  caseInsensitive: false,\n  mode: \"production\"\n};\nvar PacketLanguageMetaData = {\n  languageId: \"packet\",\n  fileExtensions: [\".mmd\", \".mermaid\"],\n  caseInsensitive: false,\n  mode: \"production\"\n};\nvar PieLanguageMetaData = {\n  languageId: \"pie\",\n  fileExtensions: [\".mmd\", \".mermaid\"],\n  caseInsensitive: false,\n  mode: \"production\"\n};\nvar ArchitectureLanguageMetaData = {\n  languageId: \"architecture\",\n  fileExtensions: [\".mmd\", \".mermaid\"],\n  caseInsensitive: false,\n  mode: \"production\"\n};\nvar GitGraphLanguageMetaData = {\n  languageId: \"gitGraph\",\n  fileExtensions: [\".mmd\", \".mermaid\"],\n  caseInsensitive: false,\n  mode: \"production\"\n};\nvar RadarLanguageMetaData = {\n  languageId: \"radar\",\n  fileExtensions: [\".mmd\", \".mermaid\"],\n  caseInsensitive: false,\n  mode: \"production\"\n};\nvar TreemapLanguageMetaData = {\n  languageId: \"treemap\",\n  fileExtensions: [\".mmd\", \".mermaid\"],\n  caseInsensitive: false,\n  mode: \"production\"\n};\nvar MermaidGeneratedSharedModule = {\n  AstReflection: /* @__PURE__ */ __name(() => new MermaidAstReflection(), \"AstReflection\")\n};\nvar InfoGeneratedModule = {\n  Grammar: /* @__PURE__ */ __name(() => InfoGrammar(), \"Grammar\"),\n  LanguageMetaData: /* @__PURE__ */ __name(() => InfoLanguageMetaData, \"LanguageMetaData\"),\n  parser: {}\n};\nvar PacketGeneratedModule = {\n  Grammar: /* @__PURE__ */ __name(() => PacketGrammar(), \"Grammar\"),\n  LanguageMetaData: /* @__PURE__ */ __name(() => PacketLanguageMetaData, \"LanguageMetaData\"),\n  parser: {}\n};\nvar PieGeneratedModule = {\n  Grammar: /* @__PURE__ */ __name(() => PieGrammar(), \"Grammar\"),\n  LanguageMetaData: /* @__PURE__ */ __name(() => PieLanguageMetaData, \"LanguageMetaData\"),\n  parser: {}\n};\nvar ArchitectureGeneratedModule = {\n  Grammar: /* @__PURE__ */ __name(() => ArchitectureGrammar(), \"Grammar\"),\n  LanguageMetaData: /* @__PURE__ */ __name(() => ArchitectureLanguageMetaData, \"LanguageMetaData\"),\n  parser: {}\n};\nvar GitGraphGeneratedModule = {\n  Grammar: /* @__PURE__ */ __name(() => GitGraphGrammar(), \"Grammar\"),\n  LanguageMetaData: /* @__PURE__ */ __name(() => GitGraphLanguageMetaData, \"LanguageMetaData\"),\n  parser: {}\n};\nvar RadarGeneratedModule = {\n  Grammar: /* @__PURE__ */ __name(() => RadarGrammar(), \"Grammar\"),\n  LanguageMetaData: /* @__PURE__ */ __name(() => RadarLanguageMetaData, \"LanguageMetaData\"),\n  parser: {}\n};\nvar TreemapGeneratedModule = {\n  Grammar: /* @__PURE__ */ __name(() => TreemapGrammar(), \"Grammar\"),\n  LanguageMetaData: /* @__PURE__ */ __name(() => TreemapLanguageMetaData, \"LanguageMetaData\"),\n  parser: {}\n};\n\n// src/language/common/valueConverter.ts\nimport { DefaultValueConverter } from \"langium\";\n\n// src/language/common/matcher.ts\nvar accessibilityDescrRegex = /accDescr(?:[\\t ]*:([^\\n\\r]*)|\\s*{([^}]*)})/;\nvar accessibilityTitleRegex = /accTitle[\\t ]*:([^\\n\\r]*)/;\nvar titleRegex = /title([\\t ][^\\n\\r]*|)/;\n\n// src/language/common/valueConverter.ts\nvar rulesRegexes = {\n  ACC_DESCR: accessibilityDescrRegex,\n  ACC_TITLE: accessibilityTitleRegex,\n  TITLE: titleRegex\n};\nvar AbstractMermaidValueConverter = class extends DefaultValueConverter {\n  static {\n    __name(this, \"AbstractMermaidValueConverter\");\n  }\n  runConverter(rule, input, cstNode) {\n    let value = this.runCommonConverter(rule, input, cstNode);\n    if (value === void 0) {\n      value = this.runCustomConverter(rule, input, cstNode);\n    }\n    if (value === void 0) {\n      return super.runConverter(rule, input, cstNode);\n    }\n    return value;\n  }\n  runCommonConverter(rule, input, _cstNode) {\n    const regex = rulesRegexes[rule.name];\n    if (regex === void 0) {\n      return void 0;\n    }\n    const match = regex.exec(input);\n    if (match === null) {\n      return void 0;\n    }\n    if (match[1] !== void 0) {\n      return match[1].trim().replace(/[\\t ]{2,}/gm, \" \");\n    }\n    if (match[2] !== void 0) {\n      return match[2].replace(/^\\s*/gm, \"\").replace(/\\s+$/gm, \"\").replace(/[\\t ]{2,}/gm, \" \").replace(/[\\n\\r]{2,}/gm, \"\\n\");\n    }\n    return void 0;\n  }\n};\nvar CommonValueConverter = class extends AbstractMermaidValueConverter {\n  static {\n    __name(this, \"CommonValueConverter\");\n  }\n  runCustomConverter(_rule, _input, _cstNode) {\n    return void 0;\n  }\n};\n\n// src/language/common/tokenBuilder.ts\nimport { DefaultTokenBuilder } from \"langium\";\nvar AbstractMermaidTokenBuilder = class extends DefaultTokenBuilder {\n  static {\n    __name(this, \"AbstractMermaidTokenBuilder\");\n  }\n  constructor(keywords) {\n    super();\n    this.keywords = new Set(keywords);\n  }\n  buildKeywordTokens(rules, terminalTokens, options) {\n    const tokenTypes = super.buildKeywordTokens(rules, terminalTokens, options);\n    tokenTypes.forEach((tokenType) => {\n      if (this.keywords.has(tokenType.name) && tokenType.PATTERN !== void 0) {\n        tokenType.PATTERN = new RegExp(tokenType.PATTERN.toString() + \"(?:(?=%%)|(?!\\\\S))\");\n      }\n    });\n    return tokenTypes;\n  }\n};\nvar CommonTokenBuilder = class extends AbstractMermaidTokenBuilder {\n  static {\n    __name(this, \"CommonTokenBuilder\");\n  }\n};\n\nexport {\n  __name,\n  Statement,\n  Architecture,\n  isArchitecture,\n  Branch,\n  isBranch,\n  Commit,\n  isCommit,\n  GitGraph,\n  isGitGraph,\n  Info,\n  isInfo,\n  Merge,\n  isMerge,\n  Packet,\n  isPacket,\n  PacketBlock,\n  isPacketBlock,\n  Pie,\n  isPie,\n  PieSection,\n  isPieSection,\n  Radar,\n  Treemap,\n  isTreemap,\n  MermaidGeneratedSharedModule,\n  InfoGeneratedModule,\n  PacketGeneratedModule,\n  PieGeneratedModule,\n  ArchitectureGeneratedModule,\n  GitGraphGeneratedModule,\n  RadarGeneratedModule,\n  TreemapGeneratedModule,\n  AbstractMermaidValueConverter,\n  CommonValueConverter,\n  AbstractMermaidTokenBuilder,\n  CommonTokenBuilder\n};\n","import castPath from './_castPath.js';\nimport toKey from './_toKey.js';\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nexport default baseGet;\n","import baseGetTag from './_baseGetTag.js';\nimport isArray from './isArray.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n}\n\nexport default isString;\n","import { Fragment, memo, useContext } from 'react';\nimport { css, Global } from '@emotion/react';\n\nimport { ThemeToggleContext } from '@/contexts/ThemeToggleContext.ts';\nimport { event } from '@/utils/gtags.ts';\n\nfunction ThemeModeSwitch({ isWhite = false }: { isWhite?: boolean }) {\n  const { themeToggler, theme } = useContext(ThemeToggleContext);\n\n  const handleClickSwitch = () => {\n    themeToggler();\n    event('click_theme_toggle', { mode: theme === 'dark' ? 'light' : 'dark' });\n  };\n  return (\n    <Fragment>\n      <Global styles={BodyStyle} />\n      <button\n        onClick={handleClickSwitch}\n        className={`theme-toggler ${isWhite ? 'is-white' : ''}`}\n        aria-label=\"theme toggle button\"\n        type=\"button\"\n      >\n        <div id=\"switch\">\n          <div className=\"mode\"></div>\n        </div>\n      </button>\n    </Fragment>\n  );\n}\n\nexport default memo(ThemeModeSwitch);\n\nconst BodyStyle = css`\n  body {\n    .theme-toggler {\n      overflow: hidden;\n      margin: 6px;\n      padding: 2px;\n      background: transparent;\n      border-radius: 50%;\n      transition: all 0.3s ease;\n\n      #switch {\n        position: relative;\n        overflow: hidden;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        width: 21px;\n        height: 21px;\n        padding: 0;\n        background: transparent;\n        border: 0;\n      }\n\n      .mode {\n        position: relative;\n        width: 18px;\n        height: 18px;\n        opacity: 0.8;\n        background: #000;\n        clip-path: path(\n          'M17.5306 13.5882C16.6384 13.8558 15.689 14 14.7044 14C9.5004 14 5.28174 9.97061 5.28174 5.00005C5.28174 3.32422 5.76127 1.75538 6.59643 0.411865C2.77326 1.55853 0 4.96994 0 9.00001C0 13.9706 4.21866 18 9.42265 18C12.8721 18 15.8887 16.2296 17.5306 13.5882Z'\n        );\n        border-radius: 50%;\n        transition: all 0.45s ease;\n\n        &:before {\n          /* sun */\n          content: '';\n          position: absolute;\n          z-index: -1;\n          top: 50%;\n          left: 50%;\n          transform: translateX(-50%) translateY(-50%);\n          width: 5px;\n          height: 5px;\n          opacity: 0;\n          background: inherit;\n          border-radius: 50%;\n          transition: box-shadow 0.4s 0s ease;\n        }\n\n        &:after {\n          /* moon */\n          content: '';\n          position: absolute;\n          top: -20%;\n          left: 30%;\n          width: 90%;\n          height: 90%;\n          background: rgb(255 255 255 / 1);\n          border-radius: 50%;\n          transition: all 0.3s ease;\n        }\n\n        &:hover {\n          opacity: 1;\n        }\n      }\n\n      &:hover {\n        background: rgb(215 215 215 / 0.9);\n      }\n\n      &.is-white {\n        .mode {\n          background: #fff;\n        }\n\n        &:hover {\n          background: rgb(215 215 215 / 0.2);\n        }\n      }\n    }\n\n    &.dark {\n      .theme-toggler {\n        background: transparent;\n\n        &:hover {\n          background: rgb(255 255 255 / 0.1);\n        }\n\n        .mode {\n          transform: scale(0.5);\n          overflow: initial;\n          opacity: 0.8;\n          background: white;\n          clip-path: none;\n\n          &:before {\n            opacity: 1;\n            box-shadow:\n              0 -16px 0 0 white,\n              0 16px 0 0 white,\n              -16px 0 0 0 white,\n              16px 0 0 0 white,\n              12px 12px 0 0 white,\n              12px -12px 0 0 white,\n              -12px 12px 0 0 white,\n              -12px -12px 0 0 white;\n          }\n\n          /* stylelint-disable no-descending-specificity */\n\n          &:after {\n            transform: translateX(50%) translateY(-50%);\n            opacity: 0;\n            transition: background 0.45s ease;\n          }\n        }\n\n        &.is-white {\n          .mode {\n            &:before {\n              box-shadow:\n                0 -16px 0 0 white,\n                0 16px 0 0 white,\n                -16px 0 0 0 white,\n                16px 0 0 0 white,\n                12px 12px 0 0 white,\n                12px -12px 0 0 white,\n                -12px 12px 0 0 white,\n                -12px -12px 0 0 white;\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n","export const event = (action: string, options = {}) => {\n  if (!window.gtag) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    return;\n  }\n  window.gtag('event', action, options);\n};\n","/**\n * Checks if `value` is `undefined`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n * @example\n *\n * _.isUndefined(void 0);\n * // => true\n *\n * _.isUndefined(null);\n * // => false\n */\nfunction isUndefined(value) {\n  return value === undefined;\n}\n\nexport default isUndefined;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nexport default setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nexport default setCacheHas;\n","import MapCache from './_MapCache.js';\nimport setCacheAdd from './_setCacheAdd.js';\nimport setCacheHas from './_setCacheHas.js';\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nexport default SetCache;\n","/******************************************************************************\n * Copyright 2022 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport map from \"lodash-es/map.js\";\nimport filter from \"lodash-es/filter.js\";\nimport { Alternation, NonTerminal, Option, RepetitionMandatory, Repetition, Terminal, RepetitionWithSeparator, RepetitionMandatoryWithSeparator } from \"chevrotain\";\nexport function buildATNKey(rule, type, occurrence) {\n    return `${rule.name}_${type}_${occurrence}`;\n}\nexport const ATN_INVALID_TYPE = 0;\nexport const ATN_BASIC = 1;\nexport const ATN_RULE_START = 2;\nexport const ATN_PLUS_BLOCK_START = 4;\nexport const ATN_STAR_BLOCK_START = 5;\n// Currently unused as the ATN is not used for lexing\nexport const ATN_TOKEN_START = 6;\nexport const ATN_RULE_STOP = 7;\nexport const ATN_BLOCK_END = 8;\nexport const ATN_STAR_LOOP_BACK = 9;\nexport const ATN_STAR_LOOP_ENTRY = 10;\nexport const ATN_PLUS_LOOP_BACK = 11;\nexport const ATN_LOOP_END = 12;\nexport class AbstractTransition {\n    constructor(target) {\n        this.target = target;\n    }\n    isEpsilon() {\n        return false;\n    }\n}\nexport class AtomTransition extends AbstractTransition {\n    constructor(target, tokenType) {\n        super(target);\n        this.tokenType = tokenType;\n    }\n}\nexport class EpsilonTransition extends AbstractTransition {\n    constructor(target) {\n        super(target);\n    }\n    isEpsilon() {\n        return true;\n    }\n}\nexport class RuleTransition extends AbstractTransition {\n    constructor(ruleStart, rule, followState) {\n        super(ruleStart);\n        this.rule = rule;\n        this.followState = followState;\n    }\n    isEpsilon() {\n        return true;\n    }\n}\nexport function createATN(rules) {\n    const atn = {\n        decisionMap: {},\n        decisionStates: [],\n        ruleToStartState: new Map(),\n        ruleToStopState: new Map(),\n        states: []\n    };\n    createRuleStartAndStopATNStates(atn, rules);\n    const ruleLength = rules.length;\n    for (let i = 0; i < ruleLength; i++) {\n        const rule = rules[i];\n        const ruleBlock = block(atn, rule, rule);\n        if (ruleBlock === undefined) {\n            continue;\n        }\n        buildRuleHandle(atn, rule, ruleBlock);\n    }\n    return atn;\n}\nfunction createRuleStartAndStopATNStates(atn, rules) {\n    const ruleLength = rules.length;\n    for (let i = 0; i < ruleLength; i++) {\n        const rule = rules[i];\n        const start = newState(atn, rule, undefined, {\n            type: ATN_RULE_START\n        });\n        const stop = newState(atn, rule, undefined, {\n            type: ATN_RULE_STOP\n        });\n        start.stop = stop;\n        atn.ruleToStartState.set(rule, start);\n        atn.ruleToStopState.set(rule, stop);\n    }\n}\nfunction atom(atn, rule, production) {\n    if (production instanceof Terminal) {\n        return tokenRef(atn, rule, production.terminalType, production);\n    }\n    else if (production instanceof NonTerminal) {\n        return ruleRef(atn, rule, production);\n    }\n    else if (production instanceof Alternation) {\n        return alternation(atn, rule, production);\n    }\n    else if (production instanceof Option) {\n        return option(atn, rule, production);\n    }\n    else if (production instanceof Repetition) {\n        return repetition(atn, rule, production);\n    }\n    else if (production instanceof RepetitionWithSeparator) {\n        return repetitionSep(atn, rule, production);\n    }\n    else if (production instanceof RepetitionMandatory) {\n        return repetitionMandatory(atn, rule, production);\n    }\n    else if (production instanceof RepetitionMandatoryWithSeparator) {\n        return repetitionMandatorySep(atn, rule, production);\n    }\n    else {\n        return block(atn, rule, production);\n    }\n}\nfunction repetition(atn, rule, repetition) {\n    const starState = newState(atn, rule, repetition, {\n        type: ATN_STAR_BLOCK_START\n    });\n    defineDecisionState(atn, starState);\n    const handle = makeAlts(atn, rule, starState, repetition, block(atn, rule, repetition));\n    return star(atn, rule, repetition, handle);\n}\nfunction repetitionSep(atn, rule, repetition) {\n    const starState = newState(atn, rule, repetition, {\n        type: ATN_STAR_BLOCK_START\n    });\n    defineDecisionState(atn, starState);\n    const handle = makeAlts(atn, rule, starState, repetition, block(atn, rule, repetition));\n    const sep = tokenRef(atn, rule, repetition.separator, repetition);\n    return star(atn, rule, repetition, handle, sep);\n}\nfunction repetitionMandatory(atn, rule, repetition) {\n    const plusState = newState(atn, rule, repetition, {\n        type: ATN_PLUS_BLOCK_START\n    });\n    defineDecisionState(atn, plusState);\n    const handle = makeAlts(atn, rule, plusState, repetition, block(atn, rule, repetition));\n    return plus(atn, rule, repetition, handle);\n}\nfunction repetitionMandatorySep(atn, rule, repetition) {\n    const plusState = newState(atn, rule, repetition, {\n        type: ATN_PLUS_BLOCK_START\n    });\n    defineDecisionState(atn, plusState);\n    const handle = makeAlts(atn, rule, plusState, repetition, block(atn, rule, repetition));\n    const sep = tokenRef(atn, rule, repetition.separator, repetition);\n    return plus(atn, rule, repetition, handle, sep);\n}\nfunction alternation(atn, rule, alternation) {\n    const start = newState(atn, rule, alternation, {\n        type: ATN_BASIC\n    });\n    defineDecisionState(atn, start);\n    const alts = map(alternation.definition, (e) => atom(atn, rule, e));\n    const handle = makeAlts(atn, rule, start, alternation, ...alts);\n    return handle;\n}\nfunction option(atn, rule, option) {\n    const start = newState(atn, rule, option, {\n        type: ATN_BASIC\n    });\n    defineDecisionState(atn, start);\n    const handle = makeAlts(atn, rule, start, option, block(atn, rule, option));\n    return optional(atn, rule, option, handle);\n}\nfunction block(atn, rule, block) {\n    const handles = filter(map(block.definition, (e) => atom(atn, rule, e)), (e) => e !== undefined);\n    if (handles.length === 1) {\n        return handles[0];\n    }\n    else if (handles.length === 0) {\n        return undefined;\n    }\n    else {\n        return makeBlock(atn, handles);\n    }\n}\nfunction plus(atn, rule, plus, handle, sep) {\n    const blkStart = handle.left;\n    const blkEnd = handle.right;\n    const loop = newState(atn, rule, plus, {\n        type: ATN_PLUS_LOOP_BACK\n    });\n    defineDecisionState(atn, loop);\n    const end = newState(atn, rule, plus, {\n        type: ATN_LOOP_END\n    });\n    blkStart.loopback = loop;\n    end.loopback = loop;\n    atn.decisionMap[buildATNKey(rule, sep ? 'RepetitionMandatoryWithSeparator' : 'RepetitionMandatory', plus.idx)] = loop;\n    epsilon(blkEnd, loop); // block can see loop back\n    // Depending on whether we have a separator we put the exit transition at index 1 or 0\n    // This influences the chosen option in the lookahead DFA\n    if (sep === undefined) {\n        epsilon(loop, blkStart); // loop back to start\n        epsilon(loop, end); // exit\n    }\n    else {\n        epsilon(loop, end); // exit\n        // loop back to start with separator\n        epsilon(loop, sep.left);\n        epsilon(sep.right, blkStart);\n    }\n    return {\n        left: blkStart,\n        right: end\n    };\n}\nfunction star(atn, rule, star, handle, sep) {\n    const start = handle.left;\n    const end = handle.right;\n    const entry = newState(atn, rule, star, {\n        type: ATN_STAR_LOOP_ENTRY\n    });\n    defineDecisionState(atn, entry);\n    const loopEnd = newState(atn, rule, star, {\n        type: ATN_LOOP_END\n    });\n    const loop = newState(atn, rule, star, {\n        type: ATN_STAR_LOOP_BACK\n    });\n    entry.loopback = loop;\n    loopEnd.loopback = loop;\n    epsilon(entry, start); // loop enter edge (alt 2)\n    epsilon(entry, loopEnd); // bypass loop edge (alt 1)\n    epsilon(end, loop); // block end hits loop back\n    if (sep !== undefined) {\n        epsilon(loop, loopEnd); // end loop\n        // loop back to start of handle using separator\n        epsilon(loop, sep.left);\n        epsilon(sep.right, start);\n    }\n    else {\n        epsilon(loop, entry); // loop back to entry/exit decision\n    }\n    atn.decisionMap[buildATNKey(rule, sep ? 'RepetitionWithSeparator' : 'Repetition', star.idx)] = entry;\n    return {\n        left: entry,\n        right: loopEnd\n    };\n}\nfunction optional(atn, rule, optional, handle) {\n    const start = handle.left;\n    const end = handle.right;\n    epsilon(start, end);\n    atn.decisionMap[buildATNKey(rule, 'Option', optional.idx)] = start;\n    return handle;\n}\nfunction defineDecisionState(atn, state) {\n    atn.decisionStates.push(state);\n    state.decision = atn.decisionStates.length - 1;\n    return state.decision;\n}\nfunction makeAlts(atn, rule, start, production, ...alts) {\n    const end = newState(atn, rule, production, {\n        type: ATN_BLOCK_END,\n        start\n    });\n    start.end = end;\n    for (const alt of alts) {\n        if (alt !== undefined) {\n            // hook alts up to decision block\n            epsilon(start, alt.left);\n            epsilon(alt.right, end);\n        }\n        else {\n            epsilon(start, end);\n        }\n    }\n    const handle = {\n        left: start,\n        right: end\n    };\n    atn.decisionMap[buildATNKey(rule, getProdType(production), production.idx)] = start;\n    return handle;\n}\nfunction getProdType(production) {\n    if (production instanceof Alternation) {\n        return 'Alternation';\n    }\n    else if (production instanceof Option) {\n        return 'Option';\n    }\n    else if (production instanceof Repetition) {\n        return 'Repetition';\n    }\n    else if (production instanceof RepetitionWithSeparator) {\n        return 'RepetitionWithSeparator';\n    }\n    else if (production instanceof RepetitionMandatory) {\n        return 'RepetitionMandatory';\n    }\n    else if (production instanceof RepetitionMandatoryWithSeparator) {\n        return 'RepetitionMandatoryWithSeparator';\n    }\n    else {\n        throw new Error('Invalid production type encountered');\n    }\n}\nfunction makeBlock(atn, alts) {\n    const altsLength = alts.length;\n    for (let i = 0; i < altsLength - 1; i++) {\n        const handle = alts[i];\n        let transition;\n        if (handle.left.transitions.length === 1) {\n            transition = handle.left.transitions[0];\n        }\n        const isRuleTransition = transition instanceof RuleTransition;\n        const ruleTransition = transition;\n        const next = alts[i + 1].left;\n        if (handle.left.type === ATN_BASIC &&\n            handle.right.type === ATN_BASIC &&\n            transition !== undefined &&\n            ((isRuleTransition && ruleTransition.followState === handle.right) ||\n                transition.target === handle.right)) {\n            // we can avoid epsilon edge to next element\n            if (isRuleTransition) {\n                ruleTransition.followState = next;\n            }\n            else {\n                transition.target = next;\n            }\n            removeState(atn, handle.right); // we skipped over this state\n        }\n        else {\n            // need epsilon if previous block's right end node is complex\n            epsilon(handle.right, next);\n        }\n    }\n    const first = alts[0];\n    const last = alts[altsLength - 1];\n    return {\n        left: first.left,\n        right: last.right\n    };\n}\nfunction tokenRef(atn, rule, tokenType, production) {\n    const left = newState(atn, rule, production, {\n        type: ATN_BASIC\n    });\n    const right = newState(atn, rule, production, {\n        type: ATN_BASIC\n    });\n    addTransition(left, new AtomTransition(right, tokenType));\n    return {\n        left,\n        right\n    };\n}\nfunction ruleRef(atn, currentRule, nonTerminal) {\n    const rule = nonTerminal.referencedRule;\n    const start = atn.ruleToStartState.get(rule);\n    const left = newState(atn, currentRule, nonTerminal, {\n        type: ATN_BASIC\n    });\n    const right = newState(atn, currentRule, nonTerminal, {\n        type: ATN_BASIC\n    });\n    const call = new RuleTransition(start, rule, right);\n    addTransition(left, call);\n    return {\n        left,\n        right\n    };\n}\nfunction buildRuleHandle(atn, rule, block) {\n    const start = atn.ruleToStartState.get(rule);\n    epsilon(start, block.left);\n    const stop = atn.ruleToStopState.get(rule);\n    epsilon(block.right, stop);\n    const handle = {\n        left: start,\n        right: stop\n    };\n    return handle;\n}\nfunction epsilon(a, b) {\n    const transition = new EpsilonTransition(b);\n    addTransition(a, transition);\n}\nfunction newState(atn, rule, production, partial) {\n    const t = Object.assign({ atn,\n        production, epsilonOnlyTransitions: false, rule, transitions: [], nextTokenWithinRule: [], stateNumber: atn.states.length }, partial);\n    atn.states.push(t);\n    return t;\n}\nfunction addTransition(state, transition) {\n    // A single ATN state can only contain epsilon transitions or non-epsilon transitions\n    // Because they are never mixed, only setting the property for the first transition is fine\n    if (state.transitions.length === 0) {\n        state.epsilonOnlyTransitions = transition.isEpsilon();\n    }\n    state.transitions.push(transition);\n}\nfunction removeState(atn, state) {\n    atn.states.splice(atn.states.indexOf(state), 1);\n}\n//# sourceMappingURL=atn.js.map","/******************************************************************************\n * Copyright 2022 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport map from \"lodash-es/map.js\";\nexport const DFA_ERROR = {};\nexport class ATNConfigSet {\n    constructor() {\n        this.map = {};\n        this.configs = [];\n    }\n    get size() {\n        return this.configs.length;\n    }\n    finalize() {\n        // Empties the map to free up memory\n        this.map = {};\n    }\n    add(config) {\n        const key = getATNConfigKey(config);\n        // Only add configs which don't exist in our map already\n        // While this does not influence the actual algorithm, adding them anyway would massively increase memory consumption\n        if (!(key in this.map)) {\n            this.map[key] = this.configs.length;\n            this.configs.push(config);\n        }\n    }\n    get elements() {\n        return this.configs;\n    }\n    get alts() {\n        return map(this.configs, (e) => e.alt);\n    }\n    get key() {\n        let value = \"\";\n        for (const k in this.map) {\n            value += k + \":\";\n        }\n        return value;\n    }\n}\nexport function getATNConfigKey(config, alt = true) {\n    return `${alt ? `a${config.alt}` : \"\"}s${config.state.stateNumber}:${config.stack.map((e) => e.stateNumber.toString()).join(\"_\")}`;\n}\n//# sourceMappingURL=dfa.js.map","import baseIteratee from './_baseIteratee.js';\nimport baseUniq from './_baseUniq.js';\n\n/**\n * This method is like `_.uniq` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * uniqueness is computed. The order of result values is determined by the\n * order they occur in the array. The iteratee is invoked with one argument:\n * (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n * // => [2.1, 1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n * // => [{ 'x': 1 }, { 'x': 2 }]\n */\nfunction uniqBy(array, iteratee) {\n  return (array && array.length) ? baseUniq(array, baseIteratee(iteratee, 2)) : [];\n}\n\nexport default uniqBy;\n","/******************************************************************************\n * Copyright 2022 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { tokenMatcher, tokenLabel, NonTerminal, Alternation, Option, RepetitionMandatory, RepetitionMandatoryWithSeparator, RepetitionWithSeparator, Repetition, Terminal, LLkLookaheadStrategy, getLookaheadPaths } from \"chevrotain\";\nimport { ATN_RULE_STOP, AtomTransition, buildATNKey, createATN, EpsilonTransition, RuleTransition } from \"./atn.js\";\nimport { ATNConfigSet, DFA_ERROR, getATNConfigKey } from \"./dfa.js\";\nimport min from \"lodash-es/min.js\";\nimport flatMap from \"lodash-es/flatMap.js\";\nimport uniqBy from \"lodash-es/uniqBy.js\";\nimport map from \"lodash-es/map.js\";\nimport flatten from \"lodash-es/flatten.js\";\nimport forEach from \"lodash-es/forEach.js\";\nimport isEmpty from \"lodash-es/isEmpty.js\";\nimport reduce from \"lodash-es/reduce.js\";\nfunction createDFACache(startState, decision) {\n    const map = {};\n    return (predicateSet) => {\n        const key = predicateSet.toString();\n        let existing = map[key];\n        if (existing !== undefined) {\n            return existing;\n        }\n        else {\n            existing = {\n                atnStartState: startState,\n                decision,\n                states: {}\n            };\n            map[key] = existing;\n            return existing;\n        }\n    };\n}\nclass PredicateSet {\n    constructor() {\n        this.predicates = [];\n    }\n    is(index) {\n        return index >= this.predicates.length || this.predicates[index];\n    }\n    set(index, value) {\n        this.predicates[index] = value;\n    }\n    toString() {\n        let value = \"\";\n        const size = this.predicates.length;\n        for (let i = 0; i < size; i++) {\n            value += this.predicates[i] === true ? \"1\" : \"0\";\n        }\n        return value;\n    }\n}\nconst EMPTY_PREDICATES = new PredicateSet();\nexport class LLStarLookaheadStrategy extends LLkLookaheadStrategy {\n    constructor(options) {\n        var _a;\n        super();\n        this.logging = (_a = options === null || options === void 0 ? void 0 : options.logging) !== null && _a !== void 0 ? _a : ((message) => console.log(message));\n    }\n    initialize(options) {\n        this.atn = createATN(options.rules);\n        this.dfas = initATNSimulator(this.atn);\n    }\n    validateAmbiguousAlternationAlternatives() {\n        return [];\n    }\n    validateEmptyOrAlternatives() {\n        return [];\n    }\n    buildLookaheadForAlternation(options) {\n        const { prodOccurrence, rule, hasPredicates, dynamicTokensEnabled } = options;\n        const dfas = this.dfas;\n        const logging = this.logging;\n        const key = buildATNKey(rule, 'Alternation', prodOccurrence);\n        const decisionState = this.atn.decisionMap[key];\n        const decisionIndex = decisionState.decision;\n        const partialAlts = map(getLookaheadPaths({\n            maxLookahead: 1,\n            occurrence: prodOccurrence,\n            prodType: \"Alternation\",\n            rule: rule\n        }), (currAlt) => map(currAlt, (path) => path[0]));\n        if (isLL1Sequence(partialAlts, false) && !dynamicTokensEnabled) {\n            const choiceToAlt = reduce(partialAlts, (result, currAlt, idx) => {\n                forEach(currAlt, (currTokType) => {\n                    if (currTokType) {\n                        result[currTokType.tokenTypeIdx] = idx;\n                        forEach(currTokType.categoryMatches, (currExtendingType) => {\n                            result[currExtendingType] = idx;\n                        });\n                    }\n                });\n                return result;\n            }, {});\n            if (hasPredicates) {\n                return function (orAlts) {\n                    var _a;\n                    const nextToken = this.LA(1);\n                    const prediction = choiceToAlt[nextToken.tokenTypeIdx];\n                    if (orAlts !== undefined && prediction !== undefined) {\n                        const gate = (_a = orAlts[prediction]) === null || _a === void 0 ? void 0 : _a.GATE;\n                        if (gate !== undefined && gate.call(this) === false) {\n                            return undefined;\n                        }\n                    }\n                    return prediction;\n                };\n            }\n            else {\n                return function () {\n                    const nextToken = this.LA(1);\n                    return choiceToAlt[nextToken.tokenTypeIdx];\n                };\n            }\n        }\n        else if (hasPredicates) {\n            return function (orAlts) {\n                const predicates = new PredicateSet();\n                const length = orAlts === undefined ? 0 : orAlts.length;\n                for (let i = 0; i < length; i++) {\n                    const gate = orAlts === null || orAlts === void 0 ? void 0 : orAlts[i].GATE;\n                    predicates.set(i, gate === undefined || gate.call(this));\n                }\n                const result = adaptivePredict.call(this, dfas, decisionIndex, predicates, logging);\n                return typeof result === 'number' ? result : undefined;\n            };\n        }\n        else {\n            return function () {\n                const result = adaptivePredict.call(this, dfas, decisionIndex, EMPTY_PREDICATES, logging);\n                return typeof result === 'number' ? result : undefined;\n            };\n        }\n    }\n    buildLookaheadForOptional(options) {\n        const { prodOccurrence, rule, prodType, dynamicTokensEnabled } = options;\n        const dfas = this.dfas;\n        const logging = this.logging;\n        const key = buildATNKey(rule, prodType, prodOccurrence);\n        const decisionState = this.atn.decisionMap[key];\n        const decisionIndex = decisionState.decision;\n        const alts = map(getLookaheadPaths({\n            maxLookahead: 1,\n            occurrence: prodOccurrence,\n            prodType,\n            rule\n        }), (e) => {\n            return map(e, (g) => g[0]);\n        });\n        if (isLL1Sequence(alts) && alts[0][0] && !dynamicTokensEnabled) {\n            const alt = alts[0];\n            const singleTokensTypes = flatten(alt);\n            if (singleTokensTypes.length === 1 &&\n                isEmpty(singleTokensTypes[0].categoryMatches)) {\n                const expectedTokenType = singleTokensTypes[0];\n                const expectedTokenUniqueKey = expectedTokenType.tokenTypeIdx;\n                return function () {\n                    return this.LA(1).tokenTypeIdx === expectedTokenUniqueKey;\n                };\n            }\n            else {\n                const choiceToAlt = reduce(singleTokensTypes, (result, currTokType) => {\n                    if (currTokType !== undefined) {\n                        result[currTokType.tokenTypeIdx] = true;\n                        forEach(currTokType.categoryMatches, (currExtendingType) => {\n                            result[currExtendingType] = true;\n                        });\n                    }\n                    return result;\n                }, {});\n                return function () {\n                    const nextToken = this.LA(1);\n                    return choiceToAlt[nextToken.tokenTypeIdx] === true;\n                };\n            }\n        }\n        return function () {\n            const result = adaptivePredict.call(this, dfas, decisionIndex, EMPTY_PREDICATES, logging);\n            return typeof result === \"object\" ? false : result === 0;\n        };\n    }\n}\nfunction isLL1Sequence(sequences, allowEmpty = true) {\n    const fullSet = new Set();\n    for (const alt of sequences) {\n        const altSet = new Set();\n        for (const tokType of alt) {\n            if (tokType === undefined) {\n                if (allowEmpty) {\n                    // Epsilon production encountered\n                    break;\n                }\n                else {\n                    return false;\n                }\n            }\n            const indices = [tokType.tokenTypeIdx].concat(tokType.categoryMatches);\n            for (const index of indices) {\n                if (fullSet.has(index)) {\n                    if (!altSet.has(index)) {\n                        return false;\n                    }\n                }\n                else {\n                    fullSet.add(index);\n                    altSet.add(index);\n                }\n            }\n        }\n    }\n    return true;\n}\nfunction initATNSimulator(atn) {\n    const decisionLength = atn.decisionStates.length;\n    const decisionToDFA = Array(decisionLength);\n    for (let i = 0; i < decisionLength; i++) {\n        decisionToDFA[i] = createDFACache(atn.decisionStates[i], i);\n    }\n    return decisionToDFA;\n}\nfunction adaptivePredict(dfaCaches, decision, predicateSet, logging) {\n    const dfa = dfaCaches[decision](predicateSet);\n    let start = dfa.start;\n    if (start === undefined) {\n        const closure = computeStartState(dfa.atnStartState);\n        start = addDFAState(dfa, newDFAState(closure));\n        dfa.start = start;\n    }\n    const alt = performLookahead.apply(this, [dfa, start, predicateSet, logging]);\n    return alt;\n}\nfunction performLookahead(dfa, s0, predicateSet, logging) {\n    let previousD = s0;\n    let i = 1;\n    const path = [];\n    let t = this.LA(i++);\n    while (true) {\n        let d = getExistingTargetState(previousD, t);\n        if (d === undefined) {\n            d = computeLookaheadTarget.apply(this, [dfa, previousD, t, i, predicateSet, logging]);\n        }\n        if (d === DFA_ERROR) {\n            return buildAdaptivePredictError(path, previousD, t);\n        }\n        if (d.isAcceptState === true) {\n            return d.prediction;\n        }\n        previousD = d;\n        path.push(t);\n        t = this.LA(i++);\n    }\n}\nfunction computeLookaheadTarget(dfa, previousD, token, lookahead, predicateSet, logging) {\n    const reach = computeReachSet(previousD.configs, token, predicateSet);\n    if (reach.size === 0) {\n        addDFAEdge(dfa, previousD, token, DFA_ERROR);\n        return DFA_ERROR;\n    }\n    let newState = newDFAState(reach);\n    const predictedAlt = getUniqueAlt(reach, predicateSet);\n    if (predictedAlt !== undefined) {\n        newState.isAcceptState = true;\n        newState.prediction = predictedAlt;\n        newState.configs.uniqueAlt = predictedAlt;\n    }\n    else if (hasConflictTerminatingPrediction(reach)) {\n        const prediction = min(reach.alts);\n        newState.isAcceptState = true;\n        newState.prediction = prediction;\n        newState.configs.uniqueAlt = prediction;\n        reportLookaheadAmbiguity.apply(this, [dfa, lookahead, reach.alts, logging]);\n    }\n    newState = addDFAEdge(dfa, previousD, token, newState);\n    return newState;\n}\nfunction reportLookaheadAmbiguity(dfa, lookahead, ambiguityIndices, logging) {\n    const prefixPath = [];\n    for (let i = 1; i <= lookahead; i++) {\n        prefixPath.push(this.LA(i).tokenType);\n    }\n    const atnState = dfa.atnStartState;\n    const topLevelRule = atnState.rule;\n    const production = atnState.production;\n    const message = buildAmbiguityError({\n        topLevelRule,\n        ambiguityIndices,\n        production,\n        prefixPath\n    });\n    logging(message);\n}\nfunction buildAmbiguityError(options) {\n    const pathMsg = map(options.prefixPath, (currtok) => tokenLabel(currtok)).join(\", \");\n    const occurrence = options.production.idx === 0 ? \"\" : options.production.idx;\n    let currMessage = `Ambiguous Alternatives Detected: <${options.ambiguityIndices.join(\", \")}> in <${getProductionDslName(options.production)}${occurrence}>` +\n        ` inside <${options.topLevelRule.name}> Rule,\\n` +\n        `<${pathMsg}> may appears as a prefix path in all these alternatives.\\n`;\n    currMessage =\n        currMessage +\n            `See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\\n` +\n            `For Further details.`;\n    return currMessage;\n}\nfunction getProductionDslName(prod) {\n    if (prod instanceof NonTerminal) {\n        return \"SUBRULE\";\n    }\n    else if (prod instanceof Option) {\n        return \"OPTION\";\n    }\n    else if (prod instanceof Alternation) {\n        return \"OR\";\n    }\n    else if (prod instanceof RepetitionMandatory) {\n        return \"AT_LEAST_ONE\";\n    }\n    else if (prod instanceof RepetitionMandatoryWithSeparator) {\n        return \"AT_LEAST_ONE_SEP\";\n    }\n    else if (prod instanceof RepetitionWithSeparator) {\n        return \"MANY_SEP\";\n    }\n    else if (prod instanceof Repetition) {\n        return \"MANY\";\n    }\n    else if (prod instanceof Terminal) {\n        return \"CONSUME\";\n    }\n    else {\n        throw Error(\"non exhaustive match\");\n    }\n}\nfunction buildAdaptivePredictError(path, previous, current) {\n    const nextTransitions = flatMap(previous.configs.elements, (e) => e.state.transitions);\n    const nextTokenTypes = uniqBy(nextTransitions\n        .filter((e) => e instanceof AtomTransition)\n        .map((e) => e.tokenType), (e) => e.tokenTypeIdx);\n    return {\n        actualToken: current,\n        possibleTokenTypes: nextTokenTypes,\n        tokenPath: path\n    };\n}\nfunction getExistingTargetState(state, token) {\n    return state.edges[token.tokenTypeIdx];\n}\nfunction computeReachSet(configs, token, predicateSet) {\n    const intermediate = new ATNConfigSet();\n    const skippedStopStates = [];\n    for (const c of configs.elements) {\n        if (predicateSet.is(c.alt) === false) {\n            continue;\n        }\n        if (c.state.type === ATN_RULE_STOP) {\n            skippedStopStates.push(c);\n            continue;\n        }\n        const transitionLength = c.state.transitions.length;\n        for (let i = 0; i < transitionLength; i++) {\n            const transition = c.state.transitions[i];\n            const target = getReachableTarget(transition, token);\n            if (target !== undefined) {\n                intermediate.add({\n                    state: target,\n                    alt: c.alt,\n                    stack: c.stack\n                });\n            }\n        }\n    }\n    let reach;\n    if (skippedStopStates.length === 0 && intermediate.size === 1) {\n        reach = intermediate;\n    }\n    if (reach === undefined) {\n        reach = new ATNConfigSet();\n        for (const c of intermediate.elements) {\n            closure(c, reach);\n        }\n    }\n    if (skippedStopStates.length > 0 && !hasConfigInRuleStopState(reach)) {\n        for (const c of skippedStopStates) {\n            reach.add(c);\n        }\n    }\n    return reach;\n}\nfunction getReachableTarget(transition, token) {\n    if (transition instanceof AtomTransition &&\n        tokenMatcher(token, transition.tokenType)) {\n        return transition.target;\n    }\n    return undefined;\n}\nfunction getUniqueAlt(configs, predicateSet) {\n    let alt;\n    for (const c of configs.elements) {\n        if (predicateSet.is(c.alt) === true) {\n            if (alt === undefined) {\n                alt = c.alt;\n            }\n            else if (alt !== c.alt) {\n                return undefined;\n            }\n        }\n    }\n    return alt;\n}\nfunction newDFAState(closure) {\n    return {\n        configs: closure,\n        edges: {},\n        isAcceptState: false,\n        prediction: -1\n    };\n}\nfunction addDFAEdge(dfa, from, token, to) {\n    to = addDFAState(dfa, to);\n    from.edges[token.tokenTypeIdx] = to;\n    return to;\n}\nfunction addDFAState(dfa, state) {\n    if (state === DFA_ERROR) {\n        return state;\n    }\n    // Repetitions have the same config set\n    // Therefore, storing the key of the config in a map allows us to create a loop in our DFA\n    const mapKey = state.configs.key;\n    const existing = dfa.states[mapKey];\n    if (existing !== undefined) {\n        return existing;\n    }\n    state.configs.finalize();\n    dfa.states[mapKey] = state;\n    return state;\n}\nfunction computeStartState(atnState) {\n    const configs = new ATNConfigSet();\n    const numberOfTransitions = atnState.transitions.length;\n    for (let i = 0; i < numberOfTransitions; i++) {\n        const target = atnState.transitions[i].target;\n        const config = {\n            state: target,\n            alt: i,\n            stack: []\n        };\n        closure(config, configs);\n    }\n    return configs;\n}\nfunction closure(config, configs) {\n    const p = config.state;\n    if (p.type === ATN_RULE_STOP) {\n        if (config.stack.length > 0) {\n            const atnStack = [...config.stack];\n            const followState = atnStack.pop();\n            const followConfig = {\n                state: followState,\n                alt: config.alt,\n                stack: atnStack\n            };\n            closure(followConfig, configs);\n        }\n        else {\n            // Dipping into outer context, simply add the config\n            // This will stop computation once every config is at the rule stop state\n            configs.add(config);\n        }\n        return;\n    }\n    if (!p.epsilonOnlyTransitions) {\n        configs.add(config);\n    }\n    const transitionLength = p.transitions.length;\n    for (let i = 0; i < transitionLength; i++) {\n        const transition = p.transitions[i];\n        const c = getEpsilonTarget(config, transition);\n        if (c !== undefined) {\n            closure(c, configs);\n        }\n    }\n}\nfunction getEpsilonTarget(config, transition) {\n    if (transition instanceof EpsilonTransition) {\n        return {\n            state: transition.target,\n            alt: config.alt,\n            stack: config.stack\n        };\n    }\n    else if (transition instanceof RuleTransition) {\n        const stack = [...config.stack, transition.followState];\n        return {\n            state: transition.target,\n            alt: config.alt,\n            stack\n        };\n    }\n    return undefined;\n}\nfunction hasConfigInRuleStopState(configs) {\n    for (const c of configs.elements) {\n        if (c.state.type === ATN_RULE_STOP) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction allConfigsInRuleStopStates(configs) {\n    for (const c of configs.elements) {\n        if (c.state.type !== ATN_RULE_STOP) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction hasConflictTerminatingPrediction(configs) {\n    if (allConfigsInRuleStopStates(configs)) {\n        return true;\n    }\n    const altSets = getConflictingAltSets(configs.elements);\n    const heuristic = hasConflictingAltSet(altSets) && !hasStateAssociatedWithOneAlt(altSets);\n    return heuristic;\n}\nfunction getConflictingAltSets(configs) {\n    const configToAlts = new Map();\n    for (const c of configs) {\n        const key = getATNConfigKey(c, false);\n        let alts = configToAlts.get(key);\n        if (alts === undefined) {\n            alts = {};\n            configToAlts.set(key, alts);\n        }\n        alts[c.alt] = true;\n    }\n    return configToAlts;\n}\nfunction hasConflictingAltSet(altSets) {\n    for (const value of Array.from(altSets.values())) {\n        if (Object.keys(value).length > 1) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction hasStateAssociatedWithOneAlt(altSets) {\n    for (const value of Array.from(altSets.values())) {\n        if (Object.keys(value).length === 1) {\n            return true;\n        }\n    }\n    return false;\n}\n//# sourceMappingURL=all-star-lookahead.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nexport var DocumentUri;\n(function (DocumentUri) {\n    function is(value) {\n        return typeof value === 'string';\n    }\n    DocumentUri.is = is;\n})(DocumentUri || (DocumentUri = {}));\nexport var URI;\n(function (URI) {\n    function is(value) {\n        return typeof value === 'string';\n    }\n    URI.is = is;\n})(URI || (URI = {}));\nexport var integer;\n(function (integer) {\n    integer.MIN_VALUE = -2147483648;\n    integer.MAX_VALUE = 2147483647;\n    function is(value) {\n        return typeof value === 'number' && integer.MIN_VALUE <= value && value <= integer.MAX_VALUE;\n    }\n    integer.is = is;\n})(integer || (integer = {}));\nexport var uinteger;\n(function (uinteger) {\n    uinteger.MIN_VALUE = 0;\n    uinteger.MAX_VALUE = 2147483647;\n    function is(value) {\n        return typeof value === 'number' && uinteger.MIN_VALUE <= value && value <= uinteger.MAX_VALUE;\n    }\n    uinteger.is = is;\n})(uinteger || (uinteger = {}));\n/**\n * The Position namespace provides helper functions to work with\n * {@link Position} literals.\n */\nexport var Position;\n(function (Position) {\n    /**\n     * Creates a new Position literal from the given line and character.\n     * @param line The position's line.\n     * @param character The position's character.\n     */\n    function create(line, character) {\n        if (line === Number.MAX_VALUE) {\n            line = uinteger.MAX_VALUE;\n        }\n        if (character === Number.MAX_VALUE) {\n            character = uinteger.MAX_VALUE;\n        }\n        return { line, character };\n    }\n    Position.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Position} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.objectLiteral(candidate) && Is.uinteger(candidate.line) && Is.uinteger(candidate.character);\n    }\n    Position.is = is;\n})(Position || (Position = {}));\n/**\n * The Range namespace provides helper functions to work with\n * {@link Range} literals.\n */\nexport var Range;\n(function (Range) {\n    function create(one, two, three, four) {\n        if (Is.uinteger(one) && Is.uinteger(two) && Is.uinteger(three) && Is.uinteger(four)) {\n            return { start: Position.create(one, two), end: Position.create(three, four) };\n        }\n        else if (Position.is(one) && Position.is(two)) {\n            return { start: one, end: two };\n        }\n        else {\n            throw new Error(`Range#create called with invalid arguments[${one}, ${two}, ${three}, ${four}]`);\n        }\n    }\n    Range.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Range} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\n    }\n    Range.is = is;\n})(Range || (Range = {}));\n/**\n * The Location namespace provides helper functions to work with\n * {@link Location} literals.\n */\nexport var Location;\n(function (Location) {\n    /**\n     * Creates a Location literal.\n     * @param uri The location's uri.\n     * @param range The location's range.\n     */\n    function create(uri, range) {\n        return { uri, range };\n    }\n    Location.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Location} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\n    }\n    Location.is = is;\n})(Location || (Location = {}));\n/**\n * The LocationLink namespace provides helper functions to work with\n * {@link LocationLink} literals.\n */\nexport var LocationLink;\n(function (LocationLink) {\n    /**\n     * Creates a LocationLink literal.\n     * @param targetUri The definition's uri.\n     * @param targetRange The full range of the definition.\n     * @param targetSelectionRange The span of the symbol definition at the target.\n     * @param originSelectionRange The span of the symbol being defined in the originating source file.\n     */\n    function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\n        return { targetUri, targetRange, targetSelectionRange, originSelectionRange };\n    }\n    LocationLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link LocationLink} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri)\n            && Range.is(candidate.targetSelectionRange)\n            && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\n    }\n    LocationLink.is = is;\n})(LocationLink || (LocationLink = {}));\n/**\n * The Color namespace provides helper functions to work with\n * {@link Color} literals.\n */\nexport var Color;\n(function (Color) {\n    /**\n     * Creates a new Color literal.\n     */\n    function create(red, green, blue, alpha) {\n        return {\n            red,\n            green,\n            blue,\n            alpha,\n        };\n    }\n    Color.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Color} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.numberRange(candidate.red, 0, 1)\n            && Is.numberRange(candidate.green, 0, 1)\n            && Is.numberRange(candidate.blue, 0, 1)\n            && Is.numberRange(candidate.alpha, 0, 1);\n    }\n    Color.is = is;\n})(Color || (Color = {}));\n/**\n * The ColorInformation namespace provides helper functions to work with\n * {@link ColorInformation} literals.\n */\nexport var ColorInformation;\n(function (ColorInformation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(range, color) {\n        return {\n            range,\n            color,\n        };\n    }\n    ColorInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link ColorInformation} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && Color.is(candidate.color);\n    }\n    ColorInformation.is = is;\n})(ColorInformation || (ColorInformation = {}));\n/**\n * The Color namespace provides helper functions to work with\n * {@link ColorPresentation} literals.\n */\nexport var ColorPresentation;\n(function (ColorPresentation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(label, textEdit, additionalTextEdits) {\n        return {\n            label,\n            textEdit,\n            additionalTextEdits,\n        };\n    }\n    ColorPresentation.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link ColorInformation} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.label)\n            && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate))\n            && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\n    }\n    ColorPresentation.is = is;\n})(ColorPresentation || (ColorPresentation = {}));\n/**\n * A set of predefined range kinds.\n */\nexport var FoldingRangeKind;\n(function (FoldingRangeKind) {\n    /**\n     * Folding range for a comment\n     */\n    FoldingRangeKind.Comment = 'comment';\n    /**\n     * Folding range for an import or include\n     */\n    FoldingRangeKind.Imports = 'imports';\n    /**\n     * Folding range for a region (e.g. `#region`)\n     */\n    FoldingRangeKind.Region = 'region';\n})(FoldingRangeKind || (FoldingRangeKind = {}));\n/**\n * The folding range namespace provides helper functions to work with\n * {@link FoldingRange} literals.\n */\nexport var FoldingRange;\n(function (FoldingRange) {\n    /**\n     * Creates a new FoldingRange literal.\n     */\n    function create(startLine, endLine, startCharacter, endCharacter, kind, collapsedText) {\n        const result = {\n            startLine,\n            endLine\n        };\n        if (Is.defined(startCharacter)) {\n            result.startCharacter = startCharacter;\n        }\n        if (Is.defined(endCharacter)) {\n            result.endCharacter = endCharacter;\n        }\n        if (Is.defined(kind)) {\n            result.kind = kind;\n        }\n        if (Is.defined(collapsedText)) {\n            result.collapsedText = collapsedText;\n        }\n        return result;\n    }\n    FoldingRange.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link FoldingRange} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.uinteger(candidate.startLine) && Is.uinteger(candidate.startLine)\n            && (Is.undefined(candidate.startCharacter) || Is.uinteger(candidate.startCharacter))\n            && (Is.undefined(candidate.endCharacter) || Is.uinteger(candidate.endCharacter))\n            && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\n    }\n    FoldingRange.is = is;\n})(FoldingRange || (FoldingRange = {}));\n/**\n * The DiagnosticRelatedInformation namespace provides helper functions to work with\n * {@link DiagnosticRelatedInformation} literals.\n */\nexport var DiagnosticRelatedInformation;\n(function (DiagnosticRelatedInformation) {\n    /**\n     * Creates a new DiagnosticRelatedInformation literal.\n     */\n    function create(location, message) {\n        return {\n            location,\n            message\n        };\n    }\n    DiagnosticRelatedInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link DiagnosticRelatedInformation} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\n    }\n    DiagnosticRelatedInformation.is = is;\n})(DiagnosticRelatedInformation || (DiagnosticRelatedInformation = {}));\n/**\n * The diagnostic's severity.\n */\nexport var DiagnosticSeverity;\n(function (DiagnosticSeverity) {\n    /**\n     * Reports an error.\n     */\n    DiagnosticSeverity.Error = 1;\n    /**\n     * Reports a warning.\n     */\n    DiagnosticSeverity.Warning = 2;\n    /**\n     * Reports an information.\n     */\n    DiagnosticSeverity.Information = 3;\n    /**\n     * Reports a hint.\n     */\n    DiagnosticSeverity.Hint = 4;\n})(DiagnosticSeverity || (DiagnosticSeverity = {}));\n/**\n * The diagnostic tags.\n *\n * @since 3.15.0\n */\nexport var DiagnosticTag;\n(function (DiagnosticTag) {\n    /**\n     * Unused or unnecessary code.\n     *\n     * Clients are allowed to render diagnostics with this tag faded out instead of having\n     * an error squiggle.\n     */\n    DiagnosticTag.Unnecessary = 1;\n    /**\n     * Deprecated or obsolete code.\n     *\n     * Clients are allowed to rendered diagnostics with this tag strike through.\n     */\n    DiagnosticTag.Deprecated = 2;\n})(DiagnosticTag || (DiagnosticTag = {}));\n/**\n * The CodeDescription namespace provides functions to deal with descriptions for diagnostic codes.\n *\n * @since 3.16.0\n */\nexport var CodeDescription;\n(function (CodeDescription) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.href);\n    }\n    CodeDescription.is = is;\n})(CodeDescription || (CodeDescription = {}));\n/**\n * The Diagnostic namespace provides helper functions to work with\n * {@link Diagnostic} literals.\n */\nexport var Diagnostic;\n(function (Diagnostic) {\n    /**\n     * Creates a new Diagnostic literal.\n     */\n    function create(range, message, severity, code, source, relatedInformation) {\n        let result = { range, message };\n        if (Is.defined(severity)) {\n            result.severity = severity;\n        }\n        if (Is.defined(code)) {\n            result.code = code;\n        }\n        if (Is.defined(source)) {\n            result.source = source;\n        }\n        if (Is.defined(relatedInformation)) {\n            result.relatedInformation = relatedInformation;\n        }\n        return result;\n    }\n    Diagnostic.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Diagnostic} interface.\n     */\n    function is(value) {\n        var _a;\n        let candidate = value;\n        return Is.defined(candidate)\n            && Range.is(candidate.range)\n            && Is.string(candidate.message)\n            && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\n            && (Is.integer(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\n            && (Is.undefined(candidate.codeDescription) || (Is.string((_a = candidate.codeDescription) === null || _a === void 0 ? void 0 : _a.href)))\n            && (Is.string(candidate.source) || Is.undefined(candidate.source))\n            && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\n    }\n    Diagnostic.is = is;\n})(Diagnostic || (Diagnostic = {}));\n/**\n * The Command namespace provides helper functions to work with\n * {@link Command} literals.\n */\nexport var Command;\n(function (Command) {\n    /**\n     * Creates a new Command literal.\n     */\n    function create(title, command, ...args) {\n        let result = { title, command };\n        if (Is.defined(args) && args.length > 0) {\n            result.arguments = args;\n        }\n        return result;\n    }\n    Command.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Command} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);\n    }\n    Command.is = is;\n})(Command || (Command = {}));\n/**\n * The TextEdit namespace provides helper function to create replace,\n * insert and delete edits more easily.\n */\nexport var TextEdit;\n(function (TextEdit) {\n    /**\n     * Creates a replace text edit.\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     */\n    function replace(range, newText) {\n        return { range, newText };\n    }\n    TextEdit.replace = replace;\n    /**\n     * Creates an insert text edit.\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     */\n    function insert(position, newText) {\n        return { range: { start: position, end: position }, newText };\n    }\n    TextEdit.insert = insert;\n    /**\n     * Creates a delete text edit.\n     * @param range The range of text to be deleted.\n     */\n    function del(range) {\n        return { range, newText: '' };\n    }\n    TextEdit.del = del;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate)\n            && Is.string(candidate.newText)\n            && Range.is(candidate.range);\n    }\n    TextEdit.is = is;\n})(TextEdit || (TextEdit = {}));\nexport var ChangeAnnotation;\n(function (ChangeAnnotation) {\n    function create(label, needsConfirmation, description) {\n        const result = { label };\n        if (needsConfirmation !== undefined) {\n            result.needsConfirmation = needsConfirmation;\n        }\n        if (description !== undefined) {\n            result.description = description;\n        }\n        return result;\n    }\n    ChangeAnnotation.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.label) &&\n            (Is.boolean(candidate.needsConfirmation) || candidate.needsConfirmation === undefined) &&\n            (Is.string(candidate.description) || candidate.description === undefined);\n    }\n    ChangeAnnotation.is = is;\n})(ChangeAnnotation || (ChangeAnnotation = {}));\nexport var ChangeAnnotationIdentifier;\n(function (ChangeAnnotationIdentifier) {\n    function is(value) {\n        const candidate = value;\n        return Is.string(candidate);\n    }\n    ChangeAnnotationIdentifier.is = is;\n})(ChangeAnnotationIdentifier || (ChangeAnnotationIdentifier = {}));\nexport var AnnotatedTextEdit;\n(function (AnnotatedTextEdit) {\n    /**\n     * Creates an annotated replace text edit.\n     *\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     * @param annotation The annotation.\n     */\n    function replace(range, newText, annotation) {\n        return { range, newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.replace = replace;\n    /**\n     * Creates an annotated insert text edit.\n     *\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     * @param annotation The annotation.\n     */\n    function insert(position, newText, annotation) {\n        return { range: { start: position, end: position }, newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.insert = insert;\n    /**\n     * Creates an annotated delete text edit.\n     *\n     * @param range The range of text to be deleted.\n     * @param annotation The annotation.\n     */\n    function del(range, annotation) {\n        return { range, newText: '', annotationId: annotation };\n    }\n    AnnotatedTextEdit.del = del;\n    function is(value) {\n        const candidate = value;\n        return TextEdit.is(candidate) && (ChangeAnnotation.is(candidate.annotationId) || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    AnnotatedTextEdit.is = is;\n})(AnnotatedTextEdit || (AnnotatedTextEdit = {}));\n/**\n * The TextDocumentEdit namespace provides helper function to create\n * an edit that manipulates a text document.\n */\nexport var TextDocumentEdit;\n(function (TextDocumentEdit) {\n    /**\n     * Creates a new `TextDocumentEdit`\n     */\n    function create(textDocument, edits) {\n        return { textDocument, edits };\n    }\n    TextDocumentEdit.create = create;\n    function is(value) {\n        let candidate = value;\n        return Is.defined(candidate)\n            && OptionalVersionedTextDocumentIdentifier.is(candidate.textDocument)\n            && Array.isArray(candidate.edits);\n    }\n    TextDocumentEdit.is = is;\n})(TextDocumentEdit || (TextDocumentEdit = {}));\nexport var CreateFile;\n(function (CreateFile) {\n    function create(uri, options, annotation) {\n        let result = {\n            kind: 'create',\n            uri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    CreateFile.create = create;\n    function is(value) {\n        let candidate = value;\n        return candidate && candidate.kind === 'create' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    CreateFile.is = is;\n})(CreateFile || (CreateFile = {}));\nexport var RenameFile;\n(function (RenameFile) {\n    function create(oldUri, newUri, options, annotation) {\n        let result = {\n            kind: 'rename',\n            oldUri,\n            newUri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    RenameFile.create = create;\n    function is(value) {\n        let candidate = value;\n        return candidate && candidate.kind === 'rename' && Is.string(candidate.oldUri) && Is.string(candidate.newUri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    RenameFile.is = is;\n})(RenameFile || (RenameFile = {}));\nexport var DeleteFile;\n(function (DeleteFile) {\n    function create(uri, options, annotation) {\n        let result = {\n            kind: 'delete',\n            uri\n        };\n        if (options !== undefined && (options.recursive !== undefined || options.ignoreIfNotExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    DeleteFile.create = create;\n    function is(value) {\n        let candidate = value;\n        return candidate && candidate.kind === 'delete' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.recursive === undefined || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === undefined || Is.boolean(candidate.options.ignoreIfNotExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    DeleteFile.is = is;\n})(DeleteFile || (DeleteFile = {}));\nexport var WorkspaceEdit;\n(function (WorkspaceEdit) {\n    function is(value) {\n        let candidate = value;\n        return candidate &&\n            (candidate.changes !== undefined || candidate.documentChanges !== undefined) &&\n            (candidate.documentChanges === undefined || candidate.documentChanges.every((change) => {\n                if (Is.string(change.kind)) {\n                    return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\n                }\n                else {\n                    return TextDocumentEdit.is(change);\n                }\n            }));\n    }\n    WorkspaceEdit.is = is;\n})(WorkspaceEdit || (WorkspaceEdit = {}));\nclass TextEditChangeImpl {\n    constructor(edits, changeAnnotations) {\n        this.edits = edits;\n        this.changeAnnotations = changeAnnotations;\n    }\n    insert(position, newText, annotation) {\n        let edit;\n        let id;\n        if (annotation === undefined) {\n            edit = TextEdit.insert(position, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.insert(position, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.insert(position, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    }\n    replace(range, newText, annotation) {\n        let edit;\n        let id;\n        if (annotation === undefined) {\n            edit = TextEdit.replace(range, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.replace(range, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.replace(range, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    }\n    delete(range, annotation) {\n        let edit;\n        let id;\n        if (annotation === undefined) {\n            edit = TextEdit.del(range);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.del(range, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.del(range, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    }\n    add(edit) {\n        this.edits.push(edit);\n    }\n    all() {\n        return this.edits;\n    }\n    clear() {\n        this.edits.splice(0, this.edits.length);\n    }\n    assertChangeAnnotations(value) {\n        if (value === undefined) {\n            throw new Error(`Text edit change is not configured to manage change annotations.`);\n        }\n    }\n}\n/**\n * A helper class\n */\nclass ChangeAnnotations {\n    constructor(annotations) {\n        this._annotations = annotations === undefined ? Object.create(null) : annotations;\n        this._counter = 0;\n        this._size = 0;\n    }\n    all() {\n        return this._annotations;\n    }\n    get size() {\n        return this._size;\n    }\n    manage(idOrAnnotation, annotation) {\n        let id;\n        if (ChangeAnnotationIdentifier.is(idOrAnnotation)) {\n            id = idOrAnnotation;\n        }\n        else {\n            id = this.nextId();\n            annotation = idOrAnnotation;\n        }\n        if (this._annotations[id] !== undefined) {\n            throw new Error(`Id ${id} is already in use.`);\n        }\n        if (annotation === undefined) {\n            throw new Error(`No annotation provided for id ${id}`);\n        }\n        this._annotations[id] = annotation;\n        this._size++;\n        return id;\n    }\n    nextId() {\n        this._counter++;\n        return this._counter.toString();\n    }\n}\n/**\n * A workspace change helps constructing changes to a workspace.\n */\nexport class WorkspaceChange {\n    constructor(workspaceEdit) {\n        this._textEditChanges = Object.create(null);\n        if (workspaceEdit !== undefined) {\n            this._workspaceEdit = workspaceEdit;\n            if (workspaceEdit.documentChanges) {\n                this._changeAnnotations = new ChangeAnnotations(workspaceEdit.changeAnnotations);\n                workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                workspaceEdit.documentChanges.forEach((change) => {\n                    if (TextDocumentEdit.is(change)) {\n                        const textEditChange = new TextEditChangeImpl(change.edits, this._changeAnnotations);\n                        this._textEditChanges[change.textDocument.uri] = textEditChange;\n                    }\n                });\n            }\n            else if (workspaceEdit.changes) {\n                Object.keys(workspaceEdit.changes).forEach((key) => {\n                    const textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\n                    this._textEditChanges[key] = textEditChange;\n                });\n            }\n        }\n        else {\n            this._workspaceEdit = {};\n        }\n    }\n    /**\n     * Returns the underlying {@link WorkspaceEdit} literal\n     * use to be returned from a workspace edit operation like rename.\n     */\n    get edit() {\n        this.initDocumentChanges();\n        if (this._changeAnnotations !== undefined) {\n            if (this._changeAnnotations.size === 0) {\n                this._workspaceEdit.changeAnnotations = undefined;\n            }\n            else {\n                this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n            }\n        }\n        return this._workspaceEdit;\n    }\n    getTextEditChange(key) {\n        if (OptionalVersionedTextDocumentIdentifier.is(key)) {\n            this.initDocumentChanges();\n            if (this._workspaceEdit.documentChanges === undefined) {\n                throw new Error('Workspace edit is not configured for document changes.');\n            }\n            const textDocument = { uri: key.uri, version: key.version };\n            let result = this._textEditChanges[textDocument.uri];\n            if (!result) {\n                const edits = [];\n                const textDocumentEdit = {\n                    textDocument,\n                    edits\n                };\n                this._workspaceEdit.documentChanges.push(textDocumentEdit);\n                result = new TextEditChangeImpl(edits, this._changeAnnotations);\n                this._textEditChanges[textDocument.uri] = result;\n            }\n            return result;\n        }\n        else {\n            this.initChanges();\n            if (this._workspaceEdit.changes === undefined) {\n                throw new Error('Workspace edit is not configured for normal text edit changes.');\n            }\n            let result = this._textEditChanges[key];\n            if (!result) {\n                let edits = [];\n                this._workspaceEdit.changes[key] = edits;\n                result = new TextEditChangeImpl(edits);\n                this._textEditChanges[key] = result;\n            }\n            return result;\n        }\n    }\n    initDocumentChanges() {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._changeAnnotations = new ChangeAnnotations();\n            this._workspaceEdit.documentChanges = [];\n            this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n        }\n    }\n    initChanges() {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._workspaceEdit.changes = Object.create(null);\n        }\n    }\n    createFile(uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        let annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        let operation;\n        let id;\n        if (annotation === undefined) {\n            operation = CreateFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = CreateFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    }\n    renameFile(oldUri, newUri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        let annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        let operation;\n        let id;\n        if (annotation === undefined) {\n            operation = RenameFile.create(oldUri, newUri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = RenameFile.create(oldUri, newUri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    }\n    deleteFile(uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        let annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        let operation;\n        let id;\n        if (annotation === undefined) {\n            operation = DeleteFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = DeleteFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    }\n}\n/**\n * The TextDocumentIdentifier namespace provides helper functions to work with\n * {@link TextDocumentIdentifier} literals.\n */\nexport var TextDocumentIdentifier;\n(function (TextDocumentIdentifier) {\n    /**\n     * Creates a new TextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     */\n    function create(uri) {\n        return { uri };\n    }\n    TextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link TextDocumentIdentifier} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri);\n    }\n    TextDocumentIdentifier.is = is;\n})(TextDocumentIdentifier || (TextDocumentIdentifier = {}));\n/**\n * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\n * {@link VersionedTextDocumentIdentifier} literals.\n */\nexport var VersionedTextDocumentIdentifier;\n(function (VersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new VersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param version The document's version.\n     */\n    function create(uri, version) {\n        return { uri, version };\n    }\n    VersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link VersionedTextDocumentIdentifier} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.integer(candidate.version);\n    }\n    VersionedTextDocumentIdentifier.is = is;\n})(VersionedTextDocumentIdentifier || (VersionedTextDocumentIdentifier = {}));\n/**\n * The OptionalVersionedTextDocumentIdentifier namespace provides helper functions to work with\n * {@link OptionalVersionedTextDocumentIdentifier} literals.\n */\nexport var OptionalVersionedTextDocumentIdentifier;\n(function (OptionalVersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new OptionalVersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param version The document's version.\n     */\n    function create(uri, version) {\n        return { uri, version };\n    }\n    OptionalVersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link OptionalVersionedTextDocumentIdentifier} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.integer(candidate.version));\n    }\n    OptionalVersionedTextDocumentIdentifier.is = is;\n})(OptionalVersionedTextDocumentIdentifier || (OptionalVersionedTextDocumentIdentifier = {}));\n/**\n * The TextDocumentItem namespace provides helper functions to work with\n * {@link TextDocumentItem} literals.\n */\nexport var TextDocumentItem;\n(function (TextDocumentItem) {\n    /**\n     * Creates a new TextDocumentItem literal.\n     * @param uri The document's uri.\n     * @param languageId The document's language identifier.\n     * @param version The document's version number.\n     * @param text The document's text.\n     */\n    function create(uri, languageId, version, text) {\n        return { uri, languageId, version, text };\n    }\n    TextDocumentItem.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link TextDocumentItem} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.integer(candidate.version) && Is.string(candidate.text);\n    }\n    TextDocumentItem.is = is;\n})(TextDocumentItem || (TextDocumentItem = {}));\n/**\n * Describes the content type that a client supports in various\n * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\n *\n * Please note that `MarkupKinds` must not start with a `$`. This kinds\n * are reserved for internal usage.\n */\nexport var MarkupKind;\n(function (MarkupKind) {\n    /**\n     * Plain text is supported as a content format\n     */\n    MarkupKind.PlainText = 'plaintext';\n    /**\n     * Markdown is supported as a content format\n     */\n    MarkupKind.Markdown = 'markdown';\n    /**\n     * Checks whether the given value is a value of the {@link MarkupKind} type.\n     */\n    function is(value) {\n        const candidate = value;\n        return candidate === MarkupKind.PlainText || candidate === MarkupKind.Markdown;\n    }\n    MarkupKind.is = is;\n})(MarkupKind || (MarkupKind = {}));\nexport var MarkupContent;\n(function (MarkupContent) {\n    /**\n     * Checks whether the given value conforms to the {@link MarkupContent} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\n    }\n    MarkupContent.is = is;\n})(MarkupContent || (MarkupContent = {}));\n/**\n * The kind of a completion entry.\n */\nexport var CompletionItemKind;\n(function (CompletionItemKind) {\n    CompletionItemKind.Text = 1;\n    CompletionItemKind.Method = 2;\n    CompletionItemKind.Function = 3;\n    CompletionItemKind.Constructor = 4;\n    CompletionItemKind.Field = 5;\n    CompletionItemKind.Variable = 6;\n    CompletionItemKind.Class = 7;\n    CompletionItemKind.Interface = 8;\n    CompletionItemKind.Module = 9;\n    CompletionItemKind.Property = 10;\n    CompletionItemKind.Unit = 11;\n    CompletionItemKind.Value = 12;\n    CompletionItemKind.Enum = 13;\n    CompletionItemKind.Keyword = 14;\n    CompletionItemKind.Snippet = 15;\n    CompletionItemKind.Color = 16;\n    CompletionItemKind.File = 17;\n    CompletionItemKind.Reference = 18;\n    CompletionItemKind.Folder = 19;\n    CompletionItemKind.EnumMember = 20;\n    CompletionItemKind.Constant = 21;\n    CompletionItemKind.Struct = 22;\n    CompletionItemKind.Event = 23;\n    CompletionItemKind.Operator = 24;\n    CompletionItemKind.TypeParameter = 25;\n})(CompletionItemKind || (CompletionItemKind = {}));\n/**\n * Defines whether the insert text in a completion item should be interpreted as\n * plain text or a snippet.\n */\nexport var InsertTextFormat;\n(function (InsertTextFormat) {\n    /**\n     * The primary text to be inserted is treated as a plain string.\n     */\n    InsertTextFormat.PlainText = 1;\n    /**\n     * The primary text to be inserted is treated as a snippet.\n     *\n     * A snippet can define tab stops and placeholders with `$1`, `$2`\n     * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\n     * the end of the snippet. Placeholders with equal identifiers are linked,\n     * that is typing in one will update others too.\n     *\n     * See also: https://microsoft.github.io/language-server-protocol/specifications/specification-current/#snippet_syntax\n     */\n    InsertTextFormat.Snippet = 2;\n})(InsertTextFormat || (InsertTextFormat = {}));\n/**\n * Completion item tags are extra annotations that tweak the rendering of a completion\n * item.\n *\n * @since 3.15.0\n */\nexport var CompletionItemTag;\n(function (CompletionItemTag) {\n    /**\n     * Render a completion as obsolete, usually using a strike-out.\n     */\n    CompletionItemTag.Deprecated = 1;\n})(CompletionItemTag || (CompletionItemTag = {}));\n/**\n * The InsertReplaceEdit namespace provides functions to deal with insert / replace edits.\n *\n * @since 3.16.0\n */\nexport var InsertReplaceEdit;\n(function (InsertReplaceEdit) {\n    /**\n     * Creates a new insert / replace edit\n     */\n    function create(newText, insert, replace) {\n        return { newText, insert, replace };\n    }\n    InsertReplaceEdit.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link InsertReplaceEdit} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.string(candidate.newText) && Range.is(candidate.insert) && Range.is(candidate.replace);\n    }\n    InsertReplaceEdit.is = is;\n})(InsertReplaceEdit || (InsertReplaceEdit = {}));\n/**\n * How whitespace and indentation is handled during completion\n * item insertion.\n *\n * @since 3.16.0\n */\nexport var InsertTextMode;\n(function (InsertTextMode) {\n    /**\n     * The insertion or replace strings is taken as it is. If the\n     * value is multi line the lines below the cursor will be\n     * inserted using the indentation defined in the string value.\n     * The client will not apply any kind of adjustments to the\n     * string.\n     */\n    InsertTextMode.asIs = 1;\n    /**\n     * The editor adjusts leading whitespace of new lines so that\n     * they match the indentation up to the cursor of the line for\n     * which the item is accepted.\n     *\n     * Consider a line like this: <2tabs><cursor><3tabs>foo. Accepting a\n     * multi line completion item is indented using 2 tabs and all\n     * following lines inserted will be indented using 2 tabs as well.\n     */\n    InsertTextMode.adjustIndentation = 2;\n})(InsertTextMode || (InsertTextMode = {}));\nexport var CompletionItemLabelDetails;\n(function (CompletionItemLabelDetails) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (Is.string(candidate.detail) || candidate.detail === undefined) &&\n            (Is.string(candidate.description) || candidate.description === undefined);\n    }\n    CompletionItemLabelDetails.is = is;\n})(CompletionItemLabelDetails || (CompletionItemLabelDetails = {}));\n/**\n * The CompletionItem namespace provides functions to deal with\n * completion items.\n */\nexport var CompletionItem;\n(function (CompletionItem) {\n    /**\n     * Create a completion item and seed it with a label.\n     * @param label The completion item's label\n     */\n    function create(label) {\n        return { label };\n    }\n    CompletionItem.create = create;\n})(CompletionItem || (CompletionItem = {}));\n/**\n * The CompletionList namespace provides functions to deal with\n * completion lists.\n */\nexport var CompletionList;\n(function (CompletionList) {\n    /**\n     * Creates a new completion list.\n     *\n     * @param items The completion items.\n     * @param isIncomplete The list is not complete.\n     */\n    function create(items, isIncomplete) {\n        return { items: items ? items : [], isIncomplete: !!isIncomplete };\n    }\n    CompletionList.create = create;\n})(CompletionList || (CompletionList = {}));\nexport var MarkedString;\n(function (MarkedString) {\n    /**\n     * Creates a marked string from plain text.\n     *\n     * @param plainText The plain text.\n     */\n    function fromPlainText(plainText) {\n        return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&'); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n    }\n    MarkedString.fromPlainText = fromPlainText;\n    /**\n     * Checks whether the given value conforms to the {@link MarkedString} type.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.string(candidate) || (Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value));\n    }\n    MarkedString.is = is;\n})(MarkedString || (MarkedString = {}));\nexport var Hover;\n(function (Hover) {\n    /**\n     * Checks whether the given value conforms to the {@link Hover} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) ||\n            MarkedString.is(candidate.contents) ||\n            Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === undefined || Range.is(value.range));\n    }\n    Hover.is = is;\n})(Hover || (Hover = {}));\n/**\n * The ParameterInformation namespace provides helper functions to work with\n * {@link ParameterInformation} literals.\n */\nexport var ParameterInformation;\n(function (ParameterInformation) {\n    /**\n     * Creates a new parameter information literal.\n     *\n     * @param label A label string.\n     * @param documentation A doc string.\n     */\n    function create(label, documentation) {\n        return documentation ? { label, documentation } : { label };\n    }\n    ParameterInformation.create = create;\n})(ParameterInformation || (ParameterInformation = {}));\n/**\n * The SignatureInformation namespace provides helper functions to work with\n * {@link SignatureInformation} literals.\n */\nexport var SignatureInformation;\n(function (SignatureInformation) {\n    function create(label, documentation, ...parameters) {\n        let result = { label };\n        if (Is.defined(documentation)) {\n            result.documentation = documentation;\n        }\n        if (Is.defined(parameters)) {\n            result.parameters = parameters;\n        }\n        else {\n            result.parameters = [];\n        }\n        return result;\n    }\n    SignatureInformation.create = create;\n})(SignatureInformation || (SignatureInformation = {}));\n/**\n * A document highlight kind.\n */\nexport var DocumentHighlightKind;\n(function (DocumentHighlightKind) {\n    /**\n     * A textual occurrence.\n     */\n    DocumentHighlightKind.Text = 1;\n    /**\n     * Read-access of a symbol, like reading a variable.\n     */\n    DocumentHighlightKind.Read = 2;\n    /**\n     * Write-access of a symbol, like writing to a variable.\n     */\n    DocumentHighlightKind.Write = 3;\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\n/**\n * DocumentHighlight namespace to provide helper functions to work with\n * {@link DocumentHighlight} literals.\n */\nexport var DocumentHighlight;\n(function (DocumentHighlight) {\n    /**\n     * Create a DocumentHighlight object.\n     * @param range The range the highlight applies to.\n     * @param kind The highlight kind\n     */\n    function create(range, kind) {\n        let result = { range };\n        if (Is.number(kind)) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    DocumentHighlight.create = create;\n})(DocumentHighlight || (DocumentHighlight = {}));\n/**\n * A symbol kind.\n */\nexport var SymbolKind;\n(function (SymbolKind) {\n    SymbolKind.File = 1;\n    SymbolKind.Module = 2;\n    SymbolKind.Namespace = 3;\n    SymbolKind.Package = 4;\n    SymbolKind.Class = 5;\n    SymbolKind.Method = 6;\n    SymbolKind.Property = 7;\n    SymbolKind.Field = 8;\n    SymbolKind.Constructor = 9;\n    SymbolKind.Enum = 10;\n    SymbolKind.Interface = 11;\n    SymbolKind.Function = 12;\n    SymbolKind.Variable = 13;\n    SymbolKind.Constant = 14;\n    SymbolKind.String = 15;\n    SymbolKind.Number = 16;\n    SymbolKind.Boolean = 17;\n    SymbolKind.Array = 18;\n    SymbolKind.Object = 19;\n    SymbolKind.Key = 20;\n    SymbolKind.Null = 21;\n    SymbolKind.EnumMember = 22;\n    SymbolKind.Struct = 23;\n    SymbolKind.Event = 24;\n    SymbolKind.Operator = 25;\n    SymbolKind.TypeParameter = 26;\n})(SymbolKind || (SymbolKind = {}));\n/**\n * Symbol tags are extra annotations that tweak the rendering of a symbol.\n *\n * @since 3.16\n */\nexport var SymbolTag;\n(function (SymbolTag) {\n    /**\n     * Render a symbol as obsolete, usually using a strike-out.\n     */\n    SymbolTag.Deprecated = 1;\n})(SymbolTag || (SymbolTag = {}));\nexport var SymbolInformation;\n(function (SymbolInformation) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the location of the symbol.\n     * @param uri The resource of the location of symbol.\n     * @param containerName The name of the symbol containing the symbol.\n     */\n    function create(name, kind, range, uri, containerName) {\n        let result = {\n            name,\n            kind,\n            location: { uri, range }\n        };\n        if (containerName) {\n            result.containerName = containerName;\n        }\n        return result;\n    }\n    SymbolInformation.create = create;\n})(SymbolInformation || (SymbolInformation = {}));\nexport var WorkspaceSymbol;\n(function (WorkspaceSymbol) {\n    /**\n     * Create a new workspace symbol.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param uri The resource of the location of the symbol.\n     * @param range An options range of the location.\n     * @returns A WorkspaceSymbol.\n     */\n    function create(name, kind, uri, range) {\n        return range !== undefined\n            ? { name, kind, location: { uri, range } }\n            : { name, kind, location: { uri } };\n    }\n    WorkspaceSymbol.create = create;\n})(WorkspaceSymbol || (WorkspaceSymbol = {}));\nexport var DocumentSymbol;\n(function (DocumentSymbol) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param detail The detail of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the symbol.\n     * @param selectionRange The selectionRange of the symbol.\n     * @param children Children of the symbol.\n     */\n    function create(name, detail, kind, range, selectionRange, children) {\n        let result = {\n            name,\n            detail,\n            kind,\n            range,\n            selectionRange\n        };\n        if (children !== undefined) {\n            result.children = children;\n        }\n        return result;\n    }\n    DocumentSymbol.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link DocumentSymbol} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return candidate &&\n            Is.string(candidate.name) && Is.number(candidate.kind) &&\n            Range.is(candidate.range) && Range.is(candidate.selectionRange) &&\n            (candidate.detail === undefined || Is.string(candidate.detail)) &&\n            (candidate.deprecated === undefined || Is.boolean(candidate.deprecated)) &&\n            (candidate.children === undefined || Array.isArray(candidate.children)) &&\n            (candidate.tags === undefined || Array.isArray(candidate.tags));\n    }\n    DocumentSymbol.is = is;\n})(DocumentSymbol || (DocumentSymbol = {}));\n/**\n * A set of predefined code action kinds\n */\nexport var CodeActionKind;\n(function (CodeActionKind) {\n    /**\n     * Empty kind.\n     */\n    CodeActionKind.Empty = '';\n    /**\n     * Base kind for quickfix actions: 'quickfix'\n     */\n    CodeActionKind.QuickFix = 'quickfix';\n    /**\n     * Base kind for refactoring actions: 'refactor'\n     */\n    CodeActionKind.Refactor = 'refactor';\n    /**\n     * Base kind for refactoring extraction actions: 'refactor.extract'\n     *\n     * Example extract actions:\n     *\n     * - Extract method\n     * - Extract function\n     * - Extract variable\n     * - Extract interface from class\n     * - ...\n     */\n    CodeActionKind.RefactorExtract = 'refactor.extract';\n    /**\n     * Base kind for refactoring inline actions: 'refactor.inline'\n     *\n     * Example inline actions:\n     *\n     * - Inline function\n     * - Inline variable\n     * - Inline constant\n     * - ...\n     */\n    CodeActionKind.RefactorInline = 'refactor.inline';\n    /**\n     * Base kind for refactoring rewrite actions: 'refactor.rewrite'\n     *\n     * Example rewrite actions:\n     *\n     * - Convert JavaScript function to class\n     * - Add or remove parameter\n     * - Encapsulate field\n     * - Make method static\n     * - Move method to base class\n     * - ...\n     */\n    CodeActionKind.RefactorRewrite = 'refactor.rewrite';\n    /**\n     * Base kind for source actions: `source`\n     *\n     * Source code actions apply to the entire file.\n     */\n    CodeActionKind.Source = 'source';\n    /**\n     * Base kind for an organize imports source action: `source.organizeImports`\n     */\n    CodeActionKind.SourceOrganizeImports = 'source.organizeImports';\n    /**\n     * Base kind for auto-fix source actions: `source.fixAll`.\n     *\n     * Fix all actions automatically fix errors that have a clear fix that do not require user input.\n     * They should not suppress errors or perform unsafe fixes such as generating new types or classes.\n     *\n     * @since 3.15.0\n     */\n    CodeActionKind.SourceFixAll = 'source.fixAll';\n})(CodeActionKind || (CodeActionKind = {}));\n/**\n * The reason why code actions were requested.\n *\n * @since 3.17.0\n */\nexport var CodeActionTriggerKind;\n(function (CodeActionTriggerKind) {\n    /**\n     * Code actions were explicitly requested by the user or by an extension.\n     */\n    CodeActionTriggerKind.Invoked = 1;\n    /**\n     * Code actions were requested automatically.\n     *\n     * This typically happens when current selection in a file changes, but can\n     * also be triggered when file content changes.\n     */\n    CodeActionTriggerKind.Automatic = 2;\n})(CodeActionTriggerKind || (CodeActionTriggerKind = {}));\n/**\n * The CodeActionContext namespace provides helper functions to work with\n * {@link CodeActionContext} literals.\n */\nexport var CodeActionContext;\n(function (CodeActionContext) {\n    /**\n     * Creates a new CodeActionContext literal.\n     */\n    function create(diagnostics, only, triggerKind) {\n        let result = { diagnostics };\n        if (only !== undefined && only !== null) {\n            result.only = only;\n        }\n        if (triggerKind !== undefined && triggerKind !== null) {\n            result.triggerKind = triggerKind;\n        }\n        return result;\n    }\n    CodeActionContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link CodeActionContext} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is)\n            && (candidate.only === undefined || Is.typedArray(candidate.only, Is.string))\n            && (candidate.triggerKind === undefined || candidate.triggerKind === CodeActionTriggerKind.Invoked || candidate.triggerKind === CodeActionTriggerKind.Automatic);\n    }\n    CodeActionContext.is = is;\n})(CodeActionContext || (CodeActionContext = {}));\nexport var CodeAction;\n(function (CodeAction) {\n    function create(title, kindOrCommandOrEdit, kind) {\n        let result = { title };\n        let checkKind = true;\n        if (typeof kindOrCommandOrEdit === 'string') {\n            checkKind = false;\n            result.kind = kindOrCommandOrEdit;\n        }\n        else if (Command.is(kindOrCommandOrEdit)) {\n            result.command = kindOrCommandOrEdit;\n        }\n        else {\n            result.edit = kindOrCommandOrEdit;\n        }\n        if (checkKind && kind !== undefined) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    CodeAction.create = create;\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.string(candidate.title) &&\n            (candidate.diagnostics === undefined || Is.typedArray(candidate.diagnostics, Diagnostic.is)) &&\n            (candidate.kind === undefined || Is.string(candidate.kind)) &&\n            (candidate.edit !== undefined || candidate.command !== undefined) &&\n            (candidate.command === undefined || Command.is(candidate.command)) &&\n            (candidate.isPreferred === undefined || Is.boolean(candidate.isPreferred)) &&\n            (candidate.edit === undefined || WorkspaceEdit.is(candidate.edit));\n    }\n    CodeAction.is = is;\n})(CodeAction || (CodeAction = {}));\n/**\n * The CodeLens namespace provides helper functions to work with\n * {@link CodeLens} literals.\n */\nexport var CodeLens;\n(function (CodeLens) {\n    /**\n     * Creates a new CodeLens literal.\n     */\n    function create(range, data) {\n        let result = { range };\n        if (Is.defined(data)) {\n            result.data = data;\n        }\n        return result;\n    }\n    CodeLens.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link CodeLens} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\n    }\n    CodeLens.is = is;\n})(CodeLens || (CodeLens = {}));\n/**\n * The FormattingOptions namespace provides helper functions to work with\n * {@link FormattingOptions} literals.\n */\nexport var FormattingOptions;\n(function (FormattingOptions) {\n    /**\n     * Creates a new FormattingOptions literal.\n     */\n    function create(tabSize, insertSpaces) {\n        return { tabSize, insertSpaces };\n    }\n    FormattingOptions.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link FormattingOptions} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.defined(candidate) && Is.uinteger(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\n    }\n    FormattingOptions.is = is;\n})(FormattingOptions || (FormattingOptions = {}));\n/**\n * The DocumentLink namespace provides helper functions to work with\n * {@link DocumentLink} literals.\n */\nexport var DocumentLink;\n(function (DocumentLink) {\n    /**\n     * Creates a new DocumentLink literal.\n     */\n    function create(range, target, data) {\n        return { range, target, data };\n    }\n    DocumentLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link DocumentLink} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\n    }\n    DocumentLink.is = is;\n})(DocumentLink || (DocumentLink = {}));\n/**\n * The SelectionRange namespace provides helper function to work with\n * SelectionRange literals.\n */\nexport var SelectionRange;\n(function (SelectionRange) {\n    /**\n     * Creates a new SelectionRange\n     * @param range the range.\n     * @param parent an optional parent.\n     */\n    function create(range, parent) {\n        return { range, parent };\n    }\n    SelectionRange.create = create;\n    function is(value) {\n        let candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && (candidate.parent === undefined || SelectionRange.is(candidate.parent));\n    }\n    SelectionRange.is = is;\n})(SelectionRange || (SelectionRange = {}));\n/**\n * A set of predefined token types. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nexport var SemanticTokenTypes;\n(function (SemanticTokenTypes) {\n    SemanticTokenTypes[\"namespace\"] = \"namespace\";\n    /**\n     * Represents a generic type. Acts as a fallback for types which can't be mapped to\n     * a specific type like class or enum.\n     */\n    SemanticTokenTypes[\"type\"] = \"type\";\n    SemanticTokenTypes[\"class\"] = \"class\";\n    SemanticTokenTypes[\"enum\"] = \"enum\";\n    SemanticTokenTypes[\"interface\"] = \"interface\";\n    SemanticTokenTypes[\"struct\"] = \"struct\";\n    SemanticTokenTypes[\"typeParameter\"] = \"typeParameter\";\n    SemanticTokenTypes[\"parameter\"] = \"parameter\";\n    SemanticTokenTypes[\"variable\"] = \"variable\";\n    SemanticTokenTypes[\"property\"] = \"property\";\n    SemanticTokenTypes[\"enumMember\"] = \"enumMember\";\n    SemanticTokenTypes[\"event\"] = \"event\";\n    SemanticTokenTypes[\"function\"] = \"function\";\n    SemanticTokenTypes[\"method\"] = \"method\";\n    SemanticTokenTypes[\"macro\"] = \"macro\";\n    SemanticTokenTypes[\"keyword\"] = \"keyword\";\n    SemanticTokenTypes[\"modifier\"] = \"modifier\";\n    SemanticTokenTypes[\"comment\"] = \"comment\";\n    SemanticTokenTypes[\"string\"] = \"string\";\n    SemanticTokenTypes[\"number\"] = \"number\";\n    SemanticTokenTypes[\"regexp\"] = \"regexp\";\n    SemanticTokenTypes[\"operator\"] = \"operator\";\n    /**\n     * @since 3.17.0\n     */\n    SemanticTokenTypes[\"decorator\"] = \"decorator\";\n})(SemanticTokenTypes || (SemanticTokenTypes = {}));\n/**\n * A set of predefined token modifiers. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nexport var SemanticTokenModifiers;\n(function (SemanticTokenModifiers) {\n    SemanticTokenModifiers[\"declaration\"] = \"declaration\";\n    SemanticTokenModifiers[\"definition\"] = \"definition\";\n    SemanticTokenModifiers[\"readonly\"] = \"readonly\";\n    SemanticTokenModifiers[\"static\"] = \"static\";\n    SemanticTokenModifiers[\"deprecated\"] = \"deprecated\";\n    SemanticTokenModifiers[\"abstract\"] = \"abstract\";\n    SemanticTokenModifiers[\"async\"] = \"async\";\n    SemanticTokenModifiers[\"modification\"] = \"modification\";\n    SemanticTokenModifiers[\"documentation\"] = \"documentation\";\n    SemanticTokenModifiers[\"defaultLibrary\"] = \"defaultLibrary\";\n})(SemanticTokenModifiers || (SemanticTokenModifiers = {}));\n/**\n * @since 3.16.0\n */\nexport var SemanticTokens;\n(function (SemanticTokens) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (candidate.resultId === undefined || typeof candidate.resultId === 'string') &&\n            Array.isArray(candidate.data) && (candidate.data.length === 0 || typeof candidate.data[0] === 'number');\n    }\n    SemanticTokens.is = is;\n})(SemanticTokens || (SemanticTokens = {}));\n/**\n * The InlineValueText namespace provides functions to deal with InlineValueTexts.\n *\n * @since 3.17.0\n */\nexport var InlineValueText;\n(function (InlineValueText) {\n    /**\n     * Creates a new InlineValueText literal.\n     */\n    function create(range, text) {\n        return { range, text };\n    }\n    InlineValueText.create = create;\n    function is(value) {\n        const candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range) && Is.string(candidate.text);\n    }\n    InlineValueText.is = is;\n})(InlineValueText || (InlineValueText = {}));\n/**\n * The InlineValueVariableLookup namespace provides functions to deal with InlineValueVariableLookups.\n *\n * @since 3.17.0\n */\nexport var InlineValueVariableLookup;\n(function (InlineValueVariableLookup) {\n    /**\n     * Creates a new InlineValueText literal.\n     */\n    function create(range, variableName, caseSensitiveLookup) {\n        return { range, variableName, caseSensitiveLookup };\n    }\n    InlineValueVariableLookup.create = create;\n    function is(value) {\n        const candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range) && Is.boolean(candidate.caseSensitiveLookup)\n            && (Is.string(candidate.variableName) || candidate.variableName === undefined);\n    }\n    InlineValueVariableLookup.is = is;\n})(InlineValueVariableLookup || (InlineValueVariableLookup = {}));\n/**\n * The InlineValueEvaluatableExpression namespace provides functions to deal with InlineValueEvaluatableExpression.\n *\n * @since 3.17.0\n */\nexport var InlineValueEvaluatableExpression;\n(function (InlineValueEvaluatableExpression) {\n    /**\n     * Creates a new InlineValueEvaluatableExpression literal.\n     */\n    function create(range, expression) {\n        return { range, expression };\n    }\n    InlineValueEvaluatableExpression.create = create;\n    function is(value) {\n        const candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range)\n            && (Is.string(candidate.expression) || candidate.expression === undefined);\n    }\n    InlineValueEvaluatableExpression.is = is;\n})(InlineValueEvaluatableExpression || (InlineValueEvaluatableExpression = {}));\n/**\n * The InlineValueContext namespace provides helper functions to work with\n * {@link InlineValueContext} literals.\n *\n * @since 3.17.0\n */\nexport var InlineValueContext;\n(function (InlineValueContext) {\n    /**\n     * Creates a new InlineValueContext literal.\n     */\n    function create(frameId, stoppedLocation) {\n        return { frameId, stoppedLocation };\n    }\n    InlineValueContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link InlineValueContext} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.defined(candidate) && Range.is(value.stoppedLocation);\n    }\n    InlineValueContext.is = is;\n})(InlineValueContext || (InlineValueContext = {}));\n/**\n * Inlay hint kinds.\n *\n * @since 3.17.0\n */\nexport var InlayHintKind;\n(function (InlayHintKind) {\n    /**\n     * An inlay hint that for a type annotation.\n     */\n    InlayHintKind.Type = 1;\n    /**\n     * An inlay hint that is for a parameter.\n     */\n    InlayHintKind.Parameter = 2;\n    function is(value) {\n        return value === 1 || value === 2;\n    }\n    InlayHintKind.is = is;\n})(InlayHintKind || (InlayHintKind = {}));\nexport var InlayHintLabelPart;\n(function (InlayHintLabelPart) {\n    function create(value) {\n        return { value };\n    }\n    InlayHintLabelPart.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate)\n            && (candidate.tooltip === undefined || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip))\n            && (candidate.location === undefined || Location.is(candidate.location))\n            && (candidate.command === undefined || Command.is(candidate.command));\n    }\n    InlayHintLabelPart.is = is;\n})(InlayHintLabelPart || (InlayHintLabelPart = {}));\nexport var InlayHint;\n(function (InlayHint) {\n    function create(position, label, kind) {\n        const result = { position, label };\n        if (kind !== undefined) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    InlayHint.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.position)\n            && (Is.string(candidate.label) || Is.typedArray(candidate.label, InlayHintLabelPart.is))\n            && (candidate.kind === undefined || InlayHintKind.is(candidate.kind))\n            && (candidate.textEdits === undefined) || Is.typedArray(candidate.textEdits, TextEdit.is)\n            && (candidate.tooltip === undefined || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip))\n            && (candidate.paddingLeft === undefined || Is.boolean(candidate.paddingLeft))\n            && (candidate.paddingRight === undefined || Is.boolean(candidate.paddingRight));\n    }\n    InlayHint.is = is;\n})(InlayHint || (InlayHint = {}));\nexport var StringValue;\n(function (StringValue) {\n    function createSnippet(value) {\n        return { kind: 'snippet', value };\n    }\n    StringValue.createSnippet = createSnippet;\n})(StringValue || (StringValue = {}));\nexport var InlineCompletionItem;\n(function (InlineCompletionItem) {\n    function create(insertText, filterText, range, command) {\n        return { insertText, filterText, range, command };\n    }\n    InlineCompletionItem.create = create;\n})(InlineCompletionItem || (InlineCompletionItem = {}));\nexport var InlineCompletionList;\n(function (InlineCompletionList) {\n    function create(items) {\n        return { items };\n    }\n    InlineCompletionList.create = create;\n})(InlineCompletionList || (InlineCompletionList = {}));\n/**\n * Describes how an {@link InlineCompletionItemProvider inline completion provider} was triggered.\n *\n * @since 3.18.0\n * @proposed\n */\nexport var InlineCompletionTriggerKind;\n(function (InlineCompletionTriggerKind) {\n    /**\n     * Completion was triggered explicitly by a user gesture.\n     */\n    InlineCompletionTriggerKind.Invoked = 0;\n    /**\n     * Completion was triggered automatically while editing.\n     */\n    InlineCompletionTriggerKind.Automatic = 1;\n})(InlineCompletionTriggerKind || (InlineCompletionTriggerKind = {}));\nexport var SelectedCompletionInfo;\n(function (SelectedCompletionInfo) {\n    function create(range, text) {\n        return { range, text };\n    }\n    SelectedCompletionInfo.create = create;\n})(SelectedCompletionInfo || (SelectedCompletionInfo = {}));\nexport var InlineCompletionContext;\n(function (InlineCompletionContext) {\n    function create(triggerKind, selectedCompletionInfo) {\n        return { triggerKind, selectedCompletionInfo };\n    }\n    InlineCompletionContext.create = create;\n})(InlineCompletionContext || (InlineCompletionContext = {}));\nexport var WorkspaceFolder;\n(function (WorkspaceFolder) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && URI.is(candidate.uri) && Is.string(candidate.name);\n    }\n    WorkspaceFolder.is = is;\n})(WorkspaceFolder || (WorkspaceFolder = {}));\nexport const EOL = ['\\n', '\\r\\n', '\\r'];\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new ITextDocument literal from the given uri and content.\n     * @param uri The document's uri.\n     * @param languageId The document's language Id.\n     * @param version The document's version.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link ITextDocument} interface.\n     */\n    function is(value) {\n        let candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.uinteger(candidate.lineCount)\n            && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\n    }\n    TextDocument.is = is;\n    function applyEdits(document, edits) {\n        let text = document.getText();\n        let sortedEdits = mergeSort(edits, (a, b) => {\n            let diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return diff;\n        });\n        let lastModifiedOffset = text.length;\n        for (let i = sortedEdits.length - 1; i >= 0; i--) {\n            let e = sortedEdits[i];\n            let startOffset = document.offsetAt(e.range.start);\n            let endOffset = document.offsetAt(e.range.end);\n            if (endOffset <= lastModifiedOffset) {\n                text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\n            }\n            else {\n                throw new Error('Overlapping edit');\n            }\n            lastModifiedOffset = startOffset;\n        }\n        return text;\n    }\n    TextDocument.applyEdits = applyEdits;\n    function mergeSort(data, compare) {\n        if (data.length <= 1) {\n            // sorted\n            return data;\n        }\n        const p = (data.length / 2) | 0;\n        const left = data.slice(0, p);\n        const right = data.slice(p);\n        mergeSort(left, compare);\n        mergeSort(right, compare);\n        let leftIdx = 0;\n        let rightIdx = 0;\n        let i = 0;\n        while (leftIdx < left.length && rightIdx < right.length) {\n            let ret = compare(left[leftIdx], right[rightIdx]);\n            if (ret <= 0) {\n                // smaller_equal -> take left to preserve order\n                data[i++] = left[leftIdx++];\n            }\n            else {\n                // greater -> take right\n                data[i++] = right[rightIdx++];\n            }\n        }\n        while (leftIdx < left.length) {\n            data[i++] = left[leftIdx++];\n        }\n        while (rightIdx < right.length) {\n            data[i++] = right[rightIdx++];\n        }\n        return data;\n    }\n})(TextDocument || (TextDocument = {}));\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nclass FullTextDocument {\n    constructor(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = undefined;\n    }\n    get uri() {\n        return this._uri;\n    }\n    get languageId() {\n        return this._languageId;\n    }\n    get version() {\n        return this._version;\n    }\n    getText(range) {\n        if (range) {\n            let start = this.offsetAt(range.start);\n            let end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    }\n    update(event, version) {\n        this._content = event.text;\n        this._version = version;\n        this._lineOffsets = undefined;\n    }\n    getLineOffsets() {\n        if (this._lineOffsets === undefined) {\n            let lineOffsets = [];\n            let text = this._content;\n            let isLineStart = true;\n            for (let i = 0; i < text.length; i++) {\n                if (isLineStart) {\n                    lineOffsets.push(i);\n                    isLineStart = false;\n                }\n                let ch = text.charAt(i);\n                isLineStart = (ch === '\\r' || ch === '\\n');\n                if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\n                    i++;\n                }\n            }\n            if (isLineStart && text.length > 0) {\n                lineOffsets.push(text.length);\n            }\n            this._lineOffsets = lineOffsets;\n        }\n        return this._lineOffsets;\n    }\n    positionAt(offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        let lineOffsets = this.getLineOffsets();\n        let low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return Position.create(0, offset);\n        }\n        while (low < high) {\n            let mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        let line = low - 1;\n        return Position.create(line, offset - lineOffsets[line]);\n    }\n    offsetAt(position) {\n        let lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        let lineOffset = lineOffsets[position.line];\n        let nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n    }\n    get lineCount() {\n        return this.getLineOffsets().length;\n    }\n}\nvar Is;\n(function (Is) {\n    const toString = Object.prototype.toString;\n    function defined(value) {\n        return typeof value !== 'undefined';\n    }\n    Is.defined = defined;\n    function undefined(value) {\n        return typeof value === 'undefined';\n    }\n    Is.undefined = undefined;\n    function boolean(value) {\n        return value === true || value === false;\n    }\n    Is.boolean = boolean;\n    function string(value) {\n        return toString.call(value) === '[object String]';\n    }\n    Is.string = string;\n    function number(value) {\n        return toString.call(value) === '[object Number]';\n    }\n    Is.number = number;\n    function numberRange(value, min, max) {\n        return toString.call(value) === '[object Number]' && min <= value && value <= max;\n    }\n    Is.numberRange = numberRange;\n    function integer(value) {\n        return toString.call(value) === '[object Number]' && -2147483648 <= value && value <= 2147483647;\n    }\n    Is.integer = integer;\n    function uinteger(value) {\n        return toString.call(value) === '[object Number]' && 0 <= value && value <= 2147483647;\n    }\n    Is.uinteger = uinteger;\n    function func(value) {\n        return toString.call(value) === '[object Function]';\n    }\n    Is.func = func;\n    function objectLiteral(value) {\n        // Strictly speaking class instances pass this check as well. Since the LSP\n        // doesn't use classes we ignore this for now. If we do we need to add something\n        // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n        return value !== null && typeof value === 'object';\n    }\n    Is.objectLiteral = objectLiteral;\n    function typedArray(value, check) {\n        return Array.isArray(value) && value.every(check);\n    }\n    Is.typedArray = typedArray;\n})(Is || (Is = {}));\n","/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { Position } from 'vscode-languageserver-types';\nimport { tokenToRange } from '../utils/cst-utils.js';\nexport class CstNodeBuilder {\n    constructor() {\n        this.nodeStack = [];\n    }\n    get current() {\n        var _a;\n        return (_a = this.nodeStack[this.nodeStack.length - 1]) !== null && _a !== void 0 ? _a : this.rootNode;\n    }\n    buildRootNode(input) {\n        this.rootNode = new RootCstNodeImpl(input);\n        this.rootNode.root = this.rootNode;\n        this.nodeStack = [this.rootNode];\n        return this.rootNode;\n    }\n    buildCompositeNode(feature) {\n        const compositeNode = new CompositeCstNodeImpl();\n        compositeNode.grammarSource = feature;\n        compositeNode.root = this.rootNode;\n        this.current.content.push(compositeNode);\n        this.nodeStack.push(compositeNode);\n        return compositeNode;\n    }\n    buildLeafNode(token, feature) {\n        const leafNode = new LeafCstNodeImpl(token.startOffset, token.image.length, tokenToRange(token), token.tokenType, !feature);\n        leafNode.grammarSource = feature;\n        leafNode.root = this.rootNode;\n        this.current.content.push(leafNode);\n        return leafNode;\n    }\n    removeNode(node) {\n        const parent = node.container;\n        if (parent) {\n            const index = parent.content.indexOf(node);\n            if (index >= 0) {\n                parent.content.splice(index, 1);\n            }\n        }\n    }\n    addHiddenNodes(tokens) {\n        const nodes = [];\n        for (const token of tokens) {\n            const leafNode = new LeafCstNodeImpl(token.startOffset, token.image.length, tokenToRange(token), token.tokenType, true);\n            leafNode.root = this.rootNode;\n            nodes.push(leafNode);\n        }\n        let current = this.current;\n        let added = false;\n        // If we are within a composite node, we add the hidden nodes to the content\n        if (current.content.length > 0) {\n            current.content.push(...nodes);\n            return;\n        }\n        // Otherwise we are at a newly created node\n        // Instead of adding the hidden nodes here, we search for the first parent node with content\n        while (current.container) {\n            const index = current.container.content.indexOf(current);\n            if (index > 0) {\n                // Add the hidden nodes before the current node\n                current.container.content.splice(index, 0, ...nodes);\n                added = true;\n                break;\n            }\n            current = current.container;\n        }\n        // If we arrive at the root node, we add the hidden nodes at the beginning\n        // This is the case if the hidden nodes are the first nodes in the tree\n        if (!added) {\n            this.rootNode.content.unshift(...nodes);\n        }\n    }\n    construct(item) {\n        const current = this.current;\n        // The specified item could be a datatype ($type is symbol) or a fragment ($type is undefined)\n        // Only if the $type is a string, we actually assign the element\n        if (typeof item.$type === 'string') {\n            this.current.astNode = item;\n        }\n        item.$cstNode = current;\n        const node = this.nodeStack.pop();\n        // Empty composite nodes are not valid\n        // Simply remove the node from the tree\n        if ((node === null || node === void 0 ? void 0 : node.content.length) === 0) {\n            this.removeNode(node);\n        }\n    }\n}\nexport class AbstractCstNode {\n    /** @deprecated use `container` instead. */\n    get parent() {\n        return this.container;\n    }\n    /** @deprecated use `grammarSource` instead. */\n    get feature() {\n        return this.grammarSource;\n    }\n    get hidden() {\n        return false;\n    }\n    get astNode() {\n        var _a, _b;\n        const node = typeof ((_a = this._astNode) === null || _a === void 0 ? void 0 : _a.$type) === 'string' ? this._astNode : (_b = this.container) === null || _b === void 0 ? void 0 : _b.astNode;\n        if (!node) {\n            throw new Error('This node has no associated AST element');\n        }\n        return node;\n    }\n    set astNode(value) {\n        this._astNode = value;\n    }\n    /** @deprecated use `astNode` instead. */\n    get element() {\n        return this.astNode;\n    }\n    get text() {\n        return this.root.fullText.substring(this.offset, this.end);\n    }\n}\nexport class LeafCstNodeImpl extends AbstractCstNode {\n    get offset() {\n        return this._offset;\n    }\n    get length() {\n        return this._length;\n    }\n    get end() {\n        return this._offset + this._length;\n    }\n    get hidden() {\n        return this._hidden;\n    }\n    get tokenType() {\n        return this._tokenType;\n    }\n    get range() {\n        return this._range;\n    }\n    constructor(offset, length, range, tokenType, hidden = false) {\n        super();\n        this._hidden = hidden;\n        this._offset = offset;\n        this._tokenType = tokenType;\n        this._length = length;\n        this._range = range;\n    }\n}\nexport class CompositeCstNodeImpl extends AbstractCstNode {\n    constructor() {\n        super(...arguments);\n        this.content = new CstNodeContainer(this);\n    }\n    /** @deprecated use `content` instead. */\n    get children() {\n        return this.content;\n    }\n    get offset() {\n        var _a, _b;\n        return (_b = (_a = this.firstNonHiddenNode) === null || _a === void 0 ? void 0 : _a.offset) !== null && _b !== void 0 ? _b : 0;\n    }\n    get length() {\n        return this.end - this.offset;\n    }\n    get end() {\n        var _a, _b;\n        return (_b = (_a = this.lastNonHiddenNode) === null || _a === void 0 ? void 0 : _a.end) !== null && _b !== void 0 ? _b : 0;\n    }\n    get range() {\n        const firstNode = this.firstNonHiddenNode;\n        const lastNode = this.lastNonHiddenNode;\n        if (firstNode && lastNode) {\n            if (this._rangeCache === undefined) {\n                const { range: firstRange } = firstNode;\n                const { range: lastRange } = lastNode;\n                this._rangeCache = { start: firstRange.start, end: lastRange.end.line < firstRange.start.line ? firstRange.start : lastRange.end };\n            }\n            return this._rangeCache;\n        }\n        else {\n            return { start: Position.create(0, 0), end: Position.create(0, 0) };\n        }\n    }\n    get firstNonHiddenNode() {\n        for (const child of this.content) {\n            if (!child.hidden) {\n                return child;\n            }\n        }\n        return this.content[0];\n    }\n    get lastNonHiddenNode() {\n        for (let i = this.content.length - 1; i >= 0; i--) {\n            const child = this.content[i];\n            if (!child.hidden) {\n                return child;\n            }\n        }\n        return this.content[this.content.length - 1];\n    }\n}\nclass CstNodeContainer extends Array {\n    constructor(parent) {\n        super();\n        this.parent = parent;\n        Object.setPrototypeOf(this, CstNodeContainer.prototype);\n    }\n    push(...items) {\n        this.addParents(items);\n        return super.push(...items);\n    }\n    unshift(...items) {\n        this.addParents(items);\n        return super.unshift(...items);\n    }\n    splice(start, count, ...items) {\n        this.addParents(items);\n        return super.splice(start, count, ...items);\n    }\n    addParents(items) {\n        for (const item of items) {\n            item.container = this.parent;\n        }\n    }\n}\nexport class RootCstNodeImpl extends CompositeCstNodeImpl {\n    get text() {\n        return this._text.substring(this.offset, this.end);\n    }\n    get fullText() {\n        return this._text;\n    }\n    constructor(input) {\n        super();\n        this._text = '';\n        this._text = input !== null && input !== void 0 ? input : '';\n    }\n}\n//# sourceMappingURL=cst-node-builder.js.map","/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { defaultParserErrorProvider, EmbeddedActionsParser, LLkLookaheadStrategy } from 'chevrotain';\nimport { LLStarLookaheadStrategy } from 'chevrotain-allstar';\nimport { isAssignment, isCrossReference, isKeyword } from '../languages/generated/ast.js';\nimport { getExplicitRuleType, isDataTypeRule } from '../utils/grammar-utils.js';\nimport { assignMandatoryProperties, getContainerOfType, linkContentToContainer } from '../utils/ast-utils.js';\nimport { CstNodeBuilder } from './cst-node-builder.js';\nexport const DatatypeSymbol = Symbol('Datatype');\nfunction isDataTypeNode(node) {\n    return node.$type === DatatypeSymbol;\n}\nconst ruleSuffix = '\\u200B';\nconst withRuleSuffix = (name) => name.endsWith(ruleSuffix) ? name : name + ruleSuffix;\nexport class AbstractLangiumParser {\n    constructor(services) {\n        this._unorderedGroups = new Map();\n        this.allRules = new Map();\n        this.lexer = services.parser.Lexer;\n        const tokens = this.lexer.definition;\n        const production = services.LanguageMetaData.mode === 'production';\n        this.wrapper = new ChevrotainWrapper(tokens, Object.assign(Object.assign({}, services.parser.ParserConfig), { skipValidations: production, errorMessageProvider: services.parser.ParserErrorMessageProvider }));\n    }\n    alternatives(idx, choices) {\n        this.wrapper.wrapOr(idx, choices);\n    }\n    optional(idx, callback) {\n        this.wrapper.wrapOption(idx, callback);\n    }\n    many(idx, callback) {\n        this.wrapper.wrapMany(idx, callback);\n    }\n    atLeastOne(idx, callback) {\n        this.wrapper.wrapAtLeastOne(idx, callback);\n    }\n    getRule(name) {\n        return this.allRules.get(name);\n    }\n    isRecording() {\n        return this.wrapper.IS_RECORDING;\n    }\n    get unorderedGroups() {\n        return this._unorderedGroups;\n    }\n    getRuleStack() {\n        return this.wrapper.RULE_STACK;\n    }\n    finalize() {\n        this.wrapper.wrapSelfAnalysis();\n    }\n}\nexport class LangiumParser extends AbstractLangiumParser {\n    get current() {\n        return this.stack[this.stack.length - 1];\n    }\n    constructor(services) {\n        super(services);\n        this.nodeBuilder = new CstNodeBuilder();\n        this.stack = [];\n        this.assignmentMap = new Map();\n        this.linker = services.references.Linker;\n        this.converter = services.parser.ValueConverter;\n        this.astReflection = services.shared.AstReflection;\n    }\n    rule(rule, impl) {\n        const type = this.computeRuleType(rule);\n        const ruleMethod = this.wrapper.DEFINE_RULE(withRuleSuffix(rule.name), this.startImplementation(type, impl).bind(this));\n        this.allRules.set(rule.name, ruleMethod);\n        if (rule.entry) {\n            this.mainRule = ruleMethod;\n        }\n        return ruleMethod;\n    }\n    computeRuleType(rule) {\n        if (rule.fragment) {\n            return undefined;\n        }\n        else if (isDataTypeRule(rule)) {\n            return DatatypeSymbol;\n        }\n        else {\n            const explicit = getExplicitRuleType(rule);\n            return explicit !== null && explicit !== void 0 ? explicit : rule.name;\n        }\n    }\n    parse(input, options = {}) {\n        this.nodeBuilder.buildRootNode(input);\n        const lexerResult = this.lexerResult = this.lexer.tokenize(input);\n        this.wrapper.input = lexerResult.tokens;\n        const ruleMethod = options.rule ? this.allRules.get(options.rule) : this.mainRule;\n        if (!ruleMethod) {\n            throw new Error(options.rule ? `No rule found with name '${options.rule}'` : 'No main rule available.');\n        }\n        const result = ruleMethod.call(this.wrapper, {});\n        this.nodeBuilder.addHiddenNodes(lexerResult.hidden);\n        this.unorderedGroups.clear();\n        this.lexerResult = undefined;\n        return {\n            value: result,\n            lexerErrors: lexerResult.errors,\n            lexerReport: lexerResult.report,\n            parserErrors: this.wrapper.errors\n        };\n    }\n    startImplementation($type, implementation) {\n        return (args) => {\n            // Only create a new AST node in case the calling rule is not a fragment rule\n            const createNode = !this.isRecording() && $type !== undefined;\n            if (createNode) {\n                const node = { $type };\n                this.stack.push(node);\n                if ($type === DatatypeSymbol) {\n                    node.value = '';\n                }\n            }\n            let result;\n            try {\n                result = implementation(args);\n            }\n            catch (err) {\n                result = undefined;\n            }\n            if (result === undefined && createNode) {\n                result = this.construct();\n            }\n            return result;\n        };\n    }\n    extractHiddenTokens(token) {\n        const hiddenTokens = this.lexerResult.hidden;\n        if (!hiddenTokens.length) {\n            return [];\n        }\n        const offset = token.startOffset;\n        for (let i = 0; i < hiddenTokens.length; i++) {\n            const token = hiddenTokens[i];\n            if (token.startOffset > offset) {\n                return hiddenTokens.splice(0, i);\n            }\n        }\n        return hiddenTokens.splice(0, hiddenTokens.length);\n    }\n    consume(idx, tokenType, feature) {\n        const token = this.wrapper.wrapConsume(idx, tokenType);\n        if (!this.isRecording() && this.isValidToken(token)) {\n            const hiddenTokens = this.extractHiddenTokens(token);\n            this.nodeBuilder.addHiddenNodes(hiddenTokens);\n            const leafNode = this.nodeBuilder.buildLeafNode(token, feature);\n            const { assignment, isCrossRef } = this.getAssignment(feature);\n            const current = this.current;\n            if (assignment) {\n                const convertedValue = isKeyword(feature) ? token.image : this.converter.convert(token.image, leafNode);\n                this.assign(assignment.operator, assignment.feature, convertedValue, leafNode, isCrossRef);\n            }\n            else if (isDataTypeNode(current)) {\n                let text = token.image;\n                if (!isKeyword(feature)) {\n                    text = this.converter.convert(text, leafNode).toString();\n                }\n                current.value += text;\n            }\n        }\n    }\n    /**\n     * Most consumed parser tokens are valid. However there are two cases in which they are not valid:\n     *\n     * 1. They were inserted during error recovery by the parser. These tokens don't really exist and should not be further processed\n     * 2. They contain invalid token ranges. This might include the special EOF token, or other tokens produced by invalid token builders.\n     */\n    isValidToken(token) {\n        return !token.isInsertedInRecovery && !isNaN(token.startOffset) && typeof token.endOffset === 'number' && !isNaN(token.endOffset);\n    }\n    subrule(idx, rule, fragment, feature, args) {\n        let cstNode;\n        if (!this.isRecording() && !fragment) {\n            // We only want to create a new CST node if the subrule actually creates a new AST node.\n            // In other cases like calls of fragment rules the current CST/AST is populated further.\n            // Note that skipping this initialization and leaving cstNode unassigned also skips the subrule assignment later on.\n            // This is intended, as fragment rules only enrich the current AST node\n            cstNode = this.nodeBuilder.buildCompositeNode(feature);\n        }\n        const subruleResult = this.wrapper.wrapSubrule(idx, rule, args);\n        if (!this.isRecording() && cstNode && cstNode.length > 0) {\n            this.performSubruleAssignment(subruleResult, feature, cstNode);\n        }\n    }\n    performSubruleAssignment(result, feature, cstNode) {\n        const { assignment, isCrossRef } = this.getAssignment(feature);\n        if (assignment) {\n            this.assign(assignment.operator, assignment.feature, result, cstNode, isCrossRef);\n        }\n        else if (!assignment) {\n            // If we call a subrule without an assignment we either:\n            // 1. append the result of the subrule (data type rule)\n            // 2. override the current object with the newly parsed object\n            // If the current element is an AST node and the result of the subrule\n            // is a data type rule, we can safely discard the results.\n            const current = this.current;\n            if (isDataTypeNode(current)) {\n                current.value += result.toString();\n            }\n            else if (typeof result === 'object' && result) {\n                const object = this.assignWithoutOverride(result, current);\n                const newItem = object;\n                this.stack.pop();\n                this.stack.push(newItem);\n            }\n        }\n    }\n    action($type, action) {\n        if (!this.isRecording()) {\n            let last = this.current;\n            if (action.feature && action.operator) {\n                last = this.construct();\n                this.nodeBuilder.removeNode(last.$cstNode);\n                const node = this.nodeBuilder.buildCompositeNode(action);\n                node.content.push(last.$cstNode);\n                const newItem = { $type };\n                this.stack.push(newItem);\n                this.assign(action.operator, action.feature, last, last.$cstNode, false);\n            }\n            else {\n                last.$type = $type;\n            }\n        }\n    }\n    construct() {\n        if (this.isRecording()) {\n            return undefined;\n        }\n        const obj = this.current;\n        linkContentToContainer(obj);\n        this.nodeBuilder.construct(obj);\n        this.stack.pop();\n        if (isDataTypeNode(obj)) {\n            return this.converter.convert(obj.value, obj.$cstNode);\n        }\n        else {\n            assignMandatoryProperties(this.astReflection, obj);\n        }\n        return obj;\n    }\n    getAssignment(feature) {\n        if (!this.assignmentMap.has(feature)) {\n            const assignment = getContainerOfType(feature, isAssignment);\n            this.assignmentMap.set(feature, {\n                assignment: assignment,\n                isCrossRef: assignment ? isCrossReference(assignment.terminal) : false\n            });\n        }\n        return this.assignmentMap.get(feature);\n    }\n    assign(operator, feature, value, cstNode, isCrossRef) {\n        const obj = this.current;\n        let item;\n        if (isCrossRef && typeof value === 'string') {\n            item = this.linker.buildReference(obj, feature, cstNode, value);\n        }\n        else {\n            item = value;\n        }\n        switch (operator) {\n            case '=': {\n                obj[feature] = item;\n                break;\n            }\n            case '?=': {\n                obj[feature] = true;\n                break;\n            }\n            case '+=': {\n                if (!Array.isArray(obj[feature])) {\n                    obj[feature] = [];\n                }\n                obj[feature].push(item);\n            }\n        }\n    }\n    assignWithoutOverride(target, source) {\n        for (const [name, existingValue] of Object.entries(source)) {\n            const newValue = target[name];\n            if (newValue === undefined) {\n                target[name] = existingValue;\n            }\n            else if (Array.isArray(newValue) && Array.isArray(existingValue)) {\n                existingValue.push(...newValue);\n                target[name] = existingValue;\n            }\n        }\n        // The target was parsed from a unassigned subrule\n        // After the subrule construction, it received a cst node\n        // This CST node will later be overriden by the cst node builder\n        // To prevent references to stale AST nodes in the CST,\n        // we need to remove the reference here\n        const targetCstNode = target.$cstNode;\n        if (targetCstNode) {\n            targetCstNode.astNode = undefined;\n            target.$cstNode = undefined;\n        }\n        return target;\n    }\n    get definitionErrors() {\n        return this.wrapper.definitionErrors;\n    }\n}\nexport class AbstractParserErrorMessageProvider {\n    buildMismatchTokenMessage(options) {\n        return defaultParserErrorProvider.buildMismatchTokenMessage(options);\n    }\n    buildNotAllInputParsedMessage(options) {\n        return defaultParserErrorProvider.buildNotAllInputParsedMessage(options);\n    }\n    buildNoViableAltMessage(options) {\n        return defaultParserErrorProvider.buildNoViableAltMessage(options);\n    }\n    buildEarlyExitMessage(options) {\n        return defaultParserErrorProvider.buildEarlyExitMessage(options);\n    }\n}\nexport class LangiumParserErrorMessageProvider extends AbstractParserErrorMessageProvider {\n    buildMismatchTokenMessage({ expected, actual }) {\n        const expectedMsg = expected.LABEL\n            ? '`' + expected.LABEL + '`'\n            : expected.name.endsWith(':KW')\n                ? `keyword '${expected.name.substring(0, expected.name.length - 3)}'`\n                : `token of type '${expected.name}'`;\n        return `Expecting ${expectedMsg} but found \\`${actual.image}\\`.`;\n    }\n    buildNotAllInputParsedMessage({ firstRedundant }) {\n        return `Expecting end of file but found \\`${firstRedundant.image}\\`.`;\n    }\n}\nexport class LangiumCompletionParser extends AbstractLangiumParser {\n    constructor() {\n        super(...arguments);\n        this.tokens = [];\n        this.elementStack = [];\n        this.lastElementStack = [];\n        this.nextTokenIndex = 0;\n        this.stackSize = 0;\n    }\n    action() {\n        // NOOP\n    }\n    construct() {\n        // NOOP\n        return undefined;\n    }\n    parse(input) {\n        this.resetState();\n        const tokens = this.lexer.tokenize(input, { mode: 'partial' });\n        this.tokens = tokens.tokens;\n        this.wrapper.input = [...this.tokens];\n        this.mainRule.call(this.wrapper, {});\n        this.unorderedGroups.clear();\n        return {\n            tokens: this.tokens,\n            elementStack: [...this.lastElementStack],\n            tokenIndex: this.nextTokenIndex\n        };\n    }\n    rule(rule, impl) {\n        const ruleMethod = this.wrapper.DEFINE_RULE(withRuleSuffix(rule.name), this.startImplementation(impl).bind(this));\n        this.allRules.set(rule.name, ruleMethod);\n        if (rule.entry) {\n            this.mainRule = ruleMethod;\n        }\n        return ruleMethod;\n    }\n    resetState() {\n        this.elementStack = [];\n        this.lastElementStack = [];\n        this.nextTokenIndex = 0;\n        this.stackSize = 0;\n    }\n    startImplementation(implementation) {\n        return (args) => {\n            const size = this.keepStackSize();\n            try {\n                implementation(args);\n            }\n            finally {\n                this.resetStackSize(size);\n            }\n        };\n    }\n    removeUnexpectedElements() {\n        this.elementStack.splice(this.stackSize);\n    }\n    keepStackSize() {\n        const size = this.elementStack.length;\n        this.stackSize = size;\n        return size;\n    }\n    resetStackSize(size) {\n        this.removeUnexpectedElements();\n        this.stackSize = size;\n    }\n    consume(idx, tokenType, feature) {\n        this.wrapper.wrapConsume(idx, tokenType);\n        if (!this.isRecording()) {\n            this.lastElementStack = [...this.elementStack, feature];\n            this.nextTokenIndex = this.currIdx + 1;\n        }\n    }\n    subrule(idx, rule, fragment, feature, args) {\n        this.before(feature);\n        this.wrapper.wrapSubrule(idx, rule, args);\n        this.after(feature);\n    }\n    before(element) {\n        if (!this.isRecording()) {\n            this.elementStack.push(element);\n        }\n    }\n    after(element) {\n        if (!this.isRecording()) {\n            const index = this.elementStack.lastIndexOf(element);\n            if (index >= 0) {\n                this.elementStack.splice(index);\n            }\n        }\n    }\n    get currIdx() {\n        return this.wrapper.currIdx;\n    }\n}\nconst defaultConfig = {\n    recoveryEnabled: true,\n    nodeLocationTracking: 'full',\n    skipValidations: true,\n    errorMessageProvider: new LangiumParserErrorMessageProvider()\n};\n/**\n * This class wraps the embedded actions parser of chevrotain and exposes protected methods.\n * This way, we can build the `LangiumParser` as a composition.\n */\nclass ChevrotainWrapper extends EmbeddedActionsParser {\n    constructor(tokens, config) {\n        const useDefaultLookahead = config && 'maxLookahead' in config;\n        super(tokens, Object.assign(Object.assign(Object.assign({}, defaultConfig), { lookaheadStrategy: useDefaultLookahead\n                ? new LLkLookaheadStrategy({ maxLookahead: config.maxLookahead })\n                : new LLStarLookaheadStrategy({\n                    // If validations are skipped, don't log the lookahead warnings\n                    logging: config.skipValidations ? () => { } : undefined\n                }) }), config));\n    }\n    get IS_RECORDING() {\n        return this.RECORDING_PHASE;\n    }\n    DEFINE_RULE(name, impl) {\n        return this.RULE(name, impl);\n    }\n    wrapSelfAnalysis() {\n        this.performSelfAnalysis();\n    }\n    wrapConsume(idx, tokenType) {\n        return this.consume(idx, tokenType);\n    }\n    wrapSubrule(idx, rule, args) {\n        return this.subrule(idx, rule, {\n            ARGS: [args]\n        });\n    }\n    wrapOr(idx, choices) {\n        this.or(idx, choices);\n    }\n    wrapOption(idx, callback) {\n        this.option(idx, callback);\n    }\n    wrapMany(idx, callback) {\n        this.many(idx, callback);\n    }\n    wrapAtLeastOne(idx, callback) {\n        this.atLeastOne(idx, callback);\n    }\n}\n//# sourceMappingURL=langium-parser.js.map","/******************************************************************************\n * Copyright 2022 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { EMPTY_ALT, EOF } from 'chevrotain';\nimport { isAction, isAlternatives, isEndOfFile, isAssignment, isConjunction, isCrossReference, isDisjunction, isGroup, isKeyword, isNegation, isParameterReference, isParserRule, isRuleCall, isTerminalRule, isUnorderedGroup, isBooleanLiteral } from '../languages/generated/ast.js';\nimport { assertUnreachable, ErrorWithLocation } from '../utils/errors.js';\nimport { stream } from '../utils/stream.js';\nimport { findNameAssignment, getAllReachableRules, getTypeName } from '../utils/grammar-utils.js';\nexport function createParser(grammar, parser, tokens) {\n    const parserContext = {\n        parser,\n        tokens,\n        ruleNames: new Map()\n    };\n    buildRules(parserContext, grammar);\n    return parser;\n}\nfunction buildRules(parserContext, grammar) {\n    const reachable = getAllReachableRules(grammar, false);\n    const parserRules = stream(grammar.rules).filter(isParserRule).filter(rule => reachable.has(rule));\n    for (const rule of parserRules) {\n        const ctx = Object.assign(Object.assign({}, parserContext), { consume: 1, optional: 1, subrule: 1, many: 1, or: 1 });\n        parserContext.parser.rule(rule, buildElement(ctx, rule.definition));\n    }\n}\nfunction buildElement(ctx, element, ignoreGuard = false) {\n    let method;\n    if (isKeyword(element)) {\n        method = buildKeyword(ctx, element);\n    }\n    else if (isAction(element)) {\n        method = buildAction(ctx, element);\n    }\n    else if (isAssignment(element)) {\n        method = buildElement(ctx, element.terminal);\n    }\n    else if (isCrossReference(element)) {\n        method = buildCrossReference(ctx, element);\n    }\n    else if (isRuleCall(element)) {\n        method = buildRuleCall(ctx, element);\n    }\n    else if (isAlternatives(element)) {\n        method = buildAlternatives(ctx, element);\n    }\n    else if (isUnorderedGroup(element)) {\n        method = buildUnorderedGroup(ctx, element);\n    }\n    else if (isGroup(element)) {\n        method = buildGroup(ctx, element);\n    }\n    else if (isEndOfFile(element)) {\n        const idx = ctx.consume++;\n        method = () => ctx.parser.consume(idx, EOF, element);\n    }\n    else {\n        throw new ErrorWithLocation(element.$cstNode, `Unexpected element type: ${element.$type}`);\n    }\n    return wrap(ctx, ignoreGuard ? undefined : getGuardCondition(element), method, element.cardinality);\n}\nfunction buildAction(ctx, action) {\n    const actionType = getTypeName(action);\n    return () => ctx.parser.action(actionType, action);\n}\nfunction buildRuleCall(ctx, ruleCall) {\n    const rule = ruleCall.rule.ref;\n    if (isParserRule(rule)) {\n        const idx = ctx.subrule++;\n        const fragment = rule.fragment;\n        const predicate = ruleCall.arguments.length > 0 ? buildRuleCallPredicate(rule, ruleCall.arguments) : () => ({});\n        return (args) => ctx.parser.subrule(idx, getRule(ctx, rule), fragment, ruleCall, predicate(args));\n    }\n    else if (isTerminalRule(rule)) {\n        const idx = ctx.consume++;\n        const method = getToken(ctx, rule.name);\n        return () => ctx.parser.consume(idx, method, ruleCall);\n    }\n    else if (!rule) {\n        throw new ErrorWithLocation(ruleCall.$cstNode, `Undefined rule: ${ruleCall.rule.$refText}`);\n    }\n    else {\n        assertUnreachable(rule);\n    }\n}\nfunction buildRuleCallPredicate(rule, namedArgs) {\n    const predicates = namedArgs.map(e => buildPredicate(e.value));\n    return (args) => {\n        const ruleArgs = {};\n        for (let i = 0; i < predicates.length; i++) {\n            const ruleTarget = rule.parameters[i];\n            const predicate = predicates[i];\n            ruleArgs[ruleTarget.name] = predicate(args);\n        }\n        return ruleArgs;\n    };\n}\nfunction buildPredicate(condition) {\n    if (isDisjunction(condition)) {\n        const left = buildPredicate(condition.left);\n        const right = buildPredicate(condition.right);\n        return (args) => (left(args) || right(args));\n    }\n    else if (isConjunction(condition)) {\n        const left = buildPredicate(condition.left);\n        const right = buildPredicate(condition.right);\n        return (args) => (left(args) && right(args));\n    }\n    else if (isNegation(condition)) {\n        const value = buildPredicate(condition.value);\n        return (args) => !value(args);\n    }\n    else if (isParameterReference(condition)) {\n        const name = condition.parameter.ref.name;\n        return (args) => args !== undefined && args[name] === true;\n    }\n    else if (isBooleanLiteral(condition)) {\n        const value = Boolean(condition.true);\n        return () => value;\n    }\n    assertUnreachable(condition);\n}\nfunction buildAlternatives(ctx, alternatives) {\n    if (alternatives.elements.length === 1) {\n        return buildElement(ctx, alternatives.elements[0]);\n    }\n    else {\n        const methods = [];\n        for (const element of alternatives.elements) {\n            const predicatedMethod = {\n                // Since we handle the guard condition in the alternative already\n                // We can ignore the group guard condition inside\n                ALT: buildElement(ctx, element, true)\n            };\n            const guard = getGuardCondition(element);\n            if (guard) {\n                predicatedMethod.GATE = buildPredicate(guard);\n            }\n            methods.push(predicatedMethod);\n        }\n        const idx = ctx.or++;\n        return (args) => ctx.parser.alternatives(idx, methods.map(method => {\n            const alt = {\n                ALT: () => method.ALT(args)\n            };\n            const gate = method.GATE;\n            if (gate) {\n                alt.GATE = () => gate(args);\n            }\n            return alt;\n        }));\n    }\n}\nfunction buildUnorderedGroup(ctx, group) {\n    if (group.elements.length === 1) {\n        return buildElement(ctx, group.elements[0]);\n    }\n    const methods = [];\n    for (const element of group.elements) {\n        const predicatedMethod = {\n            // Since we handle the guard condition in the alternative already\n            // We can ignore the group guard condition inside\n            ALT: buildElement(ctx, element, true)\n        };\n        const guard = getGuardCondition(element);\n        if (guard) {\n            predicatedMethod.GATE = buildPredicate(guard);\n        }\n        methods.push(predicatedMethod);\n    }\n    const orIdx = ctx.or++;\n    const idFunc = (groupIdx, lParser) => {\n        const stackId = lParser.getRuleStack().join('-');\n        return `uGroup_${groupIdx}_${stackId}`;\n    };\n    const alternatives = (args) => ctx.parser.alternatives(orIdx, methods.map((method, idx) => {\n        const alt = { ALT: () => true };\n        const parser = ctx.parser;\n        alt.ALT = () => {\n            method.ALT(args);\n            if (!parser.isRecording()) {\n                const key = idFunc(orIdx, parser);\n                if (!parser.unorderedGroups.get(key)) {\n                    // init after clear state\n                    parser.unorderedGroups.set(key, []);\n                }\n                const groupState = parser.unorderedGroups.get(key);\n                if (typeof (groupState === null || groupState === void 0 ? void 0 : groupState[idx]) === 'undefined') {\n                    // Not accessed yet\n                    groupState[idx] = true;\n                }\n            }\n        };\n        const gate = method.GATE;\n        if (gate) {\n            alt.GATE = () => gate(args);\n        }\n        else {\n            alt.GATE = () => {\n                const trackedAlternatives = parser.unorderedGroups.get(idFunc(orIdx, parser));\n                const allow = !(trackedAlternatives === null || trackedAlternatives === void 0 ? void 0 : trackedAlternatives[idx]);\n                return allow;\n            };\n        }\n        return alt;\n    }));\n    const wrapped = wrap(ctx, getGuardCondition(group), alternatives, '*');\n    return (args) => {\n        wrapped(args);\n        if (!ctx.parser.isRecording()) {\n            ctx.parser.unorderedGroups.delete(idFunc(orIdx, ctx.parser));\n        }\n    };\n}\nfunction buildGroup(ctx, group) {\n    const methods = group.elements.map(e => buildElement(ctx, e));\n    return (args) => methods.forEach(method => method(args));\n}\nfunction getGuardCondition(element) {\n    if (isGroup(element)) {\n        return element.guardCondition;\n    }\n    return undefined;\n}\nfunction buildCrossReference(ctx, crossRef, terminal = crossRef.terminal) {\n    if (!terminal) {\n        if (!crossRef.type.ref) {\n            throw new Error('Could not resolve reference to type: ' + crossRef.type.$refText);\n        }\n        const assignment = findNameAssignment(crossRef.type.ref);\n        const assignTerminal = assignment === null || assignment === void 0 ? void 0 : assignment.terminal;\n        if (!assignTerminal) {\n            throw new Error('Could not find name assignment for type: ' + getTypeName(crossRef.type.ref));\n        }\n        return buildCrossReference(ctx, crossRef, assignTerminal);\n    }\n    else if (isRuleCall(terminal) && isParserRule(terminal.rule.ref)) {\n        // The terminal is a data type rule here. Everything else will result in a validation error.\n        const rule = terminal.rule.ref;\n        const idx = ctx.subrule++;\n        return (args) => ctx.parser.subrule(idx, getRule(ctx, rule), false, crossRef, args);\n    }\n    else if (isRuleCall(terminal) && isTerminalRule(terminal.rule.ref)) {\n        const idx = ctx.consume++;\n        const terminalRule = getToken(ctx, terminal.rule.ref.name);\n        return () => ctx.parser.consume(idx, terminalRule, crossRef);\n    }\n    else if (isKeyword(terminal)) {\n        const idx = ctx.consume++;\n        const keyword = getToken(ctx, terminal.value);\n        return () => ctx.parser.consume(idx, keyword, crossRef);\n    }\n    else {\n        throw new Error('Could not build cross reference parser');\n    }\n}\nfunction buildKeyword(ctx, keyword) {\n    const idx = ctx.consume++;\n    const token = ctx.tokens[keyword.value];\n    if (!token) {\n        throw new Error('Could not find token for keyword: ' + keyword.value);\n    }\n    return () => ctx.parser.consume(idx, token, keyword);\n}\nfunction wrap(ctx, guard, method, cardinality) {\n    const gate = guard && buildPredicate(guard);\n    if (!cardinality) {\n        if (gate) {\n            const idx = ctx.or++;\n            return (args) => ctx.parser.alternatives(idx, [\n                {\n                    ALT: () => method(args),\n                    GATE: () => gate(args)\n                },\n                {\n                    ALT: EMPTY_ALT(),\n                    GATE: () => !gate(args)\n                }\n            ]);\n        }\n        else {\n            return method;\n        }\n    }\n    if (cardinality === '*') {\n        const idx = ctx.many++;\n        return (args) => ctx.parser.many(idx, {\n            DEF: () => method(args),\n            GATE: gate ? () => gate(args) : undefined\n        });\n    }\n    else if (cardinality === '+') {\n        const idx = ctx.many++;\n        if (gate) {\n            const orIdx = ctx.or++;\n            // In the case of a guard condition for the `+` group\n            // We combine it with an empty alternative\n            // If the condition returns true, it needs to parse at least a single iteration\n            // If its false, it is not allowed to parse anything\n            return (args) => ctx.parser.alternatives(orIdx, [\n                {\n                    ALT: () => ctx.parser.atLeastOne(idx, {\n                        DEF: () => method(args)\n                    }),\n                    GATE: () => gate(args)\n                },\n                {\n                    ALT: EMPTY_ALT(),\n                    GATE: () => !gate(args)\n                }\n            ]);\n        }\n        else {\n            return (args) => ctx.parser.atLeastOne(idx, {\n                DEF: () => method(args),\n            });\n        }\n    }\n    else if (cardinality === '?') {\n        const idx = ctx.optional++;\n        return (args) => ctx.parser.optional(idx, {\n            DEF: () => method(args),\n            GATE: gate ? () => gate(args) : undefined\n        });\n    }\n    else {\n        assertUnreachable(cardinality);\n    }\n}\nfunction getRule(ctx, element) {\n    const name = getRuleName(ctx, element);\n    const rule = ctx.parser.getRule(name);\n    if (!rule)\n        throw new Error(`Rule \"${name}\" not found.\"`);\n    return rule;\n}\nfunction getRuleName(ctx, element) {\n    if (isParserRule(element)) {\n        return element.name;\n    }\n    else if (ctx.ruleNames.has(element)) {\n        return ctx.ruleNames.get(element);\n    }\n    else {\n        let item = element;\n        let parent = item.$container;\n        let ruleName = element.$type;\n        while (!isParserRule(parent)) {\n            if (isGroup(parent) || isAlternatives(parent) || isUnorderedGroup(parent)) {\n                const index = parent.elements.indexOf(item);\n                ruleName = index.toString() + ':' + ruleName;\n            }\n            item = parent;\n            parent = parent.$container;\n        }\n        const rule = parent;\n        ruleName = rule.name + ':' + ruleName;\n        ctx.ruleNames.set(element, ruleName);\n        return ruleName;\n    }\n}\nfunction getToken(ctx, name) {\n    const token = ctx.tokens[name];\n    if (!token)\n        throw new Error(`Token \"${name}\" not found.\"`);\n    return token;\n}\n//# sourceMappingURL=parser-builder-base.js.map","/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { LangiumParser } from './langium-parser.js';\nimport { createParser } from './parser-builder-base.js';\n/**\n * Create and finalize a Langium parser. The parser rules are derived from the grammar, which is\n * available at `services.Grammar`.\n */\nexport function createLangiumParser(services) {\n    const parser = prepareLangiumParser(services);\n    parser.finalize();\n    return parser;\n}\n/**\n * Create a Langium parser without finalizing it. This is used to extract more detailed error\n * information when the parser is initially validated.\n */\nexport function prepareLangiumParser(services) {\n    const grammar = services.Grammar;\n    const lexer = services.parser.Lexer;\n    const parser = new LangiumParser(services);\n    return createParser(grammar, parser, lexer.definition);\n}\n//# sourceMappingURL=langium-parser-builder.js.map","/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { CancellationToken, CancellationTokenSource } from '../utils/cancellation.js';\n/**\n * Delays the execution of the current code to the next tick of the event loop.\n * Don't call this method directly in a tight loop to prevent too many promises from being created.\n */\nexport function delayNextTick() {\n    return new Promise(resolve => {\n        // In case we are running in a non-node environment, `setImmediate` isn't available.\n        // Using `setTimeout` of the browser API accomplishes the same result.\n        if (typeof setImmediate === 'undefined') {\n            setTimeout(resolve, 0);\n        }\n        else {\n            setImmediate(resolve);\n        }\n    });\n}\nlet lastTick = 0;\nlet globalInterruptionPeriod = 10;\n/**\n * Reset the global interruption period and create a cancellation token source.\n */\nexport function startCancelableOperation() {\n    lastTick = performance.now();\n    return new CancellationTokenSource();\n}\n/**\n * Change the period duration for `interruptAndCheck` to the given number of milliseconds.\n * The default value is 10ms.\n */\nexport function setInterruptionPeriod(period) {\n    globalInterruptionPeriod = period;\n}\n/**\n * This symbol may be thrown in an asynchronous context by any Langium service that receives\n * a `CancellationToken`. This means that the promise returned by such a service is rejected with\n * this symbol as rejection reason.\n */\nexport const OperationCancelled = Symbol('OperationCancelled');\n/**\n * Use this in a `catch` block to check whether the thrown object indicates that the operation\n * has been cancelled.\n */\nexport function isOperationCancelled(err) {\n    return err === OperationCancelled;\n}\n/**\n * This function does two things:\n *  1. Check the elapsed time since the last call to this function or to `startCancelableOperation`. If the predefined\n *     period (configured with `setInterruptionPeriod`) is exceeded, execution is delayed with `delayNextTick`.\n *  2. If the predefined period is not met yet or execution is resumed after an interruption, the given cancellation\n *     token is checked, and if cancellation is requested, `OperationCanceled` is thrown.\n *\n * All services in Langium that receive a `CancellationToken` may potentially call this function, so the\n * `CancellationToken` must be caught (with an `async` try-catch block or a `catch` callback attached to\n * the promise) to avoid that event being exposed as an error.\n */\nexport async function interruptAndCheck(token) {\n    if (token === CancellationToken.None) {\n        // Early exit in case cancellation was disabled by the caller\n        return;\n    }\n    const current = performance.now();\n    if (current - lastTick >= globalInterruptionPeriod) {\n        lastTick = current;\n        await delayNextTick();\n        // prevent calling delayNextTick every iteration of loop\n        // where delayNextTick takes up the majority or all of the\n        // globalInterruptionPeriod itself\n        lastTick = performance.now();\n    }\n    if (token.isCancellationRequested) {\n        throw OperationCancelled;\n    }\n}\n/**\n * Simple implementation of the deferred pattern.\n * An object that exposes a promise and functions to resolve and reject it.\n */\nexport class Deferred {\n    constructor() {\n        this.promise = new Promise((resolve, reject) => {\n            this.resolve = (arg) => {\n                resolve(arg);\n                return this;\n            };\n            this.reject = (err) => {\n                reject(err);\n                return this;\n            };\n        });\n    }\n}\n//# sourceMappingURL=promise-utils.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nclass FullTextDocument {\n    constructor(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = undefined;\n    }\n    get uri() {\n        return this._uri;\n    }\n    get languageId() {\n        return this._languageId;\n    }\n    get version() {\n        return this._version;\n    }\n    getText(range) {\n        if (range) {\n            const start = this.offsetAt(range.start);\n            const end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    }\n    update(changes, version) {\n        for (const change of changes) {\n            if (FullTextDocument.isIncremental(change)) {\n                // makes sure start is before end\n                const range = getWellformedRange(change.range);\n                // update content\n                const startOffset = this.offsetAt(range.start);\n                const endOffset = this.offsetAt(range.end);\n                this._content = this._content.substring(0, startOffset) + change.text + this._content.substring(endOffset, this._content.length);\n                // update the offsets\n                const startLine = Math.max(range.start.line, 0);\n                const endLine = Math.max(range.end.line, 0);\n                let lineOffsets = this._lineOffsets;\n                const addedLineOffsets = computeLineOffsets(change.text, false, startOffset);\n                if (endLine - startLine === addedLineOffsets.length) {\n                    for (let i = 0, len = addedLineOffsets.length; i < len; i++) {\n                        lineOffsets[i + startLine + 1] = addedLineOffsets[i];\n                    }\n                }\n                else {\n                    if (addedLineOffsets.length < 10000) {\n                        lineOffsets.splice(startLine + 1, endLine - startLine, ...addedLineOffsets);\n                    }\n                    else { // avoid too many arguments for splice\n                        this._lineOffsets = lineOffsets = lineOffsets.slice(0, startLine + 1).concat(addedLineOffsets, lineOffsets.slice(endLine + 1));\n                    }\n                }\n                const diff = change.text.length - (endOffset - startOffset);\n                if (diff !== 0) {\n                    for (let i = startLine + 1 + addedLineOffsets.length, len = lineOffsets.length; i < len; i++) {\n                        lineOffsets[i] = lineOffsets[i] + diff;\n                    }\n                }\n            }\n            else if (FullTextDocument.isFull(change)) {\n                this._content = change.text;\n                this._lineOffsets = undefined;\n            }\n            else {\n                throw new Error('Unknown change event received');\n            }\n        }\n        this._version = version;\n    }\n    getLineOffsets() {\n        if (this._lineOffsets === undefined) {\n            this._lineOffsets = computeLineOffsets(this._content, true);\n        }\n        return this._lineOffsets;\n    }\n    positionAt(offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        const lineOffsets = this.getLineOffsets();\n        let low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return { line: 0, character: offset };\n        }\n        while (low < high) {\n            const mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        const line = low - 1;\n        offset = this.ensureBeforeEOL(offset, lineOffsets[line]);\n        return { line, character: offset - lineOffsets[line] };\n    }\n    offsetAt(position) {\n        const lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        const lineOffset = lineOffsets[position.line];\n        if (position.character <= 0) {\n            return lineOffset;\n        }\n        const nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        const offset = Math.min(lineOffset + position.character, nextLineOffset);\n        return this.ensureBeforeEOL(offset, lineOffset);\n    }\n    ensureBeforeEOL(offset, lineOffset) {\n        while (offset > lineOffset && isEOL(this._content.charCodeAt(offset - 1))) {\n            offset--;\n        }\n        return offset;\n    }\n    get lineCount() {\n        return this.getLineOffsets().length;\n    }\n    static isIncremental(event) {\n        const candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range !== undefined &&\n            (candidate.rangeLength === undefined || typeof candidate.rangeLength === 'number');\n    }\n    static isFull(event) {\n        const candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range === undefined && candidate.rangeLength === undefined;\n    }\n}\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new text document.\n     *\n     * @param uri The document's uri.\n     * @param languageId  The document's language Id.\n     * @param version The document's initial version number.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Updates a TextDocument by modifying its content.\n     *\n     * @param document the document to update. Only documents created by TextDocument.create are valid inputs.\n     * @param changes the changes to apply to the document.\n     * @param version the changes version for the document.\n     * @returns The updated TextDocument. Note: That's the same document instance passed in as first parameter.\n     *\n     */\n    function update(document, changes, version) {\n        if (document instanceof FullTextDocument) {\n            document.update(changes, version);\n            return document;\n        }\n        else {\n            throw new Error('TextDocument.update: document must be created by TextDocument.create');\n        }\n    }\n    TextDocument.update = update;\n    function applyEdits(document, edits) {\n        const text = document.getText();\n        const sortedEdits = mergeSort(edits.map(getWellformedEdit), (a, b) => {\n            const diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return diff;\n        });\n        let lastModifiedOffset = 0;\n        const spans = [];\n        for (const e of sortedEdits) {\n            const startOffset = document.offsetAt(e.range.start);\n            if (startOffset < lastModifiedOffset) {\n                throw new Error('Overlapping edit');\n            }\n            else if (startOffset > lastModifiedOffset) {\n                spans.push(text.substring(lastModifiedOffset, startOffset));\n            }\n            if (e.newText.length) {\n                spans.push(e.newText);\n            }\n            lastModifiedOffset = document.offsetAt(e.range.end);\n        }\n        spans.push(text.substr(lastModifiedOffset));\n        return spans.join('');\n    }\n    TextDocument.applyEdits = applyEdits;\n})(TextDocument || (TextDocument = {}));\nfunction mergeSort(data, compare) {\n    if (data.length <= 1) {\n        // sorted\n        return data;\n    }\n    const p = (data.length / 2) | 0;\n    const left = data.slice(0, p);\n    const right = data.slice(p);\n    mergeSort(left, compare);\n    mergeSort(right, compare);\n    let leftIdx = 0;\n    let rightIdx = 0;\n    let i = 0;\n    while (leftIdx < left.length && rightIdx < right.length) {\n        const ret = compare(left[leftIdx], right[rightIdx]);\n        if (ret <= 0) {\n            // smaller_equal -> take left to preserve order\n            data[i++] = left[leftIdx++];\n        }\n        else {\n            // greater -> take right\n            data[i++] = right[rightIdx++];\n        }\n    }\n    while (leftIdx < left.length) {\n        data[i++] = left[leftIdx++];\n    }\n    while (rightIdx < right.length) {\n        data[i++] = right[rightIdx++];\n    }\n    return data;\n}\nfunction computeLineOffsets(text, isAtLineStart, textOffset = 0) {\n    const result = isAtLineStart ? [textOffset] : [];\n    for (let i = 0; i < text.length; i++) {\n        const ch = text.charCodeAt(i);\n        if (isEOL(ch)) {\n            if (ch === 13 /* CharCode.CarriageReturn */ && i + 1 < text.length && text.charCodeAt(i + 1) === 10 /* CharCode.LineFeed */) {\n                i++;\n            }\n            result.push(textOffset + i + 1);\n        }\n    }\n    return result;\n}\nfunction isEOL(char) {\n    return char === 13 /* CharCode.CarriageReturn */ || char === 10 /* CharCode.LineFeed */;\n}\nfunction getWellformedRange(range) {\n    const start = range.start;\n    const end = range.end;\n    if (start.line > end.line || (start.line === end.line && start.character > end.character)) {\n        return { start: end, end: start };\n    }\n    return range;\n}\nfunction getWellformedEdit(textEdit) {\n    const range = getWellformedRange(textEdit.range);\n    if (range !== textEdit.range) {\n        return { newText: textEdit.newText, range };\n    }\n    return textEdit;\n}\n","/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\n/**\n * Re-export 'TextDocument' from 'vscode-languageserver-textdocument' for convenience,\n *  including both type _and_ symbol (namespace), as we here and there also refer to the symbol,\n *  the overhead is very small, just a few kilobytes.\n * Everything else of that package (at the time contributing) is also defined\n *  in 'vscode-languageserver-protocol' or 'vscode-languageserver-types'.\n */\nexport { TextDocument } from 'vscode-languageserver-textdocument';\nimport { TextDocument } from './documents.js';\nimport { CancellationToken } from '../utils/cancellation.js';\nimport { stream } from '../utils/stream.js';\nimport { URI } from '../utils/uri-utils.js';\n/**\n * A document is subject to several phases that are run in predefined order. Any state value implies that\n * smaller state values are finished as well.\n */\nexport var DocumentState;\n(function (DocumentState) {\n    /**\n     * The text content has changed and needs to be parsed again. The AST held by this outdated\n     * document instance is no longer valid.\n     */\n    DocumentState[DocumentState[\"Changed\"] = 0] = \"Changed\";\n    /**\n     * An AST has been created from the text content. The document structure can be traversed,\n     * but cross-references cannot be resolved yet. If necessary, the structure can be manipulated\n     * at this stage as a preprocessing step.\n     */\n    DocumentState[DocumentState[\"Parsed\"] = 1] = \"Parsed\";\n    /**\n     * The `IndexManager` service has processed AST nodes of this document. This means the\n     * exported symbols are available in the global scope and can be resolved from other documents.\n     */\n    DocumentState[DocumentState[\"IndexedContent\"] = 2] = \"IndexedContent\";\n    /**\n     * The `ScopeComputation` service has processed this document. This means the local symbols\n     * are stored in a MultiMap so they can be looked up by the `ScopeProvider` service.\n     * Once a document has reached this state, you may follow every reference - it will lazily\n     * resolve its `ref` property and yield either the target AST node or `undefined` in case\n     * the target is not in scope.\n     */\n    DocumentState[DocumentState[\"ComputedScopes\"] = 3] = \"ComputedScopes\";\n    /**\n     * The `Linker` service has processed this document. All outgoing references have been\n     * resolved or marked as erroneous.\n     */\n    DocumentState[DocumentState[\"Linked\"] = 4] = \"Linked\";\n    /**\n     * The `IndexManager` service has processed AST node references of this document. This is\n     * necessary to determine which documents are affected by a change in one of the workspace\n     * documents.\n     */\n    DocumentState[DocumentState[\"IndexedReferences\"] = 5] = \"IndexedReferences\";\n    /**\n     * The `DocumentValidator` service has processed this document. The language server listens\n     * to the results of this phase and sends diagnostics to the client.\n     */\n    DocumentState[DocumentState[\"Validated\"] = 6] = \"Validated\";\n})(DocumentState || (DocumentState = {}));\nexport class DefaultLangiumDocumentFactory {\n    constructor(services) {\n        this.serviceRegistry = services.ServiceRegistry;\n        this.textDocuments = services.workspace.TextDocuments;\n        this.fileSystemProvider = services.workspace.FileSystemProvider;\n    }\n    async fromUri(uri, cancellationToken = CancellationToken.None) {\n        const content = await this.fileSystemProvider.readFile(uri);\n        return this.createAsync(uri, content, cancellationToken);\n    }\n    fromTextDocument(textDocument, uri, token) {\n        uri = uri !== null && uri !== void 0 ? uri : URI.parse(textDocument.uri);\n        if (CancellationToken.is(token)) {\n            return this.createAsync(uri, textDocument, token);\n        }\n        else {\n            return this.create(uri, textDocument, token);\n        }\n    }\n    fromString(text, uri, token) {\n        if (CancellationToken.is(token)) {\n            return this.createAsync(uri, text, token);\n        }\n        else {\n            return this.create(uri, text, token);\n        }\n    }\n    fromModel(model, uri) {\n        return this.create(uri, { $model: model });\n    }\n    create(uri, content, options) {\n        if (typeof content === 'string') {\n            const parseResult = this.parse(uri, content, options);\n            return this.createLangiumDocument(parseResult, uri, undefined, content);\n        }\n        else if ('$model' in content) {\n            const parseResult = { value: content.$model, parserErrors: [], lexerErrors: [] };\n            return this.createLangiumDocument(parseResult, uri);\n        }\n        else {\n            const parseResult = this.parse(uri, content.getText(), options);\n            return this.createLangiumDocument(parseResult, uri, content);\n        }\n    }\n    async createAsync(uri, content, cancelToken) {\n        if (typeof content === 'string') {\n            const parseResult = await this.parseAsync(uri, content, cancelToken);\n            return this.createLangiumDocument(parseResult, uri, undefined, content);\n        }\n        else {\n            const parseResult = await this.parseAsync(uri, content.getText(), cancelToken);\n            return this.createLangiumDocument(parseResult, uri, content);\n        }\n    }\n    /**\n     * Create a LangiumDocument from a given parse result.\n     *\n     * A TextDocument is created on demand if it is not provided as argument here. Usually this\n     * should not be necessary because the main purpose of the TextDocument is to convert between\n     * text ranges and offsets, which is done solely in LSP request handling.\n     *\n     * With the introduction of {@link update} below this method is supposed to be mainly called\n     * during workspace initialization and on addition/recognition of new files, while changes in\n     * existing documents are processed via {@link update}.\n     */\n    createLangiumDocument(parseResult, uri, textDocument, text) {\n        let document;\n        if (textDocument) {\n            document = {\n                parseResult,\n                uri,\n                state: DocumentState.Parsed,\n                references: [],\n                textDocument\n            };\n        }\n        else {\n            const textDocumentGetter = this.createTextDocumentGetter(uri, text);\n            document = {\n                parseResult,\n                uri,\n                state: DocumentState.Parsed,\n                references: [],\n                get textDocument() {\n                    return textDocumentGetter();\n                }\n            };\n        }\n        parseResult.value.$document = document;\n        return document;\n    }\n    async update(document, cancellationToken) {\n        var _a, _b;\n        // The CST full text property contains the original text that was used to create the AST.\n        const oldText = (_a = document.parseResult.value.$cstNode) === null || _a === void 0 ? void 0 : _a.root.fullText;\n        const textDocument = (_b = this.textDocuments) === null || _b === void 0 ? void 0 : _b.get(document.uri.toString());\n        const text = textDocument ? textDocument.getText() : await this.fileSystemProvider.readFile(document.uri);\n        if (textDocument) {\n            Object.defineProperty(document, 'textDocument', {\n                value: textDocument\n            });\n        }\n        else {\n            const textDocumentGetter = this.createTextDocumentGetter(document.uri, text);\n            Object.defineProperty(document, 'textDocument', {\n                get: textDocumentGetter\n            });\n        }\n        // Some of these documents can be pretty large, so parsing them again can be quite expensive.\n        // Therefore, we only parse if the text has actually changed.\n        if (oldText !== text) {\n            document.parseResult = await this.parseAsync(document.uri, text, cancellationToken);\n            document.parseResult.value.$document = document;\n        }\n        document.state = DocumentState.Parsed;\n        return document;\n    }\n    parse(uri, text, options) {\n        const services = this.serviceRegistry.getServices(uri);\n        return services.parser.LangiumParser.parse(text, options);\n    }\n    parseAsync(uri, text, cancellationToken) {\n        const services = this.serviceRegistry.getServices(uri);\n        return services.parser.AsyncParser.parse(text, cancellationToken);\n    }\n    createTextDocumentGetter(uri, text) {\n        const serviceRegistry = this.serviceRegistry;\n        let textDoc = undefined;\n        return () => {\n            return textDoc !== null && textDoc !== void 0 ? textDoc : (textDoc = TextDocument.create(uri.toString(), serviceRegistry.getServices(uri).LanguageMetaData.languageId, 0, text !== null && text !== void 0 ? text : ''));\n        };\n    }\n}\nexport class DefaultLangiumDocuments {\n    constructor(services) {\n        this.documentMap = new Map();\n        this.langiumDocumentFactory = services.workspace.LangiumDocumentFactory;\n        this.serviceRegistry = services.ServiceRegistry;\n    }\n    get all() {\n        return stream(this.documentMap.values());\n    }\n    addDocument(document) {\n        const uriString = document.uri.toString();\n        if (this.documentMap.has(uriString)) {\n            throw new Error(`A document with the URI '${uriString}' is already present.`);\n        }\n        this.documentMap.set(uriString, document);\n    }\n    getDocument(uri) {\n        const uriString = uri.toString();\n        return this.documentMap.get(uriString);\n    }\n    async getOrCreateDocument(uri, cancellationToken) {\n        let document = this.getDocument(uri);\n        if (document) {\n            return document;\n        }\n        document = await this.langiumDocumentFactory.fromUri(uri, cancellationToken);\n        this.addDocument(document);\n        return document;\n    }\n    createDocument(uri, text, cancellationToken) {\n        if (cancellationToken) {\n            return this.langiumDocumentFactory.fromString(text, uri, cancellationToken).then(document => {\n                this.addDocument(document);\n                return document;\n            });\n        }\n        else {\n            const document = this.langiumDocumentFactory.fromString(text, uri);\n            this.addDocument(document);\n            return document;\n        }\n    }\n    hasDocument(uri) {\n        return this.documentMap.has(uri.toString());\n    }\n    invalidateDocument(uri) {\n        const uriString = uri.toString();\n        const langiumDoc = this.documentMap.get(uriString);\n        if (langiumDoc) {\n            const linker = this.serviceRegistry.getServices(uri).references.Linker;\n            linker.unlink(langiumDoc);\n            langiumDoc.state = DocumentState.Changed;\n            langiumDoc.precomputedScopes = undefined;\n            langiumDoc.diagnostics = undefined;\n        }\n        return langiumDoc;\n    }\n    deleteDocument(uri) {\n        const uriString = uri.toString();\n        const langiumDoc = this.documentMap.get(uriString);\n        if (langiumDoc) {\n            langiumDoc.state = DocumentState.Changed;\n            this.documentMap.delete(uriString);\n        }\n        return langiumDoc;\n    }\n}\n//# sourceMappingURL=documents.js.map","/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { CancellationToken } from '../utils/cancellation.js';\nimport { isAstNode, isAstNodeDescription, isLinkingError } from '../syntax-tree.js';\nimport { findRootNode, streamAst, streamReferences } from '../utils/ast-utils.js';\nimport { interruptAndCheck } from '../utils/promise-utils.js';\nimport { DocumentState } from '../workspace/documents.js';\nconst ref_resolving = Symbol('ref_resolving');\nexport class DefaultLinker {\n    constructor(services) {\n        this.reflection = services.shared.AstReflection;\n        this.langiumDocuments = () => services.shared.workspace.LangiumDocuments;\n        this.scopeProvider = services.references.ScopeProvider;\n        this.astNodeLocator = services.workspace.AstNodeLocator;\n    }\n    async link(document, cancelToken = CancellationToken.None) {\n        for (const node of streamAst(document.parseResult.value)) {\n            await interruptAndCheck(cancelToken);\n            streamReferences(node).forEach(ref => this.doLink(ref, document));\n        }\n    }\n    doLink(refInfo, document) {\n        var _a;\n        const ref = refInfo.reference;\n        // The reference may already have been resolved lazily by accessing its `ref` property.\n        if (ref._ref === undefined) {\n            ref._ref = ref_resolving;\n            try {\n                const description = this.getCandidate(refInfo);\n                if (isLinkingError(description)) {\n                    ref._ref = description;\n                }\n                else {\n                    ref._nodeDescription = description;\n                    if (this.langiumDocuments().hasDocument(description.documentUri)) {\n                        // The target document is already loaded\n                        const linkedNode = this.loadAstNode(description);\n                        ref._ref = linkedNode !== null && linkedNode !== void 0 ? linkedNode : this.createLinkingError(refInfo, description);\n                    }\n                    else {\n                        // Try to load the target AST node later using the already provided description\n                        ref._ref = undefined;\n                    }\n                }\n            }\n            catch (err) {\n                console.error(`An error occurred while resolving reference to '${ref.$refText}':`, err);\n                const errorMessage = (_a = err.message) !== null && _a !== void 0 ? _a : String(err);\n                ref._ref = Object.assign(Object.assign({}, refInfo), { message: `An error occurred while resolving reference to '${ref.$refText}': ${errorMessage}` });\n            }\n            // Add the reference to the document's array of references\n            // Only add if the reference has been not been resolved earlier\n            // Otherwise we end up with duplicates\n            // See also implementation of `buildReference`\n            document.references.push(ref);\n        }\n    }\n    unlink(document) {\n        for (const ref of document.references) {\n            delete ref._ref;\n            delete ref._nodeDescription;\n        }\n        document.references = [];\n    }\n    getCandidate(refInfo) {\n        const scope = this.scopeProvider.getScope(refInfo);\n        const description = scope.getElement(refInfo.reference.$refText);\n        return description !== null && description !== void 0 ? description : this.createLinkingError(refInfo);\n    }\n    buildReference(node, property, refNode, refText) {\n        // See behavior description in doc of Linker, update that on changes in here.\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        const linker = this;\n        const reference = {\n            $refNode: refNode,\n            $refText: refText,\n            get ref() {\n                var _a;\n                if (isAstNode(this._ref)) {\n                    // Most frequent case: the target is already resolved.\n                    return this._ref;\n                }\n                else if (isAstNodeDescription(this._nodeDescription)) {\n                    // A candidate has been found before, but it is not loaded yet.\n                    const linkedNode = linker.loadAstNode(this._nodeDescription);\n                    this._ref = linkedNode !== null && linkedNode !== void 0 ? linkedNode : linker.createLinkingError({ reference, container: node, property }, this._nodeDescription);\n                }\n                else if (this._ref === undefined) {\n                    // The reference has not been linked yet, so do that now.\n                    this._ref = ref_resolving;\n                    const document = findRootNode(node).$document;\n                    const refData = linker.getLinkedNode({ reference, container: node, property });\n                    if (refData.error && document && document.state < DocumentState.ComputedScopes) {\n                        // Document scope is not ready, don't set `this._ref` so linker can retry later.\n                        return this._ref = undefined;\n                    }\n                    this._ref = (_a = refData.node) !== null && _a !== void 0 ? _a : refData.error;\n                    this._nodeDescription = refData.descr;\n                    document === null || document === void 0 ? void 0 : document.references.push(this);\n                }\n                else if (this._ref === ref_resolving) {\n                    throw new Error(`Cyclic reference resolution detected: ${linker.astNodeLocator.getAstNodePath(node)}/${property} (symbol '${refText}')`);\n                }\n                return isAstNode(this._ref) ? this._ref : undefined;\n            },\n            get $nodeDescription() {\n                return this._nodeDescription;\n            },\n            get error() {\n                return isLinkingError(this._ref) ? this._ref : undefined;\n            }\n        };\n        return reference;\n    }\n    getLinkedNode(refInfo) {\n        var _a;\n        try {\n            const description = this.getCandidate(refInfo);\n            if (isLinkingError(description)) {\n                return { error: description };\n            }\n            const linkedNode = this.loadAstNode(description);\n            if (linkedNode) {\n                return { node: linkedNode, descr: description };\n            }\n            else {\n                return {\n                    descr: description,\n                    error: this.createLinkingError(refInfo, description)\n                };\n            }\n        }\n        catch (err) {\n            console.error(`An error occurred while resolving reference to '${refInfo.reference.$refText}':`, err);\n            const errorMessage = (_a = err.message) !== null && _a !== void 0 ? _a : String(err);\n            return {\n                error: Object.assign(Object.assign({}, refInfo), { message: `An error occurred while resolving reference to '${refInfo.reference.$refText}': ${errorMessage}` })\n            };\n        }\n    }\n    loadAstNode(nodeDescription) {\n        if (nodeDescription.node) {\n            return nodeDescription.node;\n        }\n        const doc = this.langiumDocuments().getDocument(nodeDescription.documentUri);\n        if (!doc) {\n            return undefined;\n        }\n        return this.astNodeLocator.getAstNode(doc.parseResult.value, nodeDescription.path);\n    }\n    createLinkingError(refInfo, targetDescription) {\n        // Check whether the document is sufficiently processed by the DocumentBuilder. If not, this is a hint for a bug\n        // in the language implementation.\n        const document = findRootNode(refInfo.container).$document;\n        if (document && document.state < DocumentState.ComputedScopes) {\n            console.warn(`Attempted reference resolution before document reached ComputedScopes state (${document.uri}).`);\n        }\n        const referenceType = this.reflection.getReferenceType(refInfo);\n        return Object.assign(Object.assign({}, refInfo), { message: `Could not resolve reference to ${referenceType} named '${refInfo.reference.$refText}'.`, targetDescription });\n    }\n}\n//# sourceMappingURL=linker.js.map","/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { findNodeForProperty } from '../utils/grammar-utils.js';\nexport function isNamed(node) {\n    return typeof node.name === 'string';\n}\nexport class DefaultNameProvider {\n    getName(node) {\n        if (isNamed(node)) {\n            return node.name;\n        }\n        return undefined;\n    }\n    getNameNode(node) {\n        return findNodeForProperty(node.$cstNode, 'name');\n    }\n}\n//# sourceMappingURL=name-provider.js.map","/******************************************************************************\n * Copyright 2022 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { URI, Utils } from 'vscode-uri';\nexport { URI };\nexport var UriUtils;\n(function (UriUtils) {\n    UriUtils.basename = Utils.basename;\n    UriUtils.dirname = Utils.dirname;\n    UriUtils.extname = Utils.extname;\n    UriUtils.joinPath = Utils.joinPath;\n    UriUtils.resolvePath = Utils.resolvePath;\n    function equals(a, b) {\n        return (a === null || a === void 0 ? void 0 : a.toString()) === (b === null || b === void 0 ? void 0 : b.toString());\n    }\n    UriUtils.equals = equals;\n    function relative(from, to) {\n        const fromPath = typeof from === 'string' ? from : from.path;\n        const toPath = typeof to === 'string' ? to : to.path;\n        const fromParts = fromPath.split('/').filter(e => e.length > 0);\n        const toParts = toPath.split('/').filter(e => e.length > 0);\n        let i = 0;\n        for (; i < fromParts.length; i++) {\n            if (fromParts[i] !== toParts[i]) {\n                break;\n            }\n        }\n        const backPart = '../'.repeat(fromParts.length - i);\n        const toPart = toParts.slice(i).join('/');\n        return backPart + toPart;\n    }\n    UriUtils.relative = relative;\n    function normalize(uri) {\n        return URI.parse(uri.toString()).toString();\n    }\n    UriUtils.normalize = normalize;\n})(UriUtils || (UriUtils = {}));\n//# sourceMappingURL=uri-utils.js.map","/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { findAssignment } from '../utils/grammar-utils.js';\nimport { isReference } from '../syntax-tree.js';\nimport { getDocument } from '../utils/ast-utils.js';\nimport { isChildNode, toDocumentSegment } from '../utils/cst-utils.js';\nimport { stream } from '../utils/stream.js';\nimport { UriUtils } from '../utils/uri-utils.js';\nexport class DefaultReferences {\n    constructor(services) {\n        this.nameProvider = services.references.NameProvider;\n        this.index = services.shared.workspace.IndexManager;\n        this.nodeLocator = services.workspace.AstNodeLocator;\n    }\n    findDeclaration(sourceCstNode) {\n        if (sourceCstNode) {\n            const assignment = findAssignment(sourceCstNode);\n            const nodeElem = sourceCstNode.astNode;\n            if (assignment && nodeElem) {\n                const reference = nodeElem[assignment.feature];\n                if (isReference(reference)) {\n                    return reference.ref;\n                }\n                else if (Array.isArray(reference)) {\n                    for (const ref of reference) {\n                        if (isReference(ref) && ref.$refNode\n                            && ref.$refNode.offset <= sourceCstNode.offset\n                            && ref.$refNode.end >= sourceCstNode.end) {\n                            return ref.ref;\n                        }\n                    }\n                }\n            }\n            if (nodeElem) {\n                const nameNode = this.nameProvider.getNameNode(nodeElem);\n                // Only return the targeted node in case the targeted cst node is the name node or part of it\n                if (nameNode && (nameNode === sourceCstNode || isChildNode(sourceCstNode, nameNode))) {\n                    return nodeElem;\n                }\n            }\n        }\n        return undefined;\n    }\n    findDeclarationNode(sourceCstNode) {\n        const astNode = this.findDeclaration(sourceCstNode);\n        if (astNode === null || astNode === void 0 ? void 0 : astNode.$cstNode) {\n            const targetNode = this.nameProvider.getNameNode(astNode);\n            return targetNode !== null && targetNode !== void 0 ? targetNode : astNode.$cstNode;\n        }\n        return undefined;\n    }\n    findReferences(targetNode, options) {\n        const refs = [];\n        if (options.includeDeclaration) {\n            const ref = this.getReferenceToSelf(targetNode);\n            if (ref) {\n                refs.push(ref);\n            }\n        }\n        let indexReferences = this.index.findAllReferences(targetNode, this.nodeLocator.getAstNodePath(targetNode));\n        if (options.documentUri) {\n            indexReferences = indexReferences.filter(ref => UriUtils.equals(ref.sourceUri, options.documentUri));\n        }\n        refs.push(...indexReferences);\n        return stream(refs);\n    }\n    getReferenceToSelf(targetNode) {\n        const nameNode = this.nameProvider.getNameNode(targetNode);\n        if (nameNode) {\n            const doc = getDocument(targetNode);\n            const path = this.nodeLocator.getAstNodePath(targetNode);\n            return {\n                sourceUri: doc.uri,\n                sourcePath: path,\n                targetUri: doc.uri,\n                targetPath: path,\n                segment: toDocumentSegment(nameNode),\n                local: true\n            };\n        }\n        return undefined;\n    }\n}\n//# sourceMappingURL=references.js.map","/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { Reduction, stream } from './stream.js';\n/**\n * A multimap is a variation of a Map that has potentially multiple values for every key.\n */\nexport class MultiMap {\n    constructor(elements) {\n        this.map = new Map();\n        if (elements) {\n            for (const [key, value] of elements) {\n                this.add(key, value);\n            }\n        }\n    }\n    /**\n     * The total number of values in the multimap.\n     */\n    get size() {\n        return Reduction.sum(stream(this.map.values()).map(a => a.length));\n    }\n    /**\n     * Clear all entries in the multimap.\n     */\n    clear() {\n        this.map.clear();\n    }\n    /**\n     * Operates differently depending on whether a `value` is given:\n     *  * With a value, this method deletes the specific key / value pair from the multimap.\n     *  * Without a value, all values associated with the given key are deleted.\n     *\n     * @returns `true` if a value existed and has been removed, or `false` if the specified\n     *     key / value does not exist.\n     */\n    delete(key, value) {\n        if (value === undefined) {\n            return this.map.delete(key);\n        }\n        else {\n            const values = this.map.get(key);\n            if (values) {\n                const index = values.indexOf(value);\n                if (index >= 0) {\n                    if (values.length === 1) {\n                        this.map.delete(key);\n                    }\n                    else {\n                        values.splice(index, 1);\n                    }\n                    return true;\n                }\n            }\n            return false;\n        }\n    }\n    /**\n     * Returns an array of all values associated with the given key. If no value exists,\n     * an empty array is returned.\n     *\n     * _Note:_ The returned array is assumed not to be modified. Use the `set` method to add a\n     * value and `delete` to remove a value from the multimap.\n     */\n    get(key) {\n        var _a;\n        return (_a = this.map.get(key)) !== null && _a !== void 0 ? _a : [];\n    }\n    /**\n     * Operates differently depending on whether a `value` is given:\n     *  * With a value, this method returns `true` if the specific key / value pair is present in the multimap.\n     *  * Without a value, this method returns `true` if the given key is present in the multimap.\n     */\n    has(key, value) {\n        if (value === undefined) {\n            return this.map.has(key);\n        }\n        else {\n            const values = this.map.get(key);\n            if (values) {\n                return values.indexOf(value) >= 0;\n            }\n            return false;\n        }\n    }\n    /**\n     * Add the given key / value pair to the multimap.\n     */\n    add(key, value) {\n        if (this.map.has(key)) {\n            this.map.get(key).push(value);\n        }\n        else {\n            this.map.set(key, [value]);\n        }\n        return this;\n    }\n    /**\n     * Add the given set of key / value pairs to the multimap.\n     */\n    addAll(key, values) {\n        if (this.map.has(key)) {\n            this.map.get(key).push(...values);\n        }\n        else {\n            this.map.set(key, Array.from(values));\n        }\n        return this;\n    }\n    /**\n     * Invokes the given callback function for every key / value pair in the multimap.\n     */\n    forEach(callbackfn) {\n        this.map.forEach((array, key) => array.forEach(value => callbackfn(value, key, this)));\n    }\n    /**\n     * Returns an iterator of key, value pairs for every entry in the map.\n     */\n    [Symbol.iterator]() {\n        return this.entries().iterator();\n    }\n    /**\n     * Returns a stream of key, value pairs for every entry in the map.\n     */\n    entries() {\n        return stream(this.map.entries())\n            .flatMap(([key, array]) => array.map(value => [key, value]));\n    }\n    /**\n     * Returns a stream of keys in the map.\n     */\n    keys() {\n        return stream(this.map.keys());\n    }\n    /**\n     * Returns a stream of values in the map.\n     */\n    values() {\n        return stream(this.map.values()).flat();\n    }\n    /**\n     * Returns a stream of key, value set pairs for every key in the map.\n     */\n    entriesGroupedByKey() {\n        return stream(this.map.entries());\n    }\n}\nexport class BiMap {\n    get size() {\n        return this.map.size;\n    }\n    constructor(elements) {\n        this.map = new Map();\n        this.inverse = new Map();\n        if (elements) {\n            for (const [key, value] of elements) {\n                this.set(key, value);\n            }\n        }\n    }\n    clear() {\n        this.map.clear();\n        this.inverse.clear();\n    }\n    set(key, value) {\n        this.map.set(key, value);\n        this.inverse.set(value, key);\n        return this;\n    }\n    get(key) {\n        return this.map.get(key);\n    }\n    getKey(value) {\n        return this.inverse.get(value);\n    }\n    delete(key) {\n        const value = this.map.get(key);\n        if (value !== undefined) {\n            this.map.delete(key);\n            this.inverse.delete(value);\n            return true;\n        }\n        return false;\n    }\n}\n//# sourceMappingURL=collections.js.map","/******************************************************************************\n * Copyright 2021-2022 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { CancellationToken } from '../utils/cancellation.js';\nimport { streamAllContents, streamContents } from '../utils/ast-utils.js';\nimport { MultiMap } from '../utils/collections.js';\nimport { interruptAndCheck } from '../utils/promise-utils.js';\n/**\n * The default scope computation creates and collectes descriptions of the AST nodes to be exported into the\n * _global_ scope from the given document. By default those are the document's root AST node and its directly\n * contained child nodes.\n *\n * Besides, it gathers all AST nodes that have a name (according to the `NameProvider` service) and includes them\n * in the local scope of their particular container nodes. As a result, for every cross-reference in the AST,\n * target elements from the same level (siblings) and further up towards the root (parents and siblings of parents)\n * are visible. Elements being nested inside lower levels (children, children of siblings and parents' siblings)\n * are _invisible_ by default, but that can be changed by customizing this service.\n */\nexport class DefaultScopeComputation {\n    constructor(services) {\n        this.nameProvider = services.references.NameProvider;\n        this.descriptions = services.workspace.AstNodeDescriptionProvider;\n    }\n    async computeExports(document, cancelToken = CancellationToken.None) {\n        return this.computeExportsForNode(document.parseResult.value, document, undefined, cancelToken);\n    }\n    /**\n     * Creates {@link AstNodeDescription AstNodeDescriptions} for the given {@link AstNode parentNode} and its children.\n     * The list of children to be considered is determined by the function parameter {@link children}.\n     * By default only the direct children of {@link parentNode} are visited, nested nodes are not exported.\n     *\n     * @param parentNode AST node to be exported, i.e., of which an {@link AstNodeDescription} shall be added to the returned list.\n     * @param document The document containing the AST node to be exported.\n     * @param children A function called with {@link parentNode} as single argument and returning an {@link Iterable} supplying the children to be visited, which must be directly or transitively contained in {@link parentNode}.\n     * @param cancelToken Indicates when to cancel the current operation.\n     * @throws `OperationCancelled` if a user action occurs during execution.\n     * @returns A list of {@link AstNodeDescription AstNodeDescriptions} to be published to index.\n     */\n    async computeExportsForNode(parentNode, document, children = streamContents, cancelToken = CancellationToken.None) {\n        const exports = [];\n        this.exportNode(parentNode, exports, document);\n        for (const node of children(parentNode)) {\n            await interruptAndCheck(cancelToken);\n            this.exportNode(node, exports, document);\n        }\n        return exports;\n    }\n    /**\n     * Add a single node to the list of exports if it has a name. Override this method to change how\n     * symbols are exported, e.g. by modifying their exported name.\n     */\n    exportNode(node, exports, document) {\n        const name = this.nameProvider.getName(node);\n        if (name) {\n            exports.push(this.descriptions.createDescription(node, name, document));\n        }\n    }\n    async computeLocalScopes(document, cancelToken = CancellationToken.None) {\n        const rootNode = document.parseResult.value;\n        const scopes = new MultiMap();\n        // Here we navigate the full AST - local scopes shall be available in the whole document\n        for (const node of streamAllContents(rootNode)) {\n            await interruptAndCheck(cancelToken);\n            this.processNode(node, document, scopes);\n        }\n        return scopes;\n    }\n    /**\n     * Process a single node during scopes computation. The default implementation makes the node visible\n     * in the subtree of its container (if the node has a name). Override this method to change this,\n     * e.g. by increasing the visibility to a higher level in the AST.\n     */\n    processNode(node, document, scopes) {\n        const container = node.$container;\n        if (container) {\n            const name = this.nameProvider.getName(node);\n            if (name) {\n                scopes.add(container, this.descriptions.createDescription(node, name, document));\n            }\n        }\n    }\n}\n//# sourceMappingURL=scope-computation.js.map","/******************************************************************************\n * Copyright 2023 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { EMPTY_STREAM, stream } from '../utils/stream.js';\n/**\n * The default scope implementation is based on a `Stream`. It has an optional _outer scope_ describing\n * the next level of elements, which are queried when a target element is not found in the stream provided\n * to this scope.\n */\nexport class StreamScope {\n    constructor(elements, outerScope, options) {\n        var _a;\n        this.elements = elements;\n        this.outerScope = outerScope;\n        this.caseInsensitive = (_a = options === null || options === void 0 ? void 0 : options.caseInsensitive) !== null && _a !== void 0 ? _a : false;\n    }\n    getAllElements() {\n        if (this.outerScope) {\n            return this.elements.concat(this.outerScope.getAllElements());\n        }\n        else {\n            return this.elements;\n        }\n    }\n    getElement(name) {\n        const local = this.caseInsensitive\n            ? this.elements.find(e => e.name.toLowerCase() === name.toLowerCase())\n            : this.elements.find(e => e.name === name);\n        if (local) {\n            return local;\n        }\n        if (this.outerScope) {\n            return this.outerScope.getElement(name);\n        }\n        return undefined;\n    }\n}\nexport class MapScope {\n    constructor(elements, outerScope, options) {\n        var _a;\n        this.elements = new Map();\n        this.caseInsensitive = (_a = options === null || options === void 0 ? void 0 : options.caseInsensitive) !== null && _a !== void 0 ? _a : false;\n        for (const element of elements) {\n            const name = this.caseInsensitive\n                ? element.name.toLowerCase()\n                : element.name;\n            this.elements.set(name, element);\n        }\n        this.outerScope = outerScope;\n    }\n    getElement(name) {\n        const localName = this.caseInsensitive ? name.toLowerCase() : name;\n        const local = this.elements.get(localName);\n        if (local) {\n            return local;\n        }\n        if (this.outerScope) {\n            return this.outerScope.getElement(name);\n        }\n        return undefined;\n    }\n    getAllElements() {\n        let elementStream = stream(this.elements.values());\n        if (this.outerScope) {\n            elementStream = elementStream.concat(this.outerScope.getAllElements());\n        }\n        return elementStream;\n    }\n}\nexport const EMPTY_SCOPE = {\n    getElement() {\n        return undefined;\n    },\n    getAllElements() {\n        return EMPTY_STREAM;\n    }\n};\n//# sourceMappingURL=scope.js.map","/******************************************************************************\n * Copyright 2023 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nexport class DisposableCache {\n    constructor() {\n        this.toDispose = [];\n        this.isDisposed = false;\n    }\n    onDispose(disposable) {\n        this.toDispose.push(disposable);\n    }\n    dispose() {\n        this.throwIfDisposed();\n        this.clear();\n        this.isDisposed = true;\n        this.toDispose.forEach(disposable => disposable.dispose());\n    }\n    throwIfDisposed() {\n        if (this.isDisposed) {\n            throw new Error('This cache has already been disposed');\n        }\n    }\n}\nexport class SimpleCache extends DisposableCache {\n    constructor() {\n        super(...arguments);\n        this.cache = new Map();\n    }\n    has(key) {\n        this.throwIfDisposed();\n        return this.cache.has(key);\n    }\n    set(key, value) {\n        this.throwIfDisposed();\n        this.cache.set(key, value);\n    }\n    get(key, provider) {\n        this.throwIfDisposed();\n        if (this.cache.has(key)) {\n            return this.cache.get(key);\n        }\n        else if (provider) {\n            const value = provider();\n            this.cache.set(key, value);\n            return value;\n        }\n        else {\n            return undefined;\n        }\n    }\n    delete(key) {\n        this.throwIfDisposed();\n        return this.cache.delete(key);\n    }\n    clear() {\n        this.throwIfDisposed();\n        this.cache.clear();\n    }\n}\nexport class ContextCache extends DisposableCache {\n    constructor(converter) {\n        super();\n        this.cache = new Map();\n        this.converter = converter !== null && converter !== void 0 ? converter : (value => value);\n    }\n    has(contextKey, key) {\n        this.throwIfDisposed();\n        return this.cacheForContext(contextKey).has(key);\n    }\n    set(contextKey, key, value) {\n        this.throwIfDisposed();\n        this.cacheForContext(contextKey).set(key, value);\n    }\n    get(contextKey, key, provider) {\n        this.throwIfDisposed();\n        const contextCache = this.cacheForContext(contextKey);\n        if (contextCache.has(key)) {\n            return contextCache.get(key);\n        }\n        else if (provider) {\n            const value = provider();\n            contextCache.set(key, value);\n            return value;\n        }\n        else {\n            return undefined;\n        }\n    }\n    delete(contextKey, key) {\n        this.throwIfDisposed();\n        return this.cacheForContext(contextKey).delete(key);\n    }\n    clear(contextKey) {\n        this.throwIfDisposed();\n        if (contextKey) {\n            const mapKey = this.converter(contextKey);\n            this.cache.delete(mapKey);\n        }\n        else {\n            this.cache.clear();\n        }\n    }\n    cacheForContext(contextKey) {\n        const mapKey = this.converter(contextKey);\n        let documentCache = this.cache.get(mapKey);\n        if (!documentCache) {\n            documentCache = new Map();\n            this.cache.set(mapKey, documentCache);\n        }\n        return documentCache;\n    }\n}\n/**\n * Every key/value pair in this cache is scoped to a document.\n * If this document is changed or deleted, all associated key/value pairs are deleted.\n */\nexport class DocumentCache extends ContextCache {\n    /**\n     * Creates a new document cache.\n     *\n     * @param sharedServices Service container instance to hook into document lifecycle events.\n     * @param state Optional document state on which the cache should evict.\n     * If not provided, the cache will evict on `DocumentBuilder#onUpdate`.\n     * *Deleted* documents are considered in both cases.\n     *\n     * Providing a state here will use `DocumentBuilder#onDocumentPhase` instead,\n     * which triggers on all documents that have been affected by this change, assuming that the\n     * state is `DocumentState.Linked` or a later state.\n     */\n    constructor(sharedServices, state) {\n        super(uri => uri.toString());\n        if (state) {\n            this.toDispose.push(sharedServices.workspace.DocumentBuilder.onDocumentPhase(state, document => {\n                this.clear(document.uri.toString());\n            }));\n            this.toDispose.push(sharedServices.workspace.DocumentBuilder.onUpdate((_changed, deleted) => {\n                for (const uri of deleted) { // react only on deleted documents\n                    this.clear(uri);\n                }\n            }));\n        }\n        else {\n            this.toDispose.push(sharedServices.workspace.DocumentBuilder.onUpdate((changed, deleted) => {\n                const allUris = changed.concat(deleted); // react on both changed and deleted documents\n                for (const uri of allUris) {\n                    this.clear(uri);\n                }\n            }));\n        }\n    }\n}\n/**\n * Every key/value pair in this cache is scoped to the whole workspace.\n * If any document in the workspace is added, changed or deleted, the whole cache is evicted.\n */\nexport class WorkspaceCache extends SimpleCache {\n    /**\n     * Creates a new workspace cache.\n     *\n     * @param sharedServices Service container instance to hook into document lifecycle events.\n     * @param state Optional document state on which the cache should evict.\n     * If not provided, the cache will evict on `DocumentBuilder#onUpdate`.\n     * *Deleted* documents are considered in both cases.\n     */\n    constructor(sharedServices, state) {\n        super();\n        if (state) {\n            this.toDispose.push(sharedServices.workspace.DocumentBuilder.onBuildPhase(state, () => {\n                this.clear();\n            }));\n            this.toDispose.push(sharedServices.workspace.DocumentBuilder.onUpdate((_changed, deleted) => {\n                if (deleted.length > 0) { // react only on deleted documents\n                    this.clear();\n                }\n            }));\n        }\n        else {\n            this.toDispose.push(sharedServices.workspace.DocumentBuilder.onUpdate(() => {\n                this.clear();\n            }));\n        }\n    }\n}\n//# sourceMappingURL=caching.js.map","/******************************************************************************\n * Copyright 2021-2022 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { MapScope, StreamScope } from './scope.js';\nimport { getDocument } from '../utils/ast-utils.js';\nimport { stream } from '../utils/stream.js';\nimport { WorkspaceCache } from '../utils/caching.js';\nexport class DefaultScopeProvider {\n    constructor(services) {\n        this.reflection = services.shared.AstReflection;\n        this.nameProvider = services.references.NameProvider;\n        this.descriptions = services.workspace.AstNodeDescriptionProvider;\n        this.indexManager = services.shared.workspace.IndexManager;\n        this.globalScopeCache = new WorkspaceCache(services.shared);\n    }\n    getScope(context) {\n        const scopes = [];\n        const referenceType = this.reflection.getReferenceType(context);\n        const precomputed = getDocument(context.container).precomputedScopes;\n        if (precomputed) {\n            let currentNode = context.container;\n            do {\n                const allDescriptions = precomputed.get(currentNode);\n                if (allDescriptions.length > 0) {\n                    scopes.push(stream(allDescriptions).filter(desc => this.reflection.isSubtype(desc.type, referenceType)));\n                }\n                currentNode = currentNode.$container;\n            } while (currentNode);\n        }\n        let result = this.getGlobalScope(referenceType, context);\n        for (let i = scopes.length - 1; i >= 0; i--) {\n            result = this.createScope(scopes[i], result);\n        }\n        return result;\n    }\n    /**\n     * Create a scope for the given collection of AST node descriptions.\n     */\n    createScope(elements, outerScope, options) {\n        return new StreamScope(stream(elements), outerScope, options);\n    }\n    /**\n     * Create a scope for the given collection of AST nodes, which need to be transformed into respective\n     * descriptions first. This is done using the `NameProvider` and `AstNodeDescriptionProvider` services.\n     */\n    createScopeForNodes(elements, outerScope, options) {\n        const s = stream(elements).map(e => {\n            const name = this.nameProvider.getName(e);\n            if (name) {\n                return this.descriptions.createDescription(e, name);\n            }\n            return undefined;\n        }).nonNullable();\n        return new StreamScope(s, outerScope, options);\n    }\n    /**\n     * Create a global scope filtered for the given reference type.\n     */\n    getGlobalScope(referenceType, _context) {\n        return this.globalScopeCache.get(referenceType, () => new MapScope(this.indexManager.allElements(referenceType)));\n    }\n}\n//# sourceMappingURL=scope-provider.js.map","/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { URI } from 'vscode-uri';\nimport { isAstNode, isReference } from '../syntax-tree.js';\nimport { getDocument } from '../utils/ast-utils.js';\nimport { findNodesForProperty } from '../utils/grammar-utils.js';\nexport function isAstNodeWithComment(node) {\n    return typeof node.$comment === 'string';\n}\nfunction isIntermediateReference(obj) {\n    return typeof obj === 'object' && !!obj && ('$ref' in obj || '$error' in obj);\n}\nexport class DefaultJsonSerializer {\n    constructor(services) {\n        /** The set of AstNode properties to be ignored by the serializer. */\n        this.ignoreProperties = new Set(['$container', '$containerProperty', '$containerIndex', '$document', '$cstNode']);\n        this.langiumDocuments = services.shared.workspace.LangiumDocuments;\n        this.astNodeLocator = services.workspace.AstNodeLocator;\n        this.nameProvider = services.references.NameProvider;\n        this.commentProvider = services.documentation.CommentProvider;\n    }\n    serialize(node, options) {\n        const serializeOptions = options !== null && options !== void 0 ? options : {};\n        const specificReplacer = options === null || options === void 0 ? void 0 : options.replacer;\n        const defaultReplacer = (key, value) => this.replacer(key, value, serializeOptions);\n        const replacer = specificReplacer ? (key, value) => specificReplacer(key, value, defaultReplacer) : defaultReplacer;\n        try {\n            this.currentDocument = getDocument(node);\n            return JSON.stringify(node, replacer, options === null || options === void 0 ? void 0 : options.space);\n        }\n        finally {\n            this.currentDocument = undefined;\n        }\n    }\n    deserialize(content, options) {\n        const deserializeOptions = options !== null && options !== void 0 ? options : {};\n        const root = JSON.parse(content);\n        this.linkNode(root, root, deserializeOptions);\n        return root;\n    }\n    replacer(key, value, { refText, sourceText, textRegions, comments, uriConverter }) {\n        var _a, _b, _c, _d;\n        if (this.ignoreProperties.has(key)) {\n            return undefined;\n        }\n        else if (isReference(value)) {\n            const refValue = value.ref;\n            const $refText = refText ? value.$refText : undefined;\n            if (refValue) {\n                const targetDocument = getDocument(refValue);\n                let targetUri = '';\n                if (this.currentDocument && this.currentDocument !== targetDocument) {\n                    if (uriConverter) {\n                        targetUri = uriConverter(targetDocument.uri, value);\n                    }\n                    else {\n                        targetUri = targetDocument.uri.toString();\n                    }\n                }\n                const targetPath = this.astNodeLocator.getAstNodePath(refValue);\n                return {\n                    $ref: `${targetUri}#${targetPath}`,\n                    $refText\n                };\n            }\n            else {\n                return {\n                    $error: (_b = (_a = value.error) === null || _a === void 0 ? void 0 : _a.message) !== null && _b !== void 0 ? _b : 'Could not resolve reference',\n                    $refText\n                };\n            }\n        }\n        else if (isAstNode(value)) {\n            let astNode = undefined;\n            if (textRegions) {\n                astNode = this.addAstNodeRegionWithAssignmentsTo(Object.assign({}, value));\n                if ((!key || value.$document) && (astNode === null || astNode === void 0 ? void 0 : astNode.$textRegion)) {\n                    // The document URI is added to the root node of the resulting JSON tree\n                    astNode.$textRegion.documentURI = (_c = this.currentDocument) === null || _c === void 0 ? void 0 : _c.uri.toString();\n                }\n            }\n            if (sourceText && !key) {\n                astNode !== null && astNode !== void 0 ? astNode : (astNode = Object.assign({}, value));\n                astNode.$sourceText = (_d = value.$cstNode) === null || _d === void 0 ? void 0 : _d.text;\n            }\n            if (comments) {\n                astNode !== null && astNode !== void 0 ? astNode : (astNode = Object.assign({}, value));\n                const comment = this.commentProvider.getComment(value);\n                if (comment) {\n                    astNode.$comment = comment.replace(/\\r/g, '');\n                }\n            }\n            return astNode !== null && astNode !== void 0 ? astNode : value;\n        }\n        else {\n            return value;\n        }\n    }\n    addAstNodeRegionWithAssignmentsTo(node) {\n        const createDocumentSegment = cstNode => ({\n            offset: cstNode.offset,\n            end: cstNode.end,\n            length: cstNode.length,\n            range: cstNode.range,\n        });\n        if (node.$cstNode) {\n            const textRegion = node.$textRegion = createDocumentSegment(node.$cstNode);\n            const assignments = textRegion.assignments = {};\n            Object.keys(node).filter(key => !key.startsWith('$')).forEach(key => {\n                const propertyAssignments = findNodesForProperty(node.$cstNode, key).map(createDocumentSegment);\n                if (propertyAssignments.length !== 0) {\n                    assignments[key] = propertyAssignments;\n                }\n            });\n            return node;\n        }\n        return undefined;\n    }\n    linkNode(node, root, options, container, containerProperty, containerIndex) {\n        for (const [propertyName, item] of Object.entries(node)) {\n            if (Array.isArray(item)) {\n                for (let index = 0; index < item.length; index++) {\n                    const element = item[index];\n                    if (isIntermediateReference(element)) {\n                        item[index] = this.reviveReference(node, propertyName, root, element, options);\n                    }\n                    else if (isAstNode(element)) {\n                        this.linkNode(element, root, options, node, propertyName, index);\n                    }\n                }\n            }\n            else if (isIntermediateReference(item)) {\n                node[propertyName] = this.reviveReference(node, propertyName, root, item, options);\n            }\n            else if (isAstNode(item)) {\n                this.linkNode(item, root, options, node, propertyName);\n            }\n        }\n        const mutable = node;\n        mutable.$container = container;\n        mutable.$containerProperty = containerProperty;\n        mutable.$containerIndex = containerIndex;\n    }\n    reviveReference(container, property, root, reference, options) {\n        let refText = reference.$refText;\n        let error = reference.$error;\n        if (reference.$ref) {\n            const ref = this.getRefNode(root, reference.$ref, options.uriConverter);\n            if (isAstNode(ref)) {\n                if (!refText) {\n                    refText = this.nameProvider.getName(ref);\n                }\n                return {\n                    $refText: refText !== null && refText !== void 0 ? refText : '',\n                    ref\n                };\n            }\n            else {\n                error = ref;\n            }\n        }\n        if (error) {\n            const ref = {\n                $refText: refText !== null && refText !== void 0 ? refText : ''\n            };\n            ref.error = {\n                container,\n                property,\n                message: error,\n                reference: ref\n            };\n            return ref;\n        }\n        else {\n            return undefined;\n        }\n    }\n    getRefNode(root, uri, uriConverter) {\n        try {\n            const fragmentIndex = uri.indexOf('#');\n            if (fragmentIndex === 0) {\n                const node = this.astNodeLocator.getAstNode(root, uri.substring(1));\n                if (!node) {\n                    return 'Could not resolve path: ' + uri;\n                }\n                return node;\n            }\n            if (fragmentIndex < 0) {\n                const documentUri = uriConverter ? uriConverter(uri) : URI.parse(uri);\n                const document = this.langiumDocuments.getDocument(documentUri);\n                if (!document) {\n                    return 'Could not find document for URI: ' + uri;\n                }\n                return document.parseResult.value;\n            }\n            const documentUri = uriConverter ? uriConverter(uri.substring(0, fragmentIndex)) : URI.parse(uri.substring(0, fragmentIndex));\n            const document = this.langiumDocuments.getDocument(documentUri);\n            if (!document) {\n                return 'Could not find document for URI: ' + uri;\n            }\n            if (fragmentIndex === uri.length - 1) {\n                return document.parseResult.value;\n            }\n            const node = this.astNodeLocator.getAstNode(document.parseResult.value, uri.substring(fragmentIndex + 1));\n            if (!node) {\n                return 'Could not resolve URI: ' + uri;\n            }\n            return node;\n        }\n        catch (err) {\n            return String(err);\n        }\n    }\n}\n//# sourceMappingURL=json-serializer.js.map","/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { UriUtils } from './utils/uri-utils.js';\n/**\n * Generic registry for Langium services, but capable of being used with extending service sets as well (such as the lsp-complete LangiumCoreServices set)\n */\nexport class DefaultServiceRegistry {\n    /**\n     * @deprecated Use the new `fileExtensionMap` (or `languageIdMap`) property instead.\n     */\n    get map() {\n        return this.fileExtensionMap;\n    }\n    constructor(services) {\n        this.languageIdMap = new Map();\n        this.fileExtensionMap = new Map();\n        this.textDocuments = services === null || services === void 0 ? void 0 : services.workspace.TextDocuments;\n    }\n    register(language) {\n        const data = language.LanguageMetaData;\n        for (const ext of data.fileExtensions) {\n            if (this.fileExtensionMap.has(ext)) {\n                console.warn(`The file extension ${ext} is used by multiple languages. It is now assigned to '${data.languageId}'.`);\n            }\n            this.fileExtensionMap.set(ext, language);\n        }\n        this.languageIdMap.set(data.languageId, language);\n        if (this.languageIdMap.size === 1) {\n            this.singleton = language;\n        }\n        else {\n            this.singleton = undefined;\n        }\n    }\n    getServices(uri) {\n        var _a, _b;\n        if (this.singleton !== undefined) {\n            return this.singleton;\n        }\n        if (this.languageIdMap.size === 0) {\n            throw new Error('The service registry is empty. Use `register` to register the services of a language.');\n        }\n        const languageId = (_b = (_a = this.textDocuments) === null || _a === void 0 ? void 0 : _a.get(uri)) === null || _b === void 0 ? void 0 : _b.languageId;\n        if (languageId !== undefined) {\n            const services = this.languageIdMap.get(languageId);\n            if (services) {\n                return services;\n            }\n        }\n        const ext = UriUtils.extname(uri);\n        const services = this.fileExtensionMap.get(ext);\n        if (!services) {\n            if (languageId) {\n                throw new Error(`The service registry contains no services for the extension '${ext}' for language '${languageId}'.`);\n            }\n            else {\n                throw new Error(`The service registry contains no services for the extension '${ext}'.`);\n            }\n        }\n        return services;\n    }\n    hasServices(uri) {\n        try {\n            this.getServices(uri);\n            return true;\n        }\n        catch (_a) {\n            return false;\n        }\n    }\n    get all() {\n        return Array.from(this.languageIdMap.values());\n    }\n}\n//# sourceMappingURL=service-registry.js.map","/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { assertUnreachable } from '../index.js';\nimport { MultiMap } from '../utils/collections.js';\nimport { isOperationCancelled } from '../utils/promise-utils.js';\nimport { stream } from '../utils/stream.js';\n/**\n * Create DiagnosticData for a given diagnostic code. The result can be put into the `data` field of a DiagnosticInfo.\n */\nexport function diagnosticData(code) {\n    return { code };\n}\nexport var ValidationCategory;\n(function (ValidationCategory) {\n    ValidationCategory.all = ['fast', 'slow', 'built-in'];\n})(ValidationCategory || (ValidationCategory = {}));\n/**\n * Manages a set of `ValidationCheck`s to be applied when documents are validated.\n */\nexport class ValidationRegistry {\n    constructor(services) {\n        this.entries = new MultiMap();\n        this.entriesBefore = [];\n        this.entriesAfter = [];\n        this.reflection = services.shared.AstReflection;\n    }\n    /**\n     * Register a set of validation checks. Each value in the record can be either a single validation check (i.e. a function)\n     * or an array of validation checks.\n     *\n     * @param checksRecord Set of validation checks to register.\n     * @param category Optional category for the validation checks (defaults to `'fast'`).\n     * @param thisObj Optional object to be used as `this` when calling the validation check functions.\n     */\n    register(checksRecord, thisObj = this, category = 'fast') {\n        if (category === 'built-in') {\n            throw new Error(\"The 'built-in' category is reserved for lexer, parser, and linker errors.\");\n        }\n        for (const [type, ch] of Object.entries(checksRecord)) {\n            const callbacks = ch;\n            if (Array.isArray(callbacks)) {\n                for (const check of callbacks) {\n                    const entry = {\n                        check: this.wrapValidationException(check, thisObj),\n                        category\n                    };\n                    this.addEntry(type, entry);\n                }\n            }\n            else if (typeof callbacks === 'function') {\n                const entry = {\n                    check: this.wrapValidationException(callbacks, thisObj),\n                    category\n                };\n                this.addEntry(type, entry);\n            }\n            else {\n                assertUnreachable(callbacks);\n            }\n        }\n    }\n    wrapValidationException(check, thisObj) {\n        return async (node, accept, cancelToken) => {\n            await this.handleException(() => check.call(thisObj, node, accept, cancelToken), 'An error occurred during validation', accept, node);\n        };\n    }\n    async handleException(functionality, messageContext, accept, node) {\n        try {\n            await functionality();\n        }\n        catch (err) {\n            if (isOperationCancelled(err)) {\n                throw err;\n            }\n            console.error(`${messageContext}:`, err);\n            if (err instanceof Error && err.stack) {\n                console.error(err.stack);\n            }\n            const messageDetails = err instanceof Error ? err.message : String(err);\n            accept('error', `${messageContext}: ${messageDetails}`, { node });\n        }\n    }\n    addEntry(type, entry) {\n        if (type === 'AstNode') {\n            this.entries.add('AstNode', entry);\n            return;\n        }\n        for (const subtype of this.reflection.getAllSubTypes(type)) {\n            this.entries.add(subtype, entry);\n        }\n    }\n    getChecks(type, categories) {\n        let checks = stream(this.entries.get(type))\n            .concat(this.entries.get('AstNode'));\n        if (categories) {\n            checks = checks.filter(entry => categories.includes(entry.category));\n        }\n        return checks.map(entry => entry.check);\n    }\n    /**\n     * Register logic which will be executed once before validating all the nodes of an AST/Langium document.\n     * This helps to prepare or initialize some information which are required or reusable for the following checks on the AstNodes.\n     *\n     * As an example, for validating unique fully-qualified names of nodes in the AST,\n     * here the map for mapping names to nodes could be established.\n     * During the usual checks on the nodes, they are put into this map with their name.\n     *\n     * Note that this approach makes validations stateful, which is relevant e.g. when cancelling the validation.\n     * Therefore it is recommended to clear stored information\n     * _before_ validating an AST to validate each AST unaffected from other ASTs\n     * AND _after_ validating the AST to free memory by information which are no longer used.\n     *\n     * @param checkBefore a set-up function which will be called once before actually validating an AST\n     * @param thisObj Optional object to be used as `this` when calling the validation check functions.\n     */\n    registerBeforeDocument(checkBefore, thisObj = this) {\n        this.entriesBefore.push(this.wrapPreparationException(checkBefore, 'An error occurred during set-up of the validation', thisObj));\n    }\n    /**\n     * Register logic which will be executed once after validating all the nodes of an AST/Langium document.\n     * This helps to finally evaluate information which are collected during the checks on the AstNodes.\n     *\n     * As an example, for validating unique fully-qualified names of nodes in the AST,\n     * here the map with all the collected nodes and their names is checked\n     * and validation hints are created for all nodes with the same name.\n     *\n     * Note that this approach makes validations stateful, which is relevant e.g. when cancelling the validation.\n     * Therefore it is recommended to clear stored information\n     * _before_ validating an AST to validate each AST unaffected from other ASTs\n     * AND _after_ validating the AST to free memory by information which are no longer used.\n     *\n     * @param checkBefore a set-up function which will be called once before actually validating an AST\n     * @param thisObj Optional object to be used as `this` when calling the validation check functions.\n     */\n    registerAfterDocument(checkAfter, thisObj = this) {\n        this.entriesAfter.push(this.wrapPreparationException(checkAfter, 'An error occurred during tear-down of the validation', thisObj));\n    }\n    wrapPreparationException(check, messageContext, thisObj) {\n        return async (rootNode, accept, categories, cancelToken) => {\n            await this.handleException(() => check.call(thisObj, rootNode, accept, categories, cancelToken), messageContext, accept, rootNode);\n        };\n    }\n    get checksBefore() {\n        return this.entriesBefore;\n    }\n    get checksAfter() {\n        return this.entriesAfter;\n    }\n}\n//# sourceMappingURL=validation-registry.js.map","/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { CancellationToken } from '../utils/cancellation.js';\nimport { findNodeForKeyword, findNodeForProperty } from '../utils/grammar-utils.js';\nimport { streamAst } from '../utils/ast-utils.js';\nimport { tokenToRange } from '../utils/cst-utils.js';\nimport { interruptAndCheck, isOperationCancelled } from '../utils/promise-utils.js';\nimport { diagnosticData } from './validation-registry.js';\nexport class DefaultDocumentValidator {\n    constructor(services) {\n        this.validationRegistry = services.validation.ValidationRegistry;\n        this.metadata = services.LanguageMetaData;\n    }\n    async validateDocument(document, options = {}, cancelToken = CancellationToken.None) {\n        const parseResult = document.parseResult;\n        const diagnostics = [];\n        await interruptAndCheck(cancelToken);\n        if (!options.categories || options.categories.includes('built-in')) {\n            this.processLexingErrors(parseResult, diagnostics, options);\n            if (options.stopAfterLexingErrors && diagnostics.some(d => { var _a; return ((_a = d.data) === null || _a === void 0 ? void 0 : _a.code) === DocumentValidator.LexingError; })) {\n                return diagnostics;\n            }\n            this.processParsingErrors(parseResult, diagnostics, options);\n            if (options.stopAfterParsingErrors && diagnostics.some(d => { var _a; return ((_a = d.data) === null || _a === void 0 ? void 0 : _a.code) === DocumentValidator.ParsingError; })) {\n                return diagnostics;\n            }\n            this.processLinkingErrors(document, diagnostics, options);\n            if (options.stopAfterLinkingErrors && diagnostics.some(d => { var _a; return ((_a = d.data) === null || _a === void 0 ? void 0 : _a.code) === DocumentValidator.LinkingError; })) {\n                return diagnostics;\n            }\n        }\n        // Process custom validations\n        try {\n            diagnostics.push(...await this.validateAst(parseResult.value, options, cancelToken));\n        }\n        catch (err) {\n            if (isOperationCancelled(err)) {\n                throw err;\n            }\n            console.error('An error occurred during validation:', err);\n        }\n        await interruptAndCheck(cancelToken);\n        return diagnostics;\n    }\n    processLexingErrors(parseResult, diagnostics, _options) {\n        var _a, _b, _c;\n        const lexerDiagnostics = [...parseResult.lexerErrors, ...(_b = (_a = parseResult.lexerReport) === null || _a === void 0 ? void 0 : _a.diagnostics) !== null && _b !== void 0 ? _b : []];\n        for (const lexerDiagnostic of lexerDiagnostics) {\n            const severity = (_c = lexerDiagnostic.severity) !== null && _c !== void 0 ? _c : 'error';\n            const diagnostic = {\n                severity: toDiagnosticSeverity(severity),\n                range: {\n                    start: {\n                        line: lexerDiagnostic.line - 1,\n                        character: lexerDiagnostic.column - 1\n                    },\n                    end: {\n                        line: lexerDiagnostic.line - 1,\n                        character: lexerDiagnostic.column + lexerDiagnostic.length - 1\n                    }\n                },\n                message: lexerDiagnostic.message,\n                data: toDiagnosticData(severity),\n                source: this.getSource()\n            };\n            diagnostics.push(diagnostic);\n        }\n    }\n    processParsingErrors(parseResult, diagnostics, _options) {\n        for (const parserError of parseResult.parserErrors) {\n            let range = undefined;\n            // We can run into the chevrotain error recovery here\n            // The token contained in the parser error might be automatically inserted\n            // In this case every position value will be `NaN`\n            if (isNaN(parserError.token.startOffset)) {\n                // Some special parser error types contain a `previousToken`\n                // We can simply append our diagnostic to that token\n                if ('previousToken' in parserError) {\n                    const token = parserError.previousToken;\n                    if (!isNaN(token.startOffset)) {\n                        const position = { line: token.endLine - 1, character: token.endColumn };\n                        range = { start: position, end: position };\n                    }\n                    else {\n                        // No valid prev token. Might be empty document or containing only hidden tokens.\n                        // Point to document start\n                        const position = { line: 0, character: 0 };\n                        range = { start: position, end: position };\n                    }\n                }\n            }\n            else {\n                range = tokenToRange(parserError.token);\n            }\n            if (range) {\n                const diagnostic = {\n                    severity: toDiagnosticSeverity('error'),\n                    range,\n                    message: parserError.message,\n                    data: diagnosticData(DocumentValidator.ParsingError),\n                    source: this.getSource()\n                };\n                diagnostics.push(diagnostic);\n            }\n        }\n    }\n    processLinkingErrors(document, diagnostics, _options) {\n        for (const reference of document.references) {\n            const linkingError = reference.error;\n            if (linkingError) {\n                const info = {\n                    node: linkingError.container,\n                    property: linkingError.property,\n                    index: linkingError.index,\n                    data: {\n                        code: DocumentValidator.LinkingError,\n                        containerType: linkingError.container.$type,\n                        property: linkingError.property,\n                        refText: linkingError.reference.$refText\n                    }\n                };\n                diagnostics.push(this.toDiagnostic('error', linkingError.message, info));\n            }\n        }\n    }\n    async validateAst(rootNode, options, cancelToken = CancellationToken.None) {\n        const validationItems = [];\n        const acceptor = (severity, message, info) => {\n            validationItems.push(this.toDiagnostic(severity, message, info));\n        };\n        await this.validateAstBefore(rootNode, options, acceptor, cancelToken);\n        await this.validateAstNodes(rootNode, options, acceptor, cancelToken);\n        await this.validateAstAfter(rootNode, options, acceptor, cancelToken);\n        return validationItems;\n    }\n    async validateAstBefore(rootNode, options, acceptor, cancelToken = CancellationToken.None) {\n        var _a;\n        const checksBefore = this.validationRegistry.checksBefore;\n        for (const checkBefore of checksBefore) {\n            await interruptAndCheck(cancelToken);\n            await checkBefore(rootNode, acceptor, (_a = options.categories) !== null && _a !== void 0 ? _a : [], cancelToken);\n        }\n    }\n    async validateAstNodes(rootNode, options, acceptor, cancelToken = CancellationToken.None) {\n        await Promise.all(streamAst(rootNode).map(async (node) => {\n            await interruptAndCheck(cancelToken);\n            const checks = this.validationRegistry.getChecks(node.$type, options.categories);\n            for (const check of checks) {\n                await check(node, acceptor, cancelToken);\n            }\n        }));\n    }\n    async validateAstAfter(rootNode, options, acceptor, cancelToken = CancellationToken.None) {\n        var _a;\n        const checksAfter = this.validationRegistry.checksAfter;\n        for (const checkAfter of checksAfter) {\n            await interruptAndCheck(cancelToken);\n            await checkAfter(rootNode, acceptor, (_a = options.categories) !== null && _a !== void 0 ? _a : [], cancelToken);\n        }\n    }\n    toDiagnostic(severity, message, info) {\n        return {\n            message,\n            range: getDiagnosticRange(info),\n            severity: toDiagnosticSeverity(severity),\n            code: info.code,\n            codeDescription: info.codeDescription,\n            tags: info.tags,\n            relatedInformation: info.relatedInformation,\n            data: info.data,\n            source: this.getSource()\n        };\n    }\n    getSource() {\n        return this.metadata.languageId;\n    }\n}\nexport function getDiagnosticRange(info) {\n    if (info.range) {\n        return info.range;\n    }\n    let cstNode;\n    if (typeof info.property === 'string') {\n        cstNode = findNodeForProperty(info.node.$cstNode, info.property, info.index);\n    }\n    else if (typeof info.keyword === 'string') {\n        cstNode = findNodeForKeyword(info.node.$cstNode, info.keyword, info.index);\n    }\n    cstNode !== null && cstNode !== void 0 ? cstNode : (cstNode = info.node.$cstNode);\n    if (!cstNode) {\n        return {\n            start: { line: 0, character: 0 },\n            end: { line: 0, character: 0 }\n        };\n    }\n    return cstNode.range;\n}\n/**\n * Transforms the diagnostic severity from the {@link LexingDiagnosticSeverity} format to LSP's `DiagnosticSeverity` format.\n *\n * @param severity The lexing diagnostic severity\n * @returns Diagnostic severity according to `vscode-languageserver-types/lib/esm/main.js#DiagnosticSeverity`\n */\nexport function toDiagnosticSeverity(severity) {\n    switch (severity) {\n        case 'error':\n            return 1;\n        case 'warning':\n            return 2;\n        case 'info':\n            return 3;\n        case 'hint':\n            return 4;\n        default:\n            throw new Error('Invalid diagnostic severity: ' + severity);\n    }\n}\nexport function toDiagnosticData(severity) {\n    switch (severity) {\n        case 'error':\n            return diagnosticData(DocumentValidator.LexingError);\n        case 'warning':\n            return diagnosticData(DocumentValidator.LexingWarning);\n        case 'info':\n            return diagnosticData(DocumentValidator.LexingInfo);\n        case 'hint':\n            return diagnosticData(DocumentValidator.LexingHint);\n        default:\n            throw new Error('Invalid diagnostic severity: ' + severity);\n    }\n}\nexport var DocumentValidator;\n(function (DocumentValidator) {\n    DocumentValidator.LexingError = 'lexing-error';\n    DocumentValidator.LexingWarning = 'lexing-warning';\n    DocumentValidator.LexingInfo = 'lexing-info';\n    DocumentValidator.LexingHint = 'lexing-hint';\n    DocumentValidator.ParsingError = 'parsing-error';\n    DocumentValidator.LinkingError = 'linking-error';\n})(DocumentValidator || (DocumentValidator = {}));\n//# sourceMappingURL=document-validator.js.map","/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { CancellationToken } from '../utils/cancellation.js';\nimport { isLinkingError } from '../syntax-tree.js';\nimport { getDocument, streamAst, streamReferences } from '../utils/ast-utils.js';\nimport { toDocumentSegment } from '../utils/cst-utils.js';\nimport { interruptAndCheck } from '../utils/promise-utils.js';\nimport { UriUtils } from '../utils/uri-utils.js';\nexport class DefaultAstNodeDescriptionProvider {\n    constructor(services) {\n        this.astNodeLocator = services.workspace.AstNodeLocator;\n        this.nameProvider = services.references.NameProvider;\n    }\n    createDescription(node, name, document) {\n        const doc = document !== null && document !== void 0 ? document : getDocument(node);\n        name !== null && name !== void 0 ? name : (name = this.nameProvider.getName(node));\n        const path = this.astNodeLocator.getAstNodePath(node);\n        if (!name) {\n            throw new Error(`Node at path ${path} has no name.`);\n        }\n        let nameNodeSegment;\n        const nameSegmentGetter = () => { var _a; return nameNodeSegment !== null && nameNodeSegment !== void 0 ? nameNodeSegment : (nameNodeSegment = toDocumentSegment((_a = this.nameProvider.getNameNode(node)) !== null && _a !== void 0 ? _a : node.$cstNode)); };\n        return {\n            node,\n            name,\n            get nameSegment() {\n                return nameSegmentGetter();\n            },\n            selectionSegment: toDocumentSegment(node.$cstNode),\n            type: node.$type,\n            documentUri: doc.uri,\n            path\n        };\n    }\n}\nexport class DefaultReferenceDescriptionProvider {\n    constructor(services) {\n        this.nodeLocator = services.workspace.AstNodeLocator;\n    }\n    async createDescriptions(document, cancelToken = CancellationToken.None) {\n        const descr = [];\n        const rootNode = document.parseResult.value;\n        for (const astNode of streamAst(rootNode)) {\n            await interruptAndCheck(cancelToken);\n            streamReferences(astNode).filter(refInfo => !isLinkingError(refInfo)).forEach(refInfo => {\n                // TODO: Consider logging a warning or throw an exception when DocumentState is < than Linked\n                const description = this.createDescription(refInfo);\n                if (description) {\n                    descr.push(description);\n                }\n            });\n        }\n        return descr;\n    }\n    createDescription(refInfo) {\n        const targetNodeDescr = refInfo.reference.$nodeDescription;\n        const refCstNode = refInfo.reference.$refNode;\n        if (!targetNodeDescr || !refCstNode) {\n            return undefined;\n        }\n        const docUri = getDocument(refInfo.container).uri;\n        return {\n            sourceUri: docUri,\n            sourcePath: this.nodeLocator.getAstNodePath(refInfo.container),\n            targetUri: targetNodeDescr.documentUri,\n            targetPath: targetNodeDescr.path,\n            segment: toDocumentSegment(refCstNode),\n            local: UriUtils.equals(targetNodeDescr.documentUri, docUri)\n        };\n    }\n}\n//# sourceMappingURL=ast-descriptions.js.map","/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nexport class DefaultAstNodeLocator {\n    constructor() {\n        this.segmentSeparator = '/';\n        this.indexSeparator = '@';\n    }\n    getAstNodePath(node) {\n        if (node.$container) {\n            const containerPath = this.getAstNodePath(node.$container);\n            const newSegment = this.getPathSegment(node);\n            const nodePath = containerPath + this.segmentSeparator + newSegment;\n            return nodePath;\n        }\n        return '';\n    }\n    getPathSegment({ $containerProperty, $containerIndex }) {\n        if (!$containerProperty) {\n            throw new Error(\"Missing '$containerProperty' in AST node.\");\n        }\n        if ($containerIndex !== undefined) {\n            return $containerProperty + this.indexSeparator + $containerIndex;\n        }\n        return $containerProperty;\n    }\n    getAstNode(node, path) {\n        const segments = path.split(this.segmentSeparator);\n        return segments.reduce((previousValue, currentValue) => {\n            if (!previousValue || currentValue.length === 0) {\n                return previousValue;\n            }\n            const propertyIndex = currentValue.indexOf(this.indexSeparator);\n            if (propertyIndex > 0) {\n                const property = currentValue.substring(0, propertyIndex);\n                const arrayIndex = parseInt(currentValue.substring(propertyIndex + 1));\n                const array = previousValue[property];\n                return array === null || array === void 0 ? void 0 : array[arrayIndex];\n            }\n            return previousValue[currentValue];\n        }, node);\n    }\n}\n//# sourceMappingURL=ast-node-locator.js.map","/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nexport var Disposable;\n(function (Disposable) {\n    function create(callback) {\n        return {\n            dispose: async () => await callback()\n        };\n    }\n    Disposable.create = create;\n})(Disposable || (Disposable = {}));\n//# sourceMappingURL=disposable.js.map","/******************************************************************************\n * Copyright 2022 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { Emitter } from '../utils/event.js';\nimport { Deferred } from '../utils/promise-utils.js';\n/**\n * Base configuration provider for building up other configuration providers\n */\nexport class DefaultConfigurationProvider {\n    constructor(services) {\n        this._ready = new Deferred();\n        this.settings = {};\n        this.workspaceConfig = false;\n        this.onConfigurationSectionUpdateEmitter = new Emitter();\n        this.serviceRegistry = services.ServiceRegistry;\n    }\n    get ready() {\n        return this._ready.promise;\n    }\n    initialize(params) {\n        var _a, _b;\n        this.workspaceConfig = (_b = (_a = params.capabilities.workspace) === null || _a === void 0 ? void 0 : _a.configuration) !== null && _b !== void 0 ? _b : false;\n    }\n    async initialized(params) {\n        if (this.workspaceConfig) {\n            if (params.register) {\n                // params.register(...) is a function to be provided by the calling language server for the sake of\n                //  decoupling this implementation from the concrete LSP implementations, specifically the LSP Connection\n                const languages = this.serviceRegistry.all;\n                params.register({\n                    // Listen to configuration changes for all languages\n                    section: languages.map(lang => this.toSectionName(lang.LanguageMetaData.languageId))\n                });\n            }\n            if (params.fetchConfiguration) {\n                // params.fetchConfiguration(...) is a function to be provided by the calling language server for the sake of\n                //  decoupling this implementation from the concrete LSP implementations, specifically the LSP Connection\n                const configToUpdate = this.serviceRegistry.all.map(lang => ({\n                    // Fetch the configuration changes for all languages\n                    section: this.toSectionName(lang.LanguageMetaData.languageId)\n                }));\n                // get workspace configurations (default scope URI)\n                const configs = await params.fetchConfiguration(configToUpdate);\n                configToUpdate.forEach((conf, idx) => {\n                    this.updateSectionConfiguration(conf.section, configs[idx]);\n                });\n            }\n        }\n        this._ready.resolve();\n    }\n    /**\n     *  Updates the cached configurations using the `change` notification parameters.\n     *\n     * @param change The parameters of a change configuration notification.\n     * `settings` property of the change object could be expressed as `Record<string, Record<string, any>>`\n     */\n    updateConfiguration(change) {\n        if (!change.settings) {\n            return;\n        }\n        Object.keys(change.settings).forEach(section => {\n            const configuration = change.settings[section];\n            this.updateSectionConfiguration(section, configuration);\n            this.onConfigurationSectionUpdateEmitter.fire({ section, configuration });\n        });\n    }\n    updateSectionConfiguration(section, configuration) {\n        this.settings[section] = configuration;\n    }\n    /**\n    * Returns a configuration value stored for the given language.\n    *\n    * @param language The language id\n    * @param configuration Configuration name\n    */\n    async getConfiguration(language, configuration) {\n        await this.ready;\n        const sectionName = this.toSectionName(language);\n        if (this.settings[sectionName]) {\n            return this.settings[sectionName][configuration];\n        }\n    }\n    toSectionName(languageId) {\n        return `${languageId}`;\n    }\n    get onConfigurationSectionUpdate() {\n        return this.onConfigurationSectionUpdateEmitter.event;\n    }\n}\n//# sourceMappingURL=configuration.js.map","/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { CancellationToken } from '../utils/cancellation.js';\nimport { Disposable } from '../utils/disposable.js';\nimport { MultiMap } from '../utils/collections.js';\nimport { OperationCancelled, interruptAndCheck, isOperationCancelled } from '../utils/promise-utils.js';\nimport { stream } from '../utils/stream.js';\nimport { ValidationCategory } from '../validation/validation-registry.js';\nimport { DocumentState } from './documents.js';\nexport class DefaultDocumentBuilder {\n    constructor(services) {\n        this.updateBuildOptions = {\n            // Default: run only the built-in validation checks and those in the _fast_ category (includes those without category)\n            validation: {\n                categories: ['built-in', 'fast']\n            }\n        };\n        this.updateListeners = [];\n        this.buildPhaseListeners = new MultiMap();\n        this.documentPhaseListeners = new MultiMap();\n        this.buildState = new Map();\n        this.documentBuildWaiters = new Map();\n        this.currentState = DocumentState.Changed;\n        this.langiumDocuments = services.workspace.LangiumDocuments;\n        this.langiumDocumentFactory = services.workspace.LangiumDocumentFactory;\n        this.textDocuments = services.workspace.TextDocuments;\n        this.indexManager = services.workspace.IndexManager;\n        this.serviceRegistry = services.ServiceRegistry;\n    }\n    async build(documents, options = {}, cancelToken = CancellationToken.None) {\n        var _a, _b;\n        for (const document of documents) {\n            const key = document.uri.toString();\n            if (document.state === DocumentState.Validated) {\n                if (typeof options.validation === 'boolean' && options.validation) {\n                    // Force re-running all validation checks\n                    document.state = DocumentState.IndexedReferences;\n                    document.diagnostics = undefined;\n                    this.buildState.delete(key);\n                }\n                else if (typeof options.validation === 'object') {\n                    const buildState = this.buildState.get(key);\n                    const previousCategories = (_a = buildState === null || buildState === void 0 ? void 0 : buildState.result) === null || _a === void 0 ? void 0 : _a.validationChecks;\n                    if (previousCategories) {\n                        // Validation with explicit options was requested for a document that has already been partly validated.\n                        // In this case, we need to merge the previous validation categories with the new ones.\n                        const newCategories = (_b = options.validation.categories) !== null && _b !== void 0 ? _b : ValidationCategory.all;\n                        const categories = newCategories.filter(c => !previousCategories.includes(c));\n                        if (categories.length > 0) {\n                            this.buildState.set(key, {\n                                completed: false,\n                                options: {\n                                    validation: Object.assign(Object.assign({}, options.validation), { categories })\n                                },\n                                result: buildState.result\n                            });\n                            document.state = DocumentState.IndexedReferences;\n                        }\n                    }\n                }\n            }\n            else {\n                // Default: forget any previous build options\n                this.buildState.delete(key);\n            }\n        }\n        this.currentState = DocumentState.Changed;\n        await this.emitUpdate(documents.map(e => e.uri), []);\n        await this.buildDocuments(documents, options, cancelToken);\n    }\n    async update(changed, deleted, cancelToken = CancellationToken.None) {\n        this.currentState = DocumentState.Changed;\n        // Remove all metadata of documents that are reported as deleted\n        for (const deletedUri of deleted) {\n            this.langiumDocuments.deleteDocument(deletedUri);\n            this.buildState.delete(deletedUri.toString());\n            this.indexManager.remove(deletedUri);\n        }\n        // Set the state of all changed documents to `Changed` so they are completely rebuilt\n        for (const changedUri of changed) {\n            const invalidated = this.langiumDocuments.invalidateDocument(changedUri);\n            if (!invalidated) {\n                // We create an unparsed, invalid document.\n                // This will be parsed as soon as we reach the first document builder phase.\n                // This allows to cancel the parsing process later in case we need it.\n                const newDocument = this.langiumDocumentFactory.fromModel({ $type: 'INVALID' }, changedUri);\n                newDocument.state = DocumentState.Changed;\n                this.langiumDocuments.addDocument(newDocument);\n            }\n            this.buildState.delete(changedUri.toString());\n        }\n        // Set the state of all documents that should be relinked to `ComputedScopes` (if not already lower)\n        const allChangedUris = stream(changed).concat(deleted).map(uri => uri.toString()).toSet();\n        this.langiumDocuments.all\n            .filter(doc => !allChangedUris.has(doc.uri.toString()) && this.shouldRelink(doc, allChangedUris))\n            .forEach(doc => {\n            const linker = this.serviceRegistry.getServices(doc.uri).references.Linker;\n            linker.unlink(doc);\n            doc.state = Math.min(doc.state, DocumentState.ComputedScopes);\n            doc.diagnostics = undefined;\n        });\n        // Notify listeners of the update\n        await this.emitUpdate(changed, deleted);\n        // Only allow interrupting the execution after all state changes are done\n        await interruptAndCheck(cancelToken);\n        // Collect and sort all documents that we should rebuild\n        const rebuildDocuments = this.sortDocuments(this.langiumDocuments.all\n            .filter(doc => {\n            var _a;\n            // This includes those that were reported as changed and those that we selected for relinking\n            return doc.state < DocumentState.Linked\n                // This includes those for which a previous build has been cancelled\n                || !((_a = this.buildState.get(doc.uri.toString())) === null || _a === void 0 ? void 0 : _a.completed);\n        })\n            .toArray());\n        await this.buildDocuments(rebuildDocuments, this.updateBuildOptions, cancelToken);\n    }\n    async emitUpdate(changed, deleted) {\n        await Promise.all(this.updateListeners.map(listener => listener(changed, deleted)));\n    }\n    /**\n     * Sort the given documents by priority. By default, documents with an open text document are prioritized.\n     * This is useful to ensure that visible documents show their diagnostics before all other documents.\n     *\n     * This improves the responsiveness in large workspaces as users usually don't care about diagnostics\n     * in files that are currently not opened in the editor.\n     */\n    sortDocuments(documents) {\n        let left = 0;\n        let right = documents.length - 1;\n        while (left < right) {\n            while (left < documents.length && this.hasTextDocument(documents[left])) {\n                left++;\n            }\n            while (right >= 0 && !this.hasTextDocument(documents[right])) {\n                right--;\n            }\n            if (left < right) {\n                [documents[left], documents[right]] = [documents[right], documents[left]];\n            }\n        }\n        return documents;\n    }\n    hasTextDocument(doc) {\n        var _a;\n        return Boolean((_a = this.textDocuments) === null || _a === void 0 ? void 0 : _a.get(doc.uri));\n    }\n    /**\n     * Check whether the given document should be relinked after changes were found in the given URIs.\n     */\n    shouldRelink(document, changedUris) {\n        // Relink documents with linking errors -- maybe those references can be resolved now\n        if (document.references.some(ref => ref.error !== undefined)) {\n            return true;\n        }\n        // Check whether the document is affected by any of the changed URIs\n        return this.indexManager.isAffected(document, changedUris);\n    }\n    onUpdate(callback) {\n        this.updateListeners.push(callback);\n        return Disposable.create(() => {\n            const index = this.updateListeners.indexOf(callback);\n            if (index >= 0) {\n                this.updateListeners.splice(index, 1);\n            }\n        });\n    }\n    /**\n     * Build the given documents by stepping through all build phases. If a document's state indicates\n     * that a certain build phase is already done, the phase is skipped for that document.\n     *\n     * @param documents The documents to build.\n     * @param options the {@link BuildOptions} to use.\n     * @param cancelToken A cancellation token that can be used to cancel the build.\n     * @returns A promise that resolves when the build is done.\n     */\n    async buildDocuments(documents, options, cancelToken) {\n        this.prepareBuild(documents, options);\n        // 0. Parse content\n        await this.runCancelable(documents, DocumentState.Parsed, cancelToken, doc => this.langiumDocumentFactory.update(doc, cancelToken));\n        // 1. Index content\n        await this.runCancelable(documents, DocumentState.IndexedContent, cancelToken, doc => this.indexManager.updateContent(doc, cancelToken));\n        // 2. Compute scopes\n        await this.runCancelable(documents, DocumentState.ComputedScopes, cancelToken, async (doc) => {\n            const scopeComputation = this.serviceRegistry.getServices(doc.uri).references.ScopeComputation;\n            doc.precomputedScopes = await scopeComputation.computeLocalScopes(doc, cancelToken);\n        });\n        // 3. Linking\n        await this.runCancelable(documents, DocumentState.Linked, cancelToken, doc => {\n            const linker = this.serviceRegistry.getServices(doc.uri).references.Linker;\n            return linker.link(doc, cancelToken);\n        });\n        // 4. Index references\n        await this.runCancelable(documents, DocumentState.IndexedReferences, cancelToken, doc => this.indexManager.updateReferences(doc, cancelToken));\n        // 5. Validation\n        const toBeValidated = documents.filter(doc => this.shouldValidate(doc));\n        await this.runCancelable(toBeValidated, DocumentState.Validated, cancelToken, doc => this.validate(doc, cancelToken));\n        // If we've made it to this point without being cancelled, we can mark the build state as completed.\n        for (const doc of documents) {\n            const state = this.buildState.get(doc.uri.toString());\n            if (state) {\n                state.completed = true;\n            }\n        }\n    }\n    /**\n     * Runs prior to beginning the build process to update the {@link DocumentBuildState} for each document\n     *\n     * @param documents collection of documents to be built\n     * @param options the {@link BuildOptions} to use\n     */\n    prepareBuild(documents, options) {\n        for (const doc of documents) {\n            const key = doc.uri.toString();\n            const state = this.buildState.get(key);\n            // If the document has no previous build state, we set it. If it has one, but it's already marked\n            // as completed, we overwrite it. If the previous build was not completed, we keep its state\n            // and continue where it was cancelled.\n            if (!state || state.completed) {\n                this.buildState.set(key, {\n                    completed: false,\n                    options,\n                    result: state === null || state === void 0 ? void 0 : state.result\n                });\n            }\n        }\n    }\n    /**\n     * Runs a cancelable operation on a set of documents to bring them to a specified {@link DocumentState}.\n     *\n     * @param documents The array of documents to process.\n     * @param targetState The target {@link DocumentState} to bring the documents to.\n     * @param cancelToken A token that can be used to cancel the operation.\n     * @param callback A function to be called for each document.\n     * @returns A promise that resolves when all documents have been processed or the operation is canceled.\n     * @throws Will throw `OperationCancelled` if the operation is canceled via a `CancellationToken`.\n     */\n    async runCancelable(documents, targetState, cancelToken, callback) {\n        const filtered = documents.filter(doc => doc.state < targetState);\n        for (const document of filtered) {\n            await interruptAndCheck(cancelToken);\n            await callback(document);\n            document.state = targetState;\n            await this.notifyDocumentPhase(document, targetState, cancelToken);\n        }\n        // Do not use `filtered` here, as that will miss documents that have previously reached the current target state\n        // For example, this happens in case the cancellation triggers between the processing of two documents\n        // Or files that were picked up during the workspace initialization\n        const targetStateDocs = documents.filter(doc => doc.state === targetState);\n        await this.notifyBuildPhase(targetStateDocs, targetState, cancelToken);\n        this.currentState = targetState;\n    }\n    onBuildPhase(targetState, callback) {\n        this.buildPhaseListeners.add(targetState, callback);\n        return Disposable.create(() => {\n            this.buildPhaseListeners.delete(targetState, callback);\n        });\n    }\n    onDocumentPhase(targetState, callback) {\n        this.documentPhaseListeners.add(targetState, callback);\n        return Disposable.create(() => {\n            this.documentPhaseListeners.delete(targetState, callback);\n        });\n    }\n    waitUntil(state, uriOrToken, cancelToken) {\n        let uri = undefined;\n        if (uriOrToken && 'path' in uriOrToken) {\n            uri = uriOrToken;\n        }\n        else {\n            cancelToken = uriOrToken;\n        }\n        cancelToken !== null && cancelToken !== void 0 ? cancelToken : (cancelToken = CancellationToken.None);\n        if (uri) {\n            const document = this.langiumDocuments.getDocument(uri);\n            if (document && document.state > state) {\n                return Promise.resolve(uri);\n            }\n        }\n        if (this.currentState >= state) {\n            return Promise.resolve(undefined);\n        }\n        else if (cancelToken.isCancellationRequested) {\n            return Promise.reject(OperationCancelled);\n        }\n        return new Promise((resolve, reject) => {\n            const buildDisposable = this.onBuildPhase(state, () => {\n                buildDisposable.dispose();\n                cancelDisposable.dispose();\n                if (uri) {\n                    const document = this.langiumDocuments.getDocument(uri);\n                    resolve(document === null || document === void 0 ? void 0 : document.uri);\n                }\n                else {\n                    resolve(undefined);\n                }\n            });\n            const cancelDisposable = cancelToken.onCancellationRequested(() => {\n                buildDisposable.dispose();\n                cancelDisposable.dispose();\n                reject(OperationCancelled);\n            });\n        });\n    }\n    async notifyDocumentPhase(document, state, cancelToken) {\n        const listeners = this.documentPhaseListeners.get(state);\n        const listenersCopy = listeners.slice();\n        for (const listener of listenersCopy) {\n            try {\n                await listener(document, cancelToken);\n            }\n            catch (err) {\n                // Ignore cancellation errors\n                // We want to finish the listeners before throwing\n                if (!isOperationCancelled(err)) {\n                    throw err;\n                }\n            }\n        }\n    }\n    async notifyBuildPhase(documents, state, cancelToken) {\n        if (documents.length === 0) {\n            // Don't notify when no document has been processed\n            return;\n        }\n        const listeners = this.buildPhaseListeners.get(state);\n        const listenersCopy = listeners.slice();\n        for (const listener of listenersCopy) {\n            await interruptAndCheck(cancelToken);\n            await listener(documents, cancelToken);\n        }\n    }\n    /**\n     * Determine whether the given document should be validated during a build. The default\n     * implementation checks the `validation` property of the build options. If it's set to `true`\n     * or a `ValidationOptions` object, the document is included in the validation phase.\n     */\n    shouldValidate(document) {\n        return Boolean(this.getBuildOptions(document).validation);\n    }\n    /**\n     * Run validation checks on the given document and store the resulting diagnostics in the document.\n     * If the document already contains diagnostics, the new ones are added to the list.\n     */\n    async validate(document, cancelToken) {\n        var _a, _b;\n        const validator = this.serviceRegistry.getServices(document.uri).validation.DocumentValidator;\n        const validationSetting = this.getBuildOptions(document).validation;\n        const options = typeof validationSetting === 'object' ? validationSetting : undefined;\n        const diagnostics = await validator.validateDocument(document, options, cancelToken);\n        if (document.diagnostics) {\n            document.diagnostics.push(...diagnostics);\n        }\n        else {\n            document.diagnostics = diagnostics;\n        }\n        // Store information about the executed validation in the build state\n        const state = this.buildState.get(document.uri.toString());\n        if (state) {\n            (_a = state.result) !== null && _a !== void 0 ? _a : (state.result = {});\n            const newCategories = (_b = options === null || options === void 0 ? void 0 : options.categories) !== null && _b !== void 0 ? _b : ValidationCategory.all;\n            if (state.result.validationChecks) {\n                state.result.validationChecks.push(...newCategories);\n            }\n            else {\n                state.result.validationChecks = [...newCategories];\n            }\n        }\n    }\n    getBuildOptions(document) {\n        var _a, _b;\n        return (_b = (_a = this.buildState.get(document.uri.toString())) === null || _a === void 0 ? void 0 : _a.options) !== null && _b !== void 0 ? _b : {};\n    }\n}\n//# sourceMappingURL=document-builder.js.map","/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { getDocument } from '../utils/ast-utils.js';\nimport { ContextCache } from '../utils/caching.js';\nimport { CancellationToken } from '../utils/cancellation.js';\nimport { stream } from '../utils/stream.js';\nimport { UriUtils } from '../utils/uri-utils.js';\nexport class DefaultIndexManager {\n    constructor(services) {\n        /**\n         * The symbol index stores all `AstNodeDescription` items exported by a document.\n         * The key used in this map is the string representation of the specific document URI.\n         */\n        this.symbolIndex = new Map();\n        /**\n         * This is a cache for the `allElements()` method.\n         * It caches the descriptions from `symbolIndex` grouped by types.\n         */\n        this.symbolByTypeIndex = new ContextCache();\n        /**\n         * This index keeps track of all `ReferenceDescription` items exported by a document.\n         * This is used to compute which elements are affected by a document change\n         * and for finding references to an AST node.\n         */\n        this.referenceIndex = new Map();\n        this.documents = services.workspace.LangiumDocuments;\n        this.serviceRegistry = services.ServiceRegistry;\n        this.astReflection = services.AstReflection;\n    }\n    findAllReferences(targetNode, astNodePath) {\n        const targetDocUri = getDocument(targetNode).uri;\n        const result = [];\n        this.referenceIndex.forEach(docRefs => {\n            docRefs.forEach(refDescr => {\n                if (UriUtils.equals(refDescr.targetUri, targetDocUri) && refDescr.targetPath === astNodePath) {\n                    result.push(refDescr);\n                }\n            });\n        });\n        return stream(result);\n    }\n    allElements(nodeType, uris) {\n        let documentUris = stream(this.symbolIndex.keys());\n        if (uris) {\n            documentUris = documentUris.filter(uri => !uris || uris.has(uri));\n        }\n        return documentUris\n            .map(uri => this.getFileDescriptions(uri, nodeType))\n            .flat();\n    }\n    getFileDescriptions(uri, nodeType) {\n        var _a;\n        if (!nodeType) {\n            return (_a = this.symbolIndex.get(uri)) !== null && _a !== void 0 ? _a : [];\n        }\n        const descriptions = this.symbolByTypeIndex.get(uri, nodeType, () => {\n            var _a;\n            const allFileDescriptions = (_a = this.symbolIndex.get(uri)) !== null && _a !== void 0 ? _a : [];\n            return allFileDescriptions.filter(e => this.astReflection.isSubtype(e.type, nodeType));\n        });\n        return descriptions;\n    }\n    remove(uri) {\n        const uriString = uri.toString();\n        this.symbolIndex.delete(uriString);\n        this.symbolByTypeIndex.clear(uriString);\n        this.referenceIndex.delete(uriString);\n    }\n    async updateContent(document, cancelToken = CancellationToken.None) {\n        const services = this.serviceRegistry.getServices(document.uri);\n        const exports = await services.references.ScopeComputation.computeExports(document, cancelToken);\n        const uri = document.uri.toString();\n        this.symbolIndex.set(uri, exports);\n        this.symbolByTypeIndex.clear(uri);\n    }\n    async updateReferences(document, cancelToken = CancellationToken.None) {\n        const services = this.serviceRegistry.getServices(document.uri);\n        const indexData = await services.workspace.ReferenceDescriptionProvider.createDescriptions(document, cancelToken);\n        this.referenceIndex.set(document.uri.toString(), indexData);\n    }\n    isAffected(document, changedUris) {\n        const references = this.referenceIndex.get(document.uri.toString());\n        if (!references) {\n            return false;\n        }\n        return references.some(ref => !ref.local && changedUris.has(ref.targetUri.toString()));\n    }\n}\n//# sourceMappingURL=index-manager.js.map","/******************************************************************************\n * Copyright 2022 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { CancellationToken } from '../utils/cancellation.js';\nimport { Deferred, interruptAndCheck } from '../utils/promise-utils.js';\nimport { URI, UriUtils } from '../utils/uri-utils.js';\nexport class DefaultWorkspaceManager {\n    constructor(services) {\n        this.initialBuildOptions = {};\n        this._ready = new Deferred();\n        this.serviceRegistry = services.ServiceRegistry;\n        this.langiumDocuments = services.workspace.LangiumDocuments;\n        this.documentBuilder = services.workspace.DocumentBuilder;\n        this.fileSystemProvider = services.workspace.FileSystemProvider;\n        this.mutex = services.workspace.WorkspaceLock;\n    }\n    get ready() {\n        return this._ready.promise;\n    }\n    get workspaceFolders() {\n        return this.folders;\n    }\n    initialize(params) {\n        var _a;\n        this.folders = (_a = params.workspaceFolders) !== null && _a !== void 0 ? _a : undefined;\n    }\n    initialized(_params) {\n        // Initialize the workspace even if there are no workspace folders\n        // We still want to load additional documents (language library or similar) during initialization\n        return this.mutex.write(token => { var _a; return this.initializeWorkspace((_a = this.folders) !== null && _a !== void 0 ? _a : [], token); });\n    }\n    async initializeWorkspace(folders, cancelToken = CancellationToken.None) {\n        const documents = await this.performStartup(folders);\n        // Only after creating all documents do we check whether we need to cancel the initialization\n        // The document builder will later pick up on all unprocessed documents\n        await interruptAndCheck(cancelToken);\n        await this.documentBuilder.build(documents, this.initialBuildOptions, cancelToken);\n    }\n    /**\n     * Performs the uninterruptable startup sequence of the workspace manager.\n     * This methods loads all documents in the workspace and other documents and returns them.\n     */\n    async performStartup(folders) {\n        const fileExtensions = this.serviceRegistry.all.flatMap(e => e.LanguageMetaData.fileExtensions);\n        const documents = [];\n        const collector = (document) => {\n            documents.push(document);\n            if (!this.langiumDocuments.hasDocument(document.uri)) {\n                this.langiumDocuments.addDocument(document);\n            }\n        };\n        // Even though we don't await the initialization of the workspace manager,\n        // we can still assume that all library documents and file documents are loaded by the time we start building documents.\n        // The mutex prevents anything from performing a workspace build until we check the cancellation token\n        await this.loadAdditionalDocuments(folders, collector);\n        await Promise.all(folders.map(wf => [wf, this.getRootFolder(wf)])\n            .map(async (entry) => this.traverseFolder(...entry, fileExtensions, collector)));\n        this._ready.resolve();\n        return documents;\n    }\n    /**\n     * Load all additional documents that shall be visible in the context of the given workspace\n     * folders and add them to the collector. This can be used to include built-in libraries of\n     * your language, which can be either loaded from provided files or constructed in memory.\n     */\n    loadAdditionalDocuments(_folders, _collector) {\n        return Promise.resolve();\n    }\n    /**\n     * Determine the root folder of the source documents in the given workspace folder.\n     * The default implementation returns the URI of the workspace folder, but you can override\n     * this to return a subfolder like `src` instead.\n     */\n    getRootFolder(workspaceFolder) {\n        return URI.parse(workspaceFolder.uri);\n    }\n    /**\n     * Traverse the file system folder identified by the given URI and its subfolders. All\n     * contained files that match the file extensions are added to the collector.\n     */\n    async traverseFolder(workspaceFolder, folderPath, fileExtensions, collector) {\n        const content = await this.fileSystemProvider.readDirectory(folderPath);\n        await Promise.all(content.map(async (entry) => {\n            if (this.includeEntry(workspaceFolder, entry, fileExtensions)) {\n                if (entry.isDirectory) {\n                    await this.traverseFolder(workspaceFolder, entry.uri, fileExtensions, collector);\n                }\n                else if (entry.isFile) {\n                    const document = await this.langiumDocuments.getOrCreateDocument(entry.uri);\n                    collector(document);\n                }\n            }\n        }));\n    }\n    /**\n     * Determine whether the given folder entry shall be included while indexing the workspace.\n     */\n    includeEntry(_workspaceFolder, entry, fileExtensions) {\n        const name = UriUtils.basename(entry.uri);\n        if (name.startsWith('.')) {\n            return false;\n        }\n        if (entry.isDirectory) {\n            return name !== 'node_modules' && name !== 'out';\n        }\n        else if (entry.isFile) {\n            const extname = UriUtils.extname(entry.uri);\n            return fileExtensions.includes(extname);\n        }\n        return false;\n    }\n}\n//# sourceMappingURL=workspace-manager.js.map","/******************************************************************************\n * Copyright 2022 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { Lexer as ChevrotainLexer, defaultLexerErrorProvider } from 'chevrotain';\nexport class DefaultLexerErrorMessageProvider {\n    buildUnexpectedCharactersMessage(fullText, startOffset, length, line, column) {\n        return defaultLexerErrorProvider.buildUnexpectedCharactersMessage(fullText, startOffset, length, line, column);\n    }\n    buildUnableToPopLexerModeMessage(token) {\n        return defaultLexerErrorProvider.buildUnableToPopLexerModeMessage(token);\n    }\n}\nexport const DEFAULT_TOKENIZE_OPTIONS = { mode: 'full' };\nexport class DefaultLexer {\n    constructor(services) {\n        this.errorMessageProvider = services.parser.LexerErrorMessageProvider;\n        this.tokenBuilder = services.parser.TokenBuilder;\n        const tokens = this.tokenBuilder.buildTokens(services.Grammar, {\n            caseInsensitive: services.LanguageMetaData.caseInsensitive\n        });\n        this.tokenTypes = this.toTokenTypeDictionary(tokens);\n        const lexerTokens = isTokenTypeDictionary(tokens) ? Object.values(tokens) : tokens;\n        const production = services.LanguageMetaData.mode === 'production';\n        this.chevrotainLexer = new ChevrotainLexer(lexerTokens, {\n            positionTracking: 'full',\n            skipValidations: production,\n            errorMessageProvider: this.errorMessageProvider\n        });\n    }\n    get definition() {\n        return this.tokenTypes;\n    }\n    tokenize(text, _options = DEFAULT_TOKENIZE_OPTIONS) {\n        var _a, _b, _c;\n        const chevrotainResult = this.chevrotainLexer.tokenize(text);\n        return {\n            tokens: chevrotainResult.tokens,\n            errors: chevrotainResult.errors,\n            hidden: (_a = chevrotainResult.groups.hidden) !== null && _a !== void 0 ? _a : [],\n            report: (_c = (_b = this.tokenBuilder).flushLexingReport) === null || _c === void 0 ? void 0 : _c.call(_b, text)\n        };\n    }\n    toTokenTypeDictionary(buildTokens) {\n        if (isTokenTypeDictionary(buildTokens))\n            return buildTokens;\n        const tokens = isIMultiModeLexerDefinition(buildTokens) ? Object.values(buildTokens.modes).flat() : buildTokens;\n        const res = {};\n        tokens.forEach(token => res[token.name] = token);\n        return res;\n    }\n}\n/**\n * Returns a check whether the given TokenVocabulary is TokenType array\n */\nexport function isTokenTypeArray(tokenVocabulary) {\n    return Array.isArray(tokenVocabulary) && (tokenVocabulary.length === 0 || 'name' in tokenVocabulary[0]);\n}\n/**\n * Returns a check whether the given TokenVocabulary is IMultiModeLexerDefinition\n */\nexport function isIMultiModeLexerDefinition(tokenVocabulary) {\n    return tokenVocabulary && 'modes' in tokenVocabulary && 'defaultMode' in tokenVocabulary;\n}\n/**\n * Returns a check whether the given TokenVocabulary is TokenTypeDictionary\n */\nexport function isTokenTypeDictionary(tokenVocabulary) {\n    return !isTokenTypeArray(tokenVocabulary) && !isIMultiModeLexerDefinition(tokenVocabulary);\n}\n//# sourceMappingURL=lexer.js.map","/******************************************************************************\n * Copyright 2023 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { Position, Range } from 'vscode-languageserver-types';\nimport { NEWLINE_REGEXP, escapeRegExp } from '../utils/regexp-utils.js';\nimport { URI } from '../utils/uri-utils.js';\nexport function parseJSDoc(node, start, options) {\n    let opts;\n    let position;\n    if (typeof node === 'string') {\n        position = start;\n        opts = options;\n    }\n    else {\n        position = node.range.start;\n        opts = start;\n    }\n    if (!position) {\n        position = Position.create(0, 0);\n    }\n    const lines = getLines(node);\n    const normalizedOptions = normalizeOptions(opts);\n    const tokens = tokenize({\n        lines,\n        position,\n        options: normalizedOptions\n    });\n    return parseJSDocComment({\n        index: 0,\n        tokens,\n        position\n    });\n}\nexport function isJSDoc(node, options) {\n    const normalizedOptions = normalizeOptions(options);\n    const lines = getLines(node);\n    if (lines.length === 0) {\n        return false;\n    }\n    const first = lines[0];\n    const last = lines[lines.length - 1];\n    const firstRegex = normalizedOptions.start;\n    const lastRegex = normalizedOptions.end;\n    return Boolean(firstRegex === null || firstRegex === void 0 ? void 0 : firstRegex.exec(first)) && Boolean(lastRegex === null || lastRegex === void 0 ? void 0 : lastRegex.exec(last));\n}\nfunction getLines(node) {\n    let content = '';\n    if (typeof node === 'string') {\n        content = node;\n    }\n    else {\n        content = node.text;\n    }\n    const lines = content.split(NEWLINE_REGEXP);\n    return lines;\n}\nconst tagRegex = /\\s*(@([\\p{L}][\\p{L}\\p{N}]*)?)/uy;\nconst inlineTagRegex = /\\{(@[\\p{L}][\\p{L}\\p{N}]*)(\\s*)([^\\r\\n}]+)?\\}/gu;\nfunction tokenize(context) {\n    var _a, _b, _c;\n    const tokens = [];\n    let currentLine = context.position.line;\n    let currentCharacter = context.position.character;\n    for (let i = 0; i < context.lines.length; i++) {\n        const first = i === 0;\n        const last = i === context.lines.length - 1;\n        let line = context.lines[i];\n        let index = 0;\n        if (first && context.options.start) {\n            const match = (_a = context.options.start) === null || _a === void 0 ? void 0 : _a.exec(line);\n            if (match) {\n                index = match.index + match[0].length;\n            }\n        }\n        else {\n            const match = (_b = context.options.line) === null || _b === void 0 ? void 0 : _b.exec(line);\n            if (match) {\n                index = match.index + match[0].length;\n            }\n        }\n        if (last) {\n            const match = (_c = context.options.end) === null || _c === void 0 ? void 0 : _c.exec(line);\n            if (match) {\n                line = line.substring(0, match.index);\n            }\n        }\n        line = line.substring(0, lastCharacter(line));\n        const whitespaceEnd = skipWhitespace(line, index);\n        if (whitespaceEnd >= line.length) {\n            // Only create a break token when we already have previous tokens\n            if (tokens.length > 0) {\n                const position = Position.create(currentLine, currentCharacter);\n                tokens.push({\n                    type: 'break',\n                    content: '',\n                    range: Range.create(position, position)\n                });\n            }\n        }\n        else {\n            tagRegex.lastIndex = index;\n            const tagMatch = tagRegex.exec(line);\n            if (tagMatch) {\n                const fullMatch = tagMatch[0];\n                const value = tagMatch[1];\n                const start = Position.create(currentLine, currentCharacter + index);\n                const end = Position.create(currentLine, currentCharacter + index + fullMatch.length);\n                tokens.push({\n                    type: 'tag',\n                    content: value,\n                    range: Range.create(start, end)\n                });\n                index += fullMatch.length;\n                index = skipWhitespace(line, index);\n            }\n            if (index < line.length) {\n                const rest = line.substring(index);\n                const inlineTagMatches = Array.from(rest.matchAll(inlineTagRegex));\n                tokens.push(...buildInlineTokens(inlineTagMatches, rest, currentLine, currentCharacter + index));\n            }\n        }\n        currentLine++;\n        currentCharacter = 0;\n    }\n    // Remove last break token if there is one\n    if (tokens.length > 0 && tokens[tokens.length - 1].type === 'break') {\n        return tokens.slice(0, -1);\n    }\n    return tokens;\n}\nfunction buildInlineTokens(tags, line, lineIndex, characterIndex) {\n    const tokens = [];\n    if (tags.length === 0) {\n        const start = Position.create(lineIndex, characterIndex);\n        const end = Position.create(lineIndex, characterIndex + line.length);\n        tokens.push({\n            type: 'text',\n            content: line,\n            range: Range.create(start, end)\n        });\n    }\n    else {\n        let lastIndex = 0;\n        for (const match of tags) {\n            const matchIndex = match.index;\n            const startContent = line.substring(lastIndex, matchIndex);\n            if (startContent.length > 0) {\n                tokens.push({\n                    type: 'text',\n                    content: line.substring(lastIndex, matchIndex),\n                    range: Range.create(Position.create(lineIndex, lastIndex + characterIndex), Position.create(lineIndex, matchIndex + characterIndex))\n                });\n            }\n            let offset = startContent.length + 1;\n            const tagName = match[1];\n            tokens.push({\n                type: 'inline-tag',\n                content: tagName,\n                range: Range.create(Position.create(lineIndex, lastIndex + offset + characterIndex), Position.create(lineIndex, lastIndex + offset + tagName.length + characterIndex))\n            });\n            offset += tagName.length;\n            if (match.length === 4) {\n                offset += match[2].length;\n                const value = match[3];\n                tokens.push({\n                    type: 'text',\n                    content: value,\n                    range: Range.create(Position.create(lineIndex, lastIndex + offset + characterIndex), Position.create(lineIndex, lastIndex + offset + value.length + characterIndex))\n                });\n            }\n            else {\n                tokens.push({\n                    type: 'text',\n                    content: '',\n                    range: Range.create(Position.create(lineIndex, lastIndex + offset + characterIndex), Position.create(lineIndex, lastIndex + offset + characterIndex))\n                });\n            }\n            lastIndex = matchIndex + match[0].length;\n        }\n        const endContent = line.substring(lastIndex);\n        if (endContent.length > 0) {\n            tokens.push({\n                type: 'text',\n                content: endContent,\n                range: Range.create(Position.create(lineIndex, lastIndex + characterIndex), Position.create(lineIndex, lastIndex + characterIndex + endContent.length))\n            });\n        }\n    }\n    return tokens;\n}\nconst nonWhitespaceRegex = /\\S/;\nconst whitespaceEndRegex = /\\s*$/;\nfunction skipWhitespace(line, index) {\n    const match = line.substring(index).match(nonWhitespaceRegex);\n    if (match) {\n        return index + match.index;\n    }\n    else {\n        return line.length;\n    }\n}\nfunction lastCharacter(line) {\n    const match = line.match(whitespaceEndRegex);\n    if (match && typeof match.index === 'number') {\n        return match.index;\n    }\n    return undefined;\n}\n// Parsing\nfunction parseJSDocComment(context) {\n    var _a, _b, _c, _d;\n    const startPosition = Position.create(context.position.line, context.position.character);\n    if (context.tokens.length === 0) {\n        return new JSDocCommentImpl([], Range.create(startPosition, startPosition));\n    }\n    const elements = [];\n    while (context.index < context.tokens.length) {\n        const element = parseJSDocElement(context, elements[elements.length - 1]);\n        if (element) {\n            elements.push(element);\n        }\n    }\n    const start = (_b = (_a = elements[0]) === null || _a === void 0 ? void 0 : _a.range.start) !== null && _b !== void 0 ? _b : startPosition;\n    const end = (_d = (_c = elements[elements.length - 1]) === null || _c === void 0 ? void 0 : _c.range.end) !== null && _d !== void 0 ? _d : startPosition;\n    return new JSDocCommentImpl(elements, Range.create(start, end));\n}\nfunction parseJSDocElement(context, last) {\n    const next = context.tokens[context.index];\n    if (next.type === 'tag') {\n        return parseJSDocTag(context, false);\n    }\n    else if (next.type === 'text' || next.type === 'inline-tag') {\n        return parseJSDocText(context);\n    }\n    else {\n        appendEmptyLine(next, last);\n        context.index++;\n        return undefined;\n    }\n}\nfunction appendEmptyLine(token, element) {\n    if (element) {\n        const line = new JSDocLineImpl('', token.range);\n        if ('inlines' in element) {\n            element.inlines.push(line);\n        }\n        else {\n            element.content.inlines.push(line);\n        }\n    }\n}\nfunction parseJSDocText(context) {\n    let token = context.tokens[context.index];\n    const firstToken = token;\n    let lastToken = token;\n    const lines = [];\n    while (token && token.type !== 'break' && token.type !== 'tag') {\n        lines.push(parseJSDocInline(context));\n        lastToken = token;\n        token = context.tokens[context.index];\n    }\n    return new JSDocTextImpl(lines, Range.create(firstToken.range.start, lastToken.range.end));\n}\nfunction parseJSDocInline(context) {\n    const token = context.tokens[context.index];\n    if (token.type === 'inline-tag') {\n        return parseJSDocTag(context, true);\n    }\n    else {\n        return parseJSDocLine(context);\n    }\n}\nfunction parseJSDocTag(context, inline) {\n    const tagToken = context.tokens[context.index++];\n    const name = tagToken.content.substring(1);\n    const nextToken = context.tokens[context.index];\n    if ((nextToken === null || nextToken === void 0 ? void 0 : nextToken.type) === 'text') {\n        if (inline) {\n            const docLine = parseJSDocLine(context);\n            return new JSDocTagImpl(name, new JSDocTextImpl([docLine], docLine.range), inline, Range.create(tagToken.range.start, docLine.range.end));\n        }\n        else {\n            const textDoc = parseJSDocText(context);\n            return new JSDocTagImpl(name, textDoc, inline, Range.create(tagToken.range.start, textDoc.range.end));\n        }\n    }\n    else {\n        const range = tagToken.range;\n        return new JSDocTagImpl(name, new JSDocTextImpl([], range), inline, range);\n    }\n}\nfunction parseJSDocLine(context) {\n    const token = context.tokens[context.index++];\n    return new JSDocLineImpl(token.content, token.range);\n}\nfunction normalizeOptions(options) {\n    if (!options) {\n        return normalizeOptions({\n            start: '/**',\n            end: '*/',\n            line: '*'\n        });\n    }\n    const { start, end, line } = options;\n    return {\n        start: normalizeOption(start, true),\n        end: normalizeOption(end, false),\n        line: normalizeOption(line, true)\n    };\n}\nfunction normalizeOption(option, start) {\n    if (typeof option === 'string' || typeof option === 'object') {\n        const escaped = typeof option === 'string' ? escapeRegExp(option) : option.source;\n        if (start) {\n            return new RegExp(`^\\\\s*${escaped}`);\n        }\n        else {\n            return new RegExp(`\\\\s*${escaped}\\\\s*$`);\n        }\n    }\n    else {\n        return option;\n    }\n}\nclass JSDocCommentImpl {\n    constructor(elements, range) {\n        this.elements = elements;\n        this.range = range;\n    }\n    getTag(name) {\n        return this.getAllTags().find(e => e.name === name);\n    }\n    getTags(name) {\n        return this.getAllTags().filter(e => e.name === name);\n    }\n    getAllTags() {\n        return this.elements.filter((e) => 'name' in e);\n    }\n    toString() {\n        let value = '';\n        for (const element of this.elements) {\n            if (value.length === 0) {\n                value = element.toString();\n            }\n            else {\n                const text = element.toString();\n                value += fillNewlines(value) + text;\n            }\n        }\n        return value.trim();\n    }\n    toMarkdown(options) {\n        let value = '';\n        for (const element of this.elements) {\n            if (value.length === 0) {\n                value = element.toMarkdown(options);\n            }\n            else {\n                const text = element.toMarkdown(options);\n                value += fillNewlines(value) + text;\n            }\n        }\n        return value.trim();\n    }\n}\nclass JSDocTagImpl {\n    constructor(name, content, inline, range) {\n        this.name = name;\n        this.content = content;\n        this.inline = inline;\n        this.range = range;\n    }\n    toString() {\n        let text = `@${this.name}`;\n        const content = this.content.toString();\n        if (this.content.inlines.length === 1) {\n            text = `${text} ${content}`;\n        }\n        else if (this.content.inlines.length > 1) {\n            text = `${text}\\n${content}`;\n        }\n        if (this.inline) {\n            // Inline tags are surrounded by curly braces\n            return `{${text}}`;\n        }\n        else {\n            return text;\n        }\n    }\n    toMarkdown(options) {\n        var _a, _b;\n        return (_b = (_a = options === null || options === void 0 ? void 0 : options.renderTag) === null || _a === void 0 ? void 0 : _a.call(options, this)) !== null && _b !== void 0 ? _b : this.toMarkdownDefault(options);\n    }\n    toMarkdownDefault(options) {\n        const content = this.content.toMarkdown(options);\n        if (this.inline) {\n            const rendered = renderInlineTag(this.name, content, options !== null && options !== void 0 ? options : {});\n            if (typeof rendered === 'string') {\n                return rendered;\n            }\n        }\n        let marker = '';\n        if ((options === null || options === void 0 ? void 0 : options.tag) === 'italic' || (options === null || options === void 0 ? void 0 : options.tag) === undefined) {\n            marker = '*';\n        }\n        else if ((options === null || options === void 0 ? void 0 : options.tag) === 'bold') {\n            marker = '**';\n        }\n        else if ((options === null || options === void 0 ? void 0 : options.tag) === 'bold-italic') {\n            marker = '***';\n        }\n        let text = `${marker}@${this.name}${marker}`;\n        if (this.content.inlines.length === 1) {\n            text = `${text}  ${content}`;\n        }\n        else if (this.content.inlines.length > 1) {\n            text = `${text}\\n${content}`;\n        }\n        if (this.inline) {\n            // Inline tags are surrounded by curly braces\n            return `{${text}}`;\n        }\n        else {\n            return text;\n        }\n    }\n}\nfunction renderInlineTag(tag, content, options) {\n    var _a, _b;\n    if (tag === 'linkplain' || tag === 'linkcode' || tag === 'link') {\n        const index = content.indexOf(' ');\n        let display = content;\n        if (index > 0) {\n            const displayStart = skipWhitespace(content, index);\n            display = content.substring(displayStart);\n            content = content.substring(0, index);\n        }\n        if (tag === 'linkcode' || (tag === 'link' && options.link === 'code')) {\n            // Surround the display value in a markdown inline code block\n            display = `\\`${display}\\``;\n        }\n        const renderedLink = (_b = (_a = options.renderLink) === null || _a === void 0 ? void 0 : _a.call(options, content, display)) !== null && _b !== void 0 ? _b : renderLinkDefault(content, display);\n        return renderedLink;\n    }\n    return undefined;\n}\nfunction renderLinkDefault(content, display) {\n    try {\n        URI.parse(content, true);\n        return `[${display}](${content})`;\n    }\n    catch (_a) {\n        return content;\n    }\n}\nclass JSDocTextImpl {\n    constructor(lines, range) {\n        this.inlines = lines;\n        this.range = range;\n    }\n    toString() {\n        let text = '';\n        for (let i = 0; i < this.inlines.length; i++) {\n            const inline = this.inlines[i];\n            const next = this.inlines[i + 1];\n            text += inline.toString();\n            if (next && next.range.start.line > inline.range.start.line) {\n                text += '\\n';\n            }\n        }\n        return text;\n    }\n    toMarkdown(options) {\n        let text = '';\n        for (let i = 0; i < this.inlines.length; i++) {\n            const inline = this.inlines[i];\n            const next = this.inlines[i + 1];\n            text += inline.toMarkdown(options);\n            if (next && next.range.start.line > inline.range.start.line) {\n                text += '\\n';\n            }\n        }\n        return text;\n    }\n}\nclass JSDocLineImpl {\n    constructor(text, range) {\n        this.text = text;\n        this.range = range;\n    }\n    toString() {\n        return this.text;\n    }\n    toMarkdown() {\n        return this.text;\n    }\n}\nfunction fillNewlines(text) {\n    if (text.endsWith('\\n')) {\n        return '\\n';\n    }\n    else {\n        return '\\n\\n';\n    }\n}\n//# sourceMappingURL=jsdoc.js.map","/******************************************************************************\n * Copyright 2023 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { getDocument } from '../utils/ast-utils.js';\nimport { isJSDoc, parseJSDoc } from './jsdoc.js';\nexport class JSDocDocumentationProvider {\n    constructor(services) {\n        this.indexManager = services.shared.workspace.IndexManager;\n        this.commentProvider = services.documentation.CommentProvider;\n    }\n    getDocumentation(node) {\n        const comment = this.commentProvider.getComment(node);\n        if (comment && isJSDoc(comment)) {\n            const parsedJSDoc = parseJSDoc(comment);\n            return parsedJSDoc.toMarkdown({\n                renderLink: (link, display) => {\n                    return this.documentationLinkRenderer(node, link, display);\n                },\n                renderTag: (tag) => {\n                    return this.documentationTagRenderer(node, tag);\n                }\n            });\n        }\n        return undefined;\n    }\n    documentationLinkRenderer(node, name, display) {\n        var _a;\n        const description = (_a = this.findNameInPrecomputedScopes(node, name)) !== null && _a !== void 0 ? _a : this.findNameInGlobalScope(node, name);\n        if (description && description.nameSegment) {\n            const line = description.nameSegment.range.start.line + 1;\n            const character = description.nameSegment.range.start.character + 1;\n            const uri = description.documentUri.with({ fragment: `L${line},${character}` });\n            return `[${display}](${uri.toString()})`;\n        }\n        else {\n            return undefined;\n        }\n    }\n    documentationTagRenderer(_node, _tag) {\n        // Fall back to the default tag rendering\n        return undefined;\n    }\n    findNameInPrecomputedScopes(node, name) {\n        const document = getDocument(node);\n        const precomputed = document.precomputedScopes;\n        if (!precomputed) {\n            return undefined;\n        }\n        let currentNode = node;\n        do {\n            const allDescriptions = precomputed.get(currentNode);\n            const description = allDescriptions.find(e => e.name === name);\n            if (description) {\n                return description;\n            }\n            currentNode = currentNode.$container;\n        } while (currentNode);\n        return undefined;\n    }\n    findNameInGlobalScope(node, name) {\n        const description = this.indexManager.allElements().find(e => e.name === name);\n        return description;\n    }\n}\n//# sourceMappingURL=documentation-provider.js.map","/******************************************************************************\n * Copyright 2023 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { isAstNodeWithComment } from '../serializer/json-serializer.js';\nimport { findCommentNode } from '../utils/cst-utils.js';\nexport class DefaultCommentProvider {\n    constructor(services) {\n        this.grammarConfig = () => services.parser.GrammarConfig;\n    }\n    getComment(node) {\n        var _a;\n        if (isAstNodeWithComment(node)) {\n            return node.$comment;\n        }\n        return (_a = findCommentNode(node.$cstNode, this.grammarConfig().multilineCommentRules)) === null || _a === void 0 ? void 0 : _a.text;\n    }\n}\n//# sourceMappingURL=comment-provider.js.map","/******************************************************************************\n * Copyright 2023 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { Deferred, OperationCancelled } from '../utils/promise-utils.js';\nimport { Emitter } from '../utils/event.js';\n/**\n * Default implementation of the async parser which simply wraps the sync parser in a promise.\n *\n * @remarks\n * A real implementation would create worker threads or web workers to offload the parsing work.\n */\nexport class DefaultAsyncParser {\n    constructor(services) {\n        this.syncParser = services.parser.LangiumParser;\n    }\n    parse(text, _cancelToken) {\n        return Promise.resolve(this.syncParser.parse(text));\n    }\n}\nexport class AbstractThreadedAsyncParser {\n    constructor(services) {\n        /**\n         * The thread count determines how many threads are used to parse files in parallel.\n         * The default value is 8. Decreasing this value increases startup performance, but decreases parallel parsing performance.\n         */\n        this.threadCount = 8;\n        /**\n         * The termination delay determines how long the parser waits for a thread to finish after a cancellation request.\n         * The default value is 200(ms).\n         */\n        this.terminationDelay = 200;\n        this.workerPool = [];\n        this.queue = [];\n        this.hydrator = services.serializer.Hydrator;\n    }\n    initializeWorkers() {\n        while (this.workerPool.length < this.threadCount) {\n            const worker = this.createWorker();\n            worker.onReady(() => {\n                if (this.queue.length > 0) {\n                    const deferred = this.queue.shift();\n                    if (deferred) {\n                        worker.lock();\n                        deferred.resolve(worker);\n                    }\n                }\n            });\n            this.workerPool.push(worker);\n        }\n    }\n    async parse(text, cancelToken) {\n        const worker = await this.acquireParserWorker(cancelToken);\n        const deferred = new Deferred();\n        let timeout;\n        // If the cancellation token is requested, we wait for a certain time before terminating the worker.\n        // Since the cancellation token lives longer than the parsing process, we need to dispose the event listener.\n        // Otherwise, we might accidentally terminate the worker after the parsing process has finished.\n        const cancellation = cancelToken.onCancellationRequested(() => {\n            timeout = setTimeout(() => {\n                this.terminateWorker(worker);\n            }, this.terminationDelay);\n        });\n        worker.parse(text).then(result => {\n            const hydrated = this.hydrator.hydrate(result);\n            deferred.resolve(hydrated);\n        }).catch(err => {\n            deferred.reject(err);\n        }).finally(() => {\n            cancellation.dispose();\n            clearTimeout(timeout);\n        });\n        return deferred.promise;\n    }\n    terminateWorker(worker) {\n        worker.terminate();\n        const index = this.workerPool.indexOf(worker);\n        if (index >= 0) {\n            this.workerPool.splice(index, 1);\n        }\n    }\n    async acquireParserWorker(cancelToken) {\n        this.initializeWorkers();\n        for (const worker of this.workerPool) {\n            if (worker.ready) {\n                worker.lock();\n                return worker;\n            }\n        }\n        const deferred = new Deferred();\n        cancelToken.onCancellationRequested(() => {\n            const index = this.queue.indexOf(deferred);\n            if (index >= 0) {\n                this.queue.splice(index, 1);\n            }\n            deferred.reject(OperationCancelled);\n        });\n        this.queue.push(deferred);\n        return deferred.promise;\n    }\n}\nexport class ParserWorker {\n    get ready() {\n        return this._ready;\n    }\n    get onReady() {\n        return this.onReadyEmitter.event;\n    }\n    constructor(sendMessage, onMessage, onError, terminate) {\n        this.onReadyEmitter = new Emitter();\n        this.deferred = new Deferred();\n        this._ready = true;\n        this._parsing = false;\n        this.sendMessage = sendMessage;\n        this._terminate = terminate;\n        onMessage(result => {\n            const parseResult = result;\n            this.deferred.resolve(parseResult);\n            this.unlock();\n        });\n        onError(error => {\n            this.deferred.reject(error);\n            this.unlock();\n        });\n    }\n    terminate() {\n        this.deferred.reject(OperationCancelled);\n        this._terminate();\n    }\n    lock() {\n        this._ready = false;\n    }\n    unlock() {\n        this._parsing = false;\n        this._ready = true;\n        this.onReadyEmitter.fire();\n    }\n    parse(text) {\n        if (this._parsing) {\n            throw new Error('Parser worker is busy');\n        }\n        this._parsing = true;\n        this.deferred = new Deferred();\n        this.sendMessage(text);\n        return this.deferred.promise;\n    }\n}\n//# sourceMappingURL=async-parser.js.map","/******************************************************************************\n * Copyright 2023 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { CancellationToken, CancellationTokenSource } from '../utils/cancellation.js';\nimport { Deferred, isOperationCancelled, startCancelableOperation } from '../utils/promise-utils.js';\nexport class DefaultWorkspaceLock {\n    constructor() {\n        this.previousTokenSource = new CancellationTokenSource();\n        this.writeQueue = [];\n        this.readQueue = [];\n        this.done = true;\n    }\n    write(action) {\n        this.cancelWrite();\n        const tokenSource = startCancelableOperation();\n        this.previousTokenSource = tokenSource;\n        return this.enqueue(this.writeQueue, action, tokenSource.token);\n    }\n    read(action) {\n        return this.enqueue(this.readQueue, action);\n    }\n    enqueue(queue, action, cancellationToken = CancellationToken.None) {\n        const deferred = new Deferred();\n        const entry = {\n            action,\n            deferred,\n            cancellationToken\n        };\n        queue.push(entry);\n        this.performNextOperation();\n        return deferred.promise;\n    }\n    async performNextOperation() {\n        if (!this.done) {\n            return;\n        }\n        const entries = [];\n        if (this.writeQueue.length > 0) {\n            // Just perform the next write action\n            entries.push(this.writeQueue.shift());\n        }\n        else if (this.readQueue.length > 0) {\n            // Empty the read queue and perform all actions in parallel\n            entries.push(...this.readQueue.splice(0, this.readQueue.length));\n        }\n        else {\n            return;\n        }\n        this.done = false;\n        await Promise.all(entries.map(async ({ action, deferred, cancellationToken }) => {\n            try {\n                // Move the execution of the action to the next event loop tick via `Promise.resolve()`\n                const result = await Promise.resolve().then(() => action(cancellationToken));\n                deferred.resolve(result);\n            }\n            catch (err) {\n                if (isOperationCancelled(err)) {\n                    // If the operation was cancelled, we don't want to reject the promise\n                    deferred.resolve(undefined);\n                }\n                else {\n                    deferred.reject(err);\n                }\n            }\n        }));\n        this.done = true;\n        this.performNextOperation();\n    }\n    cancelWrite() {\n        this.previousTokenSource.cancel();\n    }\n}\n//# sourceMappingURL=workspace-lock.js.map","/******************************************************************************\n * Copyright 2024 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { CompositeCstNodeImpl, LeafCstNodeImpl, RootCstNodeImpl } from '../parser/cst-node-builder.js';\nimport { isAbstractElement } from '../languages/generated/ast.js';\nimport { isRootCstNode, isCompositeCstNode, isLeafCstNode, isAstNode, isReference } from '../syntax-tree.js';\nimport { streamAst } from '../utils/ast-utils.js';\nimport { BiMap } from '../utils/collections.js';\nimport { streamCst } from '../utils/cst-utils.js';\nexport class DefaultHydrator {\n    constructor(services) {\n        this.grammarElementIdMap = new BiMap();\n        this.tokenTypeIdMap = new BiMap();\n        this.grammar = services.Grammar;\n        this.lexer = services.parser.Lexer;\n        this.linker = services.references.Linker;\n    }\n    dehydrate(result) {\n        return {\n            lexerErrors: result.lexerErrors,\n            lexerReport: result.lexerReport ? this.dehydrateLexerReport(result.lexerReport) : undefined,\n            // We need to create shallow copies of the errors\n            // The original errors inherit from the `Error` class, which is not transferable across worker threads\n            parserErrors: result.parserErrors.map(e => (Object.assign(Object.assign({}, e), { message: e.message }))),\n            value: this.dehydrateAstNode(result.value, this.createDehyrationContext(result.value))\n        };\n    }\n    dehydrateLexerReport(lexerReport) {\n        // By default, lexer reports are serializable\n        return lexerReport;\n    }\n    createDehyrationContext(node) {\n        const astNodes = new Map();\n        const cstNodes = new Map();\n        for (const astNode of streamAst(node)) {\n            astNodes.set(astNode, {});\n        }\n        if (node.$cstNode) {\n            for (const cstNode of streamCst(node.$cstNode)) {\n                cstNodes.set(cstNode, {});\n            }\n        }\n        return {\n            astNodes,\n            cstNodes\n        };\n    }\n    dehydrateAstNode(node, context) {\n        const obj = context.astNodes.get(node);\n        obj.$type = node.$type;\n        obj.$containerIndex = node.$containerIndex;\n        obj.$containerProperty = node.$containerProperty;\n        if (node.$cstNode !== undefined) {\n            obj.$cstNode = this.dehydrateCstNode(node.$cstNode, context);\n        }\n        for (const [name, value] of Object.entries(node)) {\n            if (name.startsWith('$')) {\n                continue;\n            }\n            if (Array.isArray(value)) {\n                const arr = [];\n                obj[name] = arr;\n                for (const item of value) {\n                    if (isAstNode(item)) {\n                        arr.push(this.dehydrateAstNode(item, context));\n                    }\n                    else if (isReference(item)) {\n                        arr.push(this.dehydrateReference(item, context));\n                    }\n                    else {\n                        arr.push(item);\n                    }\n                }\n            }\n            else if (isAstNode(value)) {\n                obj[name] = this.dehydrateAstNode(value, context);\n            }\n            else if (isReference(value)) {\n                obj[name] = this.dehydrateReference(value, context);\n            }\n            else if (value !== undefined) {\n                obj[name] = value;\n            }\n        }\n        return obj;\n    }\n    dehydrateReference(reference, context) {\n        const obj = {};\n        obj.$refText = reference.$refText;\n        if (reference.$refNode) {\n            obj.$refNode = context.cstNodes.get(reference.$refNode);\n        }\n        return obj;\n    }\n    dehydrateCstNode(node, context) {\n        const cstNode = context.cstNodes.get(node);\n        if (isRootCstNode(node)) {\n            cstNode.fullText = node.fullText;\n        }\n        else {\n            // Note: This returns undefined for hidden nodes (i.e. comments)\n            cstNode.grammarSource = this.getGrammarElementId(node.grammarSource);\n        }\n        cstNode.hidden = node.hidden;\n        cstNode.astNode = context.astNodes.get(node.astNode);\n        if (isCompositeCstNode(node)) {\n            cstNode.content = node.content.map(child => this.dehydrateCstNode(child, context));\n        }\n        else if (isLeafCstNode(node)) {\n            cstNode.tokenType = node.tokenType.name;\n            cstNode.offset = node.offset;\n            cstNode.length = node.length;\n            cstNode.startLine = node.range.start.line;\n            cstNode.startColumn = node.range.start.character;\n            cstNode.endLine = node.range.end.line;\n            cstNode.endColumn = node.range.end.character;\n        }\n        return cstNode;\n    }\n    hydrate(result) {\n        const node = result.value;\n        const context = this.createHydrationContext(node);\n        if ('$cstNode' in node) {\n            this.hydrateCstNode(node.$cstNode, context);\n        }\n        return {\n            lexerErrors: result.lexerErrors,\n            lexerReport: result.lexerReport,\n            parserErrors: result.parserErrors,\n            value: this.hydrateAstNode(node, context)\n        };\n    }\n    createHydrationContext(node) {\n        const astNodes = new Map();\n        const cstNodes = new Map();\n        for (const astNode of streamAst(node)) {\n            astNodes.set(astNode, {});\n        }\n        let root;\n        if (node.$cstNode) {\n            for (const cstNode of streamCst(node.$cstNode)) {\n                let cst;\n                if ('fullText' in cstNode) {\n                    cst = new RootCstNodeImpl(cstNode.fullText);\n                    root = cst;\n                }\n                else if ('content' in cstNode) {\n                    cst = new CompositeCstNodeImpl();\n                }\n                else if ('tokenType' in cstNode) {\n                    cst = this.hydrateCstLeafNode(cstNode);\n                }\n                if (cst) {\n                    cstNodes.set(cstNode, cst);\n                    cst.root = root;\n                }\n            }\n        }\n        return {\n            astNodes,\n            cstNodes\n        };\n    }\n    hydrateAstNode(node, context) {\n        const astNode = context.astNodes.get(node);\n        astNode.$type = node.$type;\n        astNode.$containerIndex = node.$containerIndex;\n        astNode.$containerProperty = node.$containerProperty;\n        if (node.$cstNode) {\n            astNode.$cstNode = context.cstNodes.get(node.$cstNode);\n        }\n        for (const [name, value] of Object.entries(node)) {\n            if (name.startsWith('$')) {\n                continue;\n            }\n            if (Array.isArray(value)) {\n                const arr = [];\n                astNode[name] = arr;\n                for (const item of value) {\n                    if (isAstNode(item)) {\n                        arr.push(this.setParent(this.hydrateAstNode(item, context), astNode));\n                    }\n                    else if (isReference(item)) {\n                        arr.push(this.hydrateReference(item, astNode, name, context));\n                    }\n                    else {\n                        arr.push(item);\n                    }\n                }\n            }\n            else if (isAstNode(value)) {\n                astNode[name] = this.setParent(this.hydrateAstNode(value, context), astNode);\n            }\n            else if (isReference(value)) {\n                astNode[name] = this.hydrateReference(value, astNode, name, context);\n            }\n            else if (value !== undefined) {\n                astNode[name] = value;\n            }\n        }\n        return astNode;\n    }\n    setParent(node, parent) {\n        node.$container = parent;\n        return node;\n    }\n    hydrateReference(reference, node, name, context) {\n        return this.linker.buildReference(node, name, context.cstNodes.get(reference.$refNode), reference.$refText);\n    }\n    hydrateCstNode(cstNode, context, num = 0) {\n        const cstNodeObj = context.cstNodes.get(cstNode);\n        if (typeof cstNode.grammarSource === 'number') {\n            cstNodeObj.grammarSource = this.getGrammarElement(cstNode.grammarSource);\n        }\n        cstNodeObj.astNode = context.astNodes.get(cstNode.astNode);\n        if (isCompositeCstNode(cstNodeObj)) {\n            for (const child of cstNode.content) {\n                const hydrated = this.hydrateCstNode(child, context, num++);\n                cstNodeObj.content.push(hydrated);\n            }\n        }\n        return cstNodeObj;\n    }\n    hydrateCstLeafNode(cstNode) {\n        const tokenType = this.getTokenType(cstNode.tokenType);\n        const offset = cstNode.offset;\n        const length = cstNode.length;\n        const startLine = cstNode.startLine;\n        const startColumn = cstNode.startColumn;\n        const endLine = cstNode.endLine;\n        const endColumn = cstNode.endColumn;\n        const hidden = cstNode.hidden;\n        const node = new LeafCstNodeImpl(offset, length, {\n            start: {\n                line: startLine,\n                character: startColumn\n            },\n            end: {\n                line: endLine,\n                character: endColumn\n            }\n        }, tokenType, hidden);\n        return node;\n    }\n    getTokenType(name) {\n        return this.lexer.definition[name];\n    }\n    getGrammarElementId(node) {\n        if (!node) {\n            return undefined;\n        }\n        if (this.grammarElementIdMap.size === 0) {\n            this.createGrammarElementIdMap();\n        }\n        return this.grammarElementIdMap.get(node);\n    }\n    getGrammarElement(id) {\n        if (this.grammarElementIdMap.size === 0) {\n            this.createGrammarElementIdMap();\n        }\n        const element = this.grammarElementIdMap.getKey(id);\n        return element;\n    }\n    createGrammarElementIdMap() {\n        let id = 0;\n        for (const element of streamAst(this.grammar)) {\n            if (isAbstractElement(element)) {\n                this.grammarElementIdMap.set(element, id++);\n            }\n        }\n    }\n}\n//# sourceMappingURL=hydrator.js.map","/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n******************************************************************************/\nimport { createGrammarConfig } from './languages/grammar-config.js';\nimport { createCompletionParser } from './parser/completion-parser-builder.js';\nimport { createLangiumParser } from './parser/langium-parser-builder.js';\nimport { DefaultTokenBuilder } from './parser/token-builder.js';\nimport { DefaultValueConverter } from './parser/value-converter.js';\nimport { DefaultLinker } from './references/linker.js';\nimport { DefaultNameProvider } from './references/name-provider.js';\nimport { DefaultReferences } from './references/references.js';\nimport { DefaultScopeComputation } from './references/scope-computation.js';\nimport { DefaultScopeProvider } from './references/scope-provider.js';\nimport { DefaultJsonSerializer } from './serializer/json-serializer.js';\nimport { DefaultServiceRegistry } from './service-registry.js';\nimport { DefaultDocumentValidator } from './validation/document-validator.js';\nimport { ValidationRegistry } from './validation/validation-registry.js';\nimport { DefaultAstNodeDescriptionProvider, DefaultReferenceDescriptionProvider } from './workspace/ast-descriptions.js';\nimport { DefaultAstNodeLocator } from './workspace/ast-node-locator.js';\nimport { DefaultConfigurationProvider } from './workspace/configuration.js';\nimport { DefaultDocumentBuilder } from './workspace/document-builder.js';\nimport { DefaultLangiumDocumentFactory, DefaultLangiumDocuments } from './workspace/documents.js';\nimport { DefaultIndexManager } from './workspace/index-manager.js';\nimport { DefaultWorkspaceManager } from './workspace/workspace-manager.js';\nimport { DefaultLexer, DefaultLexerErrorMessageProvider } from './parser/lexer.js';\nimport { JSDocDocumentationProvider } from './documentation/documentation-provider.js';\nimport { DefaultCommentProvider } from './documentation/comment-provider.js';\nimport { LangiumParserErrorMessageProvider } from './parser/langium-parser.js';\nimport { DefaultAsyncParser } from './parser/async-parser.js';\nimport { DefaultWorkspaceLock } from './workspace/workspace-lock.js';\nimport { DefaultHydrator } from './serializer/hydrator.js';\n/**\n * Creates a dependency injection module configuring the default core services.\n * This is a set of services that are dedicated to a specific language.\n */\nexport function createDefaultCoreModule(context) {\n    return {\n        documentation: {\n            CommentProvider: (services) => new DefaultCommentProvider(services),\n            DocumentationProvider: (services) => new JSDocDocumentationProvider(services)\n        },\n        parser: {\n            AsyncParser: (services) => new DefaultAsyncParser(services),\n            GrammarConfig: (services) => createGrammarConfig(services),\n            LangiumParser: (services) => createLangiumParser(services),\n            CompletionParser: (services) => createCompletionParser(services),\n            ValueConverter: () => new DefaultValueConverter(),\n            TokenBuilder: () => new DefaultTokenBuilder(),\n            Lexer: (services) => new DefaultLexer(services),\n            ParserErrorMessageProvider: () => new LangiumParserErrorMessageProvider(),\n            LexerErrorMessageProvider: () => new DefaultLexerErrorMessageProvider()\n        },\n        workspace: {\n            AstNodeLocator: () => new DefaultAstNodeLocator(),\n            AstNodeDescriptionProvider: (services) => new DefaultAstNodeDescriptionProvider(services),\n            ReferenceDescriptionProvider: (services) => new DefaultReferenceDescriptionProvider(services)\n        },\n        references: {\n            Linker: (services) => new DefaultLinker(services),\n            NameProvider: () => new DefaultNameProvider(),\n            ScopeProvider: (services) => new DefaultScopeProvider(services),\n            ScopeComputation: (services) => new DefaultScopeComputation(services),\n            References: (services) => new DefaultReferences(services)\n        },\n        serializer: {\n            Hydrator: (services) => new DefaultHydrator(services),\n            JsonSerializer: (services) => new DefaultJsonSerializer(services)\n        },\n        validation: {\n            DocumentValidator: (services) => new DefaultDocumentValidator(services),\n            ValidationRegistry: (services) => new ValidationRegistry(services)\n        },\n        shared: () => context.shared\n    };\n}\n/**\n * Creates a dependency injection module configuring the default shared core services.\n * This is the set of services that are shared between multiple languages.\n */\nexport function createDefaultSharedCoreModule(context) {\n    return {\n        ServiceRegistry: (services) => new DefaultServiceRegistry(services),\n        workspace: {\n            LangiumDocuments: (services) => new DefaultLangiumDocuments(services),\n            LangiumDocumentFactory: (services) => new DefaultLangiumDocumentFactory(services),\n            DocumentBuilder: (services) => new DefaultDocumentBuilder(services),\n            IndexManager: (services) => new DefaultIndexManager(services),\n            WorkspaceManager: (services) => new DefaultWorkspaceManager(services),\n            FileSystemProvider: (services) => context.fileSystemProvider(services),\n            WorkspaceLock: () => new DefaultWorkspaceLock(),\n            ConfigurationProvider: (services) => new DefaultConfigurationProvider(services)\n        }\n    };\n}\n//# sourceMappingURL=default-module.js.map","/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { DefaultNameRegexp } from '../utils/cst-utils.js';\nimport { isCommentTerminal, terminalRegex } from '../utils/grammar-utils.js';\nimport { isMultilineComment } from '../utils/regexp-utils.js';\nimport { isTerminalRule } from './generated/ast.js';\n/**\n * Create the default grammar configuration (used by `createDefaultModule`). This can be overridden in a\n * language-specific module.\n */\nexport function createGrammarConfig(services) {\n    const rules = [];\n    const grammar = services.Grammar;\n    for (const rule of grammar.rules) {\n        if (isTerminalRule(rule) && isCommentTerminal(rule) && isMultilineComment(terminalRegex(rule))) {\n            rules.push(rule.name);\n        }\n    }\n    return {\n        multilineCommentRules: rules,\n        nameRegexp: DefaultNameRegexp\n    };\n}\n//# sourceMappingURL=grammar-config.js.map","/******************************************************************************\n * Copyright 2022 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { LangiumCompletionParser } from './langium-parser.js';\nimport { createParser } from './parser-builder-base.js';\nexport function createCompletionParser(services) {\n    const grammar = services.Grammar;\n    const lexer = services.parser.Lexer;\n    const parser = new LangiumCompletionParser(services);\n    createParser(grammar, parser, lexer.definition);\n    parser.finalize();\n    return parser;\n}\n//# sourceMappingURL=completion-parser-builder.js.map","import assignValue from './_assignValue.js';\nimport castPath from './_castPath.js';\nimport isIndex from './_isIndex.js';\nimport isObject from './isObject.js';\nimport toKey from './_toKey.js';\n\n/**\n * The base implementation of `_.set`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @param {Function} [customizer] The function to customize path creation.\n * @returns {Object} Returns `object`.\n */\nfunction baseSet(object, path, value, customizer) {\n  if (!isObject(object)) {\n    return object;\n  }\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      lastIndex = length - 1,\n      nested = object;\n\n  while (nested != null && ++index < length) {\n    var key = toKey(path[index]),\n        newValue = value;\n\n    if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n      return object;\n    }\n\n    if (index != lastIndex) {\n      var objValue = nested[key];\n      newValue = customizer ? customizer(objValue, key, nested) : undefined;\n      if (newValue === undefined) {\n        newValue = isObject(objValue)\n          ? objValue\n          : (isIndex(path[index + 1]) ? [] : {});\n      }\n    }\n    assignValue(nested, key, newValue);\n    nested = nested[key];\n  }\n  return object;\n}\n\nexport default baseSet;\n","import baseGet from './_baseGet.js';\nimport baseSet from './_baseSet.js';\nimport castPath from './_castPath.js';\n\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\nfunction basePickBy(object, paths, predicate) {\n  var index = -1,\n      length = paths.length,\n      result = {};\n\n  while (++index < length) {\n    var path = paths[index],\n        value = baseGet(object, path);\n\n    if (predicate(value, path)) {\n      baseSet(result, castPath(path, object), value);\n    }\n  }\n  return result;\n}\n\nexport default basePickBy;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nexport default arrayFilter;\n","import {\n  __name\n} from \"./chunk-3XYRH5AP.mjs\";\n\n// src/diagrams/globalStyles.ts\nvar getIconStyles = /* @__PURE__ */ __name(() => `\n  /* Font Awesome icon styling - consolidated */\n  .label-icon {\n    display: inline-block;\n    height: 1em;\n    overflow: visible;\n    vertical-align: -0.125em;\n  }\n  \n  .node .label-icon path {\n    fill: currentColor;\n    stroke: revert;\n    stroke-width: revert;\n  }\n`, \"getIconStyles\");\n\nexport {\n  getIconStyles\n};\n","import toFinite from './toFinite.js';\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nexport default toInteger;\n","import Symbol from './_Symbol.js';\nimport arrayMap from './_arrayMap.js';\nimport isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nexport default baseToString;\n","import baseToString from './_baseToString.js';\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nexport default toString;\n","import arrayFilter from './_arrayFilter.js';\nimport stubArray from './stubArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nexport default getSymbols;\n","import baseEach from './_baseEach.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nexport default baseMap;\n","import isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nexport default toKey;\n","import {\n  __name\n} from \"./chunk-3XYRH5AP.mjs\";\n\n// src/rendering-util/insertElementsForSize.js\nimport { select } from \"d3\";\nvar getDiagramElement = /* @__PURE__ */ __name((id, securityLevel) => {\n  let sandboxElement;\n  if (securityLevel === \"sandbox\") {\n    sandboxElement = select(\"#i\" + id);\n  }\n  const root = securityLevel === \"sandbox\" ? select(sandboxElement.nodes()[0].contentDocument.body) : select(\"body\");\n  const svg = root.select(`[id=\"${id}\"]`);\n  return svg;\n}, \"getDiagramElement\");\n\nexport {\n  getDiagramElement\n};\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nexport default arrayPush;\n","import copyObject from './_copyObject.js';\nimport keys from './keys.js';\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\nexport default baseAssign;\n","import copyObject from './_copyObject.js';\nimport keysIn from './keysIn.js';\n\n/**\n * The base implementation of `_.assignIn` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssignIn(object, source) {\n  return object && copyObject(source, keysIn(source), object);\n}\n\nexport default baseAssignIn;\n","import copyObject from './_copyObject.js';\nimport getSymbols from './_getSymbols.js';\n\n/**\n * Copies own symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\nexport default copySymbols;\n","import copyObject from './_copyObject.js';\nimport getSymbolsIn from './_getSymbolsIn.js';\n\n/**\n * Copies own and inherited symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbolsIn(source, object) {\n  return copyObject(source, getSymbolsIn(source), object);\n}\n\nexport default copySymbolsIn;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = new array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\nexport default initCloneArray;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\nexport default cloneDataView;\n","/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\nexport default cloneRegExp;\n","import Symbol from './_Symbol.js';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\nexport default cloneSymbol;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\nimport cloneDataView from './_cloneDataView.js';\nimport cloneRegExp from './_cloneRegExp.js';\nimport cloneSymbol from './_cloneSymbol.js';\nimport cloneTypedArray from './_cloneTypedArray.js';\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return new Ctor;\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return new Ctor;\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\nexport default initCloneByTag;\n","import getTag from './_getTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]';\n\n/**\n * The base implementation of `_.isMap` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n */\nfunction baseIsMap(value) {\n  return isObjectLike(value) && getTag(value) == mapTag;\n}\n\nexport default baseIsMap;\n","import baseIsMap from './_baseIsMap.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsMap = nodeUtil && nodeUtil.isMap;\n\n/**\n * Checks if `value` is classified as a `Map` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n * @example\n *\n * _.isMap(new Map);\n * // => true\n *\n * _.isMap(new WeakMap);\n * // => false\n */\nvar isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\nexport default isMap;\n","import getTag from './_getTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar setTag = '[object Set]';\n\n/**\n * The base implementation of `_.isSet` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n */\nfunction baseIsSet(value) {\n  return isObjectLike(value) && getTag(value) == setTag;\n}\n\nexport default baseIsSet;\n","import baseIsSet from './_baseIsSet.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsSet = nodeUtil && nodeUtil.isSet;\n\n/**\n * Checks if `value` is classified as a `Set` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n * @example\n *\n * _.isSet(new Set);\n * // => true\n *\n * _.isSet(new WeakSet);\n * // => false\n */\nvar isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\nexport default isSet;\n","import Stack from './_Stack.js';\nimport arrayEach from './_arrayEach.js';\nimport assignValue from './_assignValue.js';\nimport baseAssign from './_baseAssign.js';\nimport baseAssignIn from './_baseAssignIn.js';\nimport cloneBuffer from './_cloneBuffer.js';\nimport copyArray from './_copyArray.js';\nimport copySymbols from './_copySymbols.js';\nimport copySymbolsIn from './_copySymbolsIn.js';\nimport getAllKeys from './_getAllKeys.js';\nimport getAllKeysIn from './_getAllKeysIn.js';\nimport getTag from './_getTag.js';\nimport initCloneArray from './_initCloneArray.js';\nimport initCloneByTag from './_initCloneByTag.js';\nimport initCloneObject from './_initCloneObject.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isMap from './isMap.js';\nimport isObject from './isObject.js';\nimport isSet from './isSet.js';\nimport keys from './keys.js';\nimport keysIn from './keysIn.js';\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_FLAT_FLAG = 2,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Deep clone\n *  2 - Flatten inherited properties\n *  4 - Clone symbols\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, bitmask, customizer, key, object, stack) {\n  var result,\n      isDeep = bitmask & CLONE_DEEP_FLAG,\n      isFlat = bitmask & CLONE_FLAT_FLAG,\n      isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      result = (isFlat || isFunc) ? {} : initCloneObject(value);\n      if (!isDeep) {\n        return isFlat\n          ? copySymbolsIn(value, baseAssignIn(result, value))\n          : copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (isSet(value)) {\n    value.forEach(function(subValue) {\n      result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n    });\n  } else if (isMap(value)) {\n    value.forEach(function(subValue, key) {\n      result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n    });\n  }\n\n  var keysFunc = isFull\n    ? (isFlat ? getAllKeysIn : getAllKeys)\n    : (isFlat ? keysIn : keys);\n\n  var props = isArr ? undefined : keysFunc(value);\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n  });\n  return result;\n}\n\nexport default baseClone;\n","import {\n  AbstractMermaidTokenBuilder,\n  AbstractMermaidValueConverter,\n  MermaidGeneratedSharedModule,\n  PieGeneratedModule,\n  __name\n} from \"./chunk-YAJQ3QCK.mjs\";\n\n// src/language/pie/module.ts\nimport {\n  EmptyFileSystem,\n  createDefaultCoreModule,\n  createDefaultSharedCoreModule,\n  inject\n} from \"langium\";\n\n// src/language/pie/tokenBuilder.ts\nvar PieTokenBuilder = class extends AbstractMermaidTokenBuilder {\n  static {\n    __name(this, \"PieTokenBuilder\");\n  }\n  constructor() {\n    super([\"pie\", \"showData\"]);\n  }\n};\n\n// src/language/pie/valueConverter.ts\nvar PieValueConverter = class extends AbstractMermaidValueConverter {\n  static {\n    __name(this, \"PieValueConverter\");\n  }\n  runCustomConverter(rule, input, _cstNode) {\n    if (rule.name !== \"PIE_SECTION_LABEL\") {\n      return void 0;\n    }\n    return input.replace(/\"/g, \"\").trim();\n  }\n};\n\n// src/language/pie/module.ts\nvar PieModule = {\n  parser: {\n    TokenBuilder: /* @__PURE__ */ __name(() => new PieTokenBuilder(), \"TokenBuilder\"),\n    ValueConverter: /* @__PURE__ */ __name(() => new PieValueConverter(), \"ValueConverter\")\n  }\n};\nfunction createPieServices(context = EmptyFileSystem) {\n  const shared = inject(\n    createDefaultSharedCoreModule(context),\n    MermaidGeneratedSharedModule\n  );\n  const Pie = inject(\n    createDefaultCoreModule({ shared }),\n    PieGeneratedModule,\n    PieModule\n  );\n  shared.ServiceRegistry.register(Pie);\n  return { shared, Pie };\n}\n__name(createPieServices, \"createPieServices\");\n\nexport {\n  PieModule,\n  createPieServices\n};\n","import { useCallback, useLayoutEffect, useState } from 'react';\n\ntype Ttheme = 'dark' | 'light';\nexport const themeNames = {\n  LIGHT: 'light',\n  DARK: 'dark',\n} as const;\n\nconst useTheme = () => {\n  const [theme, setTheme] = useState<Ttheme>('dark');\n\n  const themeToggler = useCallback(() => {\n    const nextTheme = theme === themeNames.LIGHT ? themeNames.DARK : themeNames.LIGHT;\n\n    setTheme(nextTheme);\n    window.__setPreferredTheme(nextTheme);\n  }, [theme]);\n\n  useLayoutEffect(() => {\n    //  window.__theme   \n    if (typeof window === 'object') {\n      setTheme(window.__theme);\n    }\n    //      .\n    // __setPreferredTheme     React     .\n    window.__onThemeChange = (newTheme: Ttheme) => {\n      setTheme(newTheme);\n    };\n  }, []);\n\n  return { theme, themeToggler };\n};\n\nexport default useTheme;\n","import { css, Global } from '@emotion/react';\nimport { lighten, setLightness } from 'polished';\n\nimport { colors } from '@/styles/colors.ts';\n\nconst globalStyle = css`\n  html,\n  body,\n  div,\n  span,\n  applet,\n  object,\n  iframe,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  p,\n  blockquote,\n  pre,\n  a,\n  abbr,\n  acronym,\n  address,\n  big,\n  cite,\n  code,\n  del,\n  dfn,\n  em,\n  img,\n  ins,\n  kbd,\n  q,\n  s,\n  samp,\n  small,\n  strike,\n  strong,\n  sub,\n  sup,\n  tt,\n  var,\n  dl,\n  dt,\n  dd,\n  ol,\n  fieldset,\n  form,\n  label,\n  legend,\n  article,\n  aside,\n  canvas,\n  details,\n  embed,\n  figure,\n  figcaption,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  output,\n  ruby,\n  section,\n  summary,\n  time,\n  mark,\n  audio,\n  video {\n    margin: 0;\n    padding: 0;\n    font: inherit;\n    font-size: 16px;\n    vertical-align: baseline;\n    border: 0;\n\n    .error-front-page {\n      font-size: 1.6rem;\n    }\n  }\n\n  html {\n    overflow: hidden scroll;\n    box-sizing: border-box;\n    font-size: 62.5%;\n    -ms-text-size-adjust: 100%;\n    -webkit-text-size-adjust: 100%;\n    -webkit-tap-highlight-color: rgb(0 0 0 / 0);\n  }\n\n  body {\n    overflow-x: hidden;\n    font-size: 1.6rem;\n    -moz-font-feature-settings: 'liga' on;\n    font-weight: 400;\n    font-style: normal;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    line-height: 1.6em;\n    color: var(--body-color);\n    letter-spacing: 0;\n    background: var(--background-color);\n\n    /* stylelint-disable-next-line */\n    text-rendering: optimizeLegibility;\n    word-break: break-word;\n\n    &::-webkit-scrollbar {\n      width: 6px;\n      background-color: transparent;\n    }\n\n    &::-webkit-scrollbar-thumb {\n      background-color: hsl(230 5% 35%);\n      border-radius: 8px;\n    }\n\n    &.light {\n      --body-color: ${lighten('-0.3', colors.midgrey)};\n      --background-color: #fff;\n      --main-color: #000;\n      --link-color: #0a0b0c;\n      --border-top-color: ${lighten('0.1', colors.lightgrey)};\n      --nav-background: rgb(255 255 255 / 0.4);\n      --nav-border-color: rgb(0 0 0 / 0.05);\n      --header-color: var(--background-color);\n      --header-after: var(--background-color);\n      --header-before: rgb(0 0 0 / 0.15);\n      --author-border: #fff;\n      --home-header-color: ${colors.darkgrey};\n      --home-header-border-bottom: ${lighten('0.12', colors.lightgrey)};\n      --header-author-link: ${colors.darkgrey};\n      --no-image-border: ${lighten('0.12', colors.lightgrey)};\n      --strong-font-weight: 600;\n      --anchor-color: #0b63f0;\n      --anchor-secondary-color: #768086;\n      --loader-color: hsla(230 40% 10% / 0.8);\n      --loader-color2: hsla(230 40% 10% / 0.2);\n      --image-border-color: hsl(230 25% 94%);\n      --image-border-color__dark: hsl(230 6% 23%);\n      --post-card-title: rgb(21 23 26);\n      --post-card-description: rgb(48 58 62);\n      --post-card-by-line: ${lighten('0.2', colors.darkgrey)};\n      --strong-color: ${lighten('-0.05', colors.darkgrey)};\n      --figcaption-color: #000;\n      --table-first-of-type: linear-gradient(\n        to right,\n        rgb(255 255 255) 50%,\n        rgb(255 255 255 / 0) 100%\n      );\n      --table-last-of-type: linear-gradient(\n        to left,\n        rgb(255 255 255) 50%,\n        rgb(255 255 255 / 0) 100%\n      );\n      --table-th-background: ${lighten('0.04', colors.whitegrey)};\n      --table-th-border: ${lighten('-0.01', colors.whitegrey)};\n      --tag-boxshadow: hsl(218 53% 10% / 0.12);\n      --tag-background: #f5f5f5;\n      --post-full-border: ${lighten('0.1', colors.lightgrey)};\n      --post-full-meta-link: ${lighten('0.1', colors.darkgrey)};\n      --post-full-meta-link-hover: ${colors.darkgrey};\n      --post-full-title: ${setLightness('0.05', colors.darkgrey)};\n      --highlight-background: #fafafa;\n      --highlight-border: #d1d1d1;\n      --pre-code-color: #000;\n      --little-code-background: var(--highlight-background);\n      --little-code-border: #d1d1d1;\n      --prism-background: hsl(0 0% 90.66%);\n      --prism-border-left: hsl(0 0% 82.88%);\n      --about-box-shadow: 10px 10px 30px #bebebe, -10px -10px 30px #fff;\n      --post-card-opacity: 0;\n      --post-card-background: rgb(0 0 0 / 0.1);\n      --post-card-after-opacity: 1;\n    }\n\n    &.dark {\n      --body-color: rgba(255 255 255 / 0.75);\n\n      /* --background-color: #0d1117; */\n      --background-color: ${colors.darkmode};\n      --main-color: #fff;\n      --link-color: rgba(255 255 255 / 0.9);\n      --border-top-color: ${lighten('0.08', colors.darkmode)};\n      --nav-background: rgba(25 27 31 / 0.4);\n      --nav-border-color: rgba(255 255 255 / 0.05);\n      --header-color: ${lighten('-0.05', colors.darkgrey)};\n      --header-after: ${colors.darkmode};\n      --header-before: rgba(0 0 0 / 0.6);\n      --author-border: ${lighten('0.02', colors.darkgrey)};\n      --home-header-color: rgba(255 255 255 / 0.9);\n      --home-header-border-bottom: #272a30;\n      --header-author-link: rgba(255 255 255 / 0.75);\n      --no-image-border: ${lighten('0.15', colors.darkmode)};\n      --strong-font-weight: 500;\n      --anchor-color: #2071f3;\n      --anchor-secondary-color: ${lighten('0.1', colors.midgrey)};\n      --loader-color: hsl(230 40% 90% / 0.8);\n      --loader-color2: hsl(230 40% 90% / 0.2);\n      --image-border-color: hsl(230 6% 23%);\n      --image-border-color__dark: hsl(230 6% 23%);\n      --post-card-title: rgba(255 255 255 / 0.85);\n      --post-card-description: #768086;\n      --post-card-by-line: rgba(255 255 255 / 0.75);\n      --strong-color: ${lighten('-0.05', '#fff')};\n      --figcaption-color: rgba(255 255 255 / 0.6);\n      --table-first-of-type: linear-gradient(\n        to right,\n        ${colors.darkmode} 50%,\n        ${colors.darkmode} 100%\n      );\n      --table-last-of-type: linear-gradient(270deg, #191b1f 50%, rgb(25 27 31));\n      --table-th-background: ${lighten('0.08', colors.darkmode)};\n      --table-th-border: var(--table-th-background);\n      --tag-background: #1f2125;\n      --tag-boxshadow: #090f1a;\n\n      --post-full-border: ${lighten('0.15', colors.darkmode)};\n      --post-full-meta-link: rgb(255 255 255 / 0.75);\n      --post-full-meta-link-hover: #fff;\n      --post-full-title: rgb(255 255 255 / 0.9);\n      --highlight-background: rgb(32 36 39);\n\n      --highlight-border: none;\n      --pre-code-color: #c9d1d9;\n      --little-code-background: rgb(96 98 100 / 0.4);\n      --little-code-border: none;\n      --prism-background: rgb(0 0 0 / 0.4);\n      --prism-border-left: #818181;\n      --about-box-shadow: 10px 20px 20px hsl(0 0 0 / 0.3);\n      --post-card-opacity: 0.6;\n      --post-card-background: rgb(0 0 0 / 0.3);\n      --post-card-after-opacity: 0.1;\n    }\n  }\n\n  html,\n  body {\n    font-family:\n      Pretendard,\n      -apple-system,\n      BlinkMacSystemFont,\n      'Segoe UI',\n      Roboto,\n      'Noto Sans',\n      'Ubuntu',\n      'Droid Sans',\n      'Helvetica Neue',\n      sans-serif;\n  }\n\n  a {\n    color: var(--anchor-color);\n    text-decoration: none;\n    background-color: transparent;\n\n    &:hover {\n      text-decoration: underline;\n    }\n\n    &:active,\n    &:hover {\n      outline: 0;\n    }\n  }\n\n  ol,\n  ul {\n    max-width: 100%;\n    padding-left: 1.3em;\n    list-style: none;\n  }\n\n  blockquote,\n  q {\n    quotes: none;\n  }\n\n  blockquote:before,\n  blockquote:after,\n  q:before,\n  q:after {\n    content: none;\n  }\n\n  table {\n    border-spacing: 0;\n    border-collapse: collapse;\n  }\n\n  img {\n    max-width: 100%;\n    border: 0;\n  }\n\n  *,\n  *:before,\n  *:after {\n    box-sizing: inherit;\n  }\n\n  b,\n  strong {\n    font-weight: var(--strong-font-weight);\n  }\n\n  i,\n  em,\n  dfn {\n    font-style: italic;\n  }\n\n  small {\n    font-size: 80%;\n  }\n\n  sub,\n  sup {\n    position: relative;\n    font-size: 75%;\n    line-height: 0;\n    vertical-align: baseline;\n  }\n\n  sup {\n    top: -0.5em;\n  }\n\n  sub {\n    bottom: -0.25em;\n  }\n\n  mark {\n    background-color: #fdffb6;\n  }\n\n  code,\n  kbd,\n  pre,\n  samp {\n    font-family: monospace;\n    font-size: 1em;\n  }\n\n  button,\n  input,\n  optgroup,\n  select,\n  textarea {\n    margin: 0;\n    font: inherit;\n    color: inherit;\n  }\n\n  button {\n    overflow: visible;\n    border: none;\n  }\n\n  button,\n  select {\n    text-transform: none;\n  }\n\n  button,\n  html input[type='button'],\n  input[type='reset'],\n  input[type='submit'] {\n    cursor: pointer;\n    -webkit-appearance: button;\n  }\n\n  button[disabled],\n  html input[disabled] {\n    cursor: default;\n  }\n\n  button::-moz-focus-inner,\n  input::-moz-focus-inner {\n    padding: 0;\n    border: 0;\n  }\n\n  input {\n    line-height: normal;\n  }\n\n  input:focus {\n    outline: none;\n  }\n\n  input[type='checkbox'],\n  input[type='radio'] {\n    box-sizing: border-box;\n    padding: 0;\n  }\n\n  input[type='number']::-webkit-inner-spin-button,\n  input[type='number']::-webkit-outer-spin-button {\n    height: auto;\n  }\n\n  input[type='search'] {\n    box-sizing: content-box;\n    -webkit-appearance: textfield;\n  }\n\n  input[type='search']::-webkit-search-cancel-button,\n  input[type='search']::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n\n  legend {\n    padding: 0;\n    border: 0;\n  }\n\n  textarea {\n    resize: vertical;\n    overflow: auto;\n  }\n\n  td,\n  th {\n    padding: 0;\n  }\n\n  hr {\n    position: relative;\n    display: block;\n    width: 100%;\n    height: 1px;\n    margin: 2.5em 0 3.5em;\n    padding: 0;\n    border: 0;\n    border-top: 1px solid var(--border-top-color);\n  }\n\n  audio,\n  canvas,\n  iframe,\n  img,\n  svg,\n  video {\n    vertical-align: middle;\n  }\n\n  svg:not(:root) {\n    overflow: hidden;\n  }\n\n  fieldset {\n    margin: 0;\n    padding: 0;\n    border: 0;\n  }\n\n  p,\n  ul,\n  ol,\n  dl,\n  blockquote {\n    margin: 0 0 1.5em;\n  }\n\n  ul {\n    list-style: disc;\n  }\n\n  ol {\n    list-style: decimal;\n  }\n\n  ol ol,\n  ul ul,\n  ul ol,\n  ol ul {\n    margin: 0.5em 0 1em;\n  }\n\n  li {\n    margin: 0.4em 0;\n    padding-left: 0.3em;\n    line-height: 1.6em;\n  }\n\n  dt {\n    float: left;\n    width: 120px;\n    margin: 0 20px 0 0;\n    font-weight: 500;\n    color: ${colors.darkgrey};\n    text-align: right;\n  }\n\n  dd {\n    margin: 0 0 5px;\n    text-align: left;\n  }\n\n  blockquote {\n    margin: 1.5em 0;\n    padding: 0 1.6em;\n    border-left: ${colors.whitegrey} 0.5em solid;\n  }\n\n  blockquote p {\n    margin: 0.8em 0;\n    font-size: 1.2em;\n    font-weight: 400;\n  }\n\n  blockquote small {\n    display: inline-block;\n    margin: 0.8em 0 0.8em 1.5em;\n    font-size: 0.9em;\n    opacity: 0.8;\n  }\n\n  blockquote cite {\n    font-weight: 700;\n\n    /* stylelint-disable-next-line */\n    a {\n      font-weight: 400;\n    }\n  }\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    margin-top: 0;\n    font-weight: 600;\n    line-height: 1.15;\n\n    /* stylelint-disable-next-line */\n    text-rendering: optimizeLegibility;\n\n    a.auto-link {\n      box-shadow: none !important;\n\n      &:hover {\n        box-shadow: none !important;\n      }\n\n      svg {\n        opacity: 0;\n        fill: var(--link-color) !important;\n        transition: 0.25s ease;\n      }\n    }\n\n    &:hover {\n      a.auto-link svg {\n        opacity: 1;\n      }\n    }\n  }\n\n  /* stylelint-disable-next-line */\n  h1 {\n    margin: 0 0 0.5em;\n    font-size: 5.5rem;\n    font-weight: 600;\n\n    @media (max-width: 500px) {\n      font-size: 2.2rem;\n    }\n  }\n\n  /* stylelint-disable-next-line */\n  h2 {\n    margin: 1.5em 0 0.5em;\n    font-size: 2.2rem;\n\n    @media (max-width: 500px) {\n      font-size: 1.8rem;\n    }\n  }\n\n  /* stylelint-disable-next-line */\n  h3 {\n    margin: 1.5em 0 0.5em;\n    font-size: 1.8rem;\n    font-weight: 500;\n\n    @media (max-width: 500px) {\n      font-size: 1.7rem;\n    }\n  }\n\n  /* stylelint-disable-next-line */\n  h4 {\n    margin: 1.5em 0 0.5em;\n    font-size: 1.6rem;\n    font-weight: 500;\n  }\n\n  /* stylelint-disable-next-line */\n  h5 {\n    margin: 1.5em 0 0.5em;\n    font-size: 1.4rem;\n    font-weight: 500;\n  }\n\n  /* stylelint-disable-next-line */\n  h6 {\n    margin: 1.5em 0 0.5em;\n    font-size: 1.4rem;\n    font-weight: 500;\n  }\n\n  .medium-zoom-overlay {\n    backdrop-filter: blur(8px);\n  }\n\n  .gatsby-resp-image-background-image {\n    border-radius: 6px;\n  }\n\n  .gatsby-resp-image-wrapper {\n    margin: 40px 0;\n\n    @media (max-width: 800px) {\n      width: 100%;\n      margin: initial;\n    }\n  }\n\n  .medium-zoom-image {\n    box-shadow: none !important;\n  }\n\n  .copyright {\n    font-size: 1.4rem;\n\n    a {\n      font-size: inherit;\n    }\n  }\n`;\n\nexport default function GlobalStyles() {\n  return <Global styles={globalStyle} />;\n}\n","import { useMemo } from 'react';\nimport { ThemeProvider } from '@emotion/react';\n\nimport { ThemeToggleContext } from '@/contexts/ThemeToggleContext.ts';\nimport useTheme from '@/hooks/useTheme.ts';\nimport GlobalStyles from '@/styles/GlobalStyles.tsx';\n\nimport type { Theme } from '@emotion/react';\n\ntype IndexProps = {\n  className?: string;\n  children: React.ReactNode;\n};\n\nexport default function IndexLayout(props: IndexProps) {\n  const { theme, themeToggler } = useTheme();\n  const themeObject: Theme = { mode: theme };\n  const memorizedValue = useMemo(\n    () => ({\n      theme,\n      themeToggler,\n    }),\n    [theme, themeToggler],\n  );\n\n  return (\n    <div className={props.className}>\n      <ThemeToggleContext.Provider value={memorizedValue}>\n        <ThemeProvider theme={themeObject}>\n          <GlobalStyles />\n          {props.children}\n        </ThemeProvider>\n      </ThemeToggleContext.Provider>\n    </div>\n  );\n}\n","import arrayMap from './_arrayMap.js';\nimport baseIteratee from './_baseIteratee.js';\nimport baseMap from './_baseMap.js';\nimport isArray from './isArray.js';\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nexport default map;\n","/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { isCrossReference, isRuleCall } from '../languages/generated/ast.js';\nimport { getCrossReferenceTerminal, getRuleType } from '../utils/grammar-utils.js';\nexport class DefaultValueConverter {\n    convert(input, cstNode) {\n        let feature = cstNode.grammarSource;\n        if (isCrossReference(feature)) {\n            feature = getCrossReferenceTerminal(feature);\n        }\n        if (isRuleCall(feature)) {\n            const rule = feature.rule.ref;\n            if (!rule) {\n                throw new Error('This cst node was not parsed by a rule.');\n            }\n            return this.runConverter(rule, input, cstNode);\n        }\n        return input;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    runConverter(rule, input, cstNode) {\n        var _a;\n        switch (rule.name.toUpperCase()) {\n            case 'INT': return ValueConverter.convertInt(input);\n            case 'STRING': return ValueConverter.convertString(input);\n            case 'ID': return ValueConverter.convertID(input);\n        }\n        switch ((_a = getRuleType(rule)) === null || _a === void 0 ? void 0 : _a.toLowerCase()) {\n            case 'number': return ValueConverter.convertNumber(input);\n            case 'boolean': return ValueConverter.convertBoolean(input);\n            case 'bigint': return ValueConverter.convertBigint(input);\n            case 'date': return ValueConverter.convertDate(input);\n            default: return input;\n        }\n    }\n}\nexport var ValueConverter;\n(function (ValueConverter) {\n    function convertString(input) {\n        let result = '';\n        for (let i = 1; i < input.length - 1; i++) {\n            const c = input.charAt(i);\n            if (c === '\\\\') {\n                const c1 = input.charAt(++i);\n                result += convertEscapeCharacter(c1);\n            }\n            else {\n                result += c;\n            }\n        }\n        return result;\n    }\n    ValueConverter.convertString = convertString;\n    function convertEscapeCharacter(char) {\n        switch (char) {\n            case 'b': return '\\b';\n            case 'f': return '\\f';\n            case 'n': return '\\n';\n            case 'r': return '\\r';\n            case 't': return '\\t';\n            case 'v': return '\\v';\n            case '0': return '\\0';\n            default: return char;\n        }\n    }\n    function convertID(input) {\n        if (input.charAt(0) === '^') {\n            return input.substring(1);\n        }\n        else {\n            return input;\n        }\n    }\n    ValueConverter.convertID = convertID;\n    function convertInt(input) {\n        return parseInt(input);\n    }\n    ValueConverter.convertInt = convertInt;\n    function convertBigint(input) {\n        return BigInt(input);\n    }\n    ValueConverter.convertBigint = convertBigint;\n    function convertDate(input) {\n        return new Date(input);\n    }\n    ValueConverter.convertDate = convertDate;\n    function convertNumber(input) {\n        return Number(input);\n    }\n    ValueConverter.convertNumber = convertNumber;\n    function convertBoolean(input) {\n        return input.toLowerCase() === 'true';\n    }\n    ValueConverter.convertBoolean = convertBoolean;\n})(ValueConverter || (ValueConverter = {}));\n//# sourceMappingURL=value-converter.js.map","import {\n  AbstractMermaidTokenBuilder,\n  CommonValueConverter,\n  MermaidGeneratedSharedModule,\n  PacketGeneratedModule,\n  __name\n} from \"./chunk-YAJQ3QCK.mjs\";\n\n// src/language/packet/module.ts\nimport {\n  EmptyFileSystem,\n  createDefaultCoreModule,\n  createDefaultSharedCoreModule,\n  inject\n} from \"langium\";\n\n// src/language/packet/tokenBuilder.ts\nvar PacketTokenBuilder = class extends AbstractMermaidTokenBuilder {\n  static {\n    __name(this, \"PacketTokenBuilder\");\n  }\n  constructor() {\n    super([\"packet-beta\"]);\n  }\n};\n\n// src/language/packet/module.ts\nvar PacketModule = {\n  parser: {\n    TokenBuilder: /* @__PURE__ */ __name(() => new PacketTokenBuilder(), \"TokenBuilder\"),\n    ValueConverter: /* @__PURE__ */ __name(() => new CommonValueConverter(), \"ValueConverter\")\n  }\n};\nfunction createPacketServices(context = EmptyFileSystem) {\n  const shared = inject(\n    createDefaultSharedCoreModule(context),\n    MermaidGeneratedSharedModule\n  );\n  const Packet = inject(\n    createDefaultCoreModule({ shared }),\n    PacketGeneratedModule,\n    PacketModule\n  );\n  shared.ServiceRegistry.register(Packet);\n  return { shared, Packet };\n}\n__name(createPacketServices, \"createPacketServices\");\n\nexport {\n  PacketModule,\n  createPacketServices\n};\n","import baseIteratee from './_baseIteratee.js';\nimport isArrayLike from './isArrayLike.js';\nimport keys from './keys.js';\n\n/**\n * Creates a `_.find` or `_.findLast` function.\n *\n * @private\n * @param {Function} findIndexFunc The function to find the collection index.\n * @returns {Function} Returns the new find function.\n */\nfunction createFind(findIndexFunc) {\n  return function(collection, predicate, fromIndex) {\n    var iterable = Object(collection);\n    if (!isArrayLike(collection)) {\n      var iteratee = baseIteratee(predicate, 3);\n      collection = keys(collection);\n      predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n    }\n    var index = findIndexFunc(collection, predicate, fromIndex);\n    return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n  };\n}\n\nexport default createFind;\n","import baseFindIndex from './_baseFindIndex.js';\nimport baseIteratee from './_baseIteratee.js';\nimport toInteger from './toInteger.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This method is like `_.find` except that it returns the index of the first\n * element `predicate` returns truthy for instead of the element itself.\n *\n * @static\n * @memberOf _\n * @since 1.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': false },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': true }\n * ];\n *\n * _.findIndex(users, function(o) { return o.user == 'barney'; });\n * // => 0\n *\n * // The `_.matches` iteratee shorthand.\n * _.findIndex(users, { 'user': 'fred', 'active': false });\n * // => 1\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findIndex(users, ['active', false]);\n * // => 0\n *\n * // The `_.property` iteratee shorthand.\n * _.findIndex(users, 'active');\n * // => 2\n */\nfunction findIndex(array, predicate, fromIndex) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return -1;\n  }\n  var index = fromIndex == null ? 0 : toInteger(fromIndex);\n  if (index < 0) {\n    index = nativeMax(length + index, 0);\n  }\n  return baseFindIndex(array, baseIteratee(predicate, 3), index);\n}\n\nexport default findIndex;\n","import createFind from './_createFind.js';\nimport findIndex from './findIndex.js';\n\n/**\n * Iterates over elements of `collection`, returning the first element\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {*} Returns the matched element, else `undefined`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': true },\n *   { 'user': 'fred',    'age': 40, 'active': false },\n *   { 'user': 'pebbles', 'age': 1,  'active': true }\n * ];\n *\n * _.find(users, function(o) { return o.age < 40; });\n * // => object for 'barney'\n *\n * // The `_.matches` iteratee shorthand.\n * _.find(users, { 'age': 1, 'active': true });\n * // => object for 'pebbles'\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.find(users, ['active', false]);\n * // => object for 'fred'\n *\n * // The `_.property` iteratee shorthand.\n * _.find(users, 'active');\n * // => object for 'barney'\n */\nvar find = createFind(findIndex);\n\nexport default find;\n","import arrayPush from './_arrayPush.js';\nimport getPrototype from './_getPrototype.js';\nimport getSymbols from './_getSymbols.js';\nimport stubArray from './stubArray.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own and inherited enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n  var result = [];\n  while (object) {\n    arrayPush(result, getSymbols(object));\n    object = getPrototype(object);\n  }\n  return result;\n};\n\nexport default getSymbolsIn;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nexport default arrayMap;\n","import baseExtremum from './_baseExtremum.js';\nimport baseLt from './_baseLt.js';\nimport identity from './identity.js';\n\n/**\n * Computes the minimum value of `array`. If `array` is empty or falsey,\n * `undefined` is returned.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {*} Returns the minimum value.\n * @example\n *\n * _.min([4, 2, 8, 6]);\n * // => 2\n *\n * _.min([]);\n * // => undefined\n */\nfunction min(array) {\n  return (array && array.length)\n    ? baseExtremum(array, identity, baseLt)\n    : undefined;\n}\n\nexport default min;\n","import baseEach from './_baseEach.js';\n\n/**\n * The base implementation of `_.filter` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction baseFilter(collection, predicate) {\n  var result = [];\n  baseEach(collection, function(value, index, collection) {\n    if (predicate(value, index, collection)) {\n      result.push(value);\n    }\n  });\n  return result;\n}\n\nexport default baseFilter;\n","import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeys from './_baseKeys.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nexport default keys;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nexport default setToArray;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nexport default isSymbol;\n","import arrayEach from './_arrayEach.js';\nimport baseEach from './_baseEach.js';\nimport castFunction from './_castFunction.js';\nimport isArray from './isArray.js';\n\n/**\n * Iterates over elements of `collection` and invokes `iteratee` for each element.\n * The iteratee is invoked with three arguments: (value, index|key, collection).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n * property are iterated like arrays. To avoid this behavior use `_.forIn`\n * or `_.forOwn` for object iteration.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias each\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n * @see _.forEachRight\n * @example\n *\n * _.forEach([1, 2], function(value) {\n *   console.log(value);\n * });\n * // => Logs `1` then `2`.\n *\n * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n *   console.log(key);\n * });\n * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n */\nfunction forEach(collection, iteratee) {\n  var func = isArray(collection) ? arrayEach : baseEach;\n  return func(collection, castFunction(iteratee));\n}\n\nexport default forEach;\n","import { graphql, Link, useStaticQuery } from 'gatsby';\nimport { css } from '@emotion/react';\nimport { getSrc } from 'gatsby-plugin-image';\n\nimport config from '@/website-config.ts';\n\nimport type { ImageDataLike } from 'gatsby-plugin-image';\n\ntype SiteNavLogoProps = {\n  logo?: ImageDataLike;\n};\n\nexport default function SiteNavLogo() {\n  const data: SiteNavLogoProps = useStaticQuery(graphql`\n    query HeadingQuery {\n      logo: file(relativePath: { eq: \"img/common/alien.png\" }) {\n        childImageSharp {\n          gatsbyImageData(quality: 100, width: 500, layout: FIXED, placeholder: BLURRED)\n        }\n      }\n    }\n  `);\n\n  return (\n    <Link className=\"site-nav-logo\" css={SiteNavLogoStyles} to=\"/\">\n      {data.logo ? (\n        <img src={getSrc(data.logo)} alt={config.title} width=\"21\" height=\"21\" />\n      ) : (\n        config.title\n      )}\n    </Link>\n  );\n}\n\nconst SiteNavLogoStyles = css`\n  position: relative;\n  z-index: 100;\n  display: inline-block;\n  flex-shrink: 0;\n  margin-right: 32px;\n  padding: 12px 0;\n  font-size: 1.7rem;\n  font-weight: 700;\n  line-height: 1.8rem;\n  color: #fff;\n  text-transform: none;\n  letter-spacing: -0.5px;\n\n  :hover {\n    text-decoration: none;\n  }\n\n  img {\n    display: block;\n    width: auto;\n    height: 21px;\n  }\n\n  @media (max-width: 700px) {\n    margin-right: 18px;\n  }\n`;\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport _wrapNativeSuper from '@babel/runtime/helpers/esm/wrapNativeSuper';\nimport _taggedTemplateLiteralLoose from '@babel/runtime/helpers/esm/taggedTemplateLiteralLoose';\n\nfunction last() {\n  var _ref;\n  return _ref = arguments.length - 1, _ref < 0 || arguments.length <= _ref ? undefined : arguments[_ref];\n}\nfunction negation(a) {\n  return -a;\n}\nfunction addition(a, b) {\n  return a + b;\n}\nfunction subtraction(a, b) {\n  return a - b;\n}\nfunction multiplication(a, b) {\n  return a * b;\n}\nfunction division(a, b) {\n  return a / b;\n}\nfunction max() {\n  return Math.max.apply(Math, arguments);\n}\nfunction min() {\n  return Math.min.apply(Math, arguments);\n}\nfunction comma() {\n  return Array.of.apply(Array, arguments);\n}\nvar defaultSymbols = {\n  symbols: {\n    '*': {\n      infix: {\n        symbol: '*',\n        f: multiplication,\n        notation: 'infix',\n        precedence: 4,\n        rightToLeft: 0,\n        argCount: 2\n      },\n      symbol: '*',\n      regSymbol: '\\\\*'\n    },\n    '/': {\n      infix: {\n        symbol: '/',\n        f: division,\n        notation: 'infix',\n        precedence: 4,\n        rightToLeft: 0,\n        argCount: 2\n      },\n      symbol: '/',\n      regSymbol: '/'\n    },\n    '+': {\n      infix: {\n        symbol: '+',\n        f: addition,\n        notation: 'infix',\n        precedence: 2,\n        rightToLeft: 0,\n        argCount: 2\n      },\n      prefix: {\n        symbol: '+',\n        f: last,\n        notation: 'prefix',\n        precedence: 3,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: '+',\n      regSymbol: '\\\\+'\n    },\n    '-': {\n      infix: {\n        symbol: '-',\n        f: subtraction,\n        notation: 'infix',\n        precedence: 2,\n        rightToLeft: 0,\n        argCount: 2\n      },\n      prefix: {\n        symbol: '-',\n        f: negation,\n        notation: 'prefix',\n        precedence: 3,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: '-',\n      regSymbol: '-'\n    },\n    ',': {\n      infix: {\n        symbol: ',',\n        f: comma,\n        notation: 'infix',\n        precedence: 1,\n        rightToLeft: 0,\n        argCount: 2\n      },\n      symbol: ',',\n      regSymbol: ','\n    },\n    '(': {\n      prefix: {\n        symbol: '(',\n        f: last,\n        notation: 'prefix',\n        precedence: 0,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: '(',\n      regSymbol: '\\\\('\n    },\n    ')': {\n      postfix: {\n        symbol: ')',\n        f: undefined,\n        notation: 'postfix',\n        precedence: 0,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: ')',\n      regSymbol: '\\\\)'\n    },\n    min: {\n      func: {\n        symbol: 'min',\n        f: min,\n        notation: 'func',\n        precedence: 0,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: 'min',\n      regSymbol: 'min\\\\b'\n    },\n    max: {\n      func: {\n        symbol: 'max',\n        f: max,\n        notation: 'func',\n        precedence: 0,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: 'max',\n      regSymbol: 'max\\\\b'\n    }\n  }\n};\nvar defaultSymbolMap = defaultSymbols;\n\n// based on https://github.com/styled-components/styled-components/blob/fcf6f3804c57a14dd7984dfab7bc06ee2edca044/src/utils/error.js\n/**\n * Parse errors.md and turn it into a simple hash of code: message\n * @private\n */\nvar ERRORS = {\n  \"1\": \"Passed invalid arguments to hsl, please pass multiple numbers e.g. hsl(360, 0.75, 0.4) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75 }).\\n\\n\",\n  \"2\": \"Passed invalid arguments to hsla, please pass multiple numbers e.g. hsla(360, 0.75, 0.4, 0.7) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75, alpha: 0.7 }).\\n\\n\",\n  \"3\": \"Passed an incorrect argument to a color function, please pass a string representation of a color.\\n\\n\",\n  \"4\": \"Couldn't generate valid rgb string from %s, it returned %s.\\n\\n\",\n  \"5\": \"Couldn't parse the color string. Please provide the color as a string in hex, rgb, rgba, hsl or hsla notation.\\n\\n\",\n  \"6\": \"Passed invalid arguments to rgb, please pass multiple numbers e.g. rgb(255, 205, 100) or an object e.g. rgb({ red: 255, green: 205, blue: 100 }).\\n\\n\",\n  \"7\": \"Passed invalid arguments to rgba, please pass multiple numbers e.g. rgb(255, 205, 100, 0.75) or an object e.g. rgb({ red: 255, green: 205, blue: 100, alpha: 0.75 }).\\n\\n\",\n  \"8\": \"Passed invalid argument to toColorString, please pass a RgbColor, RgbaColor, HslColor or HslaColor object.\\n\\n\",\n  \"9\": \"Please provide a number of steps to the modularScale helper.\\n\\n\",\n  \"10\": \"Please pass a number or one of the predefined scales to the modularScale helper as the ratio.\\n\\n\",\n  \"11\": \"Invalid value passed as base to modularScale, expected number or em string but got \\\"%s\\\"\\n\\n\",\n  \"12\": \"Expected a string ending in \\\"px\\\" or a number passed as the first argument to %s(), got \\\"%s\\\" instead.\\n\\n\",\n  \"13\": \"Expected a string ending in \\\"px\\\" or a number passed as the second argument to %s(), got \\\"%s\\\" instead.\\n\\n\",\n  \"14\": \"Passed invalid pixel value (\\\"%s\\\") to %s(), please pass a value like \\\"12px\\\" or 12.\\n\\n\",\n  \"15\": \"Passed invalid base value (\\\"%s\\\") to %s(), please pass a value like \\\"12px\\\" or 12.\\n\\n\",\n  \"16\": \"You must provide a template to this method.\\n\\n\",\n  \"17\": \"You passed an unsupported selector state to this method.\\n\\n\",\n  \"18\": \"minScreen and maxScreen must be provided as stringified numbers with the same units.\\n\\n\",\n  \"19\": \"fromSize and toSize must be provided as stringified numbers with the same units.\\n\\n\",\n  \"20\": \"expects either an array of objects or a single object with the properties prop, fromSize, and toSize.\\n\\n\",\n  \"21\": \"expects the objects in the first argument array to have the properties `prop`, `fromSize`, and `toSize`.\\n\\n\",\n  \"22\": \"expects the first argument object to have the properties `prop`, `fromSize`, and `toSize`.\\n\\n\",\n  \"23\": \"fontFace expects a name of a font-family.\\n\\n\",\n  \"24\": \"fontFace expects either the path to the font file(s) or a name of a local copy.\\n\\n\",\n  \"25\": \"fontFace expects localFonts to be an array.\\n\\n\",\n  \"26\": \"fontFace expects fileFormats to be an array.\\n\\n\",\n  \"27\": \"radialGradient requries at least 2 color-stops to properly render.\\n\\n\",\n  \"28\": \"Please supply a filename to retinaImage() as the first argument.\\n\\n\",\n  \"29\": \"Passed invalid argument to triangle, please pass correct pointingDirection e.g. 'right'.\\n\\n\",\n  \"30\": \"Passed an invalid value to `height` or `width`. Please provide a pixel based unit.\\n\\n\",\n  \"31\": \"The animation shorthand only takes 8 arguments. See the specification for more information: http://mdn.io/animation\\n\\n\",\n  \"32\": \"To pass multiple animations please supply them in arrays, e.g. animation(['rotate', '2s'], ['move', '1s'])\\nTo pass a single animation please supply them in simple values, e.g. animation('rotate', '2s')\\n\\n\",\n  \"33\": \"The animation shorthand arrays can only have 8 elements. See the specification for more information: http://mdn.io/animation\\n\\n\",\n  \"34\": \"borderRadius expects a radius value as a string or number as the second argument.\\n\\n\",\n  \"35\": \"borderRadius expects one of \\\"top\\\", \\\"bottom\\\", \\\"left\\\" or \\\"right\\\" as the first argument.\\n\\n\",\n  \"36\": \"Property must be a string value.\\n\\n\",\n  \"37\": \"Syntax Error at %s.\\n\\n\",\n  \"38\": \"Formula contains a function that needs parentheses at %s.\\n\\n\",\n  \"39\": \"Formula is missing closing parenthesis at %s.\\n\\n\",\n  \"40\": \"Formula has too many closing parentheses at %s.\\n\\n\",\n  \"41\": \"All values in a formula must have the same unit or be unitless.\\n\\n\",\n  \"42\": \"Please provide a number of steps to the modularScale helper.\\n\\n\",\n  \"43\": \"Please pass a number or one of the predefined scales to the modularScale helper as the ratio.\\n\\n\",\n  \"44\": \"Invalid value passed as base to modularScale, expected number or em/rem string but got %s.\\n\\n\",\n  \"45\": \"Passed invalid argument to hslToColorString, please pass a HslColor or HslaColor object.\\n\\n\",\n  \"46\": \"Passed invalid argument to rgbToColorString, please pass a RgbColor or RgbaColor object.\\n\\n\",\n  \"47\": \"minScreen and maxScreen must be provided as stringified numbers with the same units.\\n\\n\",\n  \"48\": \"fromSize and toSize must be provided as stringified numbers with the same units.\\n\\n\",\n  \"49\": \"Expects either an array of objects or a single object with the properties prop, fromSize, and toSize.\\n\\n\",\n  \"50\": \"Expects the objects in the first argument array to have the properties prop, fromSize, and toSize.\\n\\n\",\n  \"51\": \"Expects the first argument object to have the properties prop, fromSize, and toSize.\\n\\n\",\n  \"52\": \"fontFace expects either the path to the font file(s) or a name of a local copy.\\n\\n\",\n  \"53\": \"fontFace expects localFonts to be an array.\\n\\n\",\n  \"54\": \"fontFace expects fileFormats to be an array.\\n\\n\",\n  \"55\": \"fontFace expects a name of a font-family.\\n\\n\",\n  \"56\": \"linearGradient requries at least 2 color-stops to properly render.\\n\\n\",\n  \"57\": \"radialGradient requries at least 2 color-stops to properly render.\\n\\n\",\n  \"58\": \"Please supply a filename to retinaImage() as the first argument.\\n\\n\",\n  \"59\": \"Passed invalid argument to triangle, please pass correct pointingDirection e.g. 'right'.\\n\\n\",\n  \"60\": \"Passed an invalid value to `height` or `width`. Please provide a pixel based unit.\\n\\n\",\n  \"61\": \"Property must be a string value.\\n\\n\",\n  \"62\": \"borderRadius expects a radius value as a string or number as the second argument.\\n\\n\",\n  \"63\": \"borderRadius expects one of \\\"top\\\", \\\"bottom\\\", \\\"left\\\" or \\\"right\\\" as the first argument.\\n\\n\",\n  \"64\": \"The animation shorthand only takes 8 arguments. See the specification for more information: http://mdn.io/animation.\\n\\n\",\n  \"65\": \"To pass multiple animations please supply them in arrays, e.g. animation(['rotate', '2s'], ['move', '1s'])\\\\nTo pass a single animation please supply them in simple values, e.g. animation('rotate', '2s').\\n\\n\",\n  \"66\": \"The animation shorthand arrays can only have 8 elements. See the specification for more information: http://mdn.io/animation.\\n\\n\",\n  \"67\": \"You must provide a template to this method.\\n\\n\",\n  \"68\": \"You passed an unsupported selector state to this method.\\n\\n\",\n  \"69\": \"Expected a string ending in \\\"px\\\" or a number passed as the first argument to %s(), got %s instead.\\n\\n\",\n  \"70\": \"Expected a string ending in \\\"px\\\" or a number passed as the second argument to %s(), got %s instead.\\n\\n\",\n  \"71\": \"Passed invalid pixel value %s to %s(), please pass a value like \\\"12px\\\" or 12.\\n\\n\",\n  \"72\": \"Passed invalid base value %s to %s(), please pass a value like \\\"12px\\\" or 12.\\n\\n\",\n  \"73\": \"Please provide a valid CSS variable.\\n\\n\",\n  \"74\": \"CSS variable not found and no default was provided.\\n\\n\",\n  \"75\": \"important requires a valid style object, got a %s instead.\\n\\n\",\n  \"76\": \"fromSize and toSize must be provided as stringified numbers with the same units as minScreen and maxScreen.\\n\\n\",\n  \"77\": \"remToPx expects a value in \\\"rem\\\" but you provided it in \\\"%s\\\".\\n\\n\",\n  \"78\": \"base must be set in \\\"px\\\" or \\\"%\\\" but you set it in \\\"%s\\\".\\n\"\n};\n\n/**\n * super basic version of sprintf\n * @private\n */\nfunction format() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  var a = args[0];\n  var b = [];\n  var c;\n  for (c = 1; c < args.length; c += 1) {\n    b.push(args[c]);\n  }\n  b.forEach(function (d) {\n    a = a.replace(/%[a-z]/, d);\n  });\n  return a;\n}\n\n/**\n * Create an error file out of errors.md for development and a simple web link to the full errors\n * in production mode.\n * @private\n */\nvar PolishedError = /*#__PURE__*/function (_Error) {\n  _inheritsLoose(PolishedError, _Error);\n  function PolishedError(code) {\n    var _this;\n    if (process.env.NODE_ENV === 'production') {\n      _this = _Error.call(this, \"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#\" + code + \" for more information.\") || this;\n    } else {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n      _this = _Error.call(this, format.apply(void 0, [ERRORS[code]].concat(args))) || this;\n    }\n    return _assertThisInitialized(_this);\n  }\n  return PolishedError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nvar unitRegExp = /((?!\\w)a|na|hc|mc|dg|me[r]?|xe|ni(?![a-zA-Z])|mm|cp|tp|xp|q(?!s)|hv|xamv|nimv|wv|sm|s(?!\\D|$)|ged|darg?|nrut)/g;\n\n// Merges additional math functionality into the defaults.\nfunction mergeSymbolMaps(additionalSymbols) {\n  var symbolMap = {};\n  symbolMap.symbols = additionalSymbols ? _extends({}, defaultSymbolMap.symbols, additionalSymbols.symbols) : _extends({}, defaultSymbolMap.symbols);\n  return symbolMap;\n}\nfunction exec(operators, values) {\n  var _ref;\n  var op = operators.pop();\n  values.push(op.f.apply(op, (_ref = []).concat.apply(_ref, values.splice(-op.argCount))));\n  return op.precedence;\n}\nfunction calculate(expression, additionalSymbols) {\n  var symbolMap = mergeSymbolMaps(additionalSymbols);\n  var match;\n  var operators = [symbolMap.symbols['('].prefix];\n  var values = [];\n  var pattern = new RegExp( // Pattern for numbers\n  \"\\\\d+(?:\\\\.\\\\d+)?|\" +\n  // ...and patterns for individual operators/function names\n  Object.keys(symbolMap.symbols).map(function (key) {\n    return symbolMap.symbols[key];\n  })\n  // longer symbols should be listed first\n  // $FlowFixMe\n  .sort(function (a, b) {\n    return b.symbol.length - a.symbol.length;\n  })\n  // $FlowFixMe\n  .map(function (val) {\n    return val.regSymbol;\n  }).join('|') + \"|(\\\\S)\", 'g');\n  pattern.lastIndex = 0; // Reset regular expression object\n\n  var afterValue = false;\n  do {\n    match = pattern.exec(expression);\n    var _ref2 = match || [')', undefined],\n      token = _ref2[0],\n      bad = _ref2[1];\n    var notNumber = symbolMap.symbols[token];\n    var notNewValue = notNumber && !notNumber.prefix && !notNumber.func;\n    var notAfterValue = !notNumber || !notNumber.postfix && !notNumber.infix;\n\n    // Check for syntax errors:\n    if (bad || (afterValue ? notAfterValue : notNewValue)) {\n      throw new PolishedError(37, match ? match.index : expression.length, expression);\n    }\n    if (afterValue) {\n      // We either have an infix or postfix operator (they should be mutually exclusive)\n      var curr = notNumber.postfix || notNumber.infix;\n      do {\n        var prev = operators[operators.length - 1];\n        if ((curr.precedence - prev.precedence || prev.rightToLeft) > 0) break;\n        // Apply previous operator, since it has precedence over current one\n      } while (exec(operators, values)); // Exit loop after executing an opening parenthesis or function\n      afterValue = curr.notation === 'postfix';\n      if (curr.symbol !== ')') {\n        operators.push(curr);\n        // Postfix always has precedence over any operator that follows after it\n        if (afterValue) exec(operators, values);\n      }\n    } else if (notNumber) {\n      // prefix operator or function\n      operators.push(notNumber.prefix || notNumber.func);\n      if (notNumber.func) {\n        // Require an opening parenthesis\n        match = pattern.exec(expression);\n        if (!match || match[0] !== '(') {\n          throw new PolishedError(38, match ? match.index : expression.length, expression);\n        }\n      }\n    } else {\n      // number\n      values.push(+token);\n      afterValue = true;\n    }\n  } while (match && operators.length);\n  if (operators.length) {\n    throw new PolishedError(39, match ? match.index : expression.length, expression);\n  } else if (match) {\n    throw new PolishedError(40, match ? match.index : expression.length, expression);\n  } else {\n    return values.pop();\n  }\n}\nfunction reverseString(str) {\n  return str.split('').reverse().join('');\n}\n\n/**\n * Helper for doing math with CSS Units. Accepts a formula as a string. All values in the formula must have the same unit (or be unitless). Supports complex formulas utliziing addition, subtraction, multiplication, division, square root, powers, factorial, min, max, as well as parentheses for order of operation.\n *\n *In cases where you need to do calculations with mixed units where one unit is a [relative length unit](https://developer.mozilla.org/en-US/docs/Web/CSS/length#Relative_length_units), you will want to use [CSS Calc](https://developer.mozilla.org/en-US/docs/Web/CSS/calc).\n *\n * *warning* While we've done everything possible to ensure math safely evalutes formulas expressed as strings, you should always use extreme caution when passing `math` user provided values.\n * @example\n * // Styles as object usage\n * const styles = {\n *   fontSize: math('12rem + 8rem'),\n *   fontSize: math('(12px + 2px) * 3'),\n *   fontSize: math('3px^2 + sqrt(4)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   fontSize: ${math('12rem + 8rem')};\n *   fontSize: ${math('(12px + 2px) * 3')};\n *   fontSize: ${math('3px^2 + sqrt(4)')};\n * `\n *\n * // CSS as JS Output\n *\n * div: {\n *   fontSize: '20rem',\n *   fontSize: '42px',\n *   fontSize: '11px',\n * }\n */\nfunction math(formula, additionalSymbols) {\n  var reversedFormula = reverseString(formula);\n  var formulaMatch = reversedFormula.match(unitRegExp);\n\n  // Check that all units are the same\n  if (formulaMatch && !formulaMatch.every(function (unit) {\n    return unit === formulaMatch[0];\n  })) {\n    throw new PolishedError(41);\n  }\n  var cleanFormula = reverseString(reversedFormula.replace(unitRegExp, ''));\n  return \"\" + calculate(cleanFormula, additionalSymbols) + (formulaMatch ? reverseString(formulaMatch[0]) : '');\n}\n\nvar cssVariableRegex = /--[\\S]*/g;\n\n/**\n * Fetches the value of a passed CSS Variable in the :root scope, or otherwise returns a defaultValue if provided.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   'background': cssVar('--background-color'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${cssVar('--background-color')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   'background': 'red'\n * }\n */\nfunction cssVar(cssVariable, defaultValue) {\n  if (!cssVariable || !cssVariable.match(cssVariableRegex)) {\n    throw new PolishedError(73);\n  }\n  var variableValue;\n\n  /* eslint-disable */\n  /* istanbul ignore next */\n  if (typeof document !== 'undefined' && document.documentElement !== null) {\n    variableValue = getComputedStyle(document.documentElement).getPropertyValue(cssVariable);\n  }\n  /* eslint-enable */\n\n  if (variableValue) {\n    return variableValue.trim();\n  } else if (defaultValue) {\n    return defaultValue;\n  }\n  throw new PolishedError(74);\n}\n\n// @private\nfunction capitalizeString(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nvar positionMap$1 = ['Top', 'Right', 'Bottom', 'Left'];\nfunction generateProperty(property, position) {\n  if (!property) return position.toLowerCase();\n  var splitProperty = property.split('-');\n  if (splitProperty.length > 1) {\n    splitProperty.splice(1, 0, position);\n    return splitProperty.reduce(function (acc, val) {\n      return \"\" + acc + capitalizeString(val);\n    });\n  }\n  var joinedProperty = property.replace(/([a-z])([A-Z])/g, \"$1\" + position + \"$2\");\n  return property === joinedProperty ? \"\" + property + position : joinedProperty;\n}\nfunction generateStyles(property, valuesWithDefaults) {\n  var styles = {};\n  for (var i = 0; i < valuesWithDefaults.length; i += 1) {\n    if (valuesWithDefaults[i] || valuesWithDefaults[i] === 0) {\n      styles[generateProperty(property, positionMap$1[i])] = valuesWithDefaults[i];\n    }\n  }\n  return styles;\n}\n\n/**\n * Enables shorthand for direction-based properties. It accepts a property (hyphenated or camelCased) and up to four values that map to top, right, bottom, and left, respectively. You can optionally pass an empty string to get only the directional values as properties. You can also optionally pass a null argument for a directional value to ignore it.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...directionalProperty('padding', '12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${directionalProperty('padding', '12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'paddingTop': '12px',\n *   'paddingRight': '24px',\n *   'paddingBottom': '36px',\n *   'paddingLeft': '48px'\n * }\n */\nfunction directionalProperty(property) {\n  for (var _len = arguments.length, values = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    values[_key - 1] = arguments[_key];\n  }\n  //  prettier-ignore\n  var firstValue = values[0],\n    _values$ = values[1],\n    secondValue = _values$ === void 0 ? firstValue : _values$,\n    _values$2 = values[2],\n    thirdValue = _values$2 === void 0 ? firstValue : _values$2,\n    _values$3 = values[3],\n    fourthValue = _values$3 === void 0 ? secondValue : _values$3;\n  var valuesWithDefaults = [firstValue, secondValue, thirdValue, fourthValue];\n  return generateStyles(property, valuesWithDefaults);\n}\n\n/**\n * Check if a string ends with something\n * @private\n */\nfunction endsWith(string, suffix) {\n  return string.substr(-suffix.length) === suffix;\n}\n\nvar cssRegex$1 = /^([+-]?(?:\\d+|\\d*\\.\\d+))([a-z]*|%)$/;\n\n/**\n * Returns a given CSS value minus its unit of measure.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   '--dimension': stripUnit('100px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   --dimension: ${stripUnit('100px')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   '--dimension': 100\n * }\n */\nfunction stripUnit(value) {\n  if (typeof value !== 'string') return value;\n  var matchedValue = value.match(cssRegex$1);\n  return matchedValue ? parseFloat(value) : value;\n}\n\n/**\n * Factory function that creates pixel-to-x converters\n * @private\n */\nvar pxtoFactory = function pxtoFactory(to) {\n  return function (pxval, base) {\n    if (base === void 0) {\n      base = '16px';\n    }\n    var newPxval = pxval;\n    var newBase = base;\n    if (typeof pxval === 'string') {\n      if (!endsWith(pxval, 'px')) {\n        throw new PolishedError(69, to, pxval);\n      }\n      newPxval = stripUnit(pxval);\n    }\n    if (typeof base === 'string') {\n      if (!endsWith(base, 'px')) {\n        throw new PolishedError(70, to, base);\n      }\n      newBase = stripUnit(base);\n    }\n    if (typeof newPxval === 'string') {\n      throw new PolishedError(71, pxval, to);\n    }\n    if (typeof newBase === 'string') {\n      throw new PolishedError(72, base, to);\n    }\n    return \"\" + newPxval / newBase + to;\n  };\n};\nvar pixelsto = pxtoFactory;\n\n/**\n * Convert pixel value to ems. The default base value is 16px, but can be changed by passing a\n * second argument to the function.\n * @function\n * @param {string|number} pxval\n * @param {string|number} [base='16px']\n * @example\n * // Styles as object usage\n * const styles = {\n *   'height': em('16px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   height: ${em('16px')}\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   'height': '1em'\n * }\n */\nvar em = pixelsto('em');\nvar em$1 = em;\n\nvar cssRegex = /^([+-]?(?:\\d+|\\d*\\.\\d+))([a-z]*|%)$/;\n\n/**\n * Returns a given CSS value and its unit as elements of an array.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   '--dimension': getValueAndUnit('100px')[0],\n *   '--unit': getValueAndUnit('100px')[1],\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   --dimension: ${getValueAndUnit('100px')[0]};\n *   --unit: ${getValueAndUnit('100px')[1]};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   '--dimension': 100,\n *   '--unit': 'px',\n * }\n */\nfunction getValueAndUnit(value) {\n  if (typeof value !== 'string') return [value, ''];\n  var matchedValue = value.match(cssRegex);\n  if (matchedValue) return [parseFloat(value), matchedValue[2]];\n  return [value, undefined];\n}\n\n/**\n * Helper for targeting rules in a style block generated by polished modules that need !important-level specificity. Can optionally specify a rule (or rules) to target specific rules.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...important(cover())\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${important(cover())}\n * `\n *\n * // CSS as JS Output\n *\n * div: {\n *   'position': 'absolute !important',\n *   'top': '0 !important',\n *   'right: '0 !important',\n *   'bottom': '0 !important',\n *   'left: '0 !important'\n * }\n */\nfunction important(styleBlock, rules) {\n  if (typeof styleBlock !== 'object' || styleBlock === null) {\n    throw new PolishedError(75, typeof styleBlock);\n  }\n  var newStyleBlock = {};\n  Object.keys(styleBlock).forEach(function (key) {\n    if (typeof styleBlock[key] === 'object' && styleBlock[key] !== null) {\n      newStyleBlock[key] = important(styleBlock[key], rules);\n    } else if (!rules || rules && (rules === key || rules.indexOf(key) >= 0)) {\n      newStyleBlock[key] = styleBlock[key] + \" !important\";\n    } else {\n      newStyleBlock[key] = styleBlock[key];\n    }\n  });\n  return newStyleBlock;\n}\n\nvar ratioNames = {\n  minorSecond: 1.067,\n  majorSecond: 1.125,\n  minorThird: 1.2,\n  majorThird: 1.25,\n  perfectFourth: 1.333,\n  augFourth: 1.414,\n  perfectFifth: 1.5,\n  minorSixth: 1.6,\n  goldenSection: 1.618,\n  majorSixth: 1.667,\n  minorSeventh: 1.778,\n  majorSeventh: 1.875,\n  octave: 2,\n  majorTenth: 2.5,\n  majorEleventh: 2.667,\n  majorTwelfth: 3,\n  doubleOctave: 4\n};\nfunction getRatio(ratioName) {\n  return ratioNames[ratioName];\n}\n\n/**\n * Establish consistent measurements and spacial relationships throughout your projects by incrementing an em or rem value up or down a defined scale. We provide a list of commonly used scales as pre-defined variables.\n * @example\n * // Styles as object usage\n * const styles = {\n *    // Increment two steps up the default scale\n *   'fontSize': modularScale(2)\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *    // Increment two steps up the default scale\n *   fontSize: ${modularScale(2)}\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   'fontSize': '1.77689em'\n * }\n */\nfunction modularScale(steps, base, ratio) {\n  if (base === void 0) {\n    base = '1em';\n  }\n  if (ratio === void 0) {\n    ratio = 1.333;\n  }\n  if (typeof steps !== 'number') {\n    throw new PolishedError(42);\n  }\n  if (typeof ratio === 'string' && !ratioNames[ratio]) {\n    throw new PolishedError(43);\n  }\n  var _ref = typeof base === 'string' ? getValueAndUnit(base) : [base, ''],\n    realBase = _ref[0],\n    unit = _ref[1];\n  var realRatio = typeof ratio === 'string' ? getRatio(ratio) : ratio;\n  if (typeof realBase === 'string') {\n    throw new PolishedError(44, base);\n  }\n  return \"\" + realBase * Math.pow(realRatio, steps) + (unit || '');\n}\n\n/**\n * Convert pixel value to rems. The default base value is 16px, but can be changed by passing a\n * second argument to the function.\n * @function\n * @param {string|number} pxval\n * @param {string|number} [base='16px']\n * @example\n * // Styles as object usage\n * const styles = {\n *   'height': rem('16px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   height: ${rem('16px')}\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   'height': '1rem'\n * }\n */\nvar rem = pixelsto('rem');\nvar rem$1 = rem;\n\nvar defaultFontSize = 16;\nfunction convertBase(base) {\n  var deconstructedValue = getValueAndUnit(base);\n  if (deconstructedValue[1] === 'px') {\n    return parseFloat(base);\n  }\n  if (deconstructedValue[1] === '%') {\n    return parseFloat(base) / 100 * defaultFontSize;\n  }\n  throw new PolishedError(78, deconstructedValue[1]);\n}\nfunction getBaseFromDoc() {\n  /* eslint-disable */\n  /* istanbul ignore next */\n  if (typeof document !== 'undefined' && document.documentElement !== null) {\n    var rootFontSize = getComputedStyle(document.documentElement).fontSize;\n    return rootFontSize ? convertBase(rootFontSize) : defaultFontSize;\n  }\n  /* eslint-enable */\n  /* istanbul ignore next */\n  return defaultFontSize;\n}\n\n/**\n * Convert rem values to px. By default, the base value is pulled from the font-size property on the root element (if it is set in % or px). It defaults to 16px if not found on the root. You can also override the base value by providing your own base in % or px.\n * @example\n * // Styles as object usage\n * const styles = {\n *   'height': remToPx('1.6rem')\n *   'height': remToPx('1.6rem', '10px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   height: ${remToPx('1.6rem')}\n *   height: ${remToPx('1.6rem', '10px')}\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   'height': '25.6px',\n *   'height': '16px',\n * }\n */\nfunction remToPx(value, base) {\n  var deconstructedValue = getValueAndUnit(value);\n  if (deconstructedValue[1] !== 'rem' && deconstructedValue[1] !== '') {\n    throw new PolishedError(77, deconstructedValue[1]);\n  }\n  var newBase = base ? convertBase(base) : getBaseFromDoc();\n  return deconstructedValue[0] * newBase + \"px\";\n}\n\nvar functionsMap$3 = {\n  back: 'cubic-bezier(0.600, -0.280, 0.735, 0.045)',\n  circ: 'cubic-bezier(0.600,  0.040, 0.980, 0.335)',\n  cubic: 'cubic-bezier(0.550,  0.055, 0.675, 0.190)',\n  expo: 'cubic-bezier(0.950,  0.050, 0.795, 0.035)',\n  quad: 'cubic-bezier(0.550,  0.085, 0.680, 0.530)',\n  quart: 'cubic-bezier(0.895,  0.030, 0.685, 0.220)',\n  quint: 'cubic-bezier(0.755,  0.050, 0.855, 0.060)',\n  sine: 'cubic-bezier(0.470,  0.000, 0.745, 0.715)'\n};\n\n/**\n * String to represent common easing functions as demonstrated here: (github.com/jaukia/easie).\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   'transitionTimingFunction': easeIn('quad')\n * }\n *\n * // styled-components usage\n *  const div = styled.div`\n *   transitionTimingFunction: ${easeIn('quad')};\n * `\n *\n * // CSS as JS Output\n *\n * 'div': {\n *   'transitionTimingFunction': 'cubic-bezier(0.550,  0.085, 0.680, 0.530)',\n * }\n */\nfunction easeIn(functionName) {\n  return functionsMap$3[functionName.toLowerCase().trim()];\n}\n\nvar functionsMap$2 = {\n  back: 'cubic-bezier(0.680, -0.550, 0.265, 1.550)',\n  circ: 'cubic-bezier(0.785,  0.135, 0.150, 0.860)',\n  cubic: 'cubic-bezier(0.645,  0.045, 0.355, 1.000)',\n  expo: 'cubic-bezier(1.000,  0.000, 0.000, 1.000)',\n  quad: 'cubic-bezier(0.455,  0.030, 0.515, 0.955)',\n  quart: 'cubic-bezier(0.770,  0.000, 0.175, 1.000)',\n  quint: 'cubic-bezier(0.860,  0.000, 0.070, 1.000)',\n  sine: 'cubic-bezier(0.445,  0.050, 0.550, 0.950)'\n};\n\n/**\n * String to represent common easing functions as demonstrated here: (github.com/jaukia/easie).\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   'transitionTimingFunction': easeInOut('quad')\n * }\n *\n * // styled-components usage\n *  const div = styled.div`\n *   transitionTimingFunction: ${easeInOut('quad')};\n * `\n *\n * // CSS as JS Output\n *\n * 'div': {\n *   'transitionTimingFunction': 'cubic-bezier(0.455,  0.030, 0.515, 0.955)',\n * }\n */\nfunction easeInOut(functionName) {\n  return functionsMap$2[functionName.toLowerCase().trim()];\n}\n\nvar functionsMap$1 = {\n  back: 'cubic-bezier(0.175,  0.885, 0.320, 1.275)',\n  cubic: 'cubic-bezier(0.215,  0.610, 0.355, 1.000)',\n  circ: 'cubic-bezier(0.075,  0.820, 0.165, 1.000)',\n  expo: 'cubic-bezier(0.190,  1.000, 0.220, 1.000)',\n  quad: 'cubic-bezier(0.250,  0.460, 0.450, 0.940)',\n  quart: 'cubic-bezier(0.165,  0.840, 0.440, 1.000)',\n  quint: 'cubic-bezier(0.230,  1.000, 0.320, 1.000)',\n  sine: 'cubic-bezier(0.390,  0.575, 0.565, 1.000)'\n};\n\n/**\n * String to represent common easing functions as demonstrated here: (github.com/jaukia/easie).\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   'transitionTimingFunction': easeOut('quad')\n * }\n *\n * // styled-components usage\n *  const div = styled.div`\n *   transitionTimingFunction: ${easeOut('quad')};\n * `\n *\n * // CSS as JS Output\n *\n * 'div': {\n *   'transitionTimingFunction': 'cubic-bezier(0.250,  0.460, 0.450, 0.940)',\n * }\n */\nfunction easeOut(functionName) {\n  return functionsMap$1[functionName.toLowerCase().trim()];\n}\n\n/**\n * Returns a CSS calc formula for linear interpolation of a property between two values. Accepts optional minScreen (defaults to '320px') and maxScreen (defaults to '1200px').\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   fontSize: between('20px', '100px', '400px', '1000px'),\n *   fontSize: between('20px', '100px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   fontSize: ${between('20px', '100px', '400px', '1000px')};\n *   fontSize: ${between('20px', '100px')}\n * `\n *\n * // CSS as JS Output\n *\n * h1: {\n *   'fontSize': 'calc(-33.33333333333334px + 13.333333333333334vw)',\n *   'fontSize': 'calc(-9.090909090909093px + 9.090909090909092vw)'\n * }\n */\nfunction between(fromSize, toSize, minScreen, maxScreen) {\n  if (minScreen === void 0) {\n    minScreen = '320px';\n  }\n  if (maxScreen === void 0) {\n    maxScreen = '1200px';\n  }\n  var _getValueAndUnit = getValueAndUnit(fromSize),\n    unitlessFromSize = _getValueAndUnit[0],\n    fromSizeUnit = _getValueAndUnit[1];\n  var _getValueAndUnit2 = getValueAndUnit(toSize),\n    unitlessToSize = _getValueAndUnit2[0],\n    toSizeUnit = _getValueAndUnit2[1];\n  var _getValueAndUnit3 = getValueAndUnit(minScreen),\n    unitlessMinScreen = _getValueAndUnit3[0],\n    minScreenUnit = _getValueAndUnit3[1];\n  var _getValueAndUnit4 = getValueAndUnit(maxScreen),\n    unitlessMaxScreen = _getValueAndUnit4[0],\n    maxScreenUnit = _getValueAndUnit4[1];\n  if (typeof unitlessMinScreen !== 'number' || typeof unitlessMaxScreen !== 'number' || !minScreenUnit || !maxScreenUnit || minScreenUnit !== maxScreenUnit) {\n    throw new PolishedError(47);\n  }\n  if (typeof unitlessFromSize !== 'number' || typeof unitlessToSize !== 'number' || fromSizeUnit !== toSizeUnit) {\n    throw new PolishedError(48);\n  }\n  if (fromSizeUnit !== minScreenUnit || toSizeUnit !== maxScreenUnit) {\n    throw new PolishedError(76);\n  }\n  var slope = (unitlessFromSize - unitlessToSize) / (unitlessMinScreen - unitlessMaxScreen);\n  var base = unitlessToSize - slope * unitlessMaxScreen;\n  return \"calc(\" + base.toFixed(2) + (fromSizeUnit || '') + \" + \" + (100 * slope).toFixed(2) + \"vw)\";\n}\n\n/**\n * CSS to contain a float (credit to CSSMojo).\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *    ...clearFix(),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${clearFix()}\n * `\n *\n * // CSS as JS Output\n *\n * '&::after': {\n *   'clear': 'both',\n *   'content': '\"\"',\n *   'display': 'table'\n * }\n */\nfunction clearFix(parent) {\n  var _ref;\n  if (parent === void 0) {\n    parent = '&';\n  }\n  var pseudoSelector = parent + \"::after\";\n  return _ref = {}, _ref[pseudoSelector] = {\n    clear: 'both',\n    content: '\"\"',\n    display: 'table'\n  }, _ref;\n}\n\n/**\n * CSS to fully cover an area. Can optionally be passed an offset to act as a \"padding\".\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...cover()\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${cover()}\n * `\n *\n * // CSS as JS Output\n *\n * div: {\n *   'position': 'absolute',\n *   'top': '0',\n *   'right: '0',\n *   'bottom': '0',\n *   'left: '0'\n * }\n */\nfunction cover(offset) {\n  if (offset === void 0) {\n    offset = 0;\n  }\n  return {\n    position: 'absolute',\n    top: offset,\n    right: offset,\n    bottom: offset,\n    left: offset\n  };\n}\n\n/**\n * CSS to represent truncated text with an ellipsis. You can optionally pass a max-width and number of lines before truncating.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...ellipsis('250px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${ellipsis('250px')}\n * `\n *\n * // CSS as JS Output\n *\n * div: {\n *   'display': 'inline-block',\n *   'maxWidth': '250px',\n *   'overflow': 'hidden',\n *   'textOverflow': 'ellipsis',\n *   'whiteSpace': 'nowrap',\n *   'wordWrap': 'normal'\n * }\n */\nfunction ellipsis(width, lines) {\n  if (lines === void 0) {\n    lines = 1;\n  }\n  var styles = {\n    display: 'inline-block',\n    maxWidth: width || '100%',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n    wordWrap: 'normal'\n  };\n  return lines > 1 ? _extends({}, styles, {\n    WebkitBoxOrient: 'vertical',\n    WebkitLineClamp: lines,\n    display: '-webkit-box',\n    whiteSpace: 'normal'\n  }) : styles;\n}\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (it) return (it = it.call(o)).next.bind(it); if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\n/**\n * Returns a set of media queries that resizes a property (or set of properties) between a provided fromSize and toSize. Accepts optional minScreen (defaults to '320px') and maxScreen (defaults to '1200px') to constrain the interpolation.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...fluidRange(\n *    {\n *        prop: 'padding',\n *        fromSize: '20px',\n *        toSize: '100px',\n *      },\n *      '400px',\n *      '1000px',\n *    )\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${fluidRange(\n *      {\n *        prop: 'padding',\n *        fromSize: '20px',\n *        toSize: '100px',\n *      },\n *      '400px',\n *      '1000px',\n *    )}\n * `\n *\n * // CSS as JS Output\n *\n * div: {\n *   \"@media (min-width: 1000px)\": Object {\n *     \"padding\": \"100px\",\n *   },\n *   \"@media (min-width: 400px)\": Object {\n *     \"padding\": \"calc(-33.33333333333334px + 13.333333333333334vw)\",\n *   },\n *   \"padding\": \"20px\",\n * }\n */\nfunction fluidRange(cssProp, minScreen, maxScreen) {\n  if (minScreen === void 0) {\n    minScreen = '320px';\n  }\n  if (maxScreen === void 0) {\n    maxScreen = '1200px';\n  }\n  if (!Array.isArray(cssProp) && typeof cssProp !== 'object' || cssProp === null) {\n    throw new PolishedError(49);\n  }\n  if (Array.isArray(cssProp)) {\n    var mediaQueries = {};\n    var fallbacks = {};\n    for (var _iterator = _createForOfIteratorHelperLoose(cssProp), _step; !(_step = _iterator()).done;) {\n      var _extends2, _extends3;\n      var obj = _step.value;\n      if (!obj.prop || !obj.fromSize || !obj.toSize) {\n        throw new PolishedError(50);\n      }\n      fallbacks[obj.prop] = obj.fromSize;\n      mediaQueries[\"@media (min-width: \" + minScreen + \")\"] = _extends({}, mediaQueries[\"@media (min-width: \" + minScreen + \")\"], (_extends2 = {}, _extends2[obj.prop] = between(obj.fromSize, obj.toSize, minScreen, maxScreen), _extends2));\n      mediaQueries[\"@media (min-width: \" + maxScreen + \")\"] = _extends({}, mediaQueries[\"@media (min-width: \" + maxScreen + \")\"], (_extends3 = {}, _extends3[obj.prop] = obj.toSize, _extends3));\n    }\n    return _extends({}, fallbacks, mediaQueries);\n  } else {\n    var _ref, _ref2, _ref3;\n    if (!cssProp.prop || !cssProp.fromSize || !cssProp.toSize) {\n      throw new PolishedError(51);\n    }\n    return _ref3 = {}, _ref3[cssProp.prop] = cssProp.fromSize, _ref3[\"@media (min-width: \" + minScreen + \")\"] = (_ref = {}, _ref[cssProp.prop] = between(cssProp.fromSize, cssProp.toSize, minScreen, maxScreen), _ref), _ref3[\"@media (min-width: \" + maxScreen + \")\"] = (_ref2 = {}, _ref2[cssProp.prop] = cssProp.toSize, _ref2), _ref3;\n  }\n}\n\nvar dataURIRegex = /^\\s*data:([a-z]+\\/[a-z-]+(;[a-z-]+=[a-z-]+)?)?(;charset=[a-z0-9-]+)?(;base64)?,[a-z0-9!$&',()*+,;=\\-._~:@/?%\\s]*\\s*$/i;\nvar formatHintMap = {\n  woff: 'woff',\n  woff2: 'woff2',\n  ttf: 'truetype',\n  otf: 'opentype',\n  eot: 'embedded-opentype',\n  svg: 'svg',\n  svgz: 'svg'\n};\nfunction generateFormatHint(format, formatHint) {\n  if (!formatHint) return '';\n  return \" format(\\\"\" + formatHintMap[format] + \"\\\")\";\n}\nfunction isDataURI(fontFilePath) {\n  return !!fontFilePath.replace(/\\s+/g, ' ').match(dataURIRegex);\n}\nfunction generateFileReferences(fontFilePath, fileFormats, formatHint) {\n  if (isDataURI(fontFilePath)) {\n    return \"url(\\\"\" + fontFilePath + \"\\\")\" + generateFormatHint(fileFormats[0], formatHint);\n  }\n  var fileFontReferences = fileFormats.map(function (format) {\n    return \"url(\\\"\" + fontFilePath + \".\" + format + \"\\\")\" + generateFormatHint(format, formatHint);\n  });\n  return fileFontReferences.join(', ');\n}\nfunction generateLocalReferences(localFonts) {\n  var localFontReferences = localFonts.map(function (font) {\n    return \"local(\\\"\" + font + \"\\\")\";\n  });\n  return localFontReferences.join(', ');\n}\nfunction generateSources(fontFilePath, localFonts, fileFormats, formatHint) {\n  var fontReferences = [];\n  if (localFonts) fontReferences.push(generateLocalReferences(localFonts));\n  if (fontFilePath) {\n    fontReferences.push(generateFileReferences(fontFilePath, fileFormats, formatHint));\n  }\n  return fontReferences.join(', ');\n}\n\n/**\n * CSS for a @font-face declaration. Defaults to check for local copies of the font on the user's machine. You can disable this by passing `null` to localFonts.\n *\n * @example\n * // Styles as object basic usage\n * const styles = {\n *    ...fontFace({\n *      'fontFamily': 'Sans-Pro',\n *      'fontFilePath': 'path/to/file'\n *    })\n * }\n *\n * // styled-components basic usage\n * const GlobalStyle = createGlobalStyle`${\n *   fontFace({\n *     'fontFamily': 'Sans-Pro',\n *     'fontFilePath': 'path/to/file'\n *   }\n * )}`\n *\n * // CSS as JS Output\n *\n * '@font-face': {\n *   'fontFamily': 'Sans-Pro',\n *   'src': 'url(\"path/to/file.eot\"), url(\"path/to/file.woff2\"), url(\"path/to/file.woff\"), url(\"path/to/file.ttf\"), url(\"path/to/file.svg\")',\n * }\n */\n\nfunction fontFace(_ref) {\n  var fontFamily = _ref.fontFamily,\n    fontFilePath = _ref.fontFilePath,\n    fontStretch = _ref.fontStretch,\n    fontStyle = _ref.fontStyle,\n    fontVariant = _ref.fontVariant,\n    fontWeight = _ref.fontWeight,\n    _ref$fileFormats = _ref.fileFormats,\n    fileFormats = _ref$fileFormats === void 0 ? ['eot', 'woff2', 'woff', 'ttf', 'svg'] : _ref$fileFormats,\n    _ref$formatHint = _ref.formatHint,\n    formatHint = _ref$formatHint === void 0 ? false : _ref$formatHint,\n    _ref$localFonts = _ref.localFonts,\n    localFonts = _ref$localFonts === void 0 ? [fontFamily] : _ref$localFonts,\n    unicodeRange = _ref.unicodeRange,\n    fontDisplay = _ref.fontDisplay,\n    fontVariationSettings = _ref.fontVariationSettings,\n    fontFeatureSettings = _ref.fontFeatureSettings;\n  // Error Handling\n  if (!fontFamily) throw new PolishedError(55);\n  if (!fontFilePath && !localFonts) {\n    throw new PolishedError(52);\n  }\n  if (localFonts && !Array.isArray(localFonts)) {\n    throw new PolishedError(53);\n  }\n  if (!Array.isArray(fileFormats)) {\n    throw new PolishedError(54);\n  }\n  var fontFaceDeclaration = {\n    '@font-face': {\n      fontFamily: fontFamily,\n      src: generateSources(fontFilePath, localFonts, fileFormats, formatHint),\n      unicodeRange: unicodeRange,\n      fontStretch: fontStretch,\n      fontStyle: fontStyle,\n      fontVariant: fontVariant,\n      fontWeight: fontWeight,\n      fontDisplay: fontDisplay,\n      fontVariationSettings: fontVariationSettings,\n      fontFeatureSettings: fontFeatureSettings\n    }\n  };\n\n  // Removes undefined fields for cleaner css object.\n  return JSON.parse(JSON.stringify(fontFaceDeclaration));\n}\n\n/**\n * CSS to hide text to show a background image in a SEO-friendly way.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   'backgroundImage': 'url(logo.png)',\n *   ...hideText(),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   backgroundImage: url(logo.png);\n *   ${hideText()};\n * `\n *\n * // CSS as JS Output\n *\n * 'div': {\n *   'backgroundImage': 'url(logo.png)',\n *   'textIndent': '101%',\n *   'overflow': 'hidden',\n *   'whiteSpace': 'nowrap',\n * }\n */\nfunction hideText() {\n  return {\n    textIndent: '101%',\n    overflow: 'hidden',\n    whiteSpace: 'nowrap'\n  };\n}\n\n/**\n * CSS to hide content visually but remain accessible to screen readers.\n * from [HTML5 Boilerplate](https://github.com/h5bp/html5-boilerplate/blob/9a176f57af1cfe8ec70300da4621fb9b07e5fa31/src/css/main.css#L121)\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...hideVisually(),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${hideVisually()};\n * `\n *\n * // CSS as JS Output\n *\n * 'div': {\n *   'border': '0',\n *   'clip': 'rect(0 0 0 0)',\n *   'height': '1px',\n *   'margin': '-1px',\n *   'overflow': 'hidden',\n *   'padding': '0',\n *   'position': 'absolute',\n *   'whiteSpace': 'nowrap',\n *   'width': '1px',\n * }\n */\nfunction hideVisually() {\n  return {\n    border: '0',\n    clip: 'rect(0 0 0 0)',\n    height: '1px',\n    margin: '-1px',\n    overflow: 'hidden',\n    padding: '0',\n    position: 'absolute',\n    whiteSpace: 'nowrap',\n    width: '1px'\n  };\n}\n\n/**\n * Generates a media query to target HiDPI devices.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *  [hiDPI(1.5)]: {\n *    width: 200px;\n *  }\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${hiDPI(1.5)} {\n *     width: 200px;\n *   }\n * `\n *\n * // CSS as JS Output\n *\n * '@media only screen and (-webkit-min-device-pixel-ratio: 1.5),\n *  only screen and (min--moz-device-pixel-ratio: 1.5),\n *  only screen and (-o-min-device-pixel-ratio: 1.5/1),\n *  only screen and (min-resolution: 144dpi),\n *  only screen and (min-resolution: 1.5dppx)': {\n *   'width': '200px',\n * }\n */\nfunction hiDPI(ratio) {\n  if (ratio === void 0) {\n    ratio = 1.3;\n  }\n  return \"\\n    @media only screen and (-webkit-min-device-pixel-ratio: \" + ratio + \"),\\n    only screen and (min--moz-device-pixel-ratio: \" + ratio + \"),\\n    only screen and (-o-min-device-pixel-ratio: \" + ratio + \"/1),\\n    only screen and (min-resolution: \" + Math.round(ratio * 96) + \"dpi),\\n    only screen and (min-resolution: \" + ratio + \"dppx)\\n  \";\n}\n\nfunction constructGradientValue(literals) {\n  var template = '';\n  for (var _len = arguments.length, substitutions = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    substitutions[_key - 1] = arguments[_key];\n  }\n  for (var i = 0; i < literals.length; i += 1) {\n    template += literals[i];\n    if (i === substitutions.length - 1 && substitutions[i]) {\n      var definedValues = substitutions.filter(function (substitute) {\n        return !!substitute;\n      });\n      // Adds leading coma if properties preceed color-stops\n      if (definedValues.length > 1) {\n        template = template.slice(0, -1);\n        template += \", \" + substitutions[i];\n        // No trailing space if color-stops is the only param provided\n      } else if (definedValues.length === 1) {\n        template += \"\" + substitutions[i];\n      }\n    } else if (substitutions[i]) {\n      template += substitutions[i] + \" \";\n    }\n  }\n  return template.trim();\n}\n\nvar _templateObject$1;\n/**\n * CSS for declaring a linear gradient, including a fallback background-color. The fallback is either the first color-stop or an explicitly passed fallback color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...linearGradient({\n        colorStops: ['#00FFFF 0%', 'rgba(0, 0, 255, 0) 50%', '#0000FF 95%'],\n        toDirection: 'to top right',\n        fallback: '#FFF',\n      })\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${linearGradient({\n        colorStops: ['#00FFFF 0%', 'rgba(0, 0, 255, 0) 50%', '#0000FF 95%'],\n        toDirection: 'to top right',\n        fallback: '#FFF',\n      })}\n *`\n *\n * // CSS as JS Output\n *\n * div: {\n *   'backgroundColor': '#FFF',\n *   'backgroundImage': 'linear-gradient(to top right, #00FFFF 0%, rgba(0, 0, 255, 0) 50%, #0000FF 95%)',\n * }\n */\nfunction linearGradient(_ref) {\n  var colorStops = _ref.colorStops,\n    fallback = _ref.fallback,\n    _ref$toDirection = _ref.toDirection,\n    toDirection = _ref$toDirection === void 0 ? '' : _ref$toDirection;\n  if (!colorStops || colorStops.length < 2) {\n    throw new PolishedError(56);\n  }\n  return {\n    backgroundColor: fallback || colorStops[0].replace(/,\\s+/g, ',').split(' ')[0].replace(/,(?=\\S)/g, ', '),\n    backgroundImage: constructGradientValue(_templateObject$1 || (_templateObject$1 = _taggedTemplateLiteralLoose([\"linear-gradient(\", \"\", \")\"])), toDirection, colorStops.join(', ').replace(/,(?=\\S)/g, ', '))\n  };\n}\n\n/**\n * CSS to normalize abnormalities across browsers (normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css)\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *    ...normalize(),\n * }\n *\n * // styled-components usage\n * const GlobalStyle = createGlobalStyle`${normalize()}`\n *\n * // CSS as JS Output\n *\n * html {\n *   lineHeight: 1.15,\n *   textSizeAdjust: 100%,\n * } ...\n */\nfunction normalize() {\n  var _ref;\n  return [(_ref = {\n    html: {\n      lineHeight: '1.15',\n      textSizeAdjust: '100%'\n    },\n    body: {\n      margin: '0'\n    },\n    main: {\n      display: 'block'\n    },\n    h1: {\n      fontSize: '2em',\n      margin: '0.67em 0'\n    },\n    hr: {\n      boxSizing: 'content-box',\n      height: '0',\n      overflow: 'visible'\n    },\n    pre: {\n      fontFamily: 'monospace, monospace',\n      fontSize: '1em'\n    },\n    a: {\n      backgroundColor: 'transparent'\n    },\n    'abbr[title]': {\n      borderBottom: 'none',\n      textDecoration: 'underline'\n    }\n  }, _ref[\"b,\\n    strong\"] = {\n    fontWeight: 'bolder'\n  }, _ref[\"code,\\n    kbd,\\n    samp\"] = {\n    fontFamily: 'monospace, monospace',\n    fontSize: '1em'\n  }, _ref.small = {\n    fontSize: '80%'\n  }, _ref[\"sub,\\n    sup\"] = {\n    fontSize: '75%',\n    lineHeight: '0',\n    position: 'relative',\n    verticalAlign: 'baseline'\n  }, _ref.sub = {\n    bottom: '-0.25em'\n  }, _ref.sup = {\n    top: '-0.5em'\n  }, _ref.img = {\n    borderStyle: 'none'\n  }, _ref[\"button,\\n    input,\\n    optgroup,\\n    select,\\n    textarea\"] = {\n    fontFamily: 'inherit',\n    fontSize: '100%',\n    lineHeight: '1.15',\n    margin: '0'\n  }, _ref[\"button,\\n    input\"] = {\n    overflow: 'visible'\n  }, _ref[\"button,\\n    select\"] = {\n    textTransform: 'none'\n  }, _ref[\"button,\\n    html [type=\\\"button\\\"],\\n    [type=\\\"reset\\\"],\\n    [type=\\\"submit\\\"]\"] = {\n    WebkitAppearance: 'button'\n  }, _ref[\"button::-moz-focus-inner,\\n    [type=\\\"button\\\"]::-moz-focus-inner,\\n    [type=\\\"reset\\\"]::-moz-focus-inner,\\n    [type=\\\"submit\\\"]::-moz-focus-inner\"] = {\n    borderStyle: 'none',\n    padding: '0'\n  }, _ref[\"button:-moz-focusring,\\n    [type=\\\"button\\\"]:-moz-focusring,\\n    [type=\\\"reset\\\"]:-moz-focusring,\\n    [type=\\\"submit\\\"]:-moz-focusring\"] = {\n    outline: '1px dotted ButtonText'\n  }, _ref.fieldset = {\n    padding: '0.35em 0.625em 0.75em'\n  }, _ref.legend = {\n    boxSizing: 'border-box',\n    color: 'inherit',\n    display: 'table',\n    maxWidth: '100%',\n    padding: '0',\n    whiteSpace: 'normal'\n  }, _ref.progress = {\n    verticalAlign: 'baseline'\n  }, _ref.textarea = {\n    overflow: 'auto'\n  }, _ref[\"[type=\\\"checkbox\\\"],\\n    [type=\\\"radio\\\"]\"] = {\n    boxSizing: 'border-box',\n    padding: '0'\n  }, _ref[\"[type=\\\"number\\\"]::-webkit-inner-spin-button,\\n    [type=\\\"number\\\"]::-webkit-outer-spin-button\"] = {\n    height: 'auto'\n  }, _ref['[type=\"search\"]'] = {\n    WebkitAppearance: 'textfield',\n    outlineOffset: '-2px'\n  }, _ref['[type=\"search\"]::-webkit-search-decoration'] = {\n    WebkitAppearance: 'none'\n  }, _ref['::-webkit-file-upload-button'] = {\n    WebkitAppearance: 'button',\n    font: 'inherit'\n  }, _ref.details = {\n    display: 'block'\n  }, _ref.summary = {\n    display: 'list-item'\n  }, _ref.template = {\n    display: 'none'\n  }, _ref['[hidden]'] = {\n    display: 'none'\n  }, _ref), {\n    'abbr[title]': {\n      textDecoration: 'underline dotted'\n    }\n  }];\n}\n\nvar _templateObject;\n/**\n * CSS for declaring a radial gradient, including a fallback background-color. The fallback is either the first color-stop or an explicitly passed fallback color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...radialGradient({\n *     colorStops: ['#00FFFF 0%', 'rgba(0, 0, 255, 0) 50%', '#0000FF 95%'],\n *     extent: 'farthest-corner at 45px 45px',\n *     position: 'center',\n *     shape: 'ellipse',\n *   })\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${radialGradient({\n *     colorStops: ['#00FFFF 0%', 'rgba(0, 0, 255, 0) 50%', '#0000FF 95%'],\n *     extent: 'farthest-corner at 45px 45px',\n *     position: 'center',\n *     shape: 'ellipse',\n *   })}\n *`\n *\n * // CSS as JS Output\n *\n * div: {\n *   'backgroundColor': '#00FFFF',\n *   'backgroundImage': 'radial-gradient(center ellipse farthest-corner at 45px 45px, #00FFFF 0%, rgba(0, 0, 255, 0) 50%, #0000FF 95%)',\n * }\n */\nfunction radialGradient(_ref) {\n  var colorStops = _ref.colorStops,\n    _ref$extent = _ref.extent,\n    extent = _ref$extent === void 0 ? '' : _ref$extent,\n    fallback = _ref.fallback,\n    _ref$position = _ref.position,\n    position = _ref$position === void 0 ? '' : _ref$position,\n    _ref$shape = _ref.shape,\n    shape = _ref$shape === void 0 ? '' : _ref$shape;\n  if (!colorStops || colorStops.length < 2) {\n    throw new PolishedError(57);\n  }\n  return {\n    backgroundColor: fallback || colorStops[0].split(' ')[0],\n    backgroundImage: constructGradientValue(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"radial-gradient(\", \"\", \"\", \"\", \")\"])), position, shape, extent, colorStops.join(', '))\n  };\n}\n\n/**\n * A helper to generate a retina background image and non-retina\n * background image. The retina background image will output to a HiDPI media query. The mixin uses\n * a _2x.png filename suffix by default.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *  ...retinaImage('my-img')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${retinaImage('my-img')}\n * `\n *\n * // CSS as JS Output\n * div {\n *   backgroundImage: 'url(my-img.png)',\n *   '@media only screen and (-webkit-min-device-pixel-ratio: 1.3),\n *    only screen and (min--moz-device-pixel-ratio: 1.3),\n *    only screen and (-o-min-device-pixel-ratio: 1.3/1),\n *    only screen and (min-resolution: 144dpi),\n *    only screen and (min-resolution: 1.5dppx)': {\n *     backgroundImage: 'url(my-img_2x.png)',\n *   }\n * }\n */\nfunction retinaImage(filename, backgroundSize, extension, retinaFilename, retinaSuffix) {\n  var _ref;\n  if (extension === void 0) {\n    extension = 'png';\n  }\n  if (retinaSuffix === void 0) {\n    retinaSuffix = '_2x';\n  }\n  if (!filename) {\n    throw new PolishedError(58);\n  }\n  // Replace the dot at the beginning of the passed extension if one exists\n  var ext = extension.replace(/^\\./, '');\n  var rFilename = retinaFilename ? retinaFilename + \".\" + ext : \"\" + filename + retinaSuffix + \".\" + ext;\n  return _ref = {\n    backgroundImage: \"url(\" + filename + \".\" + ext + \")\"\n  }, _ref[hiDPI()] = _extends({\n    backgroundImage: \"url(\" + rFilename + \")\"\n  }, backgroundSize ? {\n    backgroundSize: backgroundSize\n  } : {}), _ref;\n}\n\n/* eslint-disable key-spacing */\nvar functionsMap = {\n  easeInBack: 'cubic-bezier(0.600, -0.280, 0.735, 0.045)',\n  easeInCirc: 'cubic-bezier(0.600,  0.040, 0.980, 0.335)',\n  easeInCubic: 'cubic-bezier(0.550,  0.055, 0.675, 0.190)',\n  easeInExpo: 'cubic-bezier(0.950,  0.050, 0.795, 0.035)',\n  easeInQuad: 'cubic-bezier(0.550,  0.085, 0.680, 0.530)',\n  easeInQuart: 'cubic-bezier(0.895,  0.030, 0.685, 0.220)',\n  easeInQuint: 'cubic-bezier(0.755,  0.050, 0.855, 0.060)',\n  easeInSine: 'cubic-bezier(0.470,  0.000, 0.745, 0.715)',\n  easeOutBack: 'cubic-bezier(0.175,  0.885, 0.320, 1.275)',\n  easeOutCubic: 'cubic-bezier(0.215,  0.610, 0.355, 1.000)',\n  easeOutCirc: 'cubic-bezier(0.075,  0.820, 0.165, 1.000)',\n  easeOutExpo: 'cubic-bezier(0.190,  1.000, 0.220, 1.000)',\n  easeOutQuad: 'cubic-bezier(0.250,  0.460, 0.450, 0.940)',\n  easeOutQuart: 'cubic-bezier(0.165,  0.840, 0.440, 1.000)',\n  easeOutQuint: 'cubic-bezier(0.230,  1.000, 0.320, 1.000)',\n  easeOutSine: 'cubic-bezier(0.390,  0.575, 0.565, 1.000)',\n  easeInOutBack: 'cubic-bezier(0.680, -0.550, 0.265, 1.550)',\n  easeInOutCirc: 'cubic-bezier(0.785,  0.135, 0.150, 0.860)',\n  easeInOutCubic: 'cubic-bezier(0.645,  0.045, 0.355, 1.000)',\n  easeInOutExpo: 'cubic-bezier(1.000,  0.000, 0.000, 1.000)',\n  easeInOutQuad: 'cubic-bezier(0.455,  0.030, 0.515, 0.955)',\n  easeInOutQuart: 'cubic-bezier(0.770,  0.000, 0.175, 1.000)',\n  easeInOutQuint: 'cubic-bezier(0.860,  0.000, 0.070, 1.000)',\n  easeInOutSine: 'cubic-bezier(0.445,  0.050, 0.550, 0.950)'\n};\n/* eslint-enable key-spacing */\n\nfunction getTimingFunction(functionName) {\n  return functionsMap[functionName];\n}\n\n/**\n * String to represent common easing functions as demonstrated here: (github.com/jaukia/easie).\n *\n * @deprecated - This will be deprecated in v5 in favor of `easeIn`, `easeOut`, `easeInOut`.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   'transitionTimingFunction': timingFunctions('easeInQuad')\n * }\n *\n * // styled-components usage\n *  const div = styled.div`\n *   transitionTimingFunction: ${timingFunctions('easeInQuad')};\n * `\n *\n * // CSS as JS Output\n *\n * 'div': {\n *   'transitionTimingFunction': 'cubic-bezier(0.550,  0.085, 0.680, 0.530)',\n * }\n */\n\nfunction timingFunctions(timingFunction) {\n  return getTimingFunction(timingFunction);\n}\n\nvar getBorderWidth = function getBorderWidth(pointingDirection, height, width) {\n  var fullWidth = \"\" + width[0] + (width[1] || '');\n  var halfWidth = \"\" + width[0] / 2 + (width[1] || '');\n  var fullHeight = \"\" + height[0] + (height[1] || '');\n  var halfHeight = \"\" + height[0] / 2 + (height[1] || '');\n  switch (pointingDirection) {\n    case 'top':\n      return \"0 \" + halfWidth + \" \" + fullHeight + \" \" + halfWidth;\n    case 'topLeft':\n      return fullWidth + \" \" + fullHeight + \" 0 0\";\n    case 'left':\n      return halfHeight + \" \" + fullWidth + \" \" + halfHeight + \" 0\";\n    case 'bottomLeft':\n      return fullWidth + \" 0 0 \" + fullHeight;\n    case 'bottom':\n      return fullHeight + \" \" + halfWidth + \" 0 \" + halfWidth;\n    case 'bottomRight':\n      return \"0 0 \" + fullWidth + \" \" + fullHeight;\n    case 'right':\n      return halfHeight + \" 0 \" + halfHeight + \" \" + fullWidth;\n    case 'topRight':\n    default:\n      return \"0 \" + fullWidth + \" \" + fullHeight + \" 0\";\n  }\n};\nvar getBorderColor = function getBorderColor(pointingDirection, foregroundColor) {\n  switch (pointingDirection) {\n    case 'top':\n    case 'bottomRight':\n      return {\n        borderBottomColor: foregroundColor\n      };\n    case 'right':\n    case 'bottomLeft':\n      return {\n        borderLeftColor: foregroundColor\n      };\n    case 'bottom':\n    case 'topLeft':\n      return {\n        borderTopColor: foregroundColor\n      };\n    case 'left':\n    case 'topRight':\n      return {\n        borderRightColor: foregroundColor\n      };\n    default:\n      throw new PolishedError(59);\n  }\n};\n\n/**\n * CSS to represent triangle with any pointing direction with an optional background color.\n *\n * @example\n * // Styles as object usage\n *\n * const styles = {\n *   ...triangle({ pointingDirection: 'right', width: '100px', height: '100px', foregroundColor: 'red' })\n * }\n *\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${triangle({ pointingDirection: 'right', width: '100px', height: '100px', foregroundColor: 'red' })}\n *\n *\n * // CSS as JS Output\n *\n * div: {\n *  'borderColor': 'transparent transparent transparent red',\n *  'borderStyle': 'solid',\n *  'borderWidth': '50px 0 50px 100px',\n *  'height': '0',\n *  'width': '0',\n * }\n */\nfunction triangle(_ref) {\n  var pointingDirection = _ref.pointingDirection,\n    height = _ref.height,\n    width = _ref.width,\n    foregroundColor = _ref.foregroundColor,\n    _ref$backgroundColor = _ref.backgroundColor,\n    backgroundColor = _ref$backgroundColor === void 0 ? 'transparent' : _ref$backgroundColor;\n  var widthAndUnit = getValueAndUnit(width);\n  var heightAndUnit = getValueAndUnit(height);\n  if (isNaN(heightAndUnit[0]) || isNaN(widthAndUnit[0])) {\n    throw new PolishedError(60);\n  }\n  return _extends({\n    width: '0',\n    height: '0',\n    borderColor: backgroundColor\n  }, getBorderColor(pointingDirection, foregroundColor), {\n    borderStyle: 'solid',\n    borderWidth: getBorderWidth(pointingDirection, heightAndUnit, widthAndUnit)\n  });\n}\n\n/**\n * Provides an easy way to change the `wordWrap` property.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...wordWrap('break-word')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${wordWrap('break-word')}\n * `\n *\n * // CSS as JS Output\n *\n * const styles = {\n *   overflowWrap: 'break-word',\n *   wordWrap: 'break-word',\n *   wordBreak: 'break-all',\n * }\n */\nfunction wordWrap(wrap) {\n  if (wrap === void 0) {\n    wrap = 'break-word';\n  }\n  var wordBreak = wrap === 'break-word' ? 'break-all' : wrap;\n  return {\n    overflowWrap: wrap,\n    wordWrap: wrap,\n    wordBreak: wordBreak\n  };\n}\n\nfunction colorToInt(color) {\n  return Math.round(color * 255);\n}\nfunction convertToInt(red, green, blue) {\n  return colorToInt(red) + \",\" + colorToInt(green) + \",\" + colorToInt(blue);\n}\nfunction hslToRgb(hue, saturation, lightness, convert) {\n  if (convert === void 0) {\n    convert = convertToInt;\n  }\n  if (saturation === 0) {\n    // achromatic\n    return convert(lightness, lightness, lightness);\n  }\n\n  // formulae from https://en.wikipedia.org/wiki/HSL_and_HSV\n  var huePrime = (hue % 360 + 360) % 360 / 60;\n  var chroma = (1 - Math.abs(2 * lightness - 1)) * saturation;\n  var secondComponent = chroma * (1 - Math.abs(huePrime % 2 - 1));\n  var red = 0;\n  var green = 0;\n  var blue = 0;\n  if (huePrime >= 0 && huePrime < 1) {\n    red = chroma;\n    green = secondComponent;\n  } else if (huePrime >= 1 && huePrime < 2) {\n    red = secondComponent;\n    green = chroma;\n  } else if (huePrime >= 2 && huePrime < 3) {\n    green = chroma;\n    blue = secondComponent;\n  } else if (huePrime >= 3 && huePrime < 4) {\n    green = secondComponent;\n    blue = chroma;\n  } else if (huePrime >= 4 && huePrime < 5) {\n    red = secondComponent;\n    blue = chroma;\n  } else if (huePrime >= 5 && huePrime < 6) {\n    red = chroma;\n    blue = secondComponent;\n  }\n  var lightnessModification = lightness - chroma / 2;\n  var finalRed = red + lightnessModification;\n  var finalGreen = green + lightnessModification;\n  var finalBlue = blue + lightnessModification;\n  return convert(finalRed, finalGreen, finalBlue);\n}\n\nvar namedColorMap = {\n  aliceblue: 'f0f8ff',\n  antiquewhite: 'faebd7',\n  aqua: '00ffff',\n  aquamarine: '7fffd4',\n  azure: 'f0ffff',\n  beige: 'f5f5dc',\n  bisque: 'ffe4c4',\n  black: '000',\n  blanchedalmond: 'ffebcd',\n  blue: '0000ff',\n  blueviolet: '8a2be2',\n  brown: 'a52a2a',\n  burlywood: 'deb887',\n  cadetblue: '5f9ea0',\n  chartreuse: '7fff00',\n  chocolate: 'd2691e',\n  coral: 'ff7f50',\n  cornflowerblue: '6495ed',\n  cornsilk: 'fff8dc',\n  crimson: 'dc143c',\n  cyan: '00ffff',\n  darkblue: '00008b',\n  darkcyan: '008b8b',\n  darkgoldenrod: 'b8860b',\n  darkgray: 'a9a9a9',\n  darkgreen: '006400',\n  darkgrey: 'a9a9a9',\n  darkkhaki: 'bdb76b',\n  darkmagenta: '8b008b',\n  darkolivegreen: '556b2f',\n  darkorange: 'ff8c00',\n  darkorchid: '9932cc',\n  darkred: '8b0000',\n  darksalmon: 'e9967a',\n  darkseagreen: '8fbc8f',\n  darkslateblue: '483d8b',\n  darkslategray: '2f4f4f',\n  darkslategrey: '2f4f4f',\n  darkturquoise: '00ced1',\n  darkviolet: '9400d3',\n  deeppink: 'ff1493',\n  deepskyblue: '00bfff',\n  dimgray: '696969',\n  dimgrey: '696969',\n  dodgerblue: '1e90ff',\n  firebrick: 'b22222',\n  floralwhite: 'fffaf0',\n  forestgreen: '228b22',\n  fuchsia: 'ff00ff',\n  gainsboro: 'dcdcdc',\n  ghostwhite: 'f8f8ff',\n  gold: 'ffd700',\n  goldenrod: 'daa520',\n  gray: '808080',\n  green: '008000',\n  greenyellow: 'adff2f',\n  grey: '808080',\n  honeydew: 'f0fff0',\n  hotpink: 'ff69b4',\n  indianred: 'cd5c5c',\n  indigo: '4b0082',\n  ivory: 'fffff0',\n  khaki: 'f0e68c',\n  lavender: 'e6e6fa',\n  lavenderblush: 'fff0f5',\n  lawngreen: '7cfc00',\n  lemonchiffon: 'fffacd',\n  lightblue: 'add8e6',\n  lightcoral: 'f08080',\n  lightcyan: 'e0ffff',\n  lightgoldenrodyellow: 'fafad2',\n  lightgray: 'd3d3d3',\n  lightgreen: '90ee90',\n  lightgrey: 'd3d3d3',\n  lightpink: 'ffb6c1',\n  lightsalmon: 'ffa07a',\n  lightseagreen: '20b2aa',\n  lightskyblue: '87cefa',\n  lightslategray: '789',\n  lightslategrey: '789',\n  lightsteelblue: 'b0c4de',\n  lightyellow: 'ffffe0',\n  lime: '0f0',\n  limegreen: '32cd32',\n  linen: 'faf0e6',\n  magenta: 'f0f',\n  maroon: '800000',\n  mediumaquamarine: '66cdaa',\n  mediumblue: '0000cd',\n  mediumorchid: 'ba55d3',\n  mediumpurple: '9370db',\n  mediumseagreen: '3cb371',\n  mediumslateblue: '7b68ee',\n  mediumspringgreen: '00fa9a',\n  mediumturquoise: '48d1cc',\n  mediumvioletred: 'c71585',\n  midnightblue: '191970',\n  mintcream: 'f5fffa',\n  mistyrose: 'ffe4e1',\n  moccasin: 'ffe4b5',\n  navajowhite: 'ffdead',\n  navy: '000080',\n  oldlace: 'fdf5e6',\n  olive: '808000',\n  olivedrab: '6b8e23',\n  orange: 'ffa500',\n  orangered: 'ff4500',\n  orchid: 'da70d6',\n  palegoldenrod: 'eee8aa',\n  palegreen: '98fb98',\n  paleturquoise: 'afeeee',\n  palevioletred: 'db7093',\n  papayawhip: 'ffefd5',\n  peachpuff: 'ffdab9',\n  peru: 'cd853f',\n  pink: 'ffc0cb',\n  plum: 'dda0dd',\n  powderblue: 'b0e0e6',\n  purple: '800080',\n  rebeccapurple: '639',\n  red: 'f00',\n  rosybrown: 'bc8f8f',\n  royalblue: '4169e1',\n  saddlebrown: '8b4513',\n  salmon: 'fa8072',\n  sandybrown: 'f4a460',\n  seagreen: '2e8b57',\n  seashell: 'fff5ee',\n  sienna: 'a0522d',\n  silver: 'c0c0c0',\n  skyblue: '87ceeb',\n  slateblue: '6a5acd',\n  slategray: '708090',\n  slategrey: '708090',\n  snow: 'fffafa',\n  springgreen: '00ff7f',\n  steelblue: '4682b4',\n  tan: 'd2b48c',\n  teal: '008080',\n  thistle: 'd8bfd8',\n  tomato: 'ff6347',\n  turquoise: '40e0d0',\n  violet: 'ee82ee',\n  wheat: 'f5deb3',\n  white: 'fff',\n  whitesmoke: 'f5f5f5',\n  yellow: 'ff0',\n  yellowgreen: '9acd32'\n};\n\n/**\n * Checks if a string is a CSS named color and returns its equivalent hex value, otherwise returns the original color.\n * @private\n */\nfunction nameToHex(color) {\n  if (typeof color !== 'string') return color;\n  var normalizedColorName = color.toLowerCase();\n  return namedColorMap[normalizedColorName] ? \"#\" + namedColorMap[normalizedColorName] : color;\n}\n\nvar hexRegex = /^#[a-fA-F0-9]{6}$/;\nvar hexRgbaRegex = /^#[a-fA-F0-9]{8}$/;\nvar reducedHexRegex = /^#[a-fA-F0-9]{3}$/;\nvar reducedRgbaHexRegex = /^#[a-fA-F0-9]{4}$/;\nvar rgbRegex = /^rgb\\(\\s*(\\d{1,3})\\s*(?:,)?\\s*(\\d{1,3})\\s*(?:,)?\\s*(\\d{1,3})\\s*\\)$/i;\nvar rgbaRegex = /^rgb(?:a)?\\(\\s*(\\d{1,3})\\s*(?:,)?\\s*(\\d{1,3})\\s*(?:,)?\\s*(\\d{1,3})\\s*(?:,|\\/)\\s*([-+]?\\d*[.]?\\d+[%]?)\\s*\\)$/i;\nvar hslRegex = /^hsl\\(\\s*(\\d{0,3}[.]?[0-9]+(?:deg)?)\\s*(?:,)?\\s*(\\d{1,3}[.]?[0-9]?)%\\s*(?:,)?\\s*(\\d{1,3}[.]?[0-9]?)%\\s*\\)$/i;\nvar hslaRegex = /^hsl(?:a)?\\(\\s*(\\d{0,3}[.]?[0-9]+(?:deg)?)\\s*(?:,)?\\s*(\\d{1,3}[.]?[0-9]?)%\\s*(?:,)?\\s*(\\d{1,3}[.]?[0-9]?)%\\s*(?:,|\\/)\\s*([-+]?\\d*[.]?\\d+[%]?)\\s*\\)$/i;\n\n/**\n * Returns an RgbColor or RgbaColor object. This utility function is only useful\n * if want to extract a color component. With the color util `toColorString` you\n * can convert a RgbColor or RgbaColor object back to a string.\n *\n * @example\n * // Assigns `{ red: 255, green: 0, blue: 0 }` to color1\n * const color1 = parseToRgb('rgb(255, 0, 0)');\n * // Assigns `{ red: 92, green: 102, blue: 112, alpha: 0.75 }` to color2\n * const color2 = parseToRgb('hsla(210, 10%, 40%, 0.75)');\n */\nfunction parseToRgb(color) {\n  if (typeof color !== 'string') {\n    throw new PolishedError(3);\n  }\n  var normalizedColor = nameToHex(color);\n  if (normalizedColor.match(hexRegex)) {\n    return {\n      red: parseInt(\"\" + normalizedColor[1] + normalizedColor[2], 16),\n      green: parseInt(\"\" + normalizedColor[3] + normalizedColor[4], 16),\n      blue: parseInt(\"\" + normalizedColor[5] + normalizedColor[6], 16)\n    };\n  }\n  if (normalizedColor.match(hexRgbaRegex)) {\n    var alpha = parseFloat((parseInt(\"\" + normalizedColor[7] + normalizedColor[8], 16) / 255).toFixed(2));\n    return {\n      red: parseInt(\"\" + normalizedColor[1] + normalizedColor[2], 16),\n      green: parseInt(\"\" + normalizedColor[3] + normalizedColor[4], 16),\n      blue: parseInt(\"\" + normalizedColor[5] + normalizedColor[6], 16),\n      alpha: alpha\n    };\n  }\n  if (normalizedColor.match(reducedHexRegex)) {\n    return {\n      red: parseInt(\"\" + normalizedColor[1] + normalizedColor[1], 16),\n      green: parseInt(\"\" + normalizedColor[2] + normalizedColor[2], 16),\n      blue: parseInt(\"\" + normalizedColor[3] + normalizedColor[3], 16)\n    };\n  }\n  if (normalizedColor.match(reducedRgbaHexRegex)) {\n    var _alpha = parseFloat((parseInt(\"\" + normalizedColor[4] + normalizedColor[4], 16) / 255).toFixed(2));\n    return {\n      red: parseInt(\"\" + normalizedColor[1] + normalizedColor[1], 16),\n      green: parseInt(\"\" + normalizedColor[2] + normalizedColor[2], 16),\n      blue: parseInt(\"\" + normalizedColor[3] + normalizedColor[3], 16),\n      alpha: _alpha\n    };\n  }\n  var rgbMatched = rgbRegex.exec(normalizedColor);\n  if (rgbMatched) {\n    return {\n      red: parseInt(\"\" + rgbMatched[1], 10),\n      green: parseInt(\"\" + rgbMatched[2], 10),\n      blue: parseInt(\"\" + rgbMatched[3], 10)\n    };\n  }\n  var rgbaMatched = rgbaRegex.exec(normalizedColor.substring(0, 50));\n  if (rgbaMatched) {\n    return {\n      red: parseInt(\"\" + rgbaMatched[1], 10),\n      green: parseInt(\"\" + rgbaMatched[2], 10),\n      blue: parseInt(\"\" + rgbaMatched[3], 10),\n      alpha: parseFloat(\"\" + rgbaMatched[4]) > 1 ? parseFloat(\"\" + rgbaMatched[4]) / 100 : parseFloat(\"\" + rgbaMatched[4])\n    };\n  }\n  var hslMatched = hslRegex.exec(normalizedColor);\n  if (hslMatched) {\n    var hue = parseInt(\"\" + hslMatched[1], 10);\n    var saturation = parseInt(\"\" + hslMatched[2], 10) / 100;\n    var lightness = parseInt(\"\" + hslMatched[3], 10) / 100;\n    var rgbColorString = \"rgb(\" + hslToRgb(hue, saturation, lightness) + \")\";\n    var hslRgbMatched = rgbRegex.exec(rgbColorString);\n    if (!hslRgbMatched) {\n      throw new PolishedError(4, normalizedColor, rgbColorString);\n    }\n    return {\n      red: parseInt(\"\" + hslRgbMatched[1], 10),\n      green: parseInt(\"\" + hslRgbMatched[2], 10),\n      blue: parseInt(\"\" + hslRgbMatched[3], 10)\n    };\n  }\n  var hslaMatched = hslaRegex.exec(normalizedColor.substring(0, 50));\n  if (hslaMatched) {\n    var _hue = parseInt(\"\" + hslaMatched[1], 10);\n    var _saturation = parseInt(\"\" + hslaMatched[2], 10) / 100;\n    var _lightness = parseInt(\"\" + hslaMatched[3], 10) / 100;\n    var _rgbColorString = \"rgb(\" + hslToRgb(_hue, _saturation, _lightness) + \")\";\n    var _hslRgbMatched = rgbRegex.exec(_rgbColorString);\n    if (!_hslRgbMatched) {\n      throw new PolishedError(4, normalizedColor, _rgbColorString);\n    }\n    return {\n      red: parseInt(\"\" + _hslRgbMatched[1], 10),\n      green: parseInt(\"\" + _hslRgbMatched[2], 10),\n      blue: parseInt(\"\" + _hslRgbMatched[3], 10),\n      alpha: parseFloat(\"\" + hslaMatched[4]) > 1 ? parseFloat(\"\" + hslaMatched[4]) / 100 : parseFloat(\"\" + hslaMatched[4])\n    };\n  }\n  throw new PolishedError(5);\n}\n\nfunction rgbToHsl(color) {\n  // make sure rgb are contained in a set of [0, 255]\n  var red = color.red / 255;\n  var green = color.green / 255;\n  var blue = color.blue / 255;\n  var max = Math.max(red, green, blue);\n  var min = Math.min(red, green, blue);\n  var lightness = (max + min) / 2;\n  if (max === min) {\n    // achromatic\n    if (color.alpha !== undefined) {\n      return {\n        hue: 0,\n        saturation: 0,\n        lightness: lightness,\n        alpha: color.alpha\n      };\n    } else {\n      return {\n        hue: 0,\n        saturation: 0,\n        lightness: lightness\n      };\n    }\n  }\n  var hue;\n  var delta = max - min;\n  var saturation = lightness > 0.5 ? delta / (2 - max - min) : delta / (max + min);\n  switch (max) {\n    case red:\n      hue = (green - blue) / delta + (green < blue ? 6 : 0);\n      break;\n    case green:\n      hue = (blue - red) / delta + 2;\n      break;\n    default:\n      // blue case\n      hue = (red - green) / delta + 4;\n      break;\n  }\n  hue *= 60;\n  if (color.alpha !== undefined) {\n    return {\n      hue: hue,\n      saturation: saturation,\n      lightness: lightness,\n      alpha: color.alpha\n    };\n  }\n  return {\n    hue: hue,\n    saturation: saturation,\n    lightness: lightness\n  };\n}\n\n/**\n * Returns an HslColor or HslaColor object. This utility function is only useful\n * if want to extract a color component. With the color util `toColorString` you\n * can convert a HslColor or HslaColor object back to a string.\n *\n * @example\n * // Assigns `{ hue: 0, saturation: 1, lightness: 0.5 }` to color1\n * const color1 = parseToHsl('rgb(255, 0, 0)');\n * // Assigns `{ hue: 128, saturation: 1, lightness: 0.5, alpha: 0.75 }` to color2\n * const color2 = parseToHsl('hsla(128, 100%, 50%, 0.75)');\n */\nfunction parseToHsl(color) {\n  // Note: At a later stage we can optimize this function as right now a hsl\n  // color would be parsed converted to rgb values and converted back to hsl.\n  return rgbToHsl(parseToRgb(color));\n}\n\n/**\n * Reduces hex values if possible e.g. #ff8866 to #f86\n * @private\n */\nvar reduceHexValue = function reduceHexValue(value) {\n  if (value.length === 7 && value[1] === value[2] && value[3] === value[4] && value[5] === value[6]) {\n    return \"#\" + value[1] + value[3] + value[5];\n  }\n  return value;\n};\nvar reduceHexValue$1 = reduceHexValue;\n\nfunction numberToHex(value) {\n  var hex = value.toString(16);\n  return hex.length === 1 ? \"0\" + hex : hex;\n}\n\nfunction colorToHex(color) {\n  return numberToHex(Math.round(color * 255));\n}\nfunction convertToHex(red, green, blue) {\n  return reduceHexValue$1(\"#\" + colorToHex(red) + colorToHex(green) + colorToHex(blue));\n}\nfunction hslToHex(hue, saturation, lightness) {\n  return hslToRgb(hue, saturation, lightness, convertToHex);\n}\n\n/**\n * Returns a string value for the color. The returned result is the smallest possible hex notation.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: hsl(359, 0.75, 0.4),\n *   background: hsl({ hue: 360, saturation: 0.75, lightness: 0.4 }),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${hsl(359, 0.75, 0.4)};\n *   background: ${hsl({ hue: 360, saturation: 0.75, lightness: 0.4 })};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#b3191c\";\n *   background: \"#b3191c\";\n * }\n */\nfunction hsl(value, saturation, lightness) {\n  if (typeof value === 'number' && typeof saturation === 'number' && typeof lightness === 'number') {\n    return hslToHex(value, saturation, lightness);\n  } else if (typeof value === 'object' && saturation === undefined && lightness === undefined) {\n    return hslToHex(value.hue, value.saturation, value.lightness);\n  }\n  throw new PolishedError(1);\n}\n\n/**\n * Returns a string value for the color. The returned result is the smallest possible rgba or hex notation.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: hsla(359, 0.75, 0.4, 0.7),\n *   background: hsla({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0,7 }),\n *   background: hsla(359, 0.75, 0.4, 1),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${hsla(359, 0.75, 0.4, 0.7)};\n *   background: ${hsla({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0,7 })};\n *   background: ${hsla(359, 0.75, 0.4, 1)};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"rgba(179,25,28,0.7)\";\n *   background: \"rgba(179,25,28,0.7)\";\n *   background: \"#b3191c\";\n * }\n */\nfunction hsla(value, saturation, lightness, alpha) {\n  if (typeof value === 'number' && typeof saturation === 'number' && typeof lightness === 'number' && typeof alpha === 'number') {\n    return alpha >= 1 ? hslToHex(value, saturation, lightness) : \"rgba(\" + hslToRgb(value, saturation, lightness) + \",\" + alpha + \")\";\n  } else if (typeof value === 'object' && saturation === undefined && lightness === undefined && alpha === undefined) {\n    return value.alpha >= 1 ? hslToHex(value.hue, value.saturation, value.lightness) : \"rgba(\" + hslToRgb(value.hue, value.saturation, value.lightness) + \",\" + value.alpha + \")\";\n  }\n  throw new PolishedError(2);\n}\n\n/**\n * Returns a string value for the color. The returned result is the smallest possible hex notation.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: rgb(255, 205, 100),\n *   background: rgb({ red: 255, green: 205, blue: 100 }),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${rgb(255, 205, 100)};\n *   background: ${rgb({ red: 255, green: 205, blue: 100 })};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#ffcd64\";\n *   background: \"#ffcd64\";\n * }\n */\nfunction rgb(value, green, blue) {\n  if (typeof value === 'number' && typeof green === 'number' && typeof blue === 'number') {\n    return reduceHexValue$1(\"#\" + numberToHex(value) + numberToHex(green) + numberToHex(blue));\n  } else if (typeof value === 'object' && green === undefined && blue === undefined) {\n    return reduceHexValue$1(\"#\" + numberToHex(value.red) + numberToHex(value.green) + numberToHex(value.blue));\n  }\n  throw new PolishedError(6);\n}\n\n/**\n * Returns a string value for the color. The returned result is the smallest possible rgba or hex notation.\n *\n * Can also be used to fade a color by passing a hex value or named CSS color along with an alpha value.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: rgba(255, 205, 100, 0.7),\n *   background: rgba({ red: 255, green: 205, blue: 100, alpha: 0.7 }),\n *   background: rgba(255, 205, 100, 1),\n *   background: rgba('#ffffff', 0.4),\n *   background: rgba('black', 0.7),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${rgba(255, 205, 100, 0.7)};\n *   background: ${rgba({ red: 255, green: 205, blue: 100, alpha: 0.7 })};\n *   background: ${rgba(255, 205, 100, 1)};\n *   background: ${rgba('#ffffff', 0.4)};\n *   background: ${rgba('black', 0.7)};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"rgba(255,205,100,0.7)\";\n *   background: \"rgba(255,205,100,0.7)\";\n *   background: \"#ffcd64\";\n *   background: \"rgba(255,255,255,0.4)\";\n *   background: \"rgba(0,0,0,0.7)\";\n * }\n */\nfunction rgba(firstValue, secondValue, thirdValue, fourthValue) {\n  if (typeof firstValue === 'string' && typeof secondValue === 'number') {\n    var rgbValue = parseToRgb(firstValue);\n    return \"rgba(\" + rgbValue.red + \",\" + rgbValue.green + \",\" + rgbValue.blue + \",\" + secondValue + \")\";\n  } else if (typeof firstValue === 'number' && typeof secondValue === 'number' && typeof thirdValue === 'number' && typeof fourthValue === 'number') {\n    return fourthValue >= 1 ? rgb(firstValue, secondValue, thirdValue) : \"rgba(\" + firstValue + \",\" + secondValue + \",\" + thirdValue + \",\" + fourthValue + \")\";\n  } else if (typeof firstValue === 'object' && secondValue === undefined && thirdValue === undefined && fourthValue === undefined) {\n    return firstValue.alpha >= 1 ? rgb(firstValue.red, firstValue.green, firstValue.blue) : \"rgba(\" + firstValue.red + \",\" + firstValue.green + \",\" + firstValue.blue + \",\" + firstValue.alpha + \")\";\n  }\n  throw new PolishedError(7);\n}\n\nvar isRgb = function isRgb(color) {\n  return typeof color.red === 'number' && typeof color.green === 'number' && typeof color.blue === 'number' && (typeof color.alpha !== 'number' || typeof color.alpha === 'undefined');\n};\nvar isRgba = function isRgba(color) {\n  return typeof color.red === 'number' && typeof color.green === 'number' && typeof color.blue === 'number' && typeof color.alpha === 'number';\n};\nvar isHsl = function isHsl(color) {\n  return typeof color.hue === 'number' && typeof color.saturation === 'number' && typeof color.lightness === 'number' && (typeof color.alpha !== 'number' || typeof color.alpha === 'undefined');\n};\nvar isHsla = function isHsla(color) {\n  return typeof color.hue === 'number' && typeof color.saturation === 'number' && typeof color.lightness === 'number' && typeof color.alpha === 'number';\n};\n\n/**\n * Converts a RgbColor, RgbaColor, HslColor or HslaColor object to a color string.\n * This util is useful in case you only know on runtime which color object is\n * used. Otherwise we recommend to rely on `rgb`, `rgba`, `hsl` or `hsla`.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: toColorString({ red: 255, green: 205, blue: 100 }),\n *   background: toColorString({ red: 255, green: 205, blue: 100, alpha: 0.72 }),\n *   background: toColorString({ hue: 240, saturation: 1, lightness: 0.5 }),\n *   background: toColorString({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0.72 }),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${toColorString({ red: 255, green: 205, blue: 100 })};\n *   background: ${toColorString({ red: 255, green: 205, blue: 100, alpha: 0.72 })};\n *   background: ${toColorString({ hue: 240, saturation: 1, lightness: 0.5 })};\n *   background: ${toColorString({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0.72 })};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#ffcd64\";\n *   background: \"rgba(255,205,100,0.72)\";\n *   background: \"#00f\";\n *   background: \"rgba(179,25,25,0.72)\";\n * }\n */\n\nfunction toColorString(color) {\n  if (typeof color !== 'object') throw new PolishedError(8);\n  if (isRgba(color)) return rgba(color);\n  if (isRgb(color)) return rgb(color);\n  if (isHsla(color)) return hsla(color);\n  if (isHsl(color)) return hsl(color);\n  throw new PolishedError(8);\n}\n\n// Type definitions taken from https://github.com/gcanti/flow-static-land/blob/master/src/Fun.js\n// eslint-disable-next-line no-unused-vars\n// eslint-disable-next-line no-unused-vars\n// eslint-disable-next-line no-redeclare\nfunction curried(f, length, acc) {\n  return function fn() {\n    // eslint-disable-next-line prefer-rest-params\n    var combined = acc.concat(Array.prototype.slice.call(arguments));\n    return combined.length >= length ? f.apply(this, combined) : curried(f, length, combined);\n  };\n}\n\n// eslint-disable-next-line no-redeclare\nfunction curry(f) {\n  // eslint-disable-line no-redeclare\n  return curried(f, f.length, []);\n}\n\n/**\n * Changes the hue of the color. Hue is a number between 0 to 360. The first\n * argument for adjustHue is the amount of degrees the color is rotated around\n * the color wheel, always producing a positive hue value.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: adjustHue(180, '#448'),\n *   background: adjustHue('180', 'rgba(101,100,205,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${adjustHue(180, '#448')};\n *   background: ${adjustHue('180', 'rgba(101,100,205,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#888844\";\n *   background: \"rgba(136,136,68,0.7)\";\n * }\n */\nfunction adjustHue(degree, color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    hue: hslColor.hue + parseFloat(degree)\n  }));\n}\n\n// prettier-ignore\nvar curriedAdjustHue = curry /* ::<number | string, string, string> */(adjustHue);\nvar curriedAdjustHue$1 = curriedAdjustHue;\n\n/**\n * Returns the complement of the provided color. This is identical to adjustHue(180, <color>).\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: complement('#448'),\n *   background: complement('rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${complement('#448')};\n *   background: ${complement('rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#884\";\n *   background: \"rgba(153,153,153,0.7)\";\n * }\n */\nfunction complement(color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    hue: (hslColor.hue + 180) % 360\n  }));\n}\n\nfunction guard(lowerBoundary, upperBoundary, value) {\n  return Math.max(lowerBoundary, Math.min(upperBoundary, value));\n}\n\n/**\n * Returns a string value for the darkened color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: darken(0.2, '#FFCD64'),\n *   background: darken('0.2', 'rgba(255,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${darken(0.2, '#FFCD64')};\n *   background: ${darken('0.2', 'rgba(255,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#ffbd31\";\n *   background: \"rgba(255,189,49,0.7)\";\n * }\n */\nfunction darken(amount, color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    lightness: guard(0, 1, hslColor.lightness - parseFloat(amount))\n  }));\n}\n\n// prettier-ignore\nvar curriedDarken = curry /* ::<number | string, string, string> */(darken);\nvar curriedDarken$1 = curriedDarken;\n\n/**\n * Decreases the intensity of a color. Its range is between 0 to 1. The first\n * argument of the desaturate function is the amount by how much the color\n * intensity should be decreased.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: desaturate(0.2, '#CCCD64'),\n *   background: desaturate('0.2', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${desaturate(0.2, '#CCCD64')};\n *   background: ${desaturate('0.2', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#b8b979\";\n *   background: \"rgba(184,185,121,0.7)\";\n * }\n */\nfunction desaturate(amount, color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    saturation: guard(0, 1, hslColor.saturation - parseFloat(amount))\n  }));\n}\n\n// prettier-ignore\nvar curriedDesaturate = curry /* ::<number | string, string, string> */(desaturate);\nvar curriedDesaturate$1 = curriedDesaturate;\n\n/**\n * Returns a number (float) representing the luminance of a color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: getLuminance('#CCCD64') >= getLuminance('#0000ff') ? '#CCCD64' : '#0000ff',\n *   background: getLuminance('rgba(58, 133, 255, 1)') >= getLuminance('rgba(255, 57, 149, 1)') ?\n *                             'rgba(58, 133, 255, 1)' :\n *                             'rgba(255, 57, 149, 1)',\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${getLuminance('#CCCD64') >= getLuminance('#0000ff') ? '#CCCD64' : '#0000ff'};\n *   background: ${getLuminance('rgba(58, 133, 255, 1)') >= getLuminance('rgba(255, 57, 149, 1)') ?\n *                             'rgba(58, 133, 255, 1)' :\n *                             'rgba(255, 57, 149, 1)'};\n *\n * // CSS in JS Output\n *\n * div {\n *   background: \"#CCCD64\";\n *   background: \"rgba(58, 133, 255, 1)\";\n * }\n */\nfunction getLuminance(color) {\n  if (color === 'transparent') return 0;\n  var rgbColor = parseToRgb(color);\n  var _Object$keys$map = Object.keys(rgbColor).map(function (key) {\n      var channel = rgbColor[key] / 255;\n      return channel <= 0.03928 ? channel / 12.92 : Math.pow((channel + 0.055) / 1.055, 2.4);\n    }),\n    r = _Object$keys$map[0],\n    g = _Object$keys$map[1],\n    b = _Object$keys$map[2];\n  return parseFloat((0.2126 * r + 0.7152 * g + 0.0722 * b).toFixed(3));\n}\n\n/**\n * Returns the contrast ratio between two colors based on\n * [W3's recommended equation for calculating contrast](http://www.w3.org/TR/WCAG20/#contrast-ratiodef).\n *\n * @example\n * const contrastRatio = getContrast('#444', '#fff');\n */\nfunction getContrast(color1, color2) {\n  var luminance1 = getLuminance(color1);\n  var luminance2 = getLuminance(color2);\n  return parseFloat((luminance1 > luminance2 ? (luminance1 + 0.05) / (luminance2 + 0.05) : (luminance2 + 0.05) / (luminance1 + 0.05)).toFixed(2));\n}\n\n/**\n * Converts the color to a grayscale, by reducing its saturation to 0.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: grayscale('#CCCD64'),\n *   background: grayscale('rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${grayscale('#CCCD64')};\n *   background: ${grayscale('rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#999\";\n *   background: \"rgba(153,153,153,0.7)\";\n * }\n */\nfunction grayscale(color) {\n  if (color === 'transparent') return color;\n  return toColorString(_extends({}, parseToHsl(color), {\n    saturation: 0\n  }));\n}\n\n/**\n * Converts a HslColor or HslaColor object to a color string.\n * This util is useful in case you only know on runtime which color object is\n * used. Otherwise we recommend to rely on `hsl` or `hsla`.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: hslToColorString({ hue: 240, saturation: 1, lightness: 0.5 }),\n *   background: hslToColorString({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0.72 }),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${hslToColorString({ hue: 240, saturation: 1, lightness: 0.5 })};\n *   background: ${hslToColorString({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0.72 })};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#00f\";\n *   background: \"rgba(179,25,25,0.72)\";\n * }\n */\nfunction hslToColorString(color) {\n  if (typeof color === 'object' && typeof color.hue === 'number' && typeof color.saturation === 'number' && typeof color.lightness === 'number') {\n    if (color.alpha && typeof color.alpha === 'number') {\n      return hsla({\n        hue: color.hue,\n        saturation: color.saturation,\n        lightness: color.lightness,\n        alpha: color.alpha\n      });\n    }\n    return hsl({\n      hue: color.hue,\n      saturation: color.saturation,\n      lightness: color.lightness\n    });\n  }\n  throw new PolishedError(45);\n}\n\n/**\n * Inverts the red, green and blue values of a color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: invert('#CCCD64'),\n *   background: invert('rgba(101,100,205,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${invert('#CCCD64')};\n *   background: ${invert('rgba(101,100,205,0.7)')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#33329b\";\n *   background: \"rgba(154,155,50,0.7)\";\n * }\n */\nfunction invert(color) {\n  if (color === 'transparent') return color;\n  // parse color string to rgb\n  var value = parseToRgb(color);\n  return toColorString(_extends({}, value, {\n    red: 255 - value.red,\n    green: 255 - value.green,\n    blue: 255 - value.blue\n  }));\n}\n\n/**\n * Returns a string value for the lightened color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: lighten(0.2, '#CCCD64'),\n *   background: lighten('0.2', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${lighten(0.2, '#FFCD64')};\n *   background: ${lighten('0.2', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#e5e6b1\";\n *   background: \"rgba(229,230,177,0.7)\";\n * }\n */\nfunction lighten(amount, color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    lightness: guard(0, 1, hslColor.lightness + parseFloat(amount))\n  }));\n}\n\n// prettier-ignore\nvar curriedLighten = curry /* ::<number | string, string, string> */(lighten);\nvar curriedLighten$1 = curriedLighten;\n\n/**\n * Determines which contrast guidelines have been met for two colors.\n * Based on the [contrast calculations recommended by W3](https://www.w3.org/WAI/WCAG21/Understanding/contrast-enhanced.html).\n *\n * @example\n * const scores = meetsContrastGuidelines('#444', '#fff');\n */\nfunction meetsContrastGuidelines(color1, color2) {\n  var contrastRatio = getContrast(color1, color2);\n  return {\n    AA: contrastRatio >= 4.5,\n    AALarge: contrastRatio >= 3,\n    AAA: contrastRatio >= 7,\n    AAALarge: contrastRatio >= 4.5\n  };\n}\n\n/**\n * Mixes the two provided colors together by calculating the average of each of the RGB components weighted to the first color by the provided weight.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: mix(0.5, '#f00', '#00f')\n *   background: mix(0.25, '#f00', '#00f')\n *   background: mix('0.5', 'rgba(255, 0, 0, 0.5)', '#00f')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${mix(0.5, '#f00', '#00f')};\n *   background: ${mix(0.25, '#f00', '#00f')};\n *   background: ${mix('0.5', 'rgba(255, 0, 0, 0.5)', '#00f')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#7f007f\";\n *   background: \"#3f00bf\";\n *   background: \"rgba(63, 0, 191, 0.75)\";\n * }\n */\nfunction mix(weight, color, otherColor) {\n  if (color === 'transparent') return otherColor;\n  if (otherColor === 'transparent') return color;\n  if (weight === 0) return otherColor;\n  var parsedColor1 = parseToRgb(color);\n  var color1 = _extends({}, parsedColor1, {\n    alpha: typeof parsedColor1.alpha === 'number' ? parsedColor1.alpha : 1\n  });\n  var parsedColor2 = parseToRgb(otherColor);\n  var color2 = _extends({}, parsedColor2, {\n    alpha: typeof parsedColor2.alpha === 'number' ? parsedColor2.alpha : 1\n  });\n\n  // The formula is copied from the original Sass implementation:\n  // http://sass-lang.com/documentation/Sass/Script/Functions.html#mix-instance_method\n  var alphaDelta = color1.alpha - color2.alpha;\n  var x = parseFloat(weight) * 2 - 1;\n  var y = x * alphaDelta === -1 ? x : x + alphaDelta;\n  var z = 1 + x * alphaDelta;\n  var weight1 = (y / z + 1) / 2.0;\n  var weight2 = 1 - weight1;\n  var mixedColor = {\n    red: Math.floor(color1.red * weight1 + color2.red * weight2),\n    green: Math.floor(color1.green * weight1 + color2.green * weight2),\n    blue: Math.floor(color1.blue * weight1 + color2.blue * weight2),\n    alpha: color1.alpha * parseFloat(weight) + color2.alpha * (1 - parseFloat(weight))\n  };\n  return rgba(mixedColor);\n}\n\n// prettier-ignore\nvar curriedMix = curry /* ::<number | string, string, string, string> */(mix);\nvar mix$1 = curriedMix;\n\n/**\n * Increases the opacity of a color. Its range for the amount is between 0 to 1.\n *\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: opacify(0.1, 'rgba(255, 255, 255, 0.9)');\n *   background: opacify(0.2, 'hsla(0, 0%, 100%, 0.5)'),\n *   background: opacify('0.5', 'rgba(255, 0, 0, 0.2)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${opacify(0.1, 'rgba(255, 255, 255, 0.9)')};\n *   background: ${opacify(0.2, 'hsla(0, 0%, 100%, 0.5)')},\n *   background: ${opacify('0.5', 'rgba(255, 0, 0, 0.2)')},\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#fff\";\n *   background: \"rgba(255,255,255,0.7)\";\n *   background: \"rgba(255,0,0,0.7)\";\n * }\n */\nfunction opacify(amount, color) {\n  if (color === 'transparent') return color;\n  var parsedColor = parseToRgb(color);\n  var alpha = typeof parsedColor.alpha === 'number' ? parsedColor.alpha : 1;\n  var colorWithAlpha = _extends({}, parsedColor, {\n    alpha: guard(0, 1, (alpha * 100 + parseFloat(amount) * 100) / 100)\n  });\n  return rgba(colorWithAlpha);\n}\n\n// prettier-ignore\nvar curriedOpacify = curry /* ::<number | string, string, string> */(opacify);\nvar curriedOpacify$1 = curriedOpacify;\n\nvar defaultReturnIfLightColor = '#000';\nvar defaultReturnIfDarkColor = '#fff';\n\n/**\n * Returns black or white (or optional passed colors) for best\n * contrast depending on the luminosity of the given color.\n * When passing custom return colors, strict mode ensures that the\n * return color always meets or exceeds WCAG level AA or greater. If this test\n * fails, the default return color (black or white) is returned in place of the\n * custom return color. You can optionally turn off strict mode.\n *\n * Follows [W3C specs for readability](https://www.w3.org/TR/WCAG20-TECHS/G18.html).\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   color: readableColor('#000'),\n *   color: readableColor('black', '#001', '#ff8'),\n *   color: readableColor('white', '#001', '#ff8'),\n *   color: readableColor('red', '#333', '#ddd', true)\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   color: ${readableColor('#000')};\n *   color: ${readableColor('black', '#001', '#ff8')};\n *   color: ${readableColor('white', '#001', '#ff8')};\n *   color: ${readableColor('red', '#333', '#ddd', true)};\n * `\n *\n * // CSS in JS Output\n * element {\n *   color: \"#fff\";\n *   color: \"#ff8\";\n *   color: \"#001\";\n *   color: \"#000\";\n * }\n */\nfunction readableColor(color, returnIfLightColor, returnIfDarkColor, strict) {\n  if (returnIfLightColor === void 0) {\n    returnIfLightColor = defaultReturnIfLightColor;\n  }\n  if (returnIfDarkColor === void 0) {\n    returnIfDarkColor = defaultReturnIfDarkColor;\n  }\n  if (strict === void 0) {\n    strict = true;\n  }\n  var isColorLight = getLuminance(color) > 0.179;\n  var preferredReturnColor = isColorLight ? returnIfLightColor : returnIfDarkColor;\n  if (!strict || getContrast(color, preferredReturnColor) >= 4.5) {\n    return preferredReturnColor;\n  }\n  return isColorLight ? defaultReturnIfLightColor : defaultReturnIfDarkColor;\n}\n\n/**\n * Converts a RgbColor or RgbaColor object to a color string.\n * This util is useful in case you only know on runtime which color object is\n * used. Otherwise we recommend to rely on `rgb` or `rgba`.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: rgbToColorString({ red: 255, green: 205, blue: 100 }),\n *   background: rgbToColorString({ red: 255, green: 205, blue: 100, alpha: 0.72 }),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${rgbToColorString({ red: 255, green: 205, blue: 100 })};\n *   background: ${rgbToColorString({ red: 255, green: 205, blue: 100, alpha: 0.72 })};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#ffcd64\";\n *   background: \"rgba(255,205,100,0.72)\";\n * }\n */\nfunction rgbToColorString(color) {\n  if (typeof color === 'object' && typeof color.red === 'number' && typeof color.green === 'number' && typeof color.blue === 'number') {\n    if (typeof color.alpha === 'number') {\n      return rgba({\n        red: color.red,\n        green: color.green,\n        blue: color.blue,\n        alpha: color.alpha\n      });\n    }\n    return rgb({\n      red: color.red,\n      green: color.green,\n      blue: color.blue\n    });\n  }\n  throw new PolishedError(46);\n}\n\n/**\n * Increases the intensity of a color. Its range is between 0 to 1. The first\n * argument of the saturate function is the amount by how much the color\n * intensity should be increased.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: saturate(0.2, '#CCCD64'),\n *   background: saturate('0.2', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${saturate(0.2, '#FFCD64')};\n *   background: ${saturate('0.2', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#e0e250\";\n *   background: \"rgba(224,226,80,0.7)\";\n * }\n */\nfunction saturate(amount, color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    saturation: guard(0, 1, hslColor.saturation + parseFloat(amount))\n  }));\n}\n\n// prettier-ignore\nvar curriedSaturate = curry /* ::<number | string, string, string> */(saturate);\nvar curriedSaturate$1 = curriedSaturate;\n\n/**\n * Sets the hue of a color to the provided value. The hue range can be\n * from 0 and 359.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: setHue(42, '#CCCD64'),\n *   background: setHue('244', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${setHue(42, '#CCCD64')};\n *   background: ${setHue('244', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#cdae64\";\n *   background: \"rgba(107,100,205,0.7)\";\n * }\n */\nfunction setHue(hue, color) {\n  if (color === 'transparent') return color;\n  return toColorString(_extends({}, parseToHsl(color), {\n    hue: parseFloat(hue)\n  }));\n}\n\n// prettier-ignore\nvar curriedSetHue = curry /* ::<number | string, string, string> */(setHue);\nvar curriedSetHue$1 = curriedSetHue;\n\n/**\n * Sets the lightness of a color to the provided value. The lightness range can be\n * from 0 and 1.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: setLightness(0.2, '#CCCD64'),\n *   background: setLightness('0.75', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${setLightness(0.2, '#CCCD64')};\n *   background: ${setLightness('0.75', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#4d4d19\";\n *   background: \"rgba(223,224,159,0.7)\";\n * }\n */\nfunction setLightness(lightness, color) {\n  if (color === 'transparent') return color;\n  return toColorString(_extends({}, parseToHsl(color), {\n    lightness: parseFloat(lightness)\n  }));\n}\n\n// prettier-ignore\nvar curriedSetLightness = curry /* ::<number | string, string, string> */(setLightness);\nvar curriedSetLightness$1 = curriedSetLightness;\n\n/**\n * Sets the saturation of a color to the provided value. The saturation range can be\n * from 0 and 1.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: setSaturation(0.2, '#CCCD64'),\n *   background: setSaturation('0.75', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${setSaturation(0.2, '#CCCD64')};\n *   background: ${setSaturation('0.75', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#adad84\";\n *   background: \"rgba(228,229,76,0.7)\";\n * }\n */\nfunction setSaturation(saturation, color) {\n  if (color === 'transparent') return color;\n  return toColorString(_extends({}, parseToHsl(color), {\n    saturation: parseFloat(saturation)\n  }));\n}\n\n// prettier-ignore\nvar curriedSetSaturation = curry /* ::<number | string, string, string> */(setSaturation);\nvar curriedSetSaturation$1 = curriedSetSaturation;\n\n/**\n * Shades a color by mixing it with black. `shade` can produce\n * hue shifts, where as `darken` manipulates the luminance channel and therefore\n * doesn't produce hue shifts.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: shade(0.25, '#00f')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${shade(0.25, '#00f')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#00003f\";\n * }\n */\n\nfunction shade(percentage, color) {\n  if (color === 'transparent') return color;\n  return mix$1(parseFloat(percentage), 'rgb(0, 0, 0)', color);\n}\n\n// prettier-ignore\nvar curriedShade = curry /* ::<number | string, string, string> */(shade);\nvar curriedShade$1 = curriedShade;\n\n/**\n * Tints a color by mixing it with white. `tint` can produce\n * hue shifts, where as `lighten` manipulates the luminance channel and therefore\n * doesn't produce hue shifts.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: tint(0.25, '#00f')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${tint(0.25, '#00f')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#bfbfff\";\n * }\n */\n\nfunction tint(percentage, color) {\n  if (color === 'transparent') return color;\n  return mix$1(parseFloat(percentage), 'rgb(255, 255, 255)', color);\n}\n\n// prettier-ignore\nvar curriedTint = curry /* ::<number | string, string, string> */(tint);\nvar curriedTint$1 = curriedTint;\n\n/**\n * Decreases the opacity of a color. Its range for the amount is between 0 to 1.\n *\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: transparentize(0.1, '#fff'),\n *   background: transparentize(0.2, 'hsl(0, 0%, 100%)'),\n *   background: transparentize('0.5', 'rgba(255, 0, 0, 0.8)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${transparentize(0.1, '#fff')};\n *   background: ${transparentize(0.2, 'hsl(0, 0%, 100%)')};\n *   background: ${transparentize('0.5', 'rgba(255, 0, 0, 0.8)')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"rgba(255,255,255,0.9)\";\n *   background: \"rgba(255,255,255,0.8)\";\n *   background: \"rgba(255,0,0,0.3)\";\n * }\n */\nfunction transparentize(amount, color) {\n  if (color === 'transparent') return color;\n  var parsedColor = parseToRgb(color);\n  var alpha = typeof parsedColor.alpha === 'number' ? parsedColor.alpha : 1;\n  var colorWithAlpha = _extends({}, parsedColor, {\n    alpha: guard(0, 1, +(alpha * 100 - parseFloat(amount) * 100).toFixed(2) / 100)\n  });\n  return rgba(colorWithAlpha);\n}\n\n// prettier-ignore\nvar curriedTransparentize = curry /* ::<number | string, string, string> */(transparentize);\nvar curriedTransparentize$1 = curriedTransparentize;\n\n/**\n * Shorthand for easily setting the animation property. Allows either multiple arrays with animations\n * or a single animation spread over the arguments.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...animation(['rotate', '1s', 'ease-in-out'], ['colorchange', '2s'])\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${animation(['rotate', '1s', 'ease-in-out'], ['colorchange', '2s'])}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'animation': 'rotate 1s ease-in-out, colorchange 2s'\n * }\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...animation('rotate', '1s', 'ease-in-out')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${animation('rotate', '1s', 'ease-in-out')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'animation': 'rotate 1s ease-in-out'\n * }\n */\nfunction animation() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  // Allow single or multiple animations passed\n  var multiMode = Array.isArray(args[0]);\n  if (!multiMode && args.length > 8) {\n    throw new PolishedError(64);\n  }\n  var code = args.map(function (arg) {\n    if (multiMode && !Array.isArray(arg) || !multiMode && Array.isArray(arg)) {\n      throw new PolishedError(65);\n    }\n    if (Array.isArray(arg) && arg.length > 8) {\n      throw new PolishedError(66);\n    }\n    return Array.isArray(arg) ? arg.join(' ') : arg;\n  }).join(', ');\n  return {\n    animation: code\n  };\n}\n\n/**\n * Shorthand that accepts any number of backgroundImage values as parameters for creating a single background statement.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...backgroundImages('url(\"/image/background.jpg\")', 'linear-gradient(red, green)')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${backgroundImages('url(\"/image/background.jpg\")', 'linear-gradient(red, green)')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'backgroundImage': 'url(\"/image/background.jpg\"), linear-gradient(red, green)'\n * }\n */\nfunction backgroundImages() {\n  for (var _len = arguments.length, properties = new Array(_len), _key = 0; _key < _len; _key++) {\n    properties[_key] = arguments[_key];\n  }\n  return {\n    backgroundImage: properties.join(', ')\n  };\n}\n\n/**\n * Shorthand that accepts any number of background values as parameters for creating a single background statement.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...backgrounds('url(\"/image/background.jpg\")', 'linear-gradient(red, green)', 'center no-repeat')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${backgrounds('url(\"/image/background.jpg\")', 'linear-gradient(red, green)', 'center no-repeat')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'background': 'url(\"/image/background.jpg\"), linear-gradient(red, green), center no-repeat'\n * }\n */\nfunction backgrounds() {\n  for (var _len = arguments.length, properties = new Array(_len), _key = 0; _key < _len; _key++) {\n    properties[_key] = arguments[_key];\n  }\n  return {\n    background: properties.join(', ')\n  };\n}\n\nvar sideMap = ['top', 'right', 'bottom', 'left'];\n\n/**\n * Shorthand for the border property that splits out individual properties for use with tools like Fela and Styletron. A side keyword can optionally be passed to target only one side's border properties.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...border('1px', 'solid', 'red')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${border('1px', 'solid', 'red')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderColor': 'red',\n *   'borderStyle': 'solid',\n *   'borderWidth': `1px`,\n * }\n *\n * // Styles as object usage\n * const styles = {\n *   ...border('top', '1px', 'solid', 'red')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${border('top', '1px', 'solid', 'red')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderTopColor': 'red',\n *   'borderTopStyle': 'solid',\n *   'borderTopWidth': `1px`,\n * }\n */\n\nfunction border(sideKeyword) {\n  for (var _len = arguments.length, values = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    values[_key - 1] = arguments[_key];\n  }\n  if (typeof sideKeyword === 'string' && sideMap.indexOf(sideKeyword) >= 0) {\n    var _ref;\n    return _ref = {}, _ref[\"border\" + capitalizeString(sideKeyword) + \"Width\"] = values[0], _ref[\"border\" + capitalizeString(sideKeyword) + \"Style\"] = values[1], _ref[\"border\" + capitalizeString(sideKeyword) + \"Color\"] = values[2], _ref;\n  } else {\n    values.unshift(sideKeyword);\n    return {\n      borderWidth: values[0],\n      borderStyle: values[1],\n      borderColor: values[2]\n    };\n  }\n}\n\n/**\n * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...borderColor('red', 'green', 'blue', 'yellow')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${borderColor('red', 'green', 'blue', 'yellow')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderTopColor': 'red',\n *   'borderRightColor': 'green',\n *   'borderBottomColor': 'blue',\n *   'borderLeftColor': 'yellow'\n * }\n */\nfunction borderColor() {\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n  return directionalProperty.apply(void 0, ['borderColor'].concat(values));\n}\n\n/**\n * Shorthand that accepts a value for side and a value for radius and applies the radius value to both corners of the side.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...borderRadius('top', '5px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${borderRadius('top', '5px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderTopRightRadius': '5px',\n *   'borderTopLeftRadius': '5px',\n * }\n */\nfunction borderRadius(side, radius) {\n  var uppercaseSide = capitalizeString(side);\n  if (!radius && radius !== 0) {\n    throw new PolishedError(62);\n  }\n  if (uppercaseSide === 'Top' || uppercaseSide === 'Bottom') {\n    var _ref;\n    return _ref = {}, _ref[\"border\" + uppercaseSide + \"RightRadius\"] = radius, _ref[\"border\" + uppercaseSide + \"LeftRadius\"] = radius, _ref;\n  }\n  if (uppercaseSide === 'Left' || uppercaseSide === 'Right') {\n    var _ref2;\n    return _ref2 = {}, _ref2[\"borderTop\" + uppercaseSide + \"Radius\"] = radius, _ref2[\"borderBottom\" + uppercaseSide + \"Radius\"] = radius, _ref2;\n  }\n  throw new PolishedError(63);\n}\n\n/**\n * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...borderStyle('solid', 'dashed', 'dotted', 'double')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${borderStyle('solid', 'dashed', 'dotted', 'double')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderTopStyle': 'solid',\n *   'borderRightStyle': 'dashed',\n *   'borderBottomStyle': 'dotted',\n *   'borderLeftStyle': 'double'\n * }\n */\nfunction borderStyle() {\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n  return directionalProperty.apply(void 0, ['borderStyle'].concat(values));\n}\n\n/**\n * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...borderWidth('12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${borderWidth('12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderTopWidth': '12px',\n *   'borderRightWidth': '24px',\n *   'borderBottomWidth': '36px',\n *   'borderLeftWidth': '48px'\n * }\n */\nfunction borderWidth() {\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n  return directionalProperty.apply(void 0, ['borderWidth'].concat(values));\n}\n\nfunction generateSelectors(template, state) {\n  var stateSuffix = state ? \":\" + state : '';\n  return template(stateSuffix);\n}\n\n/**\n * Function helper that adds an array of states to a template of selectors. Used in textInputs and buttons.\n * @private\n */\nfunction statefulSelectors(states, template, stateMap) {\n  if (!template) throw new PolishedError(67);\n  if (states.length === 0) return generateSelectors(template, null);\n  var selectors = [];\n  for (var i = 0; i < states.length; i += 1) {\n    if (stateMap && stateMap.indexOf(states[i]) < 0) {\n      throw new PolishedError(68);\n    }\n    selectors.push(generateSelectors(template, states[i]));\n  }\n  selectors = selectors.join(',');\n  return selectors;\n}\n\nvar stateMap$1 = [undefined, null, 'active', 'focus', 'hover'];\nfunction template$1(state) {\n  return \"button\" + state + \",\\n  input[type=\\\"button\\\"]\" + state + \",\\n  input[type=\\\"reset\\\"]\" + state + \",\\n  input[type=\\\"submit\\\"]\" + state;\n}\n\n/**\n * Populates selectors that target all buttons. You can pass optional states to append to the selectors.\n * @example\n * // Styles as object usage\n * const styles = {\n *   [buttons('active')]: {\n *     'border': 'none'\n *   }\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   > ${buttons('active')} {\n *     border: none;\n *   }\n * `\n *\n * // CSS in JS Output\n *\n *  'button:active,\n *  'input[type=\"button\"]:active,\n *  'input[type=\\\"reset\\\"]:active,\n *  'input[type=\\\"submit\\\"]:active: {\n *   'border': 'none'\n * }\n */\nfunction buttons() {\n  for (var _len = arguments.length, states = new Array(_len), _key = 0; _key < _len; _key++) {\n    states[_key] = arguments[_key];\n  }\n  return statefulSelectors(states, template$1, stateMap$1);\n}\n\n/**\n * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...margin('12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${margin('12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'marginTop': '12px',\n *   'marginRight': '24px',\n *   'marginBottom': '36px',\n *   'marginLeft': '48px'\n * }\n */\nfunction margin() {\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n  return directionalProperty.apply(void 0, ['margin'].concat(values));\n}\n\n/**\n * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...padding('12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${padding('12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'paddingTop': '12px',\n *   'paddingRight': '24px',\n *   'paddingBottom': '36px',\n *   'paddingLeft': '48px'\n * }\n */\nfunction padding() {\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n  return directionalProperty.apply(void 0, ['padding'].concat(values));\n}\n\nvar positionMap = ['absolute', 'fixed', 'relative', 'static', 'sticky'];\n\n/**\n * Shorthand accepts up to five values, including null to skip a value, and maps them to their respective directions. The first value can optionally be a position keyword.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...position('12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${position('12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'top': '12px',\n *   'right': '24px',\n *   'bottom': '36px',\n *   'left': '48px'\n * }\n *\n * // Styles as object usage\n * const styles = {\n *   ...position('absolute', '12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${position('absolute', '12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'position': 'absolute',\n *   'top': '12px',\n *   'right': '24px',\n *   'bottom': '36px',\n *   'left': '48px'\n * }\n */\nfunction position(firstValue) {\n  for (var _len = arguments.length, values = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    values[_key - 1] = arguments[_key];\n  }\n  if (positionMap.indexOf(firstValue) >= 0 && firstValue) {\n    return _extends({}, directionalProperty.apply(void 0, [''].concat(values)), {\n      position: firstValue\n    });\n  } else {\n    return directionalProperty.apply(void 0, ['', firstValue].concat(values));\n  }\n}\n\n/**\n * Shorthand to set the height and width properties in a single statement.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...size('300px', '250px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${size('300px', '250px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'height': '300px',\n *   'width': '250px',\n * }\n */\nfunction size(height, width) {\n  if (width === void 0) {\n    width = height;\n  }\n  return {\n    height: height,\n    width: width\n  };\n}\n\nvar stateMap = [undefined, null, 'active', 'focus', 'hover'];\nfunction template(state) {\n  return \"input[type=\\\"color\\\"]\" + state + \",\\n    input[type=\\\"date\\\"]\" + state + \",\\n    input[type=\\\"datetime\\\"]\" + state + \",\\n    input[type=\\\"datetime-local\\\"]\" + state + \",\\n    input[type=\\\"email\\\"]\" + state + \",\\n    input[type=\\\"month\\\"]\" + state + \",\\n    input[type=\\\"number\\\"]\" + state + \",\\n    input[type=\\\"password\\\"]\" + state + \",\\n    input[type=\\\"search\\\"]\" + state + \",\\n    input[type=\\\"tel\\\"]\" + state + \",\\n    input[type=\\\"text\\\"]\" + state + \",\\n    input[type=\\\"time\\\"]\" + state + \",\\n    input[type=\\\"url\\\"]\" + state + \",\\n    input[type=\\\"week\\\"]\" + state + \",\\n    input:not([type])\" + state + \",\\n    textarea\" + state;\n}\n\n/**\n * Populates selectors that target all text inputs. You can pass optional states to append to the selectors.\n * @example\n * // Styles as object usage\n * const styles = {\n *   [textInputs('active')]: {\n *     'border': 'none'\n *   }\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   > ${textInputs('active')} {\n *     border: none;\n *   }\n * `\n *\n * // CSS in JS Output\n *\n *  'input[type=\"color\"]:active,\n *  input[type=\"date\"]:active,\n *  input[type=\"datetime\"]:active,\n *  input[type=\"datetime-local\"]:active,\n *  input[type=\"email\"]:active,\n *  input[type=\"month\"]:active,\n *  input[type=\"number\"]:active,\n *  input[type=\"password\"]:active,\n *  input[type=\"search\"]:active,\n *  input[type=\"tel\"]:active,\n *  input[type=\"text\"]:active,\n *  input[type=\"time\"]:active,\n *  input[type=\"url\"]:active,\n *  input[type=\"week\"]:active,\n *  input:not([type]):active,\n *  textarea:active': {\n *   'border': 'none'\n * }\n */\nfunction textInputs() {\n  for (var _len = arguments.length, states = new Array(_len), _key = 0; _key < _len; _key++) {\n    states[_key] = arguments[_key];\n  }\n  return statefulSelectors(states, template, stateMap);\n}\n\n/**\n * Accepts any number of transition values as parameters for creating a single transition statement. You may also pass an array of properties as the first parameter that you would like to apply the same transition values to (second parameter).\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...transitions('opacity 1.0s ease-in 0s', 'width 2.0s ease-in 2s'),\n *   ...transitions(['color', 'background-color'], '2.0s ease-in 2s')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${transitions('opacity 1.0s ease-in 0s', 'width 2.0s ease-in 2s')};\n *   ${transitions(['color', 'background-color'], '2.0s ease-in 2s'),};\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'transition': 'opacity 1.0s ease-in 0s, width 2.0s ease-in 2s'\n *   'transition': 'color 2.0s ease-in 2s, background-color 2.0s ease-in 2s',\n * }\n */\nfunction transitions() {\n  for (var _len = arguments.length, properties = new Array(_len), _key = 0; _key < _len; _key++) {\n    properties[_key] = arguments[_key];\n  }\n  if (Array.isArray(properties[0]) && properties.length === 2) {\n    var value = properties[1];\n    if (typeof value !== 'string') {\n      throw new PolishedError(61);\n    }\n    var transitionsString = properties[0].map(function (property) {\n      return property + \" \" + value;\n    }).join(', ');\n    return {\n      transition: transitionsString\n    };\n  } else {\n    return {\n      transition: properties.join(', ')\n    };\n  }\n}\n\nexport { curriedAdjustHue$1 as adjustHue, animation, backgroundImages, backgrounds, between, border, borderColor, borderRadius, borderStyle, borderWidth, buttons, clearFix, complement, cover, cssVar, curriedDarken$1 as darken, curriedDesaturate$1 as desaturate, directionalProperty, easeIn, easeInOut, easeOut, ellipsis, em$1 as em, fluidRange, fontFace, getContrast, getLuminance, getValueAndUnit, grayscale, hiDPI, hideText, hideVisually, hsl, hslToColorString, hsla, important, invert, curriedLighten$1 as lighten, linearGradient, margin, math, meetsContrastGuidelines, mix$1 as mix, modularScale, normalize, curriedOpacify$1 as opacify, padding, parseToHsl, parseToRgb, position, radialGradient, readableColor, rem$1 as rem, remToPx, retinaImage, rgb, rgbToColorString, rgba, curriedSaturate$1 as saturate, curriedSetHue$1 as setHue, curriedSetLightness$1 as setLightness, curriedSetSaturation$1 as setSaturation, curriedShade$1 as shade, size, stripUnit, textInputs, timingFunctions, curriedTint$1 as tint, toColorString, transitions, curriedTransparentize$1 as transparentize, triangle, wordWrap };\n","function _assertThisInitialized(e) {\n  if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return e;\n}\nexport { _assertThisInitialized as default };","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nexport default trimmedEndIndex;\n","import trimmedEndIndex from './_trimmedEndIndex.js';\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nexport default baseTrim;\n","import baseTrim from './_baseTrim.js';\nimport isObject from './isObject.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nexport default toNumber;\n","import toNumber from './toNumber.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nexport default toFinite;\n","import {\n  AbstractMermaidTokenBuilder,\n  CommonValueConverter,\n  InfoGeneratedModule,\n  MermaidGeneratedSharedModule,\n  __name\n} from \"./chunk-YAJQ3QCK.mjs\";\n\n// src/language/info/module.ts\nimport {\n  EmptyFileSystem,\n  createDefaultCoreModule,\n  createDefaultSharedCoreModule,\n  inject\n} from \"langium\";\n\n// src/language/info/tokenBuilder.ts\nvar InfoTokenBuilder = class extends AbstractMermaidTokenBuilder {\n  static {\n    __name(this, \"InfoTokenBuilder\");\n  }\n  constructor() {\n    super([\"info\", \"showInfo\"]);\n  }\n};\n\n// src/language/info/module.ts\nvar InfoModule = {\n  parser: {\n    TokenBuilder: /* @__PURE__ */ __name(() => new InfoTokenBuilder(), \"TokenBuilder\"),\n    ValueConverter: /* @__PURE__ */ __name(() => new CommonValueConverter(), \"ValueConverter\")\n  }\n};\nfunction createInfoServices(context = EmptyFileSystem) {\n  const shared = inject(\n    createDefaultSharedCoreModule(context),\n    MermaidGeneratedSharedModule\n  );\n  const Info = inject(\n    createDefaultCoreModule({ shared }),\n    InfoGeneratedModule,\n    InfoModule\n  );\n  shared.ServiceRegistry.register(Info);\n  return { shared, Info };\n}\n__name(createInfoServices, \"createInfoServices\");\n\nexport {\n  InfoModule,\n  createInfoServices\n};\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nexport default arrayEach;\n","export const colors = {\n  blue: '#3eb0ef',\n  green: '#a4d037',\n  purple: '#ad26b4',\n  yellow: '#fecd35',\n  red: '#f05230',\n  darkgrey: '#15171A',\n  midgrey: '#738a94',\n  lightgrey: '#c5d2d9',\n  whitegrey: '#e5eff5',\n  pink: '#fa3a57',\n  brown: '#a3821a',\n  darkmode: '#191b1f',\n};\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nexport default baseProperty;\n","/**\n * The base implementation of `_.lt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is less than `other`,\n *  else `false`.\n */\nfunction baseLt(value, other) {\n  return value < other;\n}\n\nexport default baseLt;\n","import isSymbol from './isSymbol.js';\n\n/**\n * The base implementation of methods like `_.max` and `_.min` which accepts a\n * `comparator` to determine the extremum value.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The iteratee invoked per iteration.\n * @param {Function} comparator The comparator used to compare values.\n * @returns {*} Returns the extremum value.\n */\nfunction baseExtremum(array, iteratee, comparator) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var value = array[index],\n        current = iteratee(value);\n\n    if (current != null && (computed === undefined\n          ? (current === current && !isSymbol(current))\n          : comparator(current, computed)\n        )) {\n      var computed = current,\n          result = value;\n    }\n  }\n  return result;\n}\n\nexport default baseExtremum;\n","/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\n/**\n * The default implementation of `Stream` works with two input functions:\n *  - The first function creates the initial state of an iteration.\n *  - The second function gets the current state as argument and returns an `IteratorResult`.\n */\nexport class StreamImpl {\n    constructor(startFn, nextFn) {\n        this.startFn = startFn;\n        this.nextFn = nextFn;\n    }\n    iterator() {\n        const iterator = {\n            state: this.startFn(),\n            next: () => this.nextFn(iterator.state),\n            [Symbol.iterator]: () => iterator\n        };\n        return iterator;\n    }\n    [Symbol.iterator]() {\n        return this.iterator();\n    }\n    isEmpty() {\n        const iterator = this.iterator();\n        return Boolean(iterator.next().done);\n    }\n    count() {\n        const iterator = this.iterator();\n        let count = 0;\n        let next = iterator.next();\n        while (!next.done) {\n            count++;\n            next = iterator.next();\n        }\n        return count;\n    }\n    toArray() {\n        const result = [];\n        const iterator = this.iterator();\n        let next;\n        do {\n            next = iterator.next();\n            if (next.value !== undefined) {\n                result.push(next.value);\n            }\n        } while (!next.done);\n        return result;\n    }\n    toSet() {\n        return new Set(this);\n    }\n    toMap(keyFn, valueFn) {\n        const entryStream = this.map(element => [\n            keyFn ? keyFn(element) : element,\n            valueFn ? valueFn(element) : element\n        ]);\n        return new Map(entryStream);\n    }\n    toString() {\n        return this.join();\n    }\n    concat(other) {\n        return new StreamImpl(() => ({ first: this.startFn(), firstDone: false, iterator: other[Symbol.iterator]() }), state => {\n            let result;\n            if (!state.firstDone) {\n                do {\n                    result = this.nextFn(state.first);\n                    if (!result.done) {\n                        return result;\n                    }\n                } while (!result.done);\n                state.firstDone = true;\n            }\n            do {\n                result = state.iterator.next();\n                if (!result.done) {\n                    return result;\n                }\n            } while (!result.done);\n            return DONE_RESULT;\n        });\n    }\n    join(separator = ',') {\n        const iterator = this.iterator();\n        let value = '';\n        let result;\n        let addSeparator = false;\n        do {\n            result = iterator.next();\n            if (!result.done) {\n                if (addSeparator) {\n                    value += separator;\n                }\n                value += toString(result.value);\n            }\n            addSeparator = true;\n        } while (!result.done);\n        return value;\n    }\n    indexOf(searchElement, fromIndex = 0) {\n        const iterator = this.iterator();\n        let index = 0;\n        let next = iterator.next();\n        while (!next.done) {\n            if (index >= fromIndex && next.value === searchElement) {\n                return index;\n            }\n            next = iterator.next();\n            index++;\n        }\n        return -1;\n    }\n    every(predicate) {\n        const iterator = this.iterator();\n        let next = iterator.next();\n        while (!next.done) {\n            if (!predicate(next.value)) {\n                return false;\n            }\n            next = iterator.next();\n        }\n        return true;\n    }\n    some(predicate) {\n        const iterator = this.iterator();\n        let next = iterator.next();\n        while (!next.done) {\n            if (predicate(next.value)) {\n                return true;\n            }\n            next = iterator.next();\n        }\n        return false;\n    }\n    forEach(callbackfn) {\n        const iterator = this.iterator();\n        let index = 0;\n        let next = iterator.next();\n        while (!next.done) {\n            callbackfn(next.value, index);\n            next = iterator.next();\n            index++;\n        }\n    }\n    map(callbackfn) {\n        return new StreamImpl(this.startFn, (state) => {\n            const { done, value } = this.nextFn(state);\n            if (done) {\n                return DONE_RESULT;\n            }\n            else {\n                return { done: false, value: callbackfn(value) };\n            }\n        });\n    }\n    filter(predicate) {\n        return new StreamImpl(this.startFn, state => {\n            let result;\n            do {\n                result = this.nextFn(state);\n                if (!result.done && predicate(result.value)) {\n                    return result;\n                }\n            } while (!result.done);\n            return DONE_RESULT;\n        });\n    }\n    nonNullable() {\n        return this.filter(e => e !== undefined && e !== null);\n    }\n    reduce(callbackfn, initialValue) {\n        const iterator = this.iterator();\n        let previousValue = initialValue;\n        let next = iterator.next();\n        while (!next.done) {\n            if (previousValue === undefined) {\n                previousValue = next.value;\n            }\n            else {\n                previousValue = callbackfn(previousValue, next.value);\n            }\n            next = iterator.next();\n        }\n        return previousValue;\n    }\n    reduceRight(callbackfn, initialValue) {\n        return this.recursiveReduce(this.iterator(), callbackfn, initialValue);\n    }\n    recursiveReduce(iterator, callbackfn, initialValue) {\n        const next = iterator.next();\n        if (next.done) {\n            return initialValue;\n        }\n        const previousValue = this.recursiveReduce(iterator, callbackfn, initialValue);\n        if (previousValue === undefined) {\n            return next.value;\n        }\n        return callbackfn(previousValue, next.value);\n    }\n    find(predicate) {\n        const iterator = this.iterator();\n        let next = iterator.next();\n        while (!next.done) {\n            if (predicate(next.value)) {\n                return next.value;\n            }\n            next = iterator.next();\n        }\n        return undefined;\n    }\n    findIndex(predicate) {\n        const iterator = this.iterator();\n        let index = 0;\n        let next = iterator.next();\n        while (!next.done) {\n            if (predicate(next.value)) {\n                return index;\n            }\n            next = iterator.next();\n            index++;\n        }\n        return -1;\n    }\n    includes(searchElement) {\n        const iterator = this.iterator();\n        let next = iterator.next();\n        while (!next.done) {\n            if (next.value === searchElement) {\n                return true;\n            }\n            next = iterator.next();\n        }\n        return false;\n    }\n    flatMap(callbackfn) {\n        return new StreamImpl(() => ({ this: this.startFn() }), (state) => {\n            do {\n                if (state.iterator) {\n                    const next = state.iterator.next();\n                    if (next.done) {\n                        state.iterator = undefined;\n                    }\n                    else {\n                        return next;\n                    }\n                }\n                const { done, value } = this.nextFn(state.this);\n                if (!done) {\n                    const mapped = callbackfn(value);\n                    if (isIterable(mapped)) {\n                        state.iterator = mapped[Symbol.iterator]();\n                    }\n                    else {\n                        return { done: false, value: mapped };\n                    }\n                }\n            } while (state.iterator);\n            return DONE_RESULT;\n        });\n    }\n    flat(depth) {\n        if (depth === undefined) {\n            depth = 1;\n        }\n        if (depth <= 0) {\n            return this;\n        }\n        const stream = depth > 1 ? this.flat(depth - 1) : this;\n        return new StreamImpl(() => ({ this: stream.startFn() }), (state) => {\n            do {\n                if (state.iterator) {\n                    const next = state.iterator.next();\n                    if (next.done) {\n                        state.iterator = undefined;\n                    }\n                    else {\n                        return next;\n                    }\n                }\n                const { done, value } = stream.nextFn(state.this);\n                if (!done) {\n                    if (isIterable(value)) {\n                        state.iterator = value[Symbol.iterator]();\n                    }\n                    else {\n                        return { done: false, value: value };\n                    }\n                }\n            } while (state.iterator);\n            return DONE_RESULT;\n        });\n    }\n    head() {\n        const iterator = this.iterator();\n        const result = iterator.next();\n        if (result.done) {\n            return undefined;\n        }\n        return result.value;\n    }\n    tail(skipCount = 1) {\n        return new StreamImpl(() => {\n            const state = this.startFn();\n            for (let i = 0; i < skipCount; i++) {\n                const next = this.nextFn(state);\n                if (next.done) {\n                    return state;\n                }\n            }\n            return state;\n        }, this.nextFn);\n    }\n    limit(maxSize) {\n        return new StreamImpl(() => ({ size: 0, state: this.startFn() }), state => {\n            state.size++;\n            if (state.size > maxSize) {\n                return DONE_RESULT;\n            }\n            return this.nextFn(state.state);\n        });\n    }\n    distinct(by) {\n        return new StreamImpl(() => ({ set: new Set(), internalState: this.startFn() }), state => {\n            let result;\n            do {\n                result = this.nextFn(state.internalState);\n                if (!result.done) {\n                    const value = by ? by(result.value) : result.value;\n                    if (!state.set.has(value)) {\n                        state.set.add(value);\n                        return result;\n                    }\n                }\n            } while (!result.done);\n            return DONE_RESULT;\n        });\n    }\n    exclude(other, key) {\n        const otherKeySet = new Set();\n        for (const item of other) {\n            const value = key ? key(item) : item;\n            otherKeySet.add(value);\n        }\n        return this.filter(e => {\n            const ownKey = key ? key(e) : e;\n            return !otherKeySet.has(ownKey);\n        });\n    }\n}\nfunction toString(item) {\n    if (typeof item === 'string') {\n        return item;\n    }\n    if (typeof item === 'undefined') {\n        return 'undefined';\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (typeof item.toString === 'function') {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return item.toString();\n    }\n    return Object.prototype.toString.call(item);\n}\nfunction isIterable(obj) {\n    return !!obj && typeof obj[Symbol.iterator] === 'function';\n}\n/**\n * An empty stream of any type.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport const EMPTY_STREAM = new StreamImpl(() => undefined, () => DONE_RESULT);\n/**\n * Use this `IteratorResult` when implementing a `StreamImpl` to indicate that there are no more elements in the stream.\n */\nexport const DONE_RESULT = Object.freeze({ done: true, value: undefined });\n/**\n * Create a stream from one or more iterables or array-likes.\n */\nexport function stream(...collections) {\n    if (collections.length === 1) {\n        const collection = collections[0];\n        if (collection instanceof StreamImpl) {\n            return collection;\n        }\n        if (isIterable(collection)) {\n            return new StreamImpl(() => collection[Symbol.iterator](), (iterator) => iterator.next());\n        }\n        if (typeof collection.length === 'number') {\n            return new StreamImpl(() => ({ index: 0 }), (state) => {\n                if (state.index < collection.length) {\n                    return { done: false, value: collection[state.index++] };\n                }\n                else {\n                    return DONE_RESULT;\n                }\n            });\n        }\n    }\n    if (collections.length > 1) {\n        return new StreamImpl(() => ({ collIndex: 0, arrIndex: 0 }), (state) => {\n            do {\n                if (state.iterator) {\n                    const next = state.iterator.next();\n                    if (!next.done) {\n                        return next;\n                    }\n                    state.iterator = undefined;\n                }\n                if (state.array) {\n                    if (state.arrIndex < state.array.length) {\n                        return { done: false, value: state.array[state.arrIndex++] };\n                    }\n                    state.array = undefined;\n                    state.arrIndex = 0;\n                }\n                if (state.collIndex < collections.length) {\n                    const collection = collections[state.collIndex++];\n                    if (isIterable(collection)) {\n                        state.iterator = collection[Symbol.iterator]();\n                    }\n                    else if (collection && typeof collection.length === 'number') {\n                        state.array = collection;\n                    }\n                }\n            } while (state.iterator || state.array || state.collIndex < collections.length);\n            return DONE_RESULT;\n        });\n    }\n    return EMPTY_STREAM;\n}\n/**\n * The default implementation of `TreeStream` takes a root element and a function that computes the\n * children of its argument. Whether the root node included in the stream is controlled with the\n * `includeRoot` option, which defaults to `false`.\n */\nexport class TreeStreamImpl extends StreamImpl {\n    constructor(root, children, options) {\n        super(() => ({\n            iterators: (options === null || options === void 0 ? void 0 : options.includeRoot) ? [[root][Symbol.iterator]()] : [children(root)[Symbol.iterator]()],\n            pruned: false\n        }), state => {\n            if (state.pruned) {\n                state.iterators.pop();\n                state.pruned = false;\n            }\n            while (state.iterators.length > 0) {\n                const iterator = state.iterators[state.iterators.length - 1];\n                const next = iterator.next();\n                if (next.done) {\n                    state.iterators.pop();\n                }\n                else {\n                    state.iterators.push(children(next.value)[Symbol.iterator]());\n                    return next;\n                }\n            }\n            return DONE_RESULT;\n        });\n    }\n    iterator() {\n        const iterator = {\n            state: this.startFn(),\n            next: () => this.nextFn(iterator.state),\n            prune: () => {\n                iterator.state.pruned = true;\n            },\n            [Symbol.iterator]: () => iterator\n        };\n        return iterator;\n    }\n}\n/**\n * A set of utility functions that reduce a stream to a single value.\n */\nexport var Reduction;\n(function (Reduction) {\n    /**\n     * Compute the sum of a number stream.\n     */\n    function sum(stream) {\n        return stream.reduce((a, b) => a + b, 0);\n    }\n    Reduction.sum = sum;\n    /**\n     * Compute the product of a number stream.\n     */\n    function product(stream) {\n        return stream.reduce((a, b) => a * b, 0);\n    }\n    Reduction.product = product;\n    /**\n     * Compute the minimum of a number stream. Returns `undefined` if the stream is empty.\n     */\n    function min(stream) {\n        return stream.reduce((a, b) => Math.min(a, b));\n    }\n    Reduction.min = min;\n    /**\n     * Compute the maximum of a number stream. Returns `undefined` if the stream is empty.\n     */\n    function max(stream) {\n        return stream.reduce((a, b) => Math.max(a, b));\n    }\n    Reduction.max = max;\n})(Reduction || (Reduction = {}));\n//# sourceMappingURL=stream.js.map","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default arrayIncludesWith;\n","import SetCache from './_SetCache.js';\nimport arraySome from './_arraySome.js';\nimport cacheHas from './_cacheHas.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nexport default equalArrays;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nexport default mapToArray;\n","import Symbol from './_Symbol.js';\nimport Uint8Array from './_Uint8Array.js';\nimport eq from './eq.js';\nimport equalArrays from './_equalArrays.js';\nimport mapToArray from './_mapToArray.js';\nimport setToArray from './_setToArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nexport default equalByTag;\n","import getAllKeys from './_getAllKeys.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nexport default equalObjects;\n","import Stack from './_Stack.js';\nimport equalArrays from './_equalArrays.js';\nimport equalByTag from './_equalByTag.js';\nimport equalObjects from './_equalObjects.js';\nimport getTag from './_getTag.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nexport default baseIsEqualDeep;\n","import baseIsEqualDeep from './_baseIsEqualDeep.js';\nimport isObjectLike from './isObjectLike.js';\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nexport default baseIsEqual;\n","import Stack from './_Stack.js';\nimport baseIsEqual from './_baseIsEqual.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nexport default baseIsMatch;\n","import isObject from './isObject.js';\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nexport default isStrictComparable;\n","import isStrictComparable from './_isStrictComparable.js';\nimport keys from './keys.js';\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nexport default getMatchData;\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nexport default matchesStrictComparable;\n","import baseIsMatch from './_baseIsMatch.js';\nimport getMatchData from './_getMatchData.js';\nimport matchesStrictComparable from './_matchesStrictComparable.js';\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nexport default baseMatches;\n","import baseGet from './_baseGet.js';\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nexport default get;\n","import baseIsEqual from './_baseIsEqual.js';\nimport get from './get.js';\nimport hasIn from './hasIn.js';\nimport isKey from './_isKey.js';\nimport isStrictComparable from './_isStrictComparable.js';\nimport matchesStrictComparable from './_matchesStrictComparable.js';\nimport toKey from './_toKey.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nexport default baseMatchesProperty;\n","import baseGet from './_baseGet.js';\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nexport default basePropertyDeep;\n","import baseProperty from './_baseProperty.js';\nimport basePropertyDeep from './_basePropertyDeep.js';\nimport isKey from './_isKey.js';\nimport toKey from './_toKey.js';\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nexport default property;\n","import baseMatches from './_baseMatches.js';\nimport baseMatchesProperty from './_baseMatchesProperty.js';\nimport identity from './identity.js';\nimport isArray from './isArray.js';\nimport property from './property.js';\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nexport default baseIteratee;\n","import memoize from './memoize.js';\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nexport default memoizeCapped;\n","import memoizeCapped from './_memoizeCapped.js';\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nexport default stringToPath;\n","import isArray from './isArray.js';\nimport isKey from './_isKey.js';\nimport stringToPath from './_stringToPath.js';\nimport toString from './toString.js';\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nexport default castPath;\n","import baseClone from './_baseClone.js';\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * Creates a shallow clone of `value`.\n *\n * **Note:** This method is loosely based on the\n * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n * and supports cloning arrays, array buffers, booleans, date objects, maps,\n * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n * arrays. The own enumerable properties of `arguments` objects are cloned\n * as plain objects. An empty object is returned for uncloneable values such\n * as error objects, functions, DOM nodes, and WeakMaps.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to clone.\n * @returns {*} Returns the cloned value.\n * @see _.cloneDeep\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var shallow = _.clone(objects);\n * console.log(shallow[0] === objects[0]);\n * // => true\n */\nfunction clone(value) {\n  return baseClone(value, CLONE_SYMBOLS_FLAG);\n}\n\nexport default clone;\n","import {\n  __name,\n  configureSvgSize,\n  log\n} from \"./chunk-3XYRH5AP.mjs\";\n\n// src/rendering-util/setupViewPortForSVG.ts\nvar setupViewPortForSVG = /* @__PURE__ */ __name((svg, padding, cssDiagram, useMaxWidth) => {\n  svg.attr(\"class\", cssDiagram);\n  const { width, height, x, y } = calculateDimensionsWithPadding(svg, padding);\n  configureSvgSize(svg, height, width, useMaxWidth);\n  const viewBox = createViewBox(x, y, width, height, padding);\n  svg.attr(\"viewBox\", viewBox);\n  log.debug(`viewBox configured: ${viewBox} with padding: ${padding}`);\n}, \"setupViewPortForSVG\");\nvar calculateDimensionsWithPadding = /* @__PURE__ */ __name((svg, padding) => {\n  const bounds = svg.node()?.getBBox() || { width: 0, height: 0, x: 0, y: 0 };\n  return {\n    width: bounds.width + padding * 2,\n    height: bounds.height + padding * 2,\n    x: bounds.x,\n    y: bounds.y\n  };\n}, \"calculateDimensionsWithPadding\");\nvar createViewBox = /* @__PURE__ */ __name((x, y, width, height, padding) => {\n  return `${x - padding} ${y - padding} ${width} ${height}`;\n}, \"createViewBox\");\n\nexport {\n  setupViewPortForSVG\n};\n","/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { isAstNode, isReference } from '../syntax-tree.js';\nimport { DONE_RESULT, stream, StreamImpl, TreeStreamImpl } from './stream.js';\nimport { inRange } from './cst-utils.js';\n/**\n * Link the `$container` and other related properties of every AST node that is directly contained\n * in the given `node`.\n */\nexport function linkContentToContainer(node) {\n    for (const [name, value] of Object.entries(node)) {\n        if (!name.startsWith('$')) {\n            if (Array.isArray(value)) {\n                value.forEach((item, index) => {\n                    if (isAstNode(item)) {\n                        item.$container = node;\n                        item.$containerProperty = name;\n                        item.$containerIndex = index;\n                    }\n                });\n            }\n            else if (isAstNode(value)) {\n                value.$container = node;\n                value.$containerProperty = name;\n            }\n        }\n    }\n}\n/**\n * Walk along the hierarchy of containers from the given AST node to the root and return the first\n * node that matches the type predicate. If the start node itself matches, it is returned.\n * If no container matches, `undefined` is returned.\n */\nexport function getContainerOfType(node, typePredicate) {\n    let item = node;\n    while (item) {\n        if (typePredicate(item)) {\n            return item;\n        }\n        item = item.$container;\n    }\n    return undefined;\n}\n/**\n * Walk along the hierarchy of containers from the given AST node to the root and check for existence\n * of a container that matches the given predicate. The start node is included in the checks.\n */\nexport function hasContainerOfType(node, predicate) {\n    let item = node;\n    while (item) {\n        if (predicate(item)) {\n            return true;\n        }\n        item = item.$container;\n    }\n    return false;\n}\n/**\n * Retrieve the document in which the given AST node is contained. A reference to the document is\n * usually held by the root node of the AST.\n *\n * @throws an error if the node is not contained in a document.\n */\nexport function getDocument(node) {\n    const rootNode = findRootNode(node);\n    const result = rootNode.$document;\n    if (!result) {\n        throw new Error('AST node has no document.');\n    }\n    return result;\n}\n/**\n * Returns the root node of the given AST node by following the `$container` references.\n */\nexport function findRootNode(node) {\n    while (node.$container) {\n        node = node.$container;\n    }\n    return node;\n}\n/**\n * Create a stream of all AST nodes that are directly contained in the given node. This includes\n * single-valued as well as multi-valued (array) properties.\n */\nexport function streamContents(node, options) {\n    if (!node) {\n        throw new Error('Node must be an AstNode.');\n    }\n    const range = options === null || options === void 0 ? void 0 : options.range;\n    return new StreamImpl(() => ({\n        keys: Object.keys(node),\n        keyIndex: 0,\n        arrayIndex: 0\n    }), state => {\n        while (state.keyIndex < state.keys.length) {\n            const property = state.keys[state.keyIndex];\n            if (!property.startsWith('$')) {\n                const value = node[property];\n                if (isAstNode(value)) {\n                    state.keyIndex++;\n                    if (isAstNodeInRange(value, range)) {\n                        return { done: false, value };\n                    }\n                }\n                else if (Array.isArray(value)) {\n                    while (state.arrayIndex < value.length) {\n                        const index = state.arrayIndex++;\n                        const element = value[index];\n                        if (isAstNode(element) && isAstNodeInRange(element, range)) {\n                            return { done: false, value: element };\n                        }\n                    }\n                    state.arrayIndex = 0;\n                }\n            }\n            state.keyIndex++;\n        }\n        return DONE_RESULT;\n    });\n}\n/**\n * Create a stream of all AST nodes that are directly and indirectly contained in the given root node.\n * This does not include the root node itself.\n */\nexport function streamAllContents(root, options) {\n    if (!root) {\n        throw new Error('Root node must be an AstNode.');\n    }\n    return new TreeStreamImpl(root, node => streamContents(node, options));\n}\n/**\n * Create a stream of all AST nodes that are directly and indirectly contained in the given root node,\n * including the root node itself.\n */\nexport function streamAst(root, options) {\n    if (!root) {\n        throw new Error('Root node must be an AstNode.');\n    }\n    else if ((options === null || options === void 0 ? void 0 : options.range) && !isAstNodeInRange(root, options.range)) {\n        // Return an empty stream if the root node isn't in range\n        return new TreeStreamImpl(root, () => []);\n    }\n    return new TreeStreamImpl(root, node => streamContents(node, options), { includeRoot: true });\n}\nfunction isAstNodeInRange(astNode, range) {\n    var _a;\n    if (!range) {\n        return true;\n    }\n    const nodeRange = (_a = astNode.$cstNode) === null || _a === void 0 ? void 0 : _a.range;\n    if (!nodeRange) {\n        return false;\n    }\n    return inRange(nodeRange, range);\n}\n/**\n * Create a stream of all cross-references that are held by the given AST node. This includes\n * single-valued as well as multi-valued (array) properties.\n */\nexport function streamReferences(node) {\n    return new StreamImpl(() => ({\n        keys: Object.keys(node),\n        keyIndex: 0,\n        arrayIndex: 0\n    }), state => {\n        while (state.keyIndex < state.keys.length) {\n            const property = state.keys[state.keyIndex];\n            if (!property.startsWith('$')) {\n                const value = node[property];\n                if (isReference(value)) {\n                    state.keyIndex++;\n                    return { done: false, value: { reference: value, container: node, property } };\n                }\n                else if (Array.isArray(value)) {\n                    while (state.arrayIndex < value.length) {\n                        const index = state.arrayIndex++;\n                        const element = value[index];\n                        if (isReference(element)) {\n                            return { done: false, value: { reference: element, container: node, property, index } };\n                        }\n                    }\n                    state.arrayIndex = 0;\n                }\n            }\n            state.keyIndex++;\n        }\n        return DONE_RESULT;\n    });\n}\n/**\n * Returns a Stream of references to the target node from the AstNode tree\n *\n * @param targetNode AstNode we are looking for\n * @param lookup AstNode where we search for references. If not provided, the root node of the document is used as the default value\n */\nexport function findLocalReferences(targetNode, lookup = getDocument(targetNode).parseResult.value) {\n    const refs = [];\n    streamAst(lookup).forEach(node => {\n        streamReferences(node).forEach(refInfo => {\n            if (refInfo.reference.ref === targetNode) {\n                refs.push(refInfo.reference);\n            }\n        });\n    });\n    return stream(refs);\n}\n/**\n * Assigns all mandatory AST properties to the specified node.\n *\n * @param reflection Reflection object used to gather mandatory properties for the node.\n * @param node Specified node is modified in place and properties are directly assigned.\n */\nexport function assignMandatoryProperties(reflection, node) {\n    const typeMetaData = reflection.getTypeMetaData(node.$type);\n    const genericNode = node;\n    for (const property of typeMetaData.properties) {\n        // Only set the value if the property is not already set and if it has a default value\n        if (property.defaultValue !== undefined && genericNode[property.name] === undefined) {\n            genericNode[property.name] = copyDefaultValue(property.defaultValue);\n        }\n    }\n}\nfunction copyDefaultValue(propertyType) {\n    if (Array.isArray(propertyType)) {\n        return [...propertyType.map(copyDefaultValue)];\n    }\n    else {\n        return propertyType;\n    }\n}\n/**\n * Creates a deep copy of the specified AST node.\n * The resulting copy will only contain semantically relevant information, such as the `$type` property and AST properties.\n *\n * References are copied without resolved cross reference. The specified function is used to rebuild them.\n */\nexport function copyAstNode(node, buildReference) {\n    const copy = { $type: node.$type };\n    for (const [name, value] of Object.entries(node)) {\n        if (!name.startsWith('$')) {\n            if (isAstNode(value)) {\n                copy[name] = copyAstNode(value, buildReference);\n            }\n            else if (isReference(value)) {\n                copy[name] = buildReference(copy, name, value.$refNode, value.$refText);\n            }\n            else if (Array.isArray(value)) {\n                const copiedArray = [];\n                for (const element of value) {\n                    if (isAstNode(element)) {\n                        copiedArray.push(copyAstNode(element, buildReference));\n                    }\n                    else if (isReference(element)) {\n                        copiedArray.push(buildReference(copy, name, element.$refNode, element.$refText));\n                    }\n                    else {\n                        copiedArray.push(element);\n                    }\n                }\n                copy[name] = copiedArray;\n            }\n            else {\n                copy[name] = value;\n            }\n        }\n    }\n    linkContentToContainer(copy);\n    return copy;\n}\n//# sourceMappingURL=ast-utils.js.map","import baseFor from './_baseFor.js';\nimport keys from './keys.js';\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nexport default baseForOwn;\n","import isArrayLike from './isArrayLike.js';\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nexport default createBaseEach;\n","import baseForOwn from './_baseForOwn.js';\nimport createBaseEach from './_createBaseEach.js';\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nexport default baseEach;\n","import baseFlatten from './_baseFlatten.js';\nimport map from './map.js';\n\n/**\n * Creates a flattened array of values by running each element in `collection`\n * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n * with three arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * function duplicate(n) {\n *   return [n, n];\n * }\n *\n * _.flatMap([1, 2], duplicate);\n * // => [1, 1, 2, 2]\n */\nfunction flatMap(collection, iteratee) {\n  return baseFlatten(map(collection, iteratee), 1);\n}\n\nexport default flatMap;\n","import arrayPush from './_arrayPush.js';\nimport isArray from './isArray.js';\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nexport default baseGetAllKeys;\n","export function cc(char) {\n    return char.charCodeAt(0);\n}\nexport function insertToSet(item, set) {\n    if (Array.isArray(item)) {\n        item.forEach(function (subItem) {\n            set.push(subItem);\n        });\n    }\n    else {\n        set.push(item);\n    }\n}\nexport function addFlag(flagObj, flagKey) {\n    if (flagObj[flagKey] === true) {\n        throw \"duplicate flag \" + flagKey;\n    }\n    const x = flagObj[flagKey];\n    flagObj[flagKey] = true;\n}\nexport function ASSERT_EXISTS(obj) {\n    // istanbul ignore next\n    if (obj === undefined) {\n        throw Error(\"Internal Error - Should never get here!\");\n    }\n    return true;\n}\n// istanbul ignore next\nexport function ASSERT_NEVER_REACH_HERE() {\n    throw Error(\"Internal Error - Should never get here!\");\n}\nexport function isCharacter(obj) {\n    return obj[\"type\"] === \"Character\";\n}\n//# sourceMappingURL=utils.js.map","import { cc } from \"./utils.js\";\nexport const digitsCharCodes = [];\nfor (let i = cc(\"0\"); i <= cc(\"9\"); i++) {\n    digitsCharCodes.push(i);\n}\nexport const wordCharCodes = [cc(\"_\")].concat(digitsCharCodes);\nfor (let i = cc(\"a\"); i <= cc(\"z\"); i++) {\n    wordCharCodes.push(i);\n}\nfor (let i = cc(\"A\"); i <= cc(\"Z\"); i++) {\n    wordCharCodes.push(i);\n}\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp#character-classes\nexport const whitespaceCodes = [\n    cc(\" \"),\n    cc(\"\\f\"),\n    cc(\"\\n\"),\n    cc(\"\\r\"),\n    cc(\"\\t\"),\n    cc(\"\\v\"),\n    cc(\"\\t\"),\n    cc(\"\\u00a0\"),\n    cc(\"\\u1680\"),\n    cc(\"\\u2000\"),\n    cc(\"\\u2001\"),\n    cc(\"\\u2002\"),\n    cc(\"\\u2003\"),\n    cc(\"\\u2004\"),\n    cc(\"\\u2005\"),\n    cc(\"\\u2006\"),\n    cc(\"\\u2007\"),\n    cc(\"\\u2008\"),\n    cc(\"\\u2009\"),\n    cc(\"\\u200a\"),\n    cc(\"\\u2028\"),\n    cc(\"\\u2029\"),\n    cc(\"\\u202f\"),\n    cc(\"\\u205f\"),\n    cc(\"\\u3000\"),\n    cc(\"\\ufeff\"),\n];\n//# sourceMappingURL=character-classes.js.map","import { addFlag, ASSERT_EXISTS, ASSERT_NEVER_REACH_HERE, cc, insertToSet, isCharacter, } from \"./utils.js\";\nimport { digitsCharCodes, whitespaceCodes, wordCharCodes, } from \"./character-classes.js\";\n// consts and utilities\nconst hexDigitPattern = /[0-9a-fA-F]/;\nconst decimalPattern = /[0-9]/;\nconst decimalPatternNoZero = /[1-9]/;\n// https://hackernoon.com/the-madness-of-parsing-real-world-javascript-regexps-d9ee336df983\n// https://www.ecma-international.org/ecma-262/8.0/index.html#prod-Pattern\nexport class RegExpParser {\n    constructor() {\n        this.idx = 0;\n        this.input = \"\";\n        this.groupIdx = 0;\n    }\n    saveState() {\n        return {\n            idx: this.idx,\n            input: this.input,\n            groupIdx: this.groupIdx,\n        };\n    }\n    restoreState(newState) {\n        this.idx = newState.idx;\n        this.input = newState.input;\n        this.groupIdx = newState.groupIdx;\n    }\n    pattern(input) {\n        // parser state\n        this.idx = 0;\n        this.input = input;\n        this.groupIdx = 0;\n        this.consumeChar(\"/\");\n        const value = this.disjunction();\n        this.consumeChar(\"/\");\n        const flags = {\n            type: \"Flags\",\n            loc: { begin: this.idx, end: input.length },\n            global: false,\n            ignoreCase: false,\n            multiLine: false,\n            unicode: false,\n            sticky: false,\n        };\n        while (this.isRegExpFlag()) {\n            switch (this.popChar()) {\n                case \"g\":\n                    addFlag(flags, \"global\");\n                    break;\n                case \"i\":\n                    addFlag(flags, \"ignoreCase\");\n                    break;\n                case \"m\":\n                    addFlag(flags, \"multiLine\");\n                    break;\n                case \"u\":\n                    addFlag(flags, \"unicode\");\n                    break;\n                case \"y\":\n                    addFlag(flags, \"sticky\");\n                    break;\n            }\n        }\n        if (this.idx !== this.input.length) {\n            throw Error(\"Redundant input: \" + this.input.substring(this.idx));\n        }\n        return {\n            type: \"Pattern\",\n            flags: flags,\n            value: value,\n            loc: this.loc(0),\n        };\n    }\n    disjunction() {\n        const alts = [];\n        const begin = this.idx;\n        alts.push(this.alternative());\n        while (this.peekChar() === \"|\") {\n            this.consumeChar(\"|\");\n            alts.push(this.alternative());\n        }\n        return { type: \"Disjunction\", value: alts, loc: this.loc(begin) };\n    }\n    alternative() {\n        const terms = [];\n        const begin = this.idx;\n        while (this.isTerm()) {\n            terms.push(this.term());\n        }\n        return { type: \"Alternative\", value: terms, loc: this.loc(begin) };\n    }\n    term() {\n        if (this.isAssertion()) {\n            return this.assertion();\n        }\n        else {\n            return this.atom();\n        }\n    }\n    assertion() {\n        const begin = this.idx;\n        switch (this.popChar()) {\n            case \"^\":\n                return {\n                    type: \"StartAnchor\",\n                    loc: this.loc(begin),\n                };\n            case \"$\":\n                return { type: \"EndAnchor\", loc: this.loc(begin) };\n            // '\\b' or '\\B'\n            case \"\\\\\":\n                switch (this.popChar()) {\n                    case \"b\":\n                        return {\n                            type: \"WordBoundary\",\n                            loc: this.loc(begin),\n                        };\n                    case \"B\":\n                        return {\n                            type: \"NonWordBoundary\",\n                            loc: this.loc(begin),\n                        };\n                }\n                // istanbul ignore next\n                throw Error(\"Invalid Assertion Escape\");\n            // '(?=' or '(?!'\n            case \"(\":\n                this.consumeChar(\"?\");\n                let type;\n                switch (this.popChar()) {\n                    case \"=\":\n                        type = \"Lookahead\";\n                        break;\n                    case \"!\":\n                        type = \"NegativeLookahead\";\n                        break;\n                }\n                ASSERT_EXISTS(type);\n                const disjunction = this.disjunction();\n                this.consumeChar(\")\");\n                return {\n                    type: type,\n                    value: disjunction,\n                    loc: this.loc(begin),\n                };\n        }\n        // istanbul ignore next\n        return ASSERT_NEVER_REACH_HERE();\n    }\n    quantifier(isBacktracking = false) {\n        let range = undefined;\n        const begin = this.idx;\n        switch (this.popChar()) {\n            case \"*\":\n                range = {\n                    atLeast: 0,\n                    atMost: Infinity,\n                };\n                break;\n            case \"+\":\n                range = {\n                    atLeast: 1,\n                    atMost: Infinity,\n                };\n                break;\n            case \"?\":\n                range = {\n                    atLeast: 0,\n                    atMost: 1,\n                };\n                break;\n            case \"{\":\n                const atLeast = this.integerIncludingZero();\n                switch (this.popChar()) {\n                    case \"}\":\n                        range = {\n                            atLeast: atLeast,\n                            atMost: atLeast,\n                        };\n                        break;\n                    case \",\":\n                        let atMost;\n                        if (this.isDigit()) {\n                            atMost = this.integerIncludingZero();\n                            range = {\n                                atLeast: atLeast,\n                                atMost: atMost,\n                            };\n                        }\n                        else {\n                            range = {\n                                atLeast: atLeast,\n                                atMost: Infinity,\n                            };\n                        }\n                        this.consumeChar(\"}\");\n                        break;\n                }\n                // throwing exceptions from \"ASSERT_EXISTS\" during backtracking\n                // causes severe performance degradations\n                if (isBacktracking === true && range === undefined) {\n                    return undefined;\n                }\n                ASSERT_EXISTS(range);\n                break;\n        }\n        // throwing exceptions from \"ASSERT_EXISTS\" during backtracking\n        // causes severe performance degradations\n        if (isBacktracking === true && range === undefined) {\n            return undefined;\n        }\n        // istanbul ignore else\n        if (ASSERT_EXISTS(range)) {\n            if (this.peekChar(0) === \"?\") {\n                this.consumeChar(\"?\");\n                range.greedy = false;\n            }\n            else {\n                range.greedy = true;\n            }\n            range.type = \"Quantifier\";\n            range.loc = this.loc(begin);\n            return range;\n        }\n    }\n    atom() {\n        let atom;\n        const begin = this.idx;\n        switch (this.peekChar()) {\n            case \".\":\n                atom = this.dotAll();\n                break;\n            case \"\\\\\":\n                atom = this.atomEscape();\n                break;\n            case \"[\":\n                atom = this.characterClass();\n                break;\n            case \"(\":\n                atom = this.group();\n                break;\n        }\n        if (atom === undefined && this.isPatternCharacter()) {\n            atom = this.patternCharacter();\n        }\n        // istanbul ignore else\n        if (ASSERT_EXISTS(atom)) {\n            atom.loc = this.loc(begin);\n            if (this.isQuantifier()) {\n                atom.quantifier = this.quantifier();\n            }\n            return atom;\n        }\n        // istanbul ignore next\n        return ASSERT_NEVER_REACH_HERE();\n    }\n    dotAll() {\n        this.consumeChar(\".\");\n        return {\n            type: \"Set\",\n            complement: true,\n            value: [cc(\"\\n\"), cc(\"\\r\"), cc(\"\\u2028\"), cc(\"\\u2029\")],\n        };\n    }\n    atomEscape() {\n        this.consumeChar(\"\\\\\");\n        switch (this.peekChar()) {\n            case \"1\":\n            case \"2\":\n            case \"3\":\n            case \"4\":\n            case \"5\":\n            case \"6\":\n            case \"7\":\n            case \"8\":\n            case \"9\":\n                return this.decimalEscapeAtom();\n            case \"d\":\n            case \"D\":\n            case \"s\":\n            case \"S\":\n            case \"w\":\n            case \"W\":\n                return this.characterClassEscape();\n            case \"f\":\n            case \"n\":\n            case \"r\":\n            case \"t\":\n            case \"v\":\n                return this.controlEscapeAtom();\n            case \"c\":\n                return this.controlLetterEscapeAtom();\n            case \"0\":\n                return this.nulCharacterAtom();\n            case \"x\":\n                return this.hexEscapeSequenceAtom();\n            case \"u\":\n                return this.regExpUnicodeEscapeSequenceAtom();\n            default:\n                return this.identityEscapeAtom();\n        }\n    }\n    decimalEscapeAtom() {\n        const value = this.positiveInteger();\n        return { type: \"GroupBackReference\", value: value };\n    }\n    characterClassEscape() {\n        let set;\n        let complement = false;\n        switch (this.popChar()) {\n            case \"d\":\n                set = digitsCharCodes;\n                break;\n            case \"D\":\n                set = digitsCharCodes;\n                complement = true;\n                break;\n            case \"s\":\n                set = whitespaceCodes;\n                break;\n            case \"S\":\n                set = whitespaceCodes;\n                complement = true;\n                break;\n            case \"w\":\n                set = wordCharCodes;\n                break;\n            case \"W\":\n                set = wordCharCodes;\n                complement = true;\n                break;\n        }\n        // istanbul ignore else\n        if (ASSERT_EXISTS(set)) {\n            return { type: \"Set\", value: set, complement: complement };\n        }\n        // istanbul ignore next\n        return ASSERT_NEVER_REACH_HERE();\n    }\n    controlEscapeAtom() {\n        let escapeCode;\n        switch (this.popChar()) {\n            case \"f\":\n                escapeCode = cc(\"\\f\");\n                break;\n            case \"n\":\n                escapeCode = cc(\"\\n\");\n                break;\n            case \"r\":\n                escapeCode = cc(\"\\r\");\n                break;\n            case \"t\":\n                escapeCode = cc(\"\\t\");\n                break;\n            case \"v\":\n                escapeCode = cc(\"\\v\");\n                break;\n        }\n        // istanbul ignore else\n        if (ASSERT_EXISTS(escapeCode)) {\n            return { type: \"Character\", value: escapeCode };\n        }\n        // istanbul ignore next\n        return ASSERT_NEVER_REACH_HERE();\n    }\n    controlLetterEscapeAtom() {\n        this.consumeChar(\"c\");\n        const letter = this.popChar();\n        if (/[a-zA-Z]/.test(letter) === false) {\n            throw Error(\"Invalid \");\n        }\n        const letterCode = letter.toUpperCase().charCodeAt(0) - 64;\n        return { type: \"Character\", value: letterCode };\n    }\n    nulCharacterAtom() {\n        // TODO implement '[lookahead  DecimalDigit]'\n        // TODO: for the deprecated octal escape sequence\n        this.consumeChar(\"0\");\n        return { type: \"Character\", value: cc(\"\\0\") };\n    }\n    hexEscapeSequenceAtom() {\n        this.consumeChar(\"x\");\n        return this.parseHexDigits(2);\n    }\n    regExpUnicodeEscapeSequenceAtom() {\n        this.consumeChar(\"u\");\n        return this.parseHexDigits(4);\n    }\n    identityEscapeAtom() {\n        // TODO: implement \"SourceCharacter but not UnicodeIDContinue\"\n        // // http://unicode.org/reports/tr31/#Specific_Character_Adjustments\n        const escapedChar = this.popChar();\n        return { type: \"Character\", value: cc(escapedChar) };\n    }\n    classPatternCharacterAtom() {\n        switch (this.peekChar()) {\n            // istanbul ignore next\n            case \"\\n\":\n            // istanbul ignore next\n            case \"\\r\":\n            // istanbul ignore next\n            case \"\\u2028\":\n            // istanbul ignore next\n            case \"\\u2029\":\n            // istanbul ignore next\n            case \"\\\\\":\n            // istanbul ignore next\n            case \"]\":\n                throw Error(\"TBD\");\n            default:\n                const nextChar = this.popChar();\n                return { type: \"Character\", value: cc(nextChar) };\n        }\n    }\n    characterClass() {\n        const set = [];\n        let complement = false;\n        this.consumeChar(\"[\");\n        if (this.peekChar(0) === \"^\") {\n            this.consumeChar(\"^\");\n            complement = true;\n        }\n        while (this.isClassAtom()) {\n            const from = this.classAtom();\n            const isFromSingleChar = from.type === \"Character\";\n            if (isCharacter(from) && this.isRangeDash()) {\n                this.consumeChar(\"-\");\n                const to = this.classAtom();\n                const isToSingleChar = to.type === \"Character\";\n                // a range can only be used when both sides are single characters\n                if (isCharacter(to)) {\n                    if (to.value < from.value) {\n                        throw Error(\"Range out of order in character class\");\n                    }\n                    set.push({ from: from.value, to: to.value });\n                }\n                else {\n                    // literal dash\n                    insertToSet(from.value, set);\n                    set.push(cc(\"-\"));\n                    insertToSet(to.value, set);\n                }\n            }\n            else {\n                insertToSet(from.value, set);\n            }\n        }\n        this.consumeChar(\"]\");\n        return { type: \"Set\", complement: complement, value: set };\n    }\n    classAtom() {\n        switch (this.peekChar()) {\n            // istanbul ignore next\n            case \"]\":\n            // istanbul ignore next\n            case \"\\n\":\n            // istanbul ignore next\n            case \"\\r\":\n            // istanbul ignore next\n            case \"\\u2028\":\n            // istanbul ignore next\n            case \"\\u2029\":\n                throw Error(\"TBD\");\n            case \"\\\\\":\n                return this.classEscape();\n            default:\n                return this.classPatternCharacterAtom();\n        }\n    }\n    classEscape() {\n        this.consumeChar(\"\\\\\");\n        switch (this.peekChar()) {\n            // Matches a backspace.\n            // (Not to be confused with \\b word boundary outside characterClass)\n            case \"b\":\n                this.consumeChar(\"b\");\n                return { type: \"Character\", value: cc(\"\\u0008\") };\n            case \"d\":\n            case \"D\":\n            case \"s\":\n            case \"S\":\n            case \"w\":\n            case \"W\":\n                return this.characterClassEscape();\n            case \"f\":\n            case \"n\":\n            case \"r\":\n            case \"t\":\n            case \"v\":\n                return this.controlEscapeAtom();\n            case \"c\":\n                return this.controlLetterEscapeAtom();\n            case \"0\":\n                return this.nulCharacterAtom();\n            case \"x\":\n                return this.hexEscapeSequenceAtom();\n            case \"u\":\n                return this.regExpUnicodeEscapeSequenceAtom();\n            default:\n                return this.identityEscapeAtom();\n        }\n    }\n    group() {\n        let capturing = true;\n        this.consumeChar(\"(\");\n        switch (this.peekChar(0)) {\n            case \"?\":\n                this.consumeChar(\"?\");\n                this.consumeChar(\":\");\n                capturing = false;\n                break;\n            default:\n                this.groupIdx++;\n                break;\n        }\n        const value = this.disjunction();\n        this.consumeChar(\")\");\n        const groupAst = {\n            type: \"Group\",\n            capturing: capturing,\n            value: value,\n        };\n        if (capturing) {\n            groupAst[\"idx\"] = this.groupIdx;\n        }\n        return groupAst;\n    }\n    positiveInteger() {\n        let number = this.popChar();\n        // istanbul ignore next - can't ever get here due to previous lookahead checks\n        // still implementing this error checking in case this ever changes.\n        if (decimalPatternNoZero.test(number) === false) {\n            throw Error(\"Expecting a positive integer\");\n        }\n        while (decimalPattern.test(this.peekChar(0))) {\n            number += this.popChar();\n        }\n        return parseInt(number, 10);\n    }\n    integerIncludingZero() {\n        let number = this.popChar();\n        if (decimalPattern.test(number) === false) {\n            throw Error(\"Expecting an integer\");\n        }\n        while (decimalPattern.test(this.peekChar(0))) {\n            number += this.popChar();\n        }\n        return parseInt(number, 10);\n    }\n    patternCharacter() {\n        const nextChar = this.popChar();\n        switch (nextChar) {\n            // istanbul ignore next\n            case \"\\n\":\n            // istanbul ignore next\n            case \"\\r\":\n            // istanbul ignore next\n            case \"\\u2028\":\n            // istanbul ignore next\n            case \"\\u2029\":\n            // istanbul ignore next\n            case \"^\":\n            // istanbul ignore next\n            case \"$\":\n            // istanbul ignore next\n            case \"\\\\\":\n            // istanbul ignore next\n            case \".\":\n            // istanbul ignore next\n            case \"*\":\n            // istanbul ignore next\n            case \"+\":\n            // istanbul ignore next\n            case \"?\":\n            // istanbul ignore next\n            case \"(\":\n            // istanbul ignore next\n            case \")\":\n            // istanbul ignore next\n            case \"[\":\n            // istanbul ignore next\n            case \"|\":\n                // istanbul ignore next\n                throw Error(\"TBD\");\n            default:\n                return { type: \"Character\", value: cc(nextChar) };\n        }\n    }\n    isRegExpFlag() {\n        switch (this.peekChar(0)) {\n            case \"g\":\n            case \"i\":\n            case \"m\":\n            case \"u\":\n            case \"y\":\n                return true;\n            default:\n                return false;\n        }\n    }\n    isRangeDash() {\n        return this.peekChar() === \"-\" && this.isClassAtom(1);\n    }\n    isDigit() {\n        return decimalPattern.test(this.peekChar(0));\n    }\n    isClassAtom(howMuch = 0) {\n        switch (this.peekChar(howMuch)) {\n            case \"]\":\n            case \"\\n\":\n            case \"\\r\":\n            case \"\\u2028\":\n            case \"\\u2029\":\n                return false;\n            default:\n                return true;\n        }\n    }\n    isTerm() {\n        return this.isAtom() || this.isAssertion();\n    }\n    isAtom() {\n        if (this.isPatternCharacter()) {\n            return true;\n        }\n        switch (this.peekChar(0)) {\n            case \".\":\n            case \"\\\\\": // atomEscape\n            case \"[\": // characterClass\n            // TODO: isAtom must be called before isAssertion - disambiguate\n            case \"(\": // group\n                return true;\n            default:\n                return false;\n        }\n    }\n    isAssertion() {\n        switch (this.peekChar(0)) {\n            case \"^\":\n            case \"$\":\n                return true;\n            // '\\b' or '\\B'\n            case \"\\\\\":\n                switch (this.peekChar(1)) {\n                    case \"b\":\n                    case \"B\":\n                        return true;\n                    default:\n                        return false;\n                }\n            // '(?=' or '(?!'\n            case \"(\":\n                return (this.peekChar(1) === \"?\" &&\n                    (this.peekChar(2) === \"=\" || this.peekChar(2) === \"!\"));\n            default:\n                return false;\n        }\n    }\n    isQuantifier() {\n        const prevState = this.saveState();\n        try {\n            return this.quantifier(true) !== undefined;\n        }\n        catch (e) {\n            return false;\n        }\n        finally {\n            this.restoreState(prevState);\n        }\n    }\n    isPatternCharacter() {\n        switch (this.peekChar()) {\n            case \"^\":\n            case \"$\":\n            case \"\\\\\":\n            case \".\":\n            case \"*\":\n            case \"+\":\n            case \"?\":\n            case \"(\":\n            case \")\":\n            case \"[\":\n            case \"|\":\n            case \"/\":\n            case \"\\n\":\n            case \"\\r\":\n            case \"\\u2028\":\n            case \"\\u2029\":\n                return false;\n            default:\n                return true;\n        }\n    }\n    parseHexDigits(howMany) {\n        let hexString = \"\";\n        for (let i = 0; i < howMany; i++) {\n            const hexChar = this.popChar();\n            if (hexDigitPattern.test(hexChar) === false) {\n                throw Error(\"Expecting a HexDecimal digits\");\n            }\n            hexString += hexChar;\n        }\n        const charCode = parseInt(hexString, 16);\n        return { type: \"Character\", value: charCode };\n    }\n    peekChar(howMuch = 0) {\n        return this.input[this.idx + howMuch];\n    }\n    popChar() {\n        const nextChar = this.peekChar(0);\n        this.consumeChar(undefined);\n        return nextChar;\n    }\n    consumeChar(char) {\n        if (char !== undefined && this.input[this.idx] !== char) {\n            throw Error(\"Expected: '\" +\n                char +\n                \"' but found: '\" +\n                this.input[this.idx] +\n                \"' at offset: \" +\n                this.idx);\n        }\n        if (this.idx >= this.input.length) {\n            throw Error(\"Unexpected end of input\");\n        }\n        this.idx++;\n    }\n    loc(begin) {\n        return { begin: begin, end: this.idx };\n    }\n}\n//# sourceMappingURL=regexp-parser.js.map","export class BaseRegExpVisitor {\n    visitChildren(node) {\n        for (const key in node) {\n            const child = node[key];\n            /* istanbul ignore else */\n            if (node.hasOwnProperty(key)) {\n                if (child.type !== undefined) {\n                    this.visit(child);\n                }\n                else if (Array.isArray(child)) {\n                    child.forEach((subChild) => {\n                        this.visit(subChild);\n                    }, this);\n                }\n            }\n        }\n    }\n    visit(node) {\n        switch (node.type) {\n            case \"Pattern\":\n                this.visitPattern(node);\n                break;\n            case \"Flags\":\n                this.visitFlags(node);\n                break;\n            case \"Disjunction\":\n                this.visitDisjunction(node);\n                break;\n            case \"Alternative\":\n                this.visitAlternative(node);\n                break;\n            case \"StartAnchor\":\n                this.visitStartAnchor(node);\n                break;\n            case \"EndAnchor\":\n                this.visitEndAnchor(node);\n                break;\n            case \"WordBoundary\":\n                this.visitWordBoundary(node);\n                break;\n            case \"NonWordBoundary\":\n                this.visitNonWordBoundary(node);\n                break;\n            case \"Lookahead\":\n                this.visitLookahead(node);\n                break;\n            case \"NegativeLookahead\":\n                this.visitNegativeLookahead(node);\n                break;\n            case \"Character\":\n                this.visitCharacter(node);\n                break;\n            case \"Set\":\n                this.visitSet(node);\n                break;\n            case \"Group\":\n                this.visitGroup(node);\n                break;\n            case \"GroupBackReference\":\n                this.visitGroupBackReference(node);\n                break;\n            case \"Quantifier\":\n                this.visitQuantifier(node);\n                break;\n        }\n        this.visitChildren(node);\n    }\n    visitPattern(node) { }\n    visitFlags(node) { }\n    visitDisjunction(node) { }\n    visitAlternative(node) { }\n    // Assertion\n    visitStartAnchor(node) { }\n    visitEndAnchor(node) { }\n    visitWordBoundary(node) { }\n    visitNonWordBoundary(node) { }\n    visitLookahead(node) { }\n    visitNegativeLookahead(node) { }\n    // atoms\n    visitCharacter(node) { }\n    visitSet(node) { }\n    visitGroup(node) { }\n    visitGroupBackReference(node) { }\n    visitQuantifier(node) { }\n}\n//# sourceMappingURL=base-regexp-visitor.js.map","/******************************************************************************\n * This file was generated by langium-cli 3.3.0.\n * DO NOT EDIT MANUALLY!\n ******************************************************************************/\nimport { AbstractAstReflection } from '../../syntax-tree.js';\nexport const LangiumGrammarTerminals = {\n    ID: /\\^?[_a-zA-Z][\\w_]*/,\n    STRING: /\"(\\\\.|[^\"\\\\])*\"|'(\\\\.|[^'\\\\])*'/,\n    NUMBER: /NaN|-?((\\d*\\.\\d+|\\d+)([Ee][+-]?\\d+)?|Infinity)/,\n    RegexLiteral: /\\/(?![*+?])(?:[^\\r\\n\\[/\\\\]|\\\\.|\\[(?:[^\\r\\n\\]\\\\]|\\\\.)*\\])+\\/[a-z]*/,\n    WS: /\\s+/,\n    ML_COMMENT: /\\/\\*[\\s\\S]*?\\*\\//,\n    SL_COMMENT: /\\/\\/[^\\n\\r]*/,\n};\nexport const AbstractRule = 'AbstractRule';\nexport function isAbstractRule(item) {\n    return reflection.isInstance(item, AbstractRule);\n}\nexport const AbstractType = 'AbstractType';\nexport function isAbstractType(item) {\n    return reflection.isInstance(item, AbstractType);\n}\nexport const Condition = 'Condition';\nexport function isCondition(item) {\n    return reflection.isInstance(item, Condition);\n}\nexport function isFeatureName(item) {\n    return isPrimitiveType(item) || item === 'current' || item === 'entry' || item === 'extends' || item === 'false' || item === 'fragment' || item === 'grammar' || item === 'hidden' || item === 'import' || item === 'interface' || item === 'returns' || item === 'terminal' || item === 'true' || item === 'type' || item === 'infer' || item === 'infers' || item === 'with' || (typeof item === 'string' && (/\\^?[_a-zA-Z][\\w_]*/.test(item)));\n}\nexport function isPrimitiveType(item) {\n    return item === 'string' || item === 'number' || item === 'boolean' || item === 'Date' || item === 'bigint';\n}\nexport const TypeDefinition = 'TypeDefinition';\nexport function isTypeDefinition(item) {\n    return reflection.isInstance(item, TypeDefinition);\n}\nexport const ValueLiteral = 'ValueLiteral';\nexport function isValueLiteral(item) {\n    return reflection.isInstance(item, ValueLiteral);\n}\nexport const AbstractElement = 'AbstractElement';\nexport function isAbstractElement(item) {\n    return reflection.isInstance(item, AbstractElement);\n}\nexport const ArrayLiteral = 'ArrayLiteral';\nexport function isArrayLiteral(item) {\n    return reflection.isInstance(item, ArrayLiteral);\n}\nexport const ArrayType = 'ArrayType';\nexport function isArrayType(item) {\n    return reflection.isInstance(item, ArrayType);\n}\nexport const BooleanLiteral = 'BooleanLiteral';\nexport function isBooleanLiteral(item) {\n    return reflection.isInstance(item, BooleanLiteral);\n}\nexport const Conjunction = 'Conjunction';\nexport function isConjunction(item) {\n    return reflection.isInstance(item, Conjunction);\n}\nexport const Disjunction = 'Disjunction';\nexport function isDisjunction(item) {\n    return reflection.isInstance(item, Disjunction);\n}\nexport const Grammar = 'Grammar';\nexport function isGrammar(item) {\n    return reflection.isInstance(item, Grammar);\n}\nexport const GrammarImport = 'GrammarImport';\nexport function isGrammarImport(item) {\n    return reflection.isInstance(item, GrammarImport);\n}\nexport const InferredType = 'InferredType';\nexport function isInferredType(item) {\n    return reflection.isInstance(item, InferredType);\n}\nexport const Interface = 'Interface';\nexport function isInterface(item) {\n    return reflection.isInstance(item, Interface);\n}\nexport const NamedArgument = 'NamedArgument';\nexport function isNamedArgument(item) {\n    return reflection.isInstance(item, NamedArgument);\n}\nexport const Negation = 'Negation';\nexport function isNegation(item) {\n    return reflection.isInstance(item, Negation);\n}\nexport const NumberLiteral = 'NumberLiteral';\nexport function isNumberLiteral(item) {\n    return reflection.isInstance(item, NumberLiteral);\n}\nexport const Parameter = 'Parameter';\nexport function isParameter(item) {\n    return reflection.isInstance(item, Parameter);\n}\nexport const ParameterReference = 'ParameterReference';\nexport function isParameterReference(item) {\n    return reflection.isInstance(item, ParameterReference);\n}\nexport const ParserRule = 'ParserRule';\nexport function isParserRule(item) {\n    return reflection.isInstance(item, ParserRule);\n}\nexport const ReferenceType = 'ReferenceType';\nexport function isReferenceType(item) {\n    return reflection.isInstance(item, ReferenceType);\n}\nexport const ReturnType = 'ReturnType';\nexport function isReturnType(item) {\n    return reflection.isInstance(item, ReturnType);\n}\nexport const SimpleType = 'SimpleType';\nexport function isSimpleType(item) {\n    return reflection.isInstance(item, SimpleType);\n}\nexport const StringLiteral = 'StringLiteral';\nexport function isStringLiteral(item) {\n    return reflection.isInstance(item, StringLiteral);\n}\nexport const TerminalRule = 'TerminalRule';\nexport function isTerminalRule(item) {\n    return reflection.isInstance(item, TerminalRule);\n}\nexport const Type = 'Type';\nexport function isType(item) {\n    return reflection.isInstance(item, Type);\n}\nexport const TypeAttribute = 'TypeAttribute';\nexport function isTypeAttribute(item) {\n    return reflection.isInstance(item, TypeAttribute);\n}\nexport const UnionType = 'UnionType';\nexport function isUnionType(item) {\n    return reflection.isInstance(item, UnionType);\n}\nexport const Action = 'Action';\nexport function isAction(item) {\n    return reflection.isInstance(item, Action);\n}\nexport const Alternatives = 'Alternatives';\nexport function isAlternatives(item) {\n    return reflection.isInstance(item, Alternatives);\n}\nexport const Assignment = 'Assignment';\nexport function isAssignment(item) {\n    return reflection.isInstance(item, Assignment);\n}\nexport const CharacterRange = 'CharacterRange';\nexport function isCharacterRange(item) {\n    return reflection.isInstance(item, CharacterRange);\n}\nexport const CrossReference = 'CrossReference';\nexport function isCrossReference(item) {\n    return reflection.isInstance(item, CrossReference);\n}\nexport const EndOfFile = 'EndOfFile';\nexport function isEndOfFile(item) {\n    return reflection.isInstance(item, EndOfFile);\n}\nexport const Group = 'Group';\nexport function isGroup(item) {\n    return reflection.isInstance(item, Group);\n}\nexport const Keyword = 'Keyword';\nexport function isKeyword(item) {\n    return reflection.isInstance(item, Keyword);\n}\nexport const NegatedToken = 'NegatedToken';\nexport function isNegatedToken(item) {\n    return reflection.isInstance(item, NegatedToken);\n}\nexport const RegexToken = 'RegexToken';\nexport function isRegexToken(item) {\n    return reflection.isInstance(item, RegexToken);\n}\nexport const RuleCall = 'RuleCall';\nexport function isRuleCall(item) {\n    return reflection.isInstance(item, RuleCall);\n}\nexport const TerminalAlternatives = 'TerminalAlternatives';\nexport function isTerminalAlternatives(item) {\n    return reflection.isInstance(item, TerminalAlternatives);\n}\nexport const TerminalGroup = 'TerminalGroup';\nexport function isTerminalGroup(item) {\n    return reflection.isInstance(item, TerminalGroup);\n}\nexport const TerminalRuleCall = 'TerminalRuleCall';\nexport function isTerminalRuleCall(item) {\n    return reflection.isInstance(item, TerminalRuleCall);\n}\nexport const UnorderedGroup = 'UnorderedGroup';\nexport function isUnorderedGroup(item) {\n    return reflection.isInstance(item, UnorderedGroup);\n}\nexport const UntilToken = 'UntilToken';\nexport function isUntilToken(item) {\n    return reflection.isInstance(item, UntilToken);\n}\nexport const Wildcard = 'Wildcard';\nexport function isWildcard(item) {\n    return reflection.isInstance(item, Wildcard);\n}\nexport class LangiumGrammarAstReflection extends AbstractAstReflection {\n    getAllTypes() {\n        return [AbstractElement, AbstractRule, AbstractType, Action, Alternatives, ArrayLiteral, ArrayType, Assignment, BooleanLiteral, CharacterRange, Condition, Conjunction, CrossReference, Disjunction, EndOfFile, Grammar, GrammarImport, Group, InferredType, Interface, Keyword, NamedArgument, NegatedToken, Negation, NumberLiteral, Parameter, ParameterReference, ParserRule, ReferenceType, RegexToken, ReturnType, RuleCall, SimpleType, StringLiteral, TerminalAlternatives, TerminalGroup, TerminalRule, TerminalRuleCall, Type, TypeAttribute, TypeDefinition, UnionType, UnorderedGroup, UntilToken, ValueLiteral, Wildcard];\n    }\n    computeIsSubtype(subtype, supertype) {\n        switch (subtype) {\n            case Action:\n            case Alternatives:\n            case Assignment:\n            case CharacterRange:\n            case CrossReference:\n            case EndOfFile:\n            case Group:\n            case Keyword:\n            case NegatedToken:\n            case RegexToken:\n            case RuleCall:\n            case TerminalAlternatives:\n            case TerminalGroup:\n            case TerminalRuleCall:\n            case UnorderedGroup:\n            case UntilToken:\n            case Wildcard: {\n                return this.isSubtype(AbstractElement, supertype);\n            }\n            case ArrayLiteral:\n            case NumberLiteral:\n            case StringLiteral: {\n                return this.isSubtype(ValueLiteral, supertype);\n            }\n            case ArrayType:\n            case ReferenceType:\n            case SimpleType:\n            case UnionType: {\n                return this.isSubtype(TypeDefinition, supertype);\n            }\n            case BooleanLiteral: {\n                return this.isSubtype(Condition, supertype) || this.isSubtype(ValueLiteral, supertype);\n            }\n            case Conjunction:\n            case Disjunction:\n            case Negation:\n            case ParameterReference: {\n                return this.isSubtype(Condition, supertype);\n            }\n            case InferredType:\n            case Interface:\n            case Type: {\n                return this.isSubtype(AbstractType, supertype);\n            }\n            case ParserRule: {\n                return this.isSubtype(AbstractRule, supertype) || this.isSubtype(AbstractType, supertype);\n            }\n            case TerminalRule: {\n                return this.isSubtype(AbstractRule, supertype);\n            }\n            default: {\n                return false;\n            }\n        }\n    }\n    getReferenceType(refInfo) {\n        const referenceId = `${refInfo.container.$type}:${refInfo.property}`;\n        switch (referenceId) {\n            case 'Action:type':\n            case 'CrossReference:type':\n            case 'Interface:superTypes':\n            case 'ParserRule:returnType':\n            case 'SimpleType:typeRef': {\n                return AbstractType;\n            }\n            case 'Grammar:hiddenTokens':\n            case 'ParserRule:hiddenTokens':\n            case 'RuleCall:rule': {\n                return AbstractRule;\n            }\n            case 'Grammar:usedGrammars': {\n                return Grammar;\n            }\n            case 'NamedArgument:parameter':\n            case 'ParameterReference:parameter': {\n                return Parameter;\n            }\n            case 'TerminalRuleCall:rule': {\n                return TerminalRule;\n            }\n            default: {\n                throw new Error(`${referenceId} is not a valid reference id.`);\n            }\n        }\n    }\n    getTypeMetaData(type) {\n        switch (type) {\n            case AbstractElement: {\n                return {\n                    name: AbstractElement,\n                    properties: [\n                        { name: 'cardinality' },\n                        { name: 'lookahead' }\n                    ]\n                };\n            }\n            case ArrayLiteral: {\n                return {\n                    name: ArrayLiteral,\n                    properties: [\n                        { name: 'elements', defaultValue: [] }\n                    ]\n                };\n            }\n            case ArrayType: {\n                return {\n                    name: ArrayType,\n                    properties: [\n                        { name: 'elementType' }\n                    ]\n                };\n            }\n            case BooleanLiteral: {\n                return {\n                    name: BooleanLiteral,\n                    properties: [\n                        { name: 'true', defaultValue: false }\n                    ]\n                };\n            }\n            case Conjunction: {\n                return {\n                    name: Conjunction,\n                    properties: [\n                        { name: 'left' },\n                        { name: 'right' }\n                    ]\n                };\n            }\n            case Disjunction: {\n                return {\n                    name: Disjunction,\n                    properties: [\n                        { name: 'left' },\n                        { name: 'right' }\n                    ]\n                };\n            }\n            case Grammar: {\n                return {\n                    name: Grammar,\n                    properties: [\n                        { name: 'definesHiddenTokens', defaultValue: false },\n                        { name: 'hiddenTokens', defaultValue: [] },\n                        { name: 'imports', defaultValue: [] },\n                        { name: 'interfaces', defaultValue: [] },\n                        { name: 'isDeclared', defaultValue: false },\n                        { name: 'name' },\n                        { name: 'rules', defaultValue: [] },\n                        { name: 'types', defaultValue: [] },\n                        { name: 'usedGrammars', defaultValue: [] }\n                    ]\n                };\n            }\n            case GrammarImport: {\n                return {\n                    name: GrammarImport,\n                    properties: [\n                        { name: 'path' }\n                    ]\n                };\n            }\n            case InferredType: {\n                return {\n                    name: InferredType,\n                    properties: [\n                        { name: 'name' }\n                    ]\n                };\n            }\n            case Interface: {\n                return {\n                    name: Interface,\n                    properties: [\n                        { name: 'attributes', defaultValue: [] },\n                        { name: 'name' },\n                        { name: 'superTypes', defaultValue: [] }\n                    ]\n                };\n            }\n            case NamedArgument: {\n                return {\n                    name: NamedArgument,\n                    properties: [\n                        { name: 'calledByName', defaultValue: false },\n                        { name: 'parameter' },\n                        { name: 'value' }\n                    ]\n                };\n            }\n            case Negation: {\n                return {\n                    name: Negation,\n                    properties: [\n                        { name: 'value' }\n                    ]\n                };\n            }\n            case NumberLiteral: {\n                return {\n                    name: NumberLiteral,\n                    properties: [\n                        { name: 'value' }\n                    ]\n                };\n            }\n            case Parameter: {\n                return {\n                    name: Parameter,\n                    properties: [\n                        { name: 'name' }\n                    ]\n                };\n            }\n            case ParameterReference: {\n                return {\n                    name: ParameterReference,\n                    properties: [\n                        { name: 'parameter' }\n                    ]\n                };\n            }\n            case ParserRule: {\n                return {\n                    name: ParserRule,\n                    properties: [\n                        { name: 'dataType' },\n                        { name: 'definesHiddenTokens', defaultValue: false },\n                        { name: 'definition' },\n                        { name: 'entry', defaultValue: false },\n                        { name: 'fragment', defaultValue: false },\n                        { name: 'hiddenTokens', defaultValue: [] },\n                        { name: 'inferredType' },\n                        { name: 'name' },\n                        { name: 'parameters', defaultValue: [] },\n                        { name: 'returnType' },\n                        { name: 'wildcard', defaultValue: false }\n                    ]\n                };\n            }\n            case ReferenceType: {\n                return {\n                    name: ReferenceType,\n                    properties: [\n                        { name: 'referenceType' }\n                    ]\n                };\n            }\n            case ReturnType: {\n                return {\n                    name: ReturnType,\n                    properties: [\n                        { name: 'name' }\n                    ]\n                };\n            }\n            case SimpleType: {\n                return {\n                    name: SimpleType,\n                    properties: [\n                        { name: 'primitiveType' },\n                        { name: 'stringType' },\n                        { name: 'typeRef' }\n                    ]\n                };\n            }\n            case StringLiteral: {\n                return {\n                    name: StringLiteral,\n                    properties: [\n                        { name: 'value' }\n                    ]\n                };\n            }\n            case TerminalRule: {\n                return {\n                    name: TerminalRule,\n                    properties: [\n                        { name: 'definition' },\n                        { name: 'fragment', defaultValue: false },\n                        { name: 'hidden', defaultValue: false },\n                        { name: 'name' },\n                        { name: 'type' }\n                    ]\n                };\n            }\n            case Type: {\n                return {\n                    name: Type,\n                    properties: [\n                        { name: 'name' },\n                        { name: 'type' }\n                    ]\n                };\n            }\n            case TypeAttribute: {\n                return {\n                    name: TypeAttribute,\n                    properties: [\n                        { name: 'defaultValue' },\n                        { name: 'isOptional', defaultValue: false },\n                        { name: 'name' },\n                        { name: 'type' }\n                    ]\n                };\n            }\n            case UnionType: {\n                return {\n                    name: UnionType,\n                    properties: [\n                        { name: 'types', defaultValue: [] }\n                    ]\n                };\n            }\n            case Action: {\n                return {\n                    name: Action,\n                    properties: [\n                        { name: 'cardinality' },\n                        { name: 'feature' },\n                        { name: 'inferredType' },\n                        { name: 'lookahead' },\n                        { name: 'operator' },\n                        { name: 'type' }\n                    ]\n                };\n            }\n            case Alternatives: {\n                return {\n                    name: Alternatives,\n                    properties: [\n                        { name: 'cardinality' },\n                        { name: 'elements', defaultValue: [] },\n                        { name: 'lookahead' }\n                    ]\n                };\n            }\n            case Assignment: {\n                return {\n                    name: Assignment,\n                    properties: [\n                        { name: 'cardinality' },\n                        { name: 'feature' },\n                        { name: 'lookahead' },\n                        { name: 'operator' },\n                        { name: 'terminal' }\n                    ]\n                };\n            }\n            case CharacterRange: {\n                return {\n                    name: CharacterRange,\n                    properties: [\n                        { name: 'cardinality' },\n                        { name: 'left' },\n                        { name: 'lookahead' },\n                        { name: 'right' }\n                    ]\n                };\n            }\n            case CrossReference: {\n                return {\n                    name: CrossReference,\n                    properties: [\n                        { name: 'cardinality' },\n                        { name: 'deprecatedSyntax', defaultValue: false },\n                        { name: 'lookahead' },\n                        { name: 'terminal' },\n                        { name: 'type' }\n                    ]\n                };\n            }\n            case EndOfFile: {\n                return {\n                    name: EndOfFile,\n                    properties: [\n                        { name: 'cardinality' },\n                        { name: 'lookahead' }\n                    ]\n                };\n            }\n            case Group: {\n                return {\n                    name: Group,\n                    properties: [\n                        { name: 'cardinality' },\n                        { name: 'elements', defaultValue: [] },\n                        { name: 'guardCondition' },\n                        { name: 'lookahead' }\n                    ]\n                };\n            }\n            case Keyword: {\n                return {\n                    name: Keyword,\n                    properties: [\n                        { name: 'cardinality' },\n                        { name: 'lookahead' },\n                        { name: 'value' }\n                    ]\n                };\n            }\n            case NegatedToken: {\n                return {\n                    name: NegatedToken,\n                    properties: [\n                        { name: 'cardinality' },\n                        { name: 'lookahead' },\n                        { name: 'terminal' }\n                    ]\n                };\n            }\n            case RegexToken: {\n                return {\n                    name: RegexToken,\n                    properties: [\n                        { name: 'cardinality' },\n                        { name: 'lookahead' },\n                        { name: 'regex' }\n                    ]\n                };\n            }\n            case RuleCall: {\n                return {\n                    name: RuleCall,\n                    properties: [\n                        { name: 'arguments', defaultValue: [] },\n                        { name: 'cardinality' },\n                        { name: 'lookahead' },\n                        { name: 'rule' }\n                    ]\n                };\n            }\n            case TerminalAlternatives: {\n                return {\n                    name: TerminalAlternatives,\n                    properties: [\n                        { name: 'cardinality' },\n                        { name: 'elements', defaultValue: [] },\n                        { name: 'lookahead' }\n                    ]\n                };\n            }\n            case TerminalGroup: {\n                return {\n                    name: TerminalGroup,\n                    properties: [\n                        { name: 'cardinality' },\n                        { name: 'elements', defaultValue: [] },\n                        { name: 'lookahead' }\n                    ]\n                };\n            }\n            case TerminalRuleCall: {\n                return {\n                    name: TerminalRuleCall,\n                    properties: [\n                        { name: 'cardinality' },\n                        { name: 'lookahead' },\n                        { name: 'rule' }\n                    ]\n                };\n            }\n            case UnorderedGroup: {\n                return {\n                    name: UnorderedGroup,\n                    properties: [\n                        { name: 'cardinality' },\n                        { name: 'elements', defaultValue: [] },\n                        { name: 'lookahead' }\n                    ]\n                };\n            }\n            case UntilToken: {\n                return {\n                    name: UntilToken,\n                    properties: [\n                        { name: 'cardinality' },\n                        { name: 'lookahead' },\n                        { name: 'terminal' }\n                    ]\n                };\n            }\n            case Wildcard: {\n                return {\n                    name: Wildcard,\n                    properties: [\n                        { name: 'cardinality' },\n                        { name: 'lookahead' }\n                    ]\n                };\n            }\n            default: {\n                return {\n                    name: type,\n                    properties: []\n                };\n            }\n        }\n    }\n}\nexport const reflection = new LangiumGrammarAstReflection();\n//# sourceMappingURL=ast.js.map","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.has` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHas(object, key) {\n  return object != null && hasOwnProperty.call(object, key);\n}\n\nexport default baseHas;\n","import baseHas from './_baseHas.js';\nimport hasPath from './_hasPath.js';\n\n/**\n * Checks if `path` is a direct property of `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = { 'a': { 'b': 2 } };\n * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.has(object, 'a');\n * // => true\n *\n * _.has(object, 'a.b');\n * // => true\n *\n * _.has(object, ['a', 'b']);\n * // => true\n *\n * _.has(other, 'a');\n * // => false\n */\nfunction has(object, path) {\n  return object != null && hasPath(object, path, baseHas);\n}\n\nexport default has;\n","/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nexport function isAstNode(obj) {\n    return typeof obj === 'object' && obj !== null && typeof obj.$type === 'string';\n}\nexport function isReference(obj) {\n    return typeof obj === 'object' && obj !== null && typeof obj.$refText === 'string';\n}\nexport function isAstNodeDescription(obj) {\n    return typeof obj === 'object' && obj !== null\n        && typeof obj.name === 'string'\n        && typeof obj.type === 'string'\n        && typeof obj.path === 'string';\n}\nexport function isLinkingError(obj) {\n    return typeof obj === 'object' && obj !== null\n        && isAstNode(obj.container)\n        && isReference(obj.reference)\n        && typeof obj.message === 'string';\n}\n/**\n * An abstract implementation of the {@link AstReflection} interface.\n * Serves to cache subtype computation results to improve performance throughout different parts of Langium.\n */\nexport class AbstractAstReflection {\n    constructor() {\n        this.subtypes = {};\n        this.allSubtypes = {};\n    }\n    isInstance(node, type) {\n        return isAstNode(node) && this.isSubtype(node.$type, type);\n    }\n    isSubtype(subtype, supertype) {\n        if (subtype === supertype) {\n            return true;\n        }\n        let nested = this.subtypes[subtype];\n        if (!nested) {\n            nested = this.subtypes[subtype] = {};\n        }\n        const existing = nested[supertype];\n        if (existing !== undefined) {\n            return existing;\n        }\n        else {\n            const result = this.computeIsSubtype(subtype, supertype);\n            nested[supertype] = result;\n            return result;\n        }\n    }\n    getAllSubTypes(type) {\n        const existing = this.allSubtypes[type];\n        if (existing) {\n            return existing;\n        }\n        else {\n            const allTypes = this.getAllTypes();\n            const types = [];\n            for (const possibleSubType of allTypes) {\n                if (this.isSubtype(possibleSubType, type)) {\n                    types.push(possibleSubType);\n                }\n            }\n            this.allSubtypes[type] = types;\n            return types;\n        }\n    }\n}\nexport function isCompositeCstNode(node) {\n    return typeof node === 'object' && node !== null && Array.isArray(node.content);\n}\nexport function isLeafCstNode(node) {\n    return typeof node === 'object' && node !== null && typeof node.tokenType === 'object';\n}\nexport function isRootCstNode(node) {\n    return isCompositeCstNode(node) && typeof node.fullText === 'string';\n}\n//# sourceMappingURL=syntax-tree.js.map","import {\n  __name\n} from \"./chunk-3XYRH5AP.mjs\";\n\n// src/diagrams/common/populateCommonDb.ts\nfunction populateCommonDb(ast, db) {\n  if (ast.accDescr) {\n    db.setAccDescription?.(ast.accDescr);\n  }\n  if (ast.accTitle) {\n    db.setAccTitle?.(ast.accTitle);\n  }\n  if (ast.title) {\n    db.setDiagramTitle?.(ast.title);\n  }\n}\n__name(populateCommonDb, \"populateCommonDb\");\n\nexport {\n  populateCommonDb\n};\n","/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\nexport default arrayReduce;\n","var LIB;(()=>{\"use strict\";var t={470:t=>{function e(t){if(\"string\"!=typeof t)throw new TypeError(\"Path must be a string. Received \"+JSON.stringify(t))}function r(t,e){for(var r,n=\"\",i=0,o=-1,s=0,h=0;h<=t.length;++h){if(h<t.length)r=t.charCodeAt(h);else{if(47===r)break;r=47}if(47===r){if(o===h-1||1===s);else if(o!==h-1&&2===s){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var a=n.lastIndexOf(\"/\");if(a!==n.length-1){-1===a?(n=\"\",i=0):i=(n=n.slice(0,a)).length-1-n.lastIndexOf(\"/\"),o=h,s=0;continue}}else if(2===n.length||1===n.length){n=\"\",i=0,o=h,s=0;continue}e&&(n.length>0?n+=\"/..\":n=\"..\",i=2)}else n.length>0?n+=\"/\"+t.slice(o+1,h):n=t.slice(o+1,h),i=h-o-1;o=h,s=0}else 46===r&&-1!==s?++s:s=-1}return n}var n={resolve:function(){for(var t,n=\"\",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s;o>=0?s=arguments[o]:(void 0===t&&(t=process.cwd()),s=t),e(s),0!==s.length&&(n=s+\"/\"+n,i=47===s.charCodeAt(0))}return n=r(n,!i),i?n.length>0?\"/\"+n:\"/\":n.length>0?n:\".\"},normalize:function(t){if(e(t),0===t.length)return\".\";var n=47===t.charCodeAt(0),i=47===t.charCodeAt(t.length-1);return 0!==(t=r(t,!n)).length||n||(t=\".\"),t.length>0&&i&&(t+=\"/\"),n?\"/\"+t:t},isAbsolute:function(t){return e(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return\".\";for(var t,r=0;r<arguments.length;++r){var i=arguments[r];e(i),i.length>0&&(void 0===t?t=i:t+=\"/\"+i)}return void 0===t?\".\":n.normalize(t)},relative:function(t,r){if(e(t),e(r),t===r)return\"\";if((t=n.resolve(t))===(r=n.resolve(r)))return\"\";for(var i=1;i<t.length&&47===t.charCodeAt(i);++i);for(var o=t.length,s=o-i,h=1;h<r.length&&47===r.charCodeAt(h);++h);for(var a=r.length-h,c=s<a?s:a,f=-1,u=0;u<=c;++u){if(u===c){if(a>c){if(47===r.charCodeAt(h+u))return r.slice(h+u+1);if(0===u)return r.slice(h+u)}else s>c&&(47===t.charCodeAt(i+u)?f=u:0===u&&(f=0));break}var l=t.charCodeAt(i+u);if(l!==r.charCodeAt(h+u))break;47===l&&(f=u)}var g=\"\";for(u=i+f+1;u<=o;++u)u!==o&&47!==t.charCodeAt(u)||(0===g.length?g+=\"..\":g+=\"/..\");return g.length>0?g+r.slice(h+f):(h+=f,47===r.charCodeAt(h)&&++h,r.slice(h))},_makeLong:function(t){return t},dirname:function(t){if(e(t),0===t.length)return\".\";for(var r=t.charCodeAt(0),n=47===r,i=-1,o=!0,s=t.length-1;s>=1;--s)if(47===(r=t.charCodeAt(s))){if(!o){i=s;break}}else o=!1;return-1===i?n?\"/\":\".\":n&&1===i?\"//\":t.slice(0,i)},basename:function(t,r){if(void 0!==r&&\"string\"!=typeof r)throw new TypeError('\"ext\" argument must be a string');e(t);var n,i=0,o=-1,s=!0;if(void 0!==r&&r.length>0&&r.length<=t.length){if(r.length===t.length&&r===t)return\"\";var h=r.length-1,a=-1;for(n=t.length-1;n>=0;--n){var c=t.charCodeAt(n);if(47===c){if(!s){i=n+1;break}}else-1===a&&(s=!1,a=n+1),h>=0&&(c===r.charCodeAt(h)?-1==--h&&(o=n):(h=-1,o=a))}return i===o?o=a:-1===o&&(o=t.length),t.slice(i,o)}for(n=t.length-1;n>=0;--n)if(47===t.charCodeAt(n)){if(!s){i=n+1;break}}else-1===o&&(s=!1,o=n+1);return-1===o?\"\":t.slice(i,o)},extname:function(t){e(t);for(var r=-1,n=0,i=-1,o=!0,s=0,h=t.length-1;h>=0;--h){var a=t.charCodeAt(h);if(47!==a)-1===i&&(o=!1,i=h+1),46===a?-1===r?r=h:1!==s&&(s=1):-1!==r&&(s=-1);else if(!o){n=h+1;break}}return-1===r||-1===i||0===s||1===s&&r===i-1&&r===n+1?\"\":t.slice(r,i)},format:function(t){if(null===t||\"object\"!=typeof t)throw new TypeError('The \"pathObject\" argument must be of type Object. Received type '+typeof t);return function(t,e){var r=e.dir||e.root,n=e.base||(e.name||\"\")+(e.ext||\"\");return r?r===e.root?r+n:r+\"/\"+n:n}(0,t)},parse:function(t){e(t);var r={root:\"\",dir:\"\",base:\"\",ext:\"\",name:\"\"};if(0===t.length)return r;var n,i=t.charCodeAt(0),o=47===i;o?(r.root=\"/\",n=1):n=0;for(var s=-1,h=0,a=-1,c=!0,f=t.length-1,u=0;f>=n;--f)if(47!==(i=t.charCodeAt(f)))-1===a&&(c=!1,a=f+1),46===i?-1===s?s=f:1!==u&&(u=1):-1!==s&&(u=-1);else if(!c){h=f+1;break}return-1===s||-1===a||0===u||1===u&&s===a-1&&s===h+1?-1!==a&&(r.base=r.name=0===h&&o?t.slice(1,a):t.slice(h,a)):(0===h&&o?(r.name=t.slice(1,s),r.base=t.slice(1,a)):(r.name=t.slice(h,s),r.base=t.slice(h,a)),r.ext=t.slice(s,a)),h>0?r.dir=t.slice(0,h-1):o&&(r.dir=\"/\"),r},sep:\"/\",delimiter:\":\",win32:null,posix:null};n.posix=n,t.exports=n}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,r),o.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})};var n={};(()=>{let t;if(r.r(n),r.d(n,{URI:()=>f,Utils:()=>P}),\"object\"==typeof process)t=\"win32\"===process.platform;else if(\"object\"==typeof navigator){let e=navigator.userAgent;t=e.indexOf(\"Windows\")>=0}const e=/^\\w[\\w\\d+.-]*$/,i=/^\\//,o=/^\\/\\//;function s(t,r){if(!t.scheme&&r)throw new Error(`[UriError]: Scheme is missing: {scheme: \"\", authority: \"${t.authority}\", path: \"${t.path}\", query: \"${t.query}\", fragment: \"${t.fragment}\"}`);if(t.scheme&&!e.test(t.scheme))throw new Error(\"[UriError]: Scheme contains illegal characters.\");if(t.path)if(t.authority){if(!i.test(t.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash (\"/\") character')}else if(o.test(t.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters (\"//\")')}const h=\"\",a=\"/\",c=/^(([^:/?#]+?):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?/;class f{static isUri(t){return t instanceof f||!!t&&\"string\"==typeof t.authority&&\"string\"==typeof t.fragment&&\"string\"==typeof t.path&&\"string\"==typeof t.query&&\"string\"==typeof t.scheme&&\"string\"==typeof t.fsPath&&\"function\"==typeof t.with&&\"function\"==typeof t.toString}scheme;authority;path;query;fragment;constructor(t,e,r,n,i,o=!1){\"object\"==typeof t?(this.scheme=t.scheme||h,this.authority=t.authority||h,this.path=t.path||h,this.query=t.query||h,this.fragment=t.fragment||h):(this.scheme=function(t,e){return t||e?t:\"file\"}(t,o),this.authority=e||h,this.path=function(t,e){switch(t){case\"https\":case\"http\":case\"file\":e?e[0]!==a&&(e=a+e):e=a}return e}(this.scheme,r||h),this.query=n||h,this.fragment=i||h,s(this,o))}get fsPath(){return m(this,!1)}with(t){if(!t)return this;let{scheme:e,authority:r,path:n,query:i,fragment:o}=t;return void 0===e?e=this.scheme:null===e&&(e=h),void 0===r?r=this.authority:null===r&&(r=h),void 0===n?n=this.path:null===n&&(n=h),void 0===i?i=this.query:null===i&&(i=h),void 0===o?o=this.fragment:null===o&&(o=h),e===this.scheme&&r===this.authority&&n===this.path&&i===this.query&&o===this.fragment?this:new l(e,r,n,i,o)}static parse(t,e=!1){const r=c.exec(t);return r?new l(r[2]||h,C(r[4]||h),C(r[5]||h),C(r[7]||h),C(r[9]||h),e):new l(h,h,h,h,h)}static file(e){let r=h;if(t&&(e=e.replace(/\\\\/g,a)),e[0]===a&&e[1]===a){const t=e.indexOf(a,2);-1===t?(r=e.substring(2),e=a):(r=e.substring(2,t),e=e.substring(t)||a)}return new l(\"file\",r,e,h,h)}static from(t){const e=new l(t.scheme,t.authority,t.path,t.query,t.fragment);return s(e,!0),e}toString(t=!1){return y(this,t)}toJSON(){return this}static revive(t){if(t){if(t instanceof f)return t;{const e=new l(t);return e._formatted=t.external,e._fsPath=t._sep===u?t.fsPath:null,e}}return t}}const u=t?1:void 0;class l extends f{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=m(this,!1)),this._fsPath}toString(t=!1){return t?y(this,!0):(this._formatted||(this._formatted=y(this,!1)),this._formatted)}toJSON(){const t={$mid:1};return this._fsPath&&(t.fsPath=this._fsPath,t._sep=u),this._formatted&&(t.external=this._formatted),this.path&&(t.path=this.path),this.scheme&&(t.scheme=this.scheme),this.authority&&(t.authority=this.authority),this.query&&(t.query=this.query),this.fragment&&(t.fragment=this.fragment),t}}const g={58:\"%3A\",47:\"%2F\",63:\"%3F\",35:\"%23\",91:\"%5B\",93:\"%5D\",64:\"%40\",33:\"%21\",36:\"%24\",38:\"%26\",39:\"%27\",40:\"%28\",41:\"%29\",42:\"%2A\",43:\"%2B\",44:\"%2C\",59:\"%3B\",61:\"%3D\",32:\"%20\"};function d(t,e,r){let n,i=-1;for(let o=0;o<t.length;o++){const s=t.charCodeAt(o);if(s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||45===s||46===s||95===s||126===s||e&&47===s||r&&91===s||r&&93===s||r&&58===s)-1!==i&&(n+=encodeURIComponent(t.substring(i,o)),i=-1),void 0!==n&&(n+=t.charAt(o));else{void 0===n&&(n=t.substr(0,o));const e=g[s];void 0!==e?(-1!==i&&(n+=encodeURIComponent(t.substring(i,o)),i=-1),n+=e):-1===i&&(i=o)}}return-1!==i&&(n+=encodeURIComponent(t.substring(i))),void 0!==n?n:t}function p(t){let e;for(let r=0;r<t.length;r++){const n=t.charCodeAt(r);35===n||63===n?(void 0===e&&(e=t.substr(0,r)),e+=g[n]):void 0!==e&&(e+=t[r])}return void 0!==e?e:t}function m(e,r){let n;return n=e.authority&&e.path.length>1&&\"file\"===e.scheme?`//${e.authority}${e.path}`:47===e.path.charCodeAt(0)&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&58===e.path.charCodeAt(2)?r?e.path.substr(1):e.path[1].toLowerCase()+e.path.substr(2):e.path,t&&(n=n.replace(/\\//g,\"\\\\\")),n}function y(t,e){const r=e?p:d;let n=\"\",{scheme:i,authority:o,path:s,query:h,fragment:c}=t;if(i&&(n+=i,n+=\":\"),(o||\"file\"===i)&&(n+=a,n+=a),o){let t=o.indexOf(\"@\");if(-1!==t){const e=o.substr(0,t);o=o.substr(t+1),t=e.lastIndexOf(\":\"),-1===t?n+=r(e,!1,!1):(n+=r(e.substr(0,t),!1,!1),n+=\":\",n+=r(e.substr(t+1),!1,!0)),n+=\"@\"}o=o.toLowerCase(),t=o.lastIndexOf(\":\"),-1===t?n+=r(o,!1,!0):(n+=r(o.substr(0,t),!1,!0),n+=o.substr(t))}if(s){if(s.length>=3&&47===s.charCodeAt(0)&&58===s.charCodeAt(2)){const t=s.charCodeAt(1);t>=65&&t<=90&&(s=`/${String.fromCharCode(t+32)}:${s.substr(3)}`)}else if(s.length>=2&&58===s.charCodeAt(1)){const t=s.charCodeAt(0);t>=65&&t<=90&&(s=`${String.fromCharCode(t+32)}:${s.substr(2)}`)}n+=r(s,!0,!1)}return h&&(n+=\"?\",n+=r(h,!1,!1)),c&&(n+=\"#\",n+=e?c:d(c,!1,!1)),n}function v(t){try{return decodeURIComponent(t)}catch{return t.length>3?t.substr(0,3)+v(t.substr(3)):t}}const b=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function C(t){return t.match(b)?t.replace(b,(t=>v(t))):t}var A=r(470);const w=A.posix||A,x=\"/\";var P;!function(t){t.joinPath=function(t,...e){return t.with({path:w.join(t.path,...e)})},t.resolvePath=function(t,...e){let r=t.path,n=!1;r[0]!==x&&(r=x+r,n=!0);let i=w.resolve(r,...e);return n&&i[0]===x&&!t.authority&&(i=i.substring(1)),t.with({path:i})},t.dirname=function(t){if(0===t.path.length||t.path===x)return t;let e=w.dirname(t.path);return 1===e.length&&46===e.charCodeAt(0)&&(e=\"\"),t.with({path:e})},t.basename=function(t){return w.basename(t.path)},t.extname=function(t){return w.extname(t.path)}}(P||(P={}))})(),LIB=n})();export const{URI,Utils}=LIB;\n//# sourceMappingURL=index.mjs.map","import baseRest from './_baseRest.js';\nimport eq from './eq.js';\nimport isIterateeCall from './_isIterateeCall.js';\nimport keysIn from './keysIn.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns own and inherited enumerable string keyed properties of source\n * objects to the destination object for all destination properties that\n * resolve to `undefined`. Source objects are applied from left to right.\n * Once a property is set, additional values of the same property are ignored.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.defaultsDeep\n * @example\n *\n * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n * // => { 'a': 1, 'b': 2 }\n */\nvar defaults = baseRest(function(object, sources) {\n  object = Object(object);\n\n  var index = -1;\n  var length = sources.length;\n  var guard = length > 2 ? sources[2] : undefined;\n\n  if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n    length = 1;\n  }\n\n  while (++index < length) {\n    var source = sources[index];\n    var props = keysIn(source);\n    var propsIndex = -1;\n    var propsLength = props.length;\n\n    while (++propsIndex < propsLength) {\n      var key = props[propsIndex];\n      var value = object[key];\n\n      if (value === undefined ||\n          (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        object[key] = source[key];\n      }\n    }\n  }\n\n  return object;\n});\n\nexport default defaults;\n","const formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: \"less than a second\",\n    other: \"less than {{count}} seconds\",\n  },\n\n  xSeconds: {\n    one: \"1 second\",\n    other: \"{{count}} seconds\",\n  },\n\n  halfAMinute: \"half a minute\",\n\n  lessThanXMinutes: {\n    one: \"less than a minute\",\n    other: \"less than {{count}} minutes\",\n  },\n\n  xMinutes: {\n    one: \"1 minute\",\n    other: \"{{count}} minutes\",\n  },\n\n  aboutXHours: {\n    one: \"about 1 hour\",\n    other: \"about {{count}} hours\",\n  },\n\n  xHours: {\n    one: \"1 hour\",\n    other: \"{{count}} hours\",\n  },\n\n  xDays: {\n    one: \"1 day\",\n    other: \"{{count}} days\",\n  },\n\n  aboutXWeeks: {\n    one: \"about 1 week\",\n    other: \"about {{count}} weeks\",\n  },\n\n  xWeeks: {\n    one: \"1 week\",\n    other: \"{{count}} weeks\",\n  },\n\n  aboutXMonths: {\n    one: \"about 1 month\",\n    other: \"about {{count}} months\",\n  },\n\n  xMonths: {\n    one: \"1 month\",\n    other: \"{{count}} months\",\n  },\n\n  aboutXYears: {\n    one: \"about 1 year\",\n    other: \"about {{count}} years\",\n  },\n\n  xYears: {\n    one: \"1 year\",\n    other: \"{{count}} years\",\n  },\n\n  overXYears: {\n    one: \"over 1 year\",\n    other: \"over {{count}} years\",\n  },\n\n  almostXYears: {\n    one: \"almost 1 year\",\n    other: \"almost {{count}} years\",\n  },\n};\n\nexport const formatDistance = (token, count, options) => {\n  let result;\n\n  const tokenValue = formatDistanceLocale[token];\n  if (typeof tokenValue === \"string\") {\n    result = tokenValue;\n  } else if (count === 1) {\n    result = tokenValue.one;\n  } else {\n    result = tokenValue.other.replace(\"{{count}}\", count.toString());\n  }\n\n  if (options?.addSuffix) {\n    if (options.comparison && options.comparison > 0) {\n      return \"in \" + result;\n    } else {\n      return result + \" ago\";\n    }\n  }\n\n  return result;\n};\n","export function buildFormatLongFn(args) {\n  return (options = {}) => {\n    // TODO: Remove String()\n    const width = options.width ? String(options.width) : args.defaultWidth;\n    const format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}\n","import { buildFormatLongFn } from \"../../_lib/buildFormatLongFn.mjs\";\n\nconst dateFormats = {\n  full: \"EEEE, MMMM do, y\",\n  long: \"MMMM do, y\",\n  medium: \"MMM d, y\",\n  short: \"MM/dd/yyyy\",\n};\n\nconst timeFormats = {\n  full: \"h:mm:ss a zzzz\",\n  long: \"h:mm:ss a z\",\n  medium: \"h:mm:ss a\",\n  short: \"h:mm a\",\n};\n\nconst dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: \"{{date}}, {{time}}\",\n  short: \"{{date}}, {{time}}\",\n};\n\nexport const formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: \"full\",\n  }),\n\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: \"full\",\n  }),\n\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: \"full\",\n  }),\n};\n","const formatRelativeLocale = {\n  lastWeek: \"'last' eeee 'at' p\",\n  yesterday: \"'yesterday at' p\",\n  today: \"'today at' p\",\n  tomorrow: \"'tomorrow at' p\",\n  nextWeek: \"eeee 'at' p\",\n  other: \"P\",\n};\n\nexport const formatRelative = (token, _date, _baseDate, _options) =>\n  formatRelativeLocale[token];\n","/* eslint-disable no-unused-vars */\n\n/**\n * The localize function argument callback which allows to convert raw value to\n * the actual type.\n *\n * @param value - The value to convert\n *\n * @returns The converted value\n */\n\n/**\n * The map of localized values for each width.\n */\n\n/**\n * The index type of the locale unit value. It types conversion of units of\n * values that don't start at 0 (i.e. quarters).\n */\n\n/**\n * Converts the unit value to the tuple of values.\n */\n\n/**\n * The tuple of localized era values. The first element represents BC,\n * the second element represents AD.\n */\n\n/**\n * The tuple of localized quarter values. The first element represents Q1.\n */\n\n/**\n * The tuple of localized day values. The first element represents Sunday.\n */\n\n/**\n * The tuple of localized month values. The first element represents January.\n */\n\nexport function buildLocalizeFn(args) {\n  return (value, options) => {\n    const context = options?.context ? String(options.context) : \"standalone\";\n\n    let valuesArray;\n    if (context === \"formatting\" && args.formattingValues) {\n      const defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      const width = options?.width ? String(options.width) : defaultWidth;\n\n      valuesArray =\n        args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      const defaultWidth = args.defaultWidth;\n      const width = options?.width ? String(options.width) : args.defaultWidth;\n\n      valuesArray = args.values[width] || args.values[defaultWidth];\n    }\n    const index = args.argumentCallback ? args.argumentCallback(value) : value;\n\n    // @ts-expect-error - For some reason TypeScript just don't want to match it, no matter how hard we try. I challenge you to try to remove it!\n    return valuesArray[index];\n  };\n}\n","export function buildMatchFn(args) {\n  return (string, options = {}) => {\n    const width = options.width;\n\n    const matchPattern =\n      (width && args.matchPatterns[width]) ||\n      args.matchPatterns[args.defaultMatchWidth];\n    const matchResult = string.match(matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n    const matchedString = matchResult[0];\n\n    const parsePatterns =\n      (width && args.parsePatterns[width]) ||\n      args.parsePatterns[args.defaultParseWidth];\n\n    const key = Array.isArray(parsePatterns)\n      ? findIndex(parsePatterns, (pattern) => pattern.test(matchedString))\n      : // eslint-disable-next-line @typescript-eslint/no-explicit-any -- I challange you to fix the type\n        findKey(parsePatterns, (pattern) => pattern.test(matchedString));\n\n    let value;\n\n    value = args.valueCallback ? args.valueCallback(key) : key;\n    value = options.valueCallback\n      ? // eslint-disable-next-line @typescript-eslint/no-explicit-any -- I challange you to fix the type\n        options.valueCallback(value)\n      : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n\nfunction findKey(object, predicate) {\n  for (const key in object) {\n    if (\n      Object.prototype.hasOwnProperty.call(object, key) &&\n      predicate(object[key])\n    ) {\n      return key;\n    }\n  }\n  return undefined;\n}\n\nfunction findIndex(array, predicate) {\n  for (let key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n  return undefined;\n}\n","export function buildMatchPatternFn(args) {\n  return (string, options = {}) => {\n    const matchResult = string.match(args.matchPattern);\n    if (!matchResult) return null;\n    const matchedString = matchResult[0];\n\n    const parseResult = string.match(args.parsePattern);\n    if (!parseResult) return null;\n    let value = args.valueCallback\n      ? args.valueCallback(parseResult[0])\n      : parseResult[0];\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any -- I challange you to fix the type\n    value = options.valueCallback ? options.valueCallback(value) : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n","import { formatDistance } from \"./en-US/_lib/formatDistance.mjs\";\nimport { formatLong } from \"./en-US/_lib/formatLong.mjs\";\nimport { formatRelative } from \"./en-US/_lib/formatRelative.mjs\";\nimport { localize } from \"./en-US/_lib/localize.mjs\";\nimport { match } from \"./en-US/_lib/match.mjs\";\n\n/**\n * @category Locales\n * @summary English locale (United States).\n * @language English\n * @iso-639-2 eng\n * @author Sasha Koss [@kossnocorp](https://github.com/kossnocorp)\n * @author Lesha Koss [@leshakoss](https://github.com/leshakoss)\n */\nexport const enUS = {\n  code: \"en-US\",\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 0 /* Sunday */,\n    firstWeekContainsDate: 1,\n  },\n};\n\n// Fallback for modularized imports:\nexport default enUS;\n","import { buildLocalizeFn } from \"../../_lib/buildLocalizeFn.mjs\";\n\nconst eraValues = {\n  narrow: [\"B\", \"A\"],\n  abbreviated: [\"BC\", \"AD\"],\n  wide: [\"Before Christ\", \"Anno Domini\"],\n};\n\nconst quarterValues = {\n  narrow: [\"1\", \"2\", \"3\", \"4\"],\n  abbreviated: [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],\n  wide: [\"1st quarter\", \"2nd quarter\", \"3rd quarter\", \"4th quarter\"],\n};\n\n// Note: in English, the names of days of the week and months are capitalized.\n// If you are making a new locale based on this one, check if the same is true for the language you're working on.\n// Generally, formatted dates should look like they are in the middle of a sentence,\n// e.g. in Spanish language the weekdays and months should be in the lowercase.\nconst monthValues = {\n  narrow: [\"J\", \"F\", \"M\", \"A\", \"M\", \"J\", \"J\", \"A\", \"S\", \"O\", \"N\", \"D\"],\n  abbreviated: [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"Jun\",\n    \"Jul\",\n    \"Aug\",\n    \"Sep\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\",\n  ],\n\n  wide: [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\",\n  ],\n};\n\nconst dayValues = {\n  narrow: [\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"],\n  short: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"],\n  abbreviated: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  wide: [\n    \"Sunday\",\n    \"Monday\",\n    \"Tuesday\",\n    \"Wednesday\",\n    \"Thursday\",\n    \"Friday\",\n    \"Saturday\",\n  ],\n};\n\nconst dayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n};\n\nconst formattingDayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n};\n\nconst ordinalNumber = (dirtyNumber, _options) => {\n  const number = Number(dirtyNumber);\n\n  // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`.\n  //\n  // `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'.\n\n  const rem100 = number % 100;\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + \"st\";\n      case 2:\n        return number + \"nd\";\n      case 3:\n        return number + \"rd\";\n    }\n  }\n  return number + \"th\";\n};\n\nexport const localize = {\n  ordinalNumber,\n\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: \"wide\",\n  }),\n\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: \"wide\",\n    argumentCallback: (quarter) => quarter - 1,\n  }),\n\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: \"wide\",\n  }),\n\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: \"wide\",\n  }),\n\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: \"wide\",\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: \"wide\",\n  }),\n};\n","import { buildMatchFn } from \"../../_lib/buildMatchFn.mjs\";\nimport { buildMatchPatternFn } from \"../../_lib/buildMatchPatternFn.mjs\";\n\nconst matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nconst parseOrdinalNumberPattern = /\\d+/i;\n\nconst matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i,\n};\nconst parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i],\n};\n\nconst matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i,\n};\nconst parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i],\n};\n\nconst matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i,\n};\nconst parseMonthPatterns = {\n  narrow: [\n    /^j/i,\n    /^f/i,\n    /^m/i,\n    /^a/i,\n    /^m/i,\n    /^j/i,\n    /^j/i,\n    /^a/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n\n  any: [\n    /^ja/i,\n    /^f/i,\n    /^mar/i,\n    /^ap/i,\n    /^may/i,\n    /^jun/i,\n    /^jul/i,\n    /^au/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n};\n\nconst matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i,\n};\nconst parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i],\n};\n\nconst matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i,\n};\nconst parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i,\n  },\n};\n\nexport const match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: (value) => parseInt(value, 10),\n  }),\n\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: \"any\",\n    valueCallback: (index) => index + 1,\n  }),\n\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: \"any\",\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: \"any\",\n  }),\n};\n","let defaultOptions = {};\n\nexport function getDefaultOptions() {\n  return defaultOptions;\n}\n\nexport function setDefaultOptions(newOptions) {\n  defaultOptions = newOptions;\n}\n","/**\n * @module constants\n * @summary Useful constants\n * @description\n * Collection of useful date constants.\n *\n * The constants could be imported from `date-fns/constants`:\n *\n * ```ts\n * import { maxTime, minTime } from \"./constants/date-fns/constants\";\n *\n * function isAllowedTime(time) {\n *   return time <= maxTime && time >= minTime;\n * }\n * ```\n */\n\n/**\n * @constant\n * @name daysInWeek\n * @summary Days in 1 week.\n */\nexport const daysInWeek = 7;\n\n/**\n * @constant\n * @name daysInYear\n * @summary Days in 1 year.\n *\n * @description\n * How many days in a year.\n *\n * One years equals 365.2425 days according to the formula:\n *\n * > Leap year occures every 4 years, except for years that are divisable by 100 and not divisable by 400.\n * > 1 mean year = (365+1/4-1/100+1/400) days = 365.2425 days\n */\nexport const daysInYear = 365.2425;\n\n/**\n * @constant\n * @name maxTime\n * @summary Maximum allowed time.\n *\n * @example\n * import { maxTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = 8640000000000001 <= maxTime;\n * //=> false\n *\n * new Date(8640000000000001);\n * //=> Invalid Date\n */\nexport const maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1000;\n\n/**\n * @constant\n * @name minTime\n * @summary Minimum allowed time.\n *\n * @example\n * import { minTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = -8640000000000001 >= minTime;\n * //=> false\n *\n * new Date(-8640000000000001)\n * //=> Invalid Date\n */\nexport const minTime = -maxTime;\n\n/**\n * @constant\n * @name millisecondsInWeek\n * @summary Milliseconds in 1 week.\n */\nexport const millisecondsInWeek = 604800000;\n\n/**\n * @constant\n * @name millisecondsInDay\n * @summary Milliseconds in 1 day.\n */\nexport const millisecondsInDay = 86400000;\n\n/**\n * @constant\n * @name millisecondsInMinute\n * @summary Milliseconds in 1 minute\n */\nexport const millisecondsInMinute = 60000;\n\n/**\n * @constant\n * @name millisecondsInHour\n * @summary Milliseconds in 1 hour\n */\nexport const millisecondsInHour = 3600000;\n\n/**\n * @constant\n * @name millisecondsInSecond\n * @summary Milliseconds in 1 second\n */\nexport const millisecondsInSecond = 1000;\n\n/**\n * @constant\n * @name minutesInYear\n * @summary Minutes in 1 year.\n */\nexport const minutesInYear = 525600;\n\n/**\n * @constant\n * @name minutesInMonth\n * @summary Minutes in 1 month.\n */\nexport const minutesInMonth = 43200;\n\n/**\n * @constant\n * @name minutesInDay\n * @summary Minutes in 1 day.\n */\nexport const minutesInDay = 1440;\n\n/**\n * @constant\n * @name minutesInHour\n * @summary Minutes in 1 hour.\n */\nexport const minutesInHour = 60;\n\n/**\n * @constant\n * @name monthsInQuarter\n * @summary Months in 1 quarter.\n */\nexport const monthsInQuarter = 3;\n\n/**\n * @constant\n * @name monthsInYear\n * @summary Months in 1 year.\n */\nexport const monthsInYear = 12;\n\n/**\n * @constant\n * @name quartersInYear\n * @summary Quarters in 1 year\n */\nexport const quartersInYear = 4;\n\n/**\n * @constant\n * @name secondsInHour\n * @summary Seconds in 1 hour.\n */\nexport const secondsInHour = 3600;\n\n/**\n * @constant\n * @name secondsInMinute\n * @summary Seconds in 1 minute.\n */\nexport const secondsInMinute = 60;\n\n/**\n * @constant\n * @name secondsInDay\n * @summary Seconds in 1 day.\n */\nexport const secondsInDay = secondsInHour * 24;\n\n/**\n * @constant\n * @name secondsInWeek\n * @summary Seconds in 1 week.\n */\nexport const secondsInWeek = secondsInDay * 7;\n\n/**\n * @constant\n * @name secondsInYear\n * @summary Seconds in 1 year.\n */\nexport const secondsInYear = secondsInDay * daysInYear;\n\n/**\n * @constant\n * @name secondsInMonth\n * @summary Seconds in 1 month\n */\nexport const secondsInMonth = secondsInYear / 12;\n\n/**\n * @constant\n * @name secondsInQuarter\n * @summary Seconds in 1 quarter.\n */\nexport const secondsInQuarter = secondsInMonth * 3;\n","/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param argument - The value to convert\n *\n * @returns The parsed date in the local time zone\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nexport function toDate(argument) {\n  const argStr = Object.prototype.toString.call(argument);\n\n  // Clone the date\n  if (\n    argument instanceof Date ||\n    (typeof argument === \"object\" && argStr === \"[object Date]\")\n  ) {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new argument.constructor(+argument);\n  } else if (\n    typeof argument === \"number\" ||\n    argStr === \"[object Number]\" ||\n    typeof argument === \"string\" ||\n    argStr === \"[object String]\"\n  ) {\n    // TODO: Can we get rid of as?\n    return new Date(argument);\n  } else {\n    // TODO: Can we get rid of as?\n    return new Date(NaN);\n  }\n}\n\n// Fallback for modularized imports:\nexport default toDate;\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name startOfDay\n * @category Day Helpers\n * @summary Return the start of a day for the given date.\n *\n * @description\n * Return the start of a day for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of a day\n *\n * @example\n * // The start of a day for 2 September 2014 11:55:00:\n * const result = startOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 00:00:00\n */\nexport function startOfDay(date) {\n  const _date = toDate(date);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfDay;\n","import { toDate } from \"../toDate.mjs\";\n\n/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\nexport function getTimezoneOffsetInMilliseconds(date) {\n  const _date = toDate(date);\n  const utcDate = new Date(\n    Date.UTC(\n      _date.getFullYear(),\n      _date.getMonth(),\n      _date.getDate(),\n      _date.getHours(),\n      _date.getMinutes(),\n      _date.getSeconds(),\n      _date.getMilliseconds(),\n    ),\n  );\n  utcDate.setUTCFullYear(_date.getFullYear());\n  return +date - +utcDate;\n}\n","import { millisecondsInDay } from \"./constants.mjs\";\nimport { startOfDay } from \"./startOfDay.mjs\";\nimport { getTimezoneOffsetInMilliseconds } from \"./_lib/getTimezoneOffsetInMilliseconds.mjs\";\n\n/**\n * @name differenceInCalendarDays\n * @category Day Helpers\n * @summary Get the number of calendar days between the given dates.\n *\n * @description\n * Get the number of calendar days between the given dates. This means that the times are removed\n * from the dates and then the difference in days is calculated.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n *\n * @returns The number of calendar days\n *\n * @example\n * // How many calendar days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * const result = differenceInCalendarDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 366\n * // How many calendar days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * const result = differenceInCalendarDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 1\n */\nexport function differenceInCalendarDays(dateLeft, dateRight) {\n  const startOfDayLeft = startOfDay(dateLeft);\n  const startOfDayRight = startOfDay(dateRight);\n\n  const timestampLeft =\n    +startOfDayLeft - getTimezoneOffsetInMilliseconds(startOfDayLeft);\n  const timestampRight =\n    +startOfDayRight - getTimezoneOffsetInMilliseconds(startOfDayRight);\n\n  // Round the number of days to the nearest integer because the number of\n  // milliseconds in a day is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round((timestampLeft - timestampRight) / millisecondsInDay);\n}\n\n// Fallback for modularized imports:\nexport default differenceInCalendarDays;\n","/**\n * @name constructFrom\n * @category Generic Helpers\n * @summary Constructs a date using the reference date and the value\n *\n * @description\n * The function constructs a new date using the constructor from the reference\n * date and the given value. It helps to build generic functions that accept\n * date extensions.\n *\n * It defaults to `Date` if the passed reference date is a number or a string.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The reference date to take constructor from\n * @param value - The value to create the date\n *\n * @returns Date initialized using the given date and value\n *\n * @example\n * import { constructFrom } from 'date-fns'\n *\n * // A function that clones a date preserving the original type\n * function cloneDate<DateType extends Date(date: DateType): DateType {\n *   return constructFrom(\n *     date, // Use contrustor from the given date\n *     date.getTime() // Use the date value to create a new date\n *   )\n * }\n */\nexport function constructFrom(date, value) {\n  if (date instanceof Date) {\n    return new date.constructor(value);\n  } else {\n    return new Date(value);\n  }\n}\n\n// Fallback for modularized imports:\nexport default constructFrom;\n","import { toDate } from \"./toDate.mjs\";\nimport { constructFrom } from \"./constructFrom.mjs\";\n\n/**\n * @name startOfYear\n * @category Year Helpers\n * @summary Return the start of a year for the given date.\n *\n * @description\n * Return the start of a year for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of a year\n *\n * @example\n * // The start of a year for 2 September 2014 11:55:00:\n * const result = startOfYear(new Date(2014, 8, 2, 11, 55, 00))\n * //=> Wed Jan 01 2014 00:00:00\n */\nexport function startOfYear(date) {\n  const cleanDate = toDate(date);\n  const _date = constructFrom(date, 0);\n  _date.setFullYear(cleanDate.getFullYear(), 0, 1);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfYear;\n","import { differenceInCalendarDays } from \"./differenceInCalendarDays.mjs\";\nimport { startOfYear } from \"./startOfYear.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name getDayOfYear\n * @category Day Helpers\n * @summary Get the day of the year of the given date.\n *\n * @description\n * Get the day of the year of the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n *\n * @returns The day of year\n *\n * @example\n * // Which day of the year is 2 July 2014?\n * const result = getDayOfYear(new Date(2014, 6, 2))\n * //=> 183\n */\nexport function getDayOfYear(date) {\n  const _date = toDate(date);\n  const diff = differenceInCalendarDays(_date, startOfYear(_date));\n  const dayOfYear = diff + 1;\n  return dayOfYear;\n}\n\n// Fallback for modularized imports:\nexport default getDayOfYear;\n","import { toDate } from \"./toDate.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\n\n/**\n * The {@link startOfWeek} function options.\n */\n\n/**\n * @name startOfWeek\n * @category Week Helpers\n * @summary Return the start of a week for the given date.\n *\n * @description\n * Return the start of a week for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a week\n *\n * @example\n * // The start of a week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sun Aug 31 2014 00:00:00\n *\n * @example\n * // If the week starts on Monday, the start of the week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0), { weekStartsOn: 1 })\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfWeek(date, options) {\n  const defaultOptions = getDefaultOptions();\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const _date = toDate(date);\n  const day = _date.getDay();\n  const diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n\n  _date.setDate(_date.getDate() - diff);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfWeek;\n","import { startOfWeek } from \"./startOfWeek.mjs\";\n\n/**\n * @name startOfISOWeek\n * @category ISO Week Helpers\n * @summary Return the start of an ISO week for the given date.\n *\n * @description\n * Return the start of an ISO week for the given date.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of an ISO week\n *\n * @example\n * // The start of an ISO week for 2 September 2014 11:55:00:\n * const result = startOfISOWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfISOWeek(date) {\n  return startOfWeek(date, { weekStartsOn: 1 });\n}\n\n// Fallback for modularized imports:\nexport default startOfISOWeek;\n","import { constructFrom } from \"./constructFrom.mjs\";\nimport { startOfISOWeek } from \"./startOfISOWeek.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name getISOWeekYear\n * @category ISO Week-Numbering Year Helpers\n * @summary Get the ISO week-numbering year of the given date.\n *\n * @description\n * Get the ISO week-numbering year of the given date,\n * which always starts 3 days before the year's first Thursday.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n *\n * @returns The ISO week-numbering year\n *\n * @example\n * // Which ISO-week numbering year is 2 January 2005?\n * const result = getISOWeekYear(new Date(2005, 0, 2))\n * //=> 2004\n */\nexport function getISOWeekYear(date) {\n  const _date = toDate(date);\n  const year = _date.getFullYear();\n\n  const fourthOfJanuaryOfNextYear = constructFrom(date, 0);\n  fourthOfJanuaryOfNextYear.setFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setHours(0, 0, 0, 0);\n  const startOfNextYear = startOfISOWeek(fourthOfJanuaryOfNextYear);\n\n  const fourthOfJanuaryOfThisYear = constructFrom(date, 0);\n  fourthOfJanuaryOfThisYear.setFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setHours(0, 0, 0, 0);\n  const startOfThisYear = startOfISOWeek(fourthOfJanuaryOfThisYear);\n\n  if (_date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (_date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\n// Fallback for modularized imports:\nexport default getISOWeekYear;\n","import { getISOWeekYear } from \"./getISOWeekYear.mjs\";\nimport { startOfISOWeek } from \"./startOfISOWeek.mjs\";\nimport { constructFrom } from \"./constructFrom.mjs\";\n\n/**\n * @name startOfISOWeekYear\n * @category ISO Week-Numbering Year Helpers\n * @summary Return the start of an ISO week-numbering year for the given date.\n *\n * @description\n * Return the start of an ISO week-numbering year,\n * which always starts 3 days before the year's first Thursday.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of an ISO week-numbering year\n *\n * @example\n * // The start of an ISO week-numbering year for 2 July 2005:\n * const result = startOfISOWeekYear(new Date(2005, 6, 2))\n * //=> Mon Jan 03 2005 00:00:00\n */\nexport function startOfISOWeekYear(date) {\n  const year = getISOWeekYear(date);\n  const fourthOfJanuary = constructFrom(date, 0);\n  fourthOfJanuary.setFullYear(year, 0, 4);\n  fourthOfJanuary.setHours(0, 0, 0, 0);\n  return startOfISOWeek(fourthOfJanuary);\n}\n\n// Fallback for modularized imports:\nexport default startOfISOWeekYear;\n","import { millisecondsInWeek } from \"./constants.mjs\";\nimport { startOfISOWeek } from \"./startOfISOWeek.mjs\";\nimport { startOfISOWeekYear } from \"./startOfISOWeekYear.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name getISOWeek\n * @category ISO Week Helpers\n * @summary Get the ISO week of the given date.\n *\n * @description\n * Get the ISO week of the given date.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n *\n * @returns The ISO week\n *\n * @example\n * // Which week of the ISO-week numbering year is 2 January 2005?\n * const result = getISOWeek(new Date(2005, 0, 2))\n * //=> 53\n */\nexport function getISOWeek(date) {\n  const _date = toDate(date);\n  const diff = +startOfISOWeek(_date) - +startOfISOWeekYear(_date);\n\n  // Round the number of weeks to the nearest integer because the number of\n  // milliseconds in a week is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round(diff / millisecondsInWeek) + 1;\n}\n\n// Fallback for modularized imports:\nexport default getISOWeek;\n","import { constructFrom } from \"./constructFrom.mjs\";\nimport { startOfWeek } from \"./startOfWeek.mjs\";\nimport { toDate } from \"./toDate.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\n\n/**\n * The {@link getWeekYear} function options.\n */\n\n/**\n * @name getWeekYear\n * @category Week-Numbering Year Helpers\n * @summary Get the local week-numbering year of the given date.\n *\n * @description\n * Get the local week-numbering year of the given date.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n * @param options - An object with options.\n *\n * @returns The local week-numbering year\n *\n * @example\n * // Which week numbering year is 26 December 2004 with the default settings?\n * const result = getWeekYear(new Date(2004, 11, 26))\n * //=> 2005\n *\n * @example\n * // Which week numbering year is 26 December 2004 if week starts on Saturday?\n * const result = getWeekYear(new Date(2004, 11, 26), { weekStartsOn: 6 })\n * //=> 2004\n *\n * @example\n * // Which week numbering year is 26 December 2004 if the first week contains 4 January?\n * const result = getWeekYear(new Date(2004, 11, 26), { firstWeekContainsDate: 4 })\n * //=> 2004\n */\nexport function getWeekYear(date, options) {\n  const _date = toDate(date);\n  const year = _date.getFullYear();\n\n  const defaultOptions = getDefaultOptions();\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const firstWeekOfNextYear = constructFrom(date, 0);\n  firstWeekOfNextYear.setFullYear(year + 1, 0, firstWeekContainsDate);\n  firstWeekOfNextYear.setHours(0, 0, 0, 0);\n  const startOfNextYear = startOfWeek(firstWeekOfNextYear, options);\n\n  const firstWeekOfThisYear = constructFrom(date, 0);\n  firstWeekOfThisYear.setFullYear(year, 0, firstWeekContainsDate);\n  firstWeekOfThisYear.setHours(0, 0, 0, 0);\n  const startOfThisYear = startOfWeek(firstWeekOfThisYear, options);\n\n  if (_date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (_date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\n// Fallback for modularized imports:\nexport default getWeekYear;\n","import { constructFrom } from \"./constructFrom.mjs\";\nimport { getWeekYear } from \"./getWeekYear.mjs\";\nimport { startOfWeek } from \"./startOfWeek.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\n\n/**\n * The {@link startOfWeekYear} function options.\n */\n\n/**\n * @name startOfWeekYear\n * @category Week-Numbering Year Helpers\n * @summary Return the start of a local week-numbering year for the given date.\n *\n * @description\n * Return the start of a local week-numbering year.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a week-numbering year\n *\n * @example\n * // The start of an a week-numbering year for 2 July 2005 with default settings:\n * const result = startOfWeekYear(new Date(2005, 6, 2))\n * //=> Sun Dec 26 2004 00:00:00\n *\n * @example\n * // The start of a week-numbering year for 2 July 2005\n * // if Monday is the first day of week\n * // and 4 January is always in the first week of the year:\n * const result = startOfWeekYear(new Date(2005, 6, 2), {\n *   weekStartsOn: 1,\n *   firstWeekContainsDate: 4\n * })\n * //=> Mon Jan 03 2005 00:00:00\n */\nexport function startOfWeekYear(date, options) {\n  const defaultOptions = getDefaultOptions();\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const year = getWeekYear(date, options);\n  const firstWeek = constructFrom(date, 0);\n  firstWeek.setFullYear(year, 0, firstWeekContainsDate);\n  firstWeek.setHours(0, 0, 0, 0);\n  const _date = startOfWeek(firstWeek, options);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfWeekYear;\n","import { millisecondsInWeek } from \"./constants.mjs\";\nimport { startOfWeek } from \"./startOfWeek.mjs\";\nimport { startOfWeekYear } from \"./startOfWeekYear.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * The {@link getWeek} function options.\n */\n\n/**\n * @name getWeek\n * @category Week Helpers\n * @summary Get the local week index of the given date.\n *\n * @description\n * Get the local week index of the given date.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n * @param options - An object with options\n *\n * @returns The week\n *\n * @example\n * // Which week of the local week numbering year is 2 January 2005 with default options?\n * const result = getWeek(new Date(2005, 0, 2))\n * //=> 2\n *\n * @example\n * // Which week of the local week numbering year is 2 January 2005,\n * // if Monday is the first day of the week,\n * // and the first week of the year always contains 4 January?\n * const result = getWeek(new Date(2005, 0, 2), {\n *   weekStartsOn: 1,\n *   firstWeekContainsDate: 4\n * })\n * //=> 53\n */\n\nexport function getWeek(date, options) {\n  const _date = toDate(date);\n  const diff = +startOfWeek(_date, options) - +startOfWeekYear(_date, options);\n\n  // Round the number of weeks to the nearest integer because the number of\n  // milliseconds in a week is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round(diff / millisecondsInWeek) + 1;\n}\n\n// Fallback for modularized imports:\nexport default getWeek;\n","export function addLeadingZeros(number, targetLength) {\n  const sign = number < 0 ? \"-\" : \"\";\n  const output = Math.abs(number).toString().padStart(targetLength, \"0\");\n  return sign + output;\n}\n","import { addLeadingZeros } from \"../addLeadingZeros.mjs\";\n\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* |                                |\n * |  d  | Day of month                   |  D  |                                |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  m  | Minute                         |  M  | Month                          |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  y  | Year (abs)                     |  Y  |                                |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n */\n\nexport const lightFormatters = {\n  // Year\n  y(date, token) {\n    // From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_tokens\n    // | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n    // |----------|-------|----|-------|-------|-------|\n    // | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n    // | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n    // | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n    // | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n    // | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\n\n    const signedYear = date.getFullYear();\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    const year = signedYear > 0 ? signedYear : 1 - signedYear;\n    return addLeadingZeros(token === \"yy\" ? year % 100 : year, token.length);\n  },\n\n  // Month\n  M(date, token) {\n    const month = date.getMonth();\n    return token === \"M\" ? String(month + 1) : addLeadingZeros(month + 1, 2);\n  },\n\n  // Day of the month\n  d(date, token) {\n    return addLeadingZeros(date.getDate(), token.length);\n  },\n\n  // AM or PM\n  a(date, token) {\n    const dayPeriodEnumValue = date.getHours() / 12 >= 1 ? \"pm\" : \"am\";\n\n    switch (token) {\n      case \"a\":\n      case \"aa\":\n        return dayPeriodEnumValue.toUpperCase();\n      case \"aaa\":\n        return dayPeriodEnumValue;\n      case \"aaaaa\":\n        return dayPeriodEnumValue[0];\n      case \"aaaa\":\n      default:\n        return dayPeriodEnumValue === \"am\" ? \"a.m.\" : \"p.m.\";\n    }\n  },\n\n  // Hour [1-12]\n  h(date, token) {\n    return addLeadingZeros(date.getHours() % 12 || 12, token.length);\n  },\n\n  // Hour [0-23]\n  H(date, token) {\n    return addLeadingZeros(date.getHours(), token.length);\n  },\n\n  // Minute\n  m(date, token) {\n    return addLeadingZeros(date.getMinutes(), token.length);\n  },\n\n  // Second\n  s(date, token) {\n    return addLeadingZeros(date.getSeconds(), token.length);\n  },\n\n  // Fraction of second\n  S(date, token) {\n    const numberOfDigits = token.length;\n    const milliseconds = date.getMilliseconds();\n    const fractionalSeconds = Math.trunc(\n      milliseconds * Math.pow(10, numberOfDigits - 3),\n    );\n    return addLeadingZeros(fractionalSeconds, token.length);\n  },\n};\n","import { getDayOfYear } from \"../../getDayOfYear.mjs\";\nimport { getISOWeek } from \"../../getISOWeek.mjs\";\nimport { getISOWeekYear } from \"../../getISOWeekYear.mjs\";\nimport { getWeek } from \"../../getWeek.mjs\";\nimport { getWeekYear } from \"../../getWeekYear.mjs\";\nimport { addLeadingZeros } from \"../addLeadingZeros.mjs\";\nimport { lightFormatters } from \"./lightFormatters.mjs\";\n\nconst dayPeriodEnum = {\n  am: \"am\",\n  pm: \"pm\",\n  midnight: \"midnight\",\n  noon: \"noon\",\n  morning: \"morning\",\n  afternoon: \"afternoon\",\n  evening: \"evening\",\n  night: \"night\",\n};\n\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n * |  d  | Day of month                   |  D  | Day of year                    |\n * |  e  | Local day of week              |  E  | Day of week                    |\n * |  f  |                                |  F* | Day of week in month           |\n * |  g* | Modified Julian day            |  G  | Era                            |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  i! | ISO day of week                |  I! | ISO week of year               |\n * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n * |  m  | Minute                         |  M  | Month                          |\n * |  n  |                                |  N  |                                |\n * |  o! | Ordinal number modifier        |  O  | Timezone (GMT)                 |\n * |  p! | Long localized time            |  P! | Long localized date            |\n * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n * |  u  | Extended year                  |  U* | Cyclic year                    |\n * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n * |  w  | Local week of year             |  W* | Week of month                  |\n * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n * |  z  | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n *\n * Letters marked by ! are non-standard, but implemented by date-fns:\n * - `o` modifies the previous token to turn it into an ordinal (see `format` docs)\n * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n *   i.e. 7 for Sunday, 1 for Monday, etc.\n * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n *   `R` is supposed to be used in conjunction with `I` and `i`\n *   for universal ISO week-numbering date, whereas\n *   `Y` is supposed to be used in conjunction with `w` and `e`\n *   for week-numbering date specific to the locale.\n * - `P` is long localized date format\n * - `p` is long localized time format\n */\n\nexport const formatters = {\n  // Era\n  G: function (date, token, localize) {\n    const era = date.getFullYear() > 0 ? 1 : 0;\n    switch (token) {\n      // AD, BC\n      case \"G\":\n      case \"GG\":\n      case \"GGG\":\n        return localize.era(era, { width: \"abbreviated\" });\n      // A, B\n      case \"GGGGG\":\n        return localize.era(era, { width: \"narrow\" });\n      // Anno Domini, Before Christ\n      case \"GGGG\":\n      default:\n        return localize.era(era, { width: \"wide\" });\n    }\n  },\n\n  // Year\n  y: function (date, token, localize) {\n    // Ordinal number\n    if (token === \"yo\") {\n      const signedYear = date.getFullYear();\n      // Returns 1 for 1 BC (which is year 0 in JavaScript)\n      const year = signedYear > 0 ? signedYear : 1 - signedYear;\n      return localize.ordinalNumber(year, { unit: \"year\" });\n    }\n\n    return lightFormatters.y(date, token);\n  },\n\n  // Local week-numbering year\n  Y: function (date, token, localize, options) {\n    const signedWeekYear = getWeekYear(date, options);\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    const weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear;\n\n    // Two digit year\n    if (token === \"YY\") {\n      const twoDigitYear = weekYear % 100;\n      return addLeadingZeros(twoDigitYear, 2);\n    }\n\n    // Ordinal number\n    if (token === \"Yo\") {\n      return localize.ordinalNumber(weekYear, { unit: \"year\" });\n    }\n\n    // Padding\n    return addLeadingZeros(weekYear, token.length);\n  },\n\n  // ISO week-numbering year\n  R: function (date, token) {\n    const isoWeekYear = getISOWeekYear(date);\n\n    // Padding\n    return addLeadingZeros(isoWeekYear, token.length);\n  },\n\n  // Extended year. This is a single number designating the year of this calendar system.\n  // The main difference between `y` and `u` localizers are B.C. years:\n  // | Year | `y` | `u` |\n  // |------|-----|-----|\n  // | AC 1 |   1 |   1 |\n  // | BC 1 |   1 |   0 |\n  // | BC 2 |   2 |  -1 |\n  // Also `yy` always returns the last two digits of a year,\n  // while `uu` pads single digit years to 2 characters and returns other years unchanged.\n  u: function (date, token) {\n    const year = date.getFullYear();\n    return addLeadingZeros(year, token.length);\n  },\n\n  // Quarter\n  Q: function (date, token, localize) {\n    const quarter = Math.ceil((date.getMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case \"Q\":\n        return String(quarter);\n      // 01, 02, 03, 04\n      case \"QQ\":\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case \"Qo\":\n        return localize.ordinalNumber(quarter, { unit: \"quarter\" });\n      // Q1, Q2, Q3, Q4\n      case \"QQQ\":\n        return localize.quarter(quarter, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case \"QQQQQ\":\n        return localize.quarter(quarter, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // 1st quarter, 2nd quarter, ...\n      case \"QQQQ\":\n      default:\n        return localize.quarter(quarter, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Stand-alone quarter\n  q: function (date, token, localize) {\n    const quarter = Math.ceil((date.getMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case \"q\":\n        return String(quarter);\n      // 01, 02, 03, 04\n      case \"qq\":\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case \"qo\":\n        return localize.ordinalNumber(quarter, { unit: \"quarter\" });\n      // Q1, Q2, Q3, Q4\n      case \"qqq\":\n        return localize.quarter(quarter, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case \"qqqqq\":\n        return localize.quarter(quarter, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // 1st quarter, 2nd quarter, ...\n      case \"qqqq\":\n      default:\n        return localize.quarter(quarter, {\n          width: \"wide\",\n          context: \"standalone\",\n        });\n    }\n  },\n\n  // Month\n  M: function (date, token, localize) {\n    const month = date.getMonth();\n    switch (token) {\n      case \"M\":\n      case \"MM\":\n        return lightFormatters.M(date, token);\n      // 1st, 2nd, ..., 12th\n      case \"Mo\":\n        return localize.ordinalNumber(month + 1, { unit: \"month\" });\n      // Jan, Feb, ..., Dec\n      case \"MMM\":\n        return localize.month(month, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // J, F, ..., D\n      case \"MMMMM\":\n        return localize.month(month, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // January, February, ..., December\n      case \"MMMM\":\n      default:\n        return localize.month(month, { width: \"wide\", context: \"formatting\" });\n    }\n  },\n\n  // Stand-alone month\n  L: function (date, token, localize) {\n    const month = date.getMonth();\n    switch (token) {\n      // 1, 2, ..., 12\n      case \"L\":\n        return String(month + 1);\n      // 01, 02, ..., 12\n      case \"LL\":\n        return addLeadingZeros(month + 1, 2);\n      // 1st, 2nd, ..., 12th\n      case \"Lo\":\n        return localize.ordinalNumber(month + 1, { unit: \"month\" });\n      // Jan, Feb, ..., Dec\n      case \"LLL\":\n        return localize.month(month, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // J, F, ..., D\n      case \"LLLLL\":\n        return localize.month(month, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // January, February, ..., December\n      case \"LLLL\":\n      default:\n        return localize.month(month, { width: \"wide\", context: \"standalone\" });\n    }\n  },\n\n  // Local week of year\n  w: function (date, token, localize, options) {\n    const week = getWeek(date, options);\n\n    if (token === \"wo\") {\n      return localize.ordinalNumber(week, { unit: \"week\" });\n    }\n\n    return addLeadingZeros(week, token.length);\n  },\n\n  // ISO week of year\n  I: function (date, token, localize) {\n    const isoWeek = getISOWeek(date);\n\n    if (token === \"Io\") {\n      return localize.ordinalNumber(isoWeek, { unit: \"week\" });\n    }\n\n    return addLeadingZeros(isoWeek, token.length);\n  },\n\n  // Day of the month\n  d: function (date, token, localize) {\n    if (token === \"do\") {\n      return localize.ordinalNumber(date.getDate(), { unit: \"date\" });\n    }\n\n    return lightFormatters.d(date, token);\n  },\n\n  // Day of year\n  D: function (date, token, localize) {\n    const dayOfYear = getDayOfYear(date);\n\n    if (token === \"Do\") {\n      return localize.ordinalNumber(dayOfYear, { unit: \"dayOfYear\" });\n    }\n\n    return addLeadingZeros(dayOfYear, token.length);\n  },\n\n  // Day of week\n  E: function (date, token, localize) {\n    const dayOfWeek = date.getDay();\n    switch (token) {\n      // Tue\n      case \"E\":\n      case \"EE\":\n      case \"EEE\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"EEEEE\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"EEEEEE\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"EEEE\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Local day of week\n  e: function (date, token, localize, options) {\n    const dayOfWeek = date.getDay();\n    const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (Nth day of week with current locale or weekStartsOn)\n      case \"e\":\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case \"ee\":\n        return addLeadingZeros(localDayOfWeek, 2);\n      // 1st, 2nd, ..., 7th\n      case \"eo\":\n        return localize.ordinalNumber(localDayOfWeek, { unit: \"day\" });\n      case \"eee\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"eeeee\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"eeeeee\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"eeee\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Stand-alone local day of week\n  c: function (date, token, localize, options) {\n    const dayOfWeek = date.getDay();\n    const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (same as in `e`)\n      case \"c\":\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case \"cc\":\n        return addLeadingZeros(localDayOfWeek, token.length);\n      // 1st, 2nd, ..., 7th\n      case \"co\":\n        return localize.ordinalNumber(localDayOfWeek, { unit: \"day\" });\n      case \"ccc\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // T\n      case \"ccccc\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // Tu\n      case \"cccccc\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"standalone\",\n        });\n      // Tuesday\n      case \"cccc\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"standalone\",\n        });\n    }\n  },\n\n  // ISO day of week\n  i: function (date, token, localize) {\n    const dayOfWeek = date.getDay();\n    const isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;\n    switch (token) {\n      // 2\n      case \"i\":\n        return String(isoDayOfWeek);\n      // 02\n      case \"ii\":\n        return addLeadingZeros(isoDayOfWeek, token.length);\n      // 2nd\n      case \"io\":\n        return localize.ordinalNumber(isoDayOfWeek, { unit: \"day\" });\n      // Tue\n      case \"iii\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"iiiii\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"iiiiii\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"iiii\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // AM or PM\n  a: function (date, token, localize) {\n    const hours = date.getHours();\n    const dayPeriodEnumValue = hours / 12 >= 1 ? \"pm\" : \"am\";\n\n    switch (token) {\n      case \"a\":\n      case \"aa\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"aaa\":\n        return localize\n          .dayPeriod(dayPeriodEnumValue, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          })\n          .toLowerCase();\n      case \"aaaaa\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"aaaa\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // AM, PM, midnight, noon\n  b: function (date, token, localize) {\n    const hours = date.getHours();\n    let dayPeriodEnumValue;\n    if (hours === 12) {\n      dayPeriodEnumValue = dayPeriodEnum.noon;\n    } else if (hours === 0) {\n      dayPeriodEnumValue = dayPeriodEnum.midnight;\n    } else {\n      dayPeriodEnumValue = hours / 12 >= 1 ? \"pm\" : \"am\";\n    }\n\n    switch (token) {\n      case \"b\":\n      case \"bb\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"bbb\":\n        return localize\n          .dayPeriod(dayPeriodEnumValue, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          })\n          .toLowerCase();\n      case \"bbbbb\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"bbbb\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // in the morning, in the afternoon, in the evening, at night\n  B: function (date, token, localize) {\n    const hours = date.getHours();\n    let dayPeriodEnumValue;\n    if (hours >= 17) {\n      dayPeriodEnumValue = dayPeriodEnum.evening;\n    } else if (hours >= 12) {\n      dayPeriodEnumValue = dayPeriodEnum.afternoon;\n    } else if (hours >= 4) {\n      dayPeriodEnumValue = dayPeriodEnum.morning;\n    } else {\n      dayPeriodEnumValue = dayPeriodEnum.night;\n    }\n\n    switch (token) {\n      case \"B\":\n      case \"BB\":\n      case \"BBB\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"BBBBB\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"BBBB\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Hour [1-12]\n  h: function (date, token, localize) {\n    if (token === \"ho\") {\n      let hours = date.getHours() % 12;\n      if (hours === 0) hours = 12;\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return lightFormatters.h(date, token);\n  },\n\n  // Hour [0-23]\n  H: function (date, token, localize) {\n    if (token === \"Ho\") {\n      return localize.ordinalNumber(date.getHours(), { unit: \"hour\" });\n    }\n\n    return lightFormatters.H(date, token);\n  },\n\n  // Hour [0-11]\n  K: function (date, token, localize) {\n    const hours = date.getHours() % 12;\n\n    if (token === \"Ko\") {\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n\n  // Hour [1-24]\n  k: function (date, token, localize) {\n    let hours = date.getHours();\n    if (hours === 0) hours = 24;\n\n    if (token === \"ko\") {\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n\n  // Minute\n  m: function (date, token, localize) {\n    if (token === \"mo\") {\n      return localize.ordinalNumber(date.getMinutes(), { unit: \"minute\" });\n    }\n\n    return lightFormatters.m(date, token);\n  },\n\n  // Second\n  s: function (date, token, localize) {\n    if (token === \"so\") {\n      return localize.ordinalNumber(date.getSeconds(), { unit: \"second\" });\n    }\n\n    return lightFormatters.s(date, token);\n  },\n\n  // Fraction of second\n  S: function (date, token) {\n    return lightFormatters.S(date, token);\n  },\n\n  // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)\n  X: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    if (timezoneOffset === 0) {\n      return \"Z\";\n    }\n\n    switch (token) {\n      // Hours and optional minutes\n      case \"X\":\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XX`\n      case \"XXXX\":\n      case \"XX\": // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XXX`\n      case \"XXXXX\":\n      case \"XXX\": // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)\n  x: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Hours and optional minutes\n      case \"x\":\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xx`\n      case \"xxxx\":\n      case \"xx\": // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xxx`\n      case \"xxxxx\":\n      case \"xxx\": // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (GMT)\n  O: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case \"O\":\n      case \"OO\":\n      case \"OOO\":\n        return \"GMT\" + formatTimezoneShort(timezoneOffset, \":\");\n      // Long\n      case \"OOOO\":\n      default:\n        return \"GMT\" + formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (specific non-location)\n  z: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case \"z\":\n      case \"zz\":\n      case \"zzz\":\n        return \"GMT\" + formatTimezoneShort(timezoneOffset, \":\");\n      // Long\n      case \"zzzz\":\n      default:\n        return \"GMT\" + formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Seconds timestamp\n  t: function (date, token, _localize) {\n    const timestamp = Math.trunc(date.getTime() / 1000);\n    return addLeadingZeros(timestamp, token.length);\n  },\n\n  // Milliseconds timestamp\n  T: function (date, token, _localize) {\n    const timestamp = date.getTime();\n    return addLeadingZeros(timestamp, token.length);\n  },\n};\n\nfunction formatTimezoneShort(offset, delimiter = \"\") {\n  const sign = offset > 0 ? \"-\" : \"+\";\n  const absOffset = Math.abs(offset);\n  const hours = Math.trunc(absOffset / 60);\n  const minutes = absOffset % 60;\n  if (minutes === 0) {\n    return sign + String(hours);\n  }\n  return sign + String(hours) + delimiter + addLeadingZeros(minutes, 2);\n}\n\nfunction formatTimezoneWithOptionalMinutes(offset, delimiter) {\n  if (offset % 60 === 0) {\n    const sign = offset > 0 ? \"-\" : \"+\";\n    return sign + addLeadingZeros(Math.abs(offset) / 60, 2);\n  }\n  return formatTimezone(offset, delimiter);\n}\n\nfunction formatTimezone(offset, delimiter = \"\") {\n  const sign = offset > 0 ? \"-\" : \"+\";\n  const absOffset = Math.abs(offset);\n  const hours = addLeadingZeros(Math.trunc(absOffset / 60), 2);\n  const minutes = addLeadingZeros(absOffset % 60, 2);\n  return sign + hours + delimiter + minutes;\n}\n","const dateLongFormatter = (pattern, formatLong) => {\n  switch (pattern) {\n    case \"P\":\n      return formatLong.date({ width: \"short\" });\n    case \"PP\":\n      return formatLong.date({ width: \"medium\" });\n    case \"PPP\":\n      return formatLong.date({ width: \"long\" });\n    case \"PPPP\":\n    default:\n      return formatLong.date({ width: \"full\" });\n  }\n};\n\nconst timeLongFormatter = (pattern, formatLong) => {\n  switch (pattern) {\n    case \"p\":\n      return formatLong.time({ width: \"short\" });\n    case \"pp\":\n      return formatLong.time({ width: \"medium\" });\n    case \"ppp\":\n      return formatLong.time({ width: \"long\" });\n    case \"pppp\":\n    default:\n      return formatLong.time({ width: \"full\" });\n  }\n};\n\nconst dateTimeLongFormatter = (pattern, formatLong) => {\n  const matchResult = pattern.match(/(P+)(p+)?/) || [];\n  const datePattern = matchResult[1];\n  const timePattern = matchResult[2];\n\n  if (!timePattern) {\n    return dateLongFormatter(pattern, formatLong);\n  }\n\n  let dateTimeFormat;\n\n  switch (datePattern) {\n    case \"P\":\n      dateTimeFormat = formatLong.dateTime({ width: \"short\" });\n      break;\n    case \"PP\":\n      dateTimeFormat = formatLong.dateTime({ width: \"medium\" });\n      break;\n    case \"PPP\":\n      dateTimeFormat = formatLong.dateTime({ width: \"long\" });\n      break;\n    case \"PPPP\":\n    default:\n      dateTimeFormat = formatLong.dateTime({ width: \"full\" });\n      break;\n  }\n\n  return dateTimeFormat\n    .replace(\"{{date}}\", dateLongFormatter(datePattern, formatLong))\n    .replace(\"{{time}}\", timeLongFormatter(timePattern, formatLong));\n};\n\nexport const longFormatters = {\n  p: timeLongFormatter,\n  P: dateTimeLongFormatter,\n};\n","const dayOfYearTokenRE = /^D+$/;\nconst weekYearTokenRE = /^Y+$/;\n\nconst throwTokens = [\"D\", \"DD\", \"YY\", \"YYYY\"];\n\nexport function isProtectedDayOfYearToken(token) {\n  return dayOfYearTokenRE.test(token);\n}\n\nexport function isProtectedWeekYearToken(token) {\n  return weekYearTokenRE.test(token);\n}\n\nexport function warnOrThrowProtectedError(token, format, input) {\n  const _message = message(token, format, input);\n  console.warn(_message);\n  if (throwTokens.includes(token)) throw new RangeError(_message);\n}\n\nfunction message(token, format, input) {\n  const subject = token[0] === \"Y\" ? \"years\" : \"days of the month\";\n  return `Use \\`${token.toLowerCase()}\\` instead of \\`${token}\\` (in \\`${format}\\`) for formatting ${subject} to the input \\`${input}\\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`;\n}\n","/**\n * @name isDate\n * @category Common Helpers\n * @summary Is the given value a date?\n *\n * @description\n * Returns true if the given value is an instance of Date. The function works for dates transferred across iframes.\n *\n * @param value - The value to check\n *\n * @returns True if the given value is a date\n *\n * @example\n * // For a valid date:\n * const result = isDate(new Date())\n * //=> true\n *\n * @example\n * // For an invalid date:\n * const result = isDate(new Date(NaN))\n * //=> true\n *\n * @example\n * // For some value:\n * const result = isDate('2014-02-31')\n * //=> false\n *\n * @example\n * // For an object:\n * const result = isDate({})\n * //=> false\n */\nexport function isDate(value) {\n  return (\n    value instanceof Date ||\n    (typeof value === \"object\" &&\n      Object.prototype.toString.call(value) === \"[object Date]\")\n  );\n}\n\n// Fallback for modularized imports:\nexport default isDate;\n","import { isDate } from \"./isDate.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name isValid\n * @category Common Helpers\n * @summary Is the given date valid?\n *\n * @description\n * Returns false if argument is Invalid Date and true otherwise.\n * Argument is converted to Date using `toDate`. See [toDate](https://date-fns.org/docs/toDate)\n * Invalid Date is a Date, whose time value is NaN.\n *\n * Time value of Date: http://es5.github.io/#x15.9.1.1\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to check\n *\n * @returns The date is valid\n *\n * @example\n * // For the valid date:\n * const result = isValid(new Date(2014, 1, 31))\n * //=> true\n *\n * @example\n * // For the value, convertable into a date:\n * const result = isValid(1393804800000)\n * //=> true\n *\n * @example\n * // For the invalid date:\n * const result = isValid(new Date(''))\n * //=> false\n */\nexport function isValid(date) {\n  if (!isDate(date) && typeof date !== \"number\") {\n    return false;\n  }\n  const _date = toDate(date);\n  return !isNaN(Number(_date));\n}\n\n// Fallback for modularized imports:\nexport default isValid;\n","import { defaultLocale } from \"./_lib/defaultLocale.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\nimport { formatters } from \"./_lib/format/formatters.mjs\";\nimport { longFormatters } from \"./_lib/format/longFormatters.mjs\";\nimport {\n  isProtectedDayOfYearToken,\n  isProtectedWeekYearToken,\n  warnOrThrowProtectedError,\n} from \"./_lib/protectedTokens.mjs\";\nimport { isValid } from \"./isValid.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n// Rexports of internal for libraries to use.\n// See: https://github.com/date-fns/date-fns/issues/3638#issuecomment-1877082874\nexport { formatters, longFormatters };\n\n// This RegExp consists of three parts separated by `|`:\n// - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token\n//   (one of the certain letters followed by `o`)\n// - (\\w)\\1* matches any sequences of the same letter\n// - '' matches two quote characters in a row\n// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),\n//   except a single quote symbol, which ends the sequence.\n//   Two quote characters do not end the sequence.\n//   If there is no matching single quote\n//   then the sequence will continue until the end of the string.\n// - . matches any single character unmatched by previous parts of the RegExps\nconst formattingTokensRegExp =\n  /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g;\n\n// This RegExp catches symbols escaped by quotes, and also\n// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`\nconst longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\n\nconst escapedStringRegExp = /^'([^]*?)'?$/;\nconst doubleQuoteRegExp = /''/g;\nconst unescapedLatinCharacterRegExp = /[a-zA-Z]/;\n\nexport { format as formatDate };\n\n/**\n * The {@link format} function options.\n */\n\n/**\n * @name format\n * @alias formatDate\n * @category Common Helpers\n * @summary Format the date.\n *\n * @description\n * Return the formatted date string in the given format. The result may vary by locale.\n *\n * >  Please note that the `format` tokens differ from Moment.js and other libraries.\n * > See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * The characters wrapped between two single quotes characters (') are escaped.\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\n * (see the last example)\n *\n * Format of the string is based on Unicode Technical Standard #35:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * with a few additions (see note 7 below the table).\n *\n * Accepted patterns:\n * | Unit                            | Pattern | Result examples                   | Notes |\n * |---------------------------------|---------|-----------------------------------|-------|\n * | Era                             | G..GGG  | AD, BC                            |       |\n * |                                 | GGGG    | Anno Domini, Before Christ        | 2     |\n * |                                 | GGGGG   | A, B                              |       |\n * | Calendar year                   | y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | yo      | 44th, 1st, 0th, 17th              | 5,7   |\n * |                                 | yy      | 44, 01, 00, 17                    | 5     |\n * |                                 | yyy     | 044, 001, 1900, 2017              | 5     |\n * |                                 | yyyy    | 0044, 0001, 1900, 2017            | 5     |\n * |                                 | yyyyy   | ...                               | 3,5   |\n * | Local week-numbering year       | Y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | Yo      | 44th, 1st, 1900th, 2017th         | 5,7   |\n * |                                 | YY      | 44, 01, 00, 17                    | 5,8   |\n * |                                 | YYY     | 044, 001, 1900, 2017              | 5     |\n * |                                 | YYYY    | 0044, 0001, 1900, 2017            | 5,8   |\n * |                                 | YYYYY   | ...                               | 3,5   |\n * | ISO week-numbering year         | R       | -43, 0, 1, 1900, 2017             | 5,7   |\n * |                                 | RR      | -43, 00, 01, 1900, 2017           | 5,7   |\n * |                                 | RRR     | -043, 000, 001, 1900, 2017        | 5,7   |\n * |                                 | RRRR    | -0043, 0000, 0001, 1900, 2017     | 5,7   |\n * |                                 | RRRRR   | ...                               | 3,5,7 |\n * | Extended year                   | u       | -43, 0, 1, 1900, 2017             | 5     |\n * |                                 | uu      | -43, 01, 1900, 2017               | 5     |\n * |                                 | uuu     | -043, 001, 1900, 2017             | 5     |\n * |                                 | uuuu    | -0043, 0001, 1900, 2017           | 5     |\n * |                                 | uuuuu   | ...                               | 3,5   |\n * | Quarter (formatting)            | Q       | 1, 2, 3, 4                        |       |\n * |                                 | Qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | QQ      | 01, 02, 03, 04                    |       |\n * |                                 | QQQ     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | QQQQQ   | 1, 2, 3, 4                        | 4     |\n * | Quarter (stand-alone)           | q       | 1, 2, 3, 4                        |       |\n * |                                 | qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | qq      | 01, 02, 03, 04                    |       |\n * |                                 | qqq     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | qqqqq   | 1, 2, 3, 4                        | 4     |\n * | Month (formatting)              | M       | 1, 2, ..., 12                     |       |\n * |                                 | Mo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | MM      | 01, 02, ..., 12                   |       |\n * |                                 | MMM     | Jan, Feb, ..., Dec                |       |\n * |                                 | MMMM    | January, February, ..., December  | 2     |\n * |                                 | MMMMM   | J, F, ..., D                      |       |\n * | Month (stand-alone)             | L       | 1, 2, ..., 12                     |       |\n * |                                 | Lo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | LL      | 01, 02, ..., 12                   |       |\n * |                                 | LLL     | Jan, Feb, ..., Dec                |       |\n * |                                 | LLLL    | January, February, ..., December  | 2     |\n * |                                 | LLLLL   | J, F, ..., D                      |       |\n * | Local week of year              | w       | 1, 2, ..., 53                     |       |\n * |                                 | wo      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | ww      | 01, 02, ..., 53                   |       |\n * | ISO week of year                | I       | 1, 2, ..., 53                     | 7     |\n * |                                 | Io      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | II      | 01, 02, ..., 53                   | 7     |\n * | Day of month                    | d       | 1, 2, ..., 31                     |       |\n * |                                 | do      | 1st, 2nd, ..., 31st               | 7     |\n * |                                 | dd      | 01, 02, ..., 31                   |       |\n * | Day of year                     | D       | 1, 2, ..., 365, 366               | 9     |\n * |                                 | Do      | 1st, 2nd, ..., 365th, 366th       | 7     |\n * |                                 | DD      | 01, 02, ..., 365, 366             | 9     |\n * |                                 | DDD     | 001, 002, ..., 365, 366           |       |\n * |                                 | DDDD    | ...                               | 3     |\n * | Day of week (formatting)        | E..EEE  | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | EEEEE   | M, T, W, T, F, S, S               |       |\n * |                                 | EEEEEE  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | ISO day of week (formatting)    | i       | 1, 2, 3, ..., 7                   | 7     |\n * |                                 | io      | 1st, 2nd, ..., 7th                | 7     |\n * |                                 | ii      | 01, 02, ..., 07                   | 7     |\n * |                                 | iii     | Mon, Tue, Wed, ..., Sun           | 7     |\n * |                                 | iiii    | Monday, Tuesday, ..., Sunday      | 2,7   |\n * |                                 | iiiii   | M, T, W, T, F, S, S               | 7     |\n * |                                 | iiiiii  | Mo, Tu, We, Th, Fr, Sa, Su        | 7     |\n * | Local day of week (formatting)  | e       | 2, 3, 4, ..., 1                   |       |\n * |                                 | eo      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | ee      | 02, 03, ..., 01                   |       |\n * |                                 | eee     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | eeeee   | M, T, W, T, F, S, S               |       |\n * |                                 | eeeeee  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | Local day of week (stand-alone) | c       | 2, 3, 4, ..., 1                   |       |\n * |                                 | co      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | cc      | 02, 03, ..., 01                   |       |\n * |                                 | ccc     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | ccccc   | M, T, W, T, F, S, S               |       |\n * |                                 | cccccc  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | AM, PM                          | a..aa   | AM, PM                            |       |\n * |                                 | aaa     | am, pm                            |       |\n * |                                 | aaaa    | a.m., p.m.                        | 2     |\n * |                                 | aaaaa   | a, p                              |       |\n * | AM, PM, noon, midnight          | b..bb   | AM, PM, noon, midnight            |       |\n * |                                 | bbb     | am, pm, noon, midnight            |       |\n * |                                 | bbbb    | a.m., p.m., noon, midnight        | 2     |\n * |                                 | bbbbb   | a, p, n, mi                       |       |\n * | Flexible day period             | B..BBB  | at night, in the morning, ...     |       |\n * |                                 | BBBB    | at night, in the morning, ...     | 2     |\n * |                                 | BBBBB   | at night, in the morning, ...     |       |\n * | Hour [1-12]                     | h       | 1, 2, ..., 11, 12                 |       |\n * |                                 | ho      | 1st, 2nd, ..., 11th, 12th         | 7     |\n * |                                 | hh      | 01, 02, ..., 11, 12               |       |\n * | Hour [0-23]                     | H       | 0, 1, 2, ..., 23                  |       |\n * |                                 | Ho      | 0th, 1st, 2nd, ..., 23rd          | 7     |\n * |                                 | HH      | 00, 01, 02, ..., 23               |       |\n * | Hour [0-11]                     | K       | 1, 2, ..., 11, 0                  |       |\n * |                                 | Ko      | 1st, 2nd, ..., 11th, 0th          | 7     |\n * |                                 | KK      | 01, 02, ..., 11, 00               |       |\n * | Hour [1-24]                     | k       | 24, 1, 2, ..., 23                 |       |\n * |                                 | ko      | 24th, 1st, 2nd, ..., 23rd         | 7     |\n * |                                 | kk      | 24, 01, 02, ..., 23               |       |\n * | Minute                          | m       | 0, 1, ..., 59                     |       |\n * |                                 | mo      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | mm      | 00, 01, ..., 59                   |       |\n * | Second                          | s       | 0, 1, ..., 59                     |       |\n * |                                 | so      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | ss      | 00, 01, ..., 59                   |       |\n * | Fraction of second              | S       | 0, 1, ..., 9                      |       |\n * |                                 | SS      | 00, 01, ..., 99                   |       |\n * |                                 | SSS     | 000, 001, ..., 999                |       |\n * |                                 | SSSS    | ...                               | 3     |\n * | Timezone (ISO-8601 w/ Z)        | X       | -08, +0530, Z                     |       |\n * |                                 | XX      | -0800, +0530, Z                   |       |\n * |                                 | XXX     | -08:00, +05:30, Z                 |       |\n * |                                 | XXXX    | -0800, +0530, Z, +123456          | 2     |\n * |                                 | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\n * | Timezone (ISO-8601 w/o Z)       | x       | -08, +0530, +00                   |       |\n * |                                 | xx      | -0800, +0530, +0000               |       |\n * |                                 | xxx     | -08:00, +05:30, +00:00            | 2     |\n * |                                 | xxxx    | -0800, +0530, +0000, +123456      |       |\n * |                                 | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\n * | Timezone (GMT)                  | O...OOO | GMT-8, GMT+5:30, GMT+0            |       |\n * |                                 | OOOO    | GMT-08:00, GMT+05:30, GMT+00:00   | 2     |\n * | Timezone (specific non-locat.)  | z...zzz | GMT-8, GMT+5:30, GMT+0            | 6     |\n * |                                 | zzzz    | GMT-08:00, GMT+05:30, GMT+00:00   | 2,6   |\n * | Seconds timestamp               | t       | 512969520                         | 7     |\n * |                                 | tt      | ...                               | 3,7   |\n * | Milliseconds timestamp          | T       | 512969520900                      | 7     |\n * |                                 | TT      | ...                               | 3,7   |\n * | Long localized date             | P       | 04/29/1453                        | 7     |\n * |                                 | PP      | Apr 29, 1453                      | 7     |\n * |                                 | PPP     | April 29th, 1453                  | 7     |\n * |                                 | PPPP    | Friday, April 29th, 1453          | 2,7   |\n * | Long localized time             | p       | 12:00 AM                          | 7     |\n * |                                 | pp      | 12:00:00 AM                       | 7     |\n * |                                 | ppp     | 12:00:00 AM GMT+2                 | 7     |\n * |                                 | pppp    | 12:00:00 AM GMT+02:00             | 2,7   |\n * | Combination of date and time    | Pp      | 04/29/1453, 12:00 AM              | 7     |\n * |                                 | PPpp    | Apr 29, 1453, 12:00:00 AM         | 7     |\n * |                                 | PPPppp  | April 29th, 1453 at ...           | 7     |\n * |                                 | PPPPpppp| Friday, April 29th, 1453 at ...   | 2,7   |\n * Notes:\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\n *    are the same as \"stand-alone\" units, but are different in some languages.\n *    \"Formatting\" units are declined according to the rules of the language\n *    in the context of a date. \"Stand-alone\" units are always nominative singular:\n *\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\n *\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\n *\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\n *    the single quote characters (see below).\n *    If the sequence is longer than listed in table (e.g. `EEEEEEEEEEE`)\n *    the output will be the same as default pattern for this unit, usually\n *    the longest one (in case of ISO weekdays, `EEEE`). Default patterns for units\n *    are marked with \"2\" in the last column of the table.\n *\n *    `format(new Date(2017, 10, 6), 'MMM') //=> 'Nov'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMM') //=> 'N'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMMM') //=> 'November'`\n *\n * 3. Some patterns could be unlimited length (such as `yyyyyyyy`).\n *    The output will be padded with zeros to match the length of the pattern.\n *\n *    `format(new Date(2017, 10, 6), 'yyyyyyyy') //=> '00002017'`\n *\n * 4. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\n *    These tokens represent the shortest form of the quarter.\n *\n * 5. The main difference between `y` and `u` patterns are B.C. years:\n *\n *    | Year | `y` | `u` |\n *    |------|-----|-----|\n *    | AC 1 |   1 |   1 |\n *    | BC 1 |   1 |   0 |\n *    | BC 2 |   2 |  -1 |\n *\n *    Also `yy` always returns the last two digits of a year,\n *    while `uu` pads single digit years to 2 characters and returns other years unchanged:\n *\n *    | Year | `yy` | `uu` |\n *    |------|------|------|\n *    | 1    |   01 |   01 |\n *    | 14   |   14 |   14 |\n *    | 376  |   76 |  376 |\n *    | 1453 |   53 | 1453 |\n *\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\n *    except local week-numbering years are dependent on `options.weekStartsOn`\n *    and `options.firstWeekContainsDate` (compare [getISOWeekYear](https://date-fns.org/docs/getISOWeekYear)\n *    and [getWeekYear](https://date-fns.org/docs/getWeekYear)).\n *\n * 6. Specific non-location timezones are currently unavailable in `date-fns`,\n *    so right now these tokens fall back to GMT timezones.\n *\n * 7. These patterns are not in the Unicode Technical Standard #35:\n *    - `i`: ISO day of week\n *    - `I`: ISO week of year\n *    - `R`: ISO week-numbering year\n *    - `t`: seconds timestamp\n *    - `T`: milliseconds timestamp\n *    - `o`: ordinal number modifier\n *    - `P`: long localized date\n *    - `p`: long localized time\n *\n * 8. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.\n *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * 9. `D` and `DD` tokens represent days of the year but they are often confused with days of the month.\n *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n * @param format - The string of tokens\n * @param options - An object with options\n *\n * @returns The formatted date string\n *\n * @throws `date` must not be Invalid Date\n * @throws `options.locale` must contain `localize` property\n * @throws `options.locale` must contain `formatLong` property\n * @throws use `yyyy` instead of `YYYY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `yy` instead of `YY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `d` instead of `D` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `dd` instead of `DD` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws format string contains an unescaped latin alphabet character\n *\n * @example\n * // Represent 11 February 2014 in middle-endian format:\n * const result = format(new Date(2014, 1, 11), 'MM/dd/yyyy')\n * //=> '02/11/2014'\n *\n * @example\n * // Represent 2 July 2014 in Esperanto:\n * import { eoLocale } from 'date-fns/locale/eo'\n * const result = format(new Date(2014, 6, 2), \"do 'de' MMMM yyyy\", {\n *   locale: eoLocale\n * })\n * //=> '2-a de julio 2014'\n *\n * @example\n * // Escape string by single quote characters:\n * const result = format(new Date(2014, 6, 2, 15), \"h 'o''clock'\")\n * //=> \"3 o'clock\"\n */\nexport function format(date, formatStr, options) {\n  const defaultOptions = getDefaultOptions();\n  const locale = options?.locale ?? defaultOptions.locale ?? defaultLocale;\n\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const originalDate = toDate(date);\n\n  if (!isValid(originalDate)) {\n    throw new RangeError(\"Invalid time value\");\n  }\n\n  let parts = formatStr\n    .match(longFormattingTokensRegExp)\n    .map((substring) => {\n      const firstCharacter = substring[0];\n      if (firstCharacter === \"p\" || firstCharacter === \"P\") {\n        const longFormatter = longFormatters[firstCharacter];\n        return longFormatter(substring, locale.formatLong);\n      }\n      return substring;\n    })\n    .join(\"\")\n    .match(formattingTokensRegExp)\n    .map((substring) => {\n      // Replace two single quote characters with one single quote character\n      if (substring === \"''\") {\n        return { isToken: false, value: \"'\" };\n      }\n\n      const firstCharacter = substring[0];\n      if (firstCharacter === \"'\") {\n        return { isToken: false, value: cleanEscapedString(substring) };\n      }\n\n      if (formatters[firstCharacter]) {\n        return { isToken: true, value: substring };\n      }\n\n      if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n        throw new RangeError(\n          \"Format string contains an unescaped latin alphabet character `\" +\n            firstCharacter +\n            \"`\",\n        );\n      }\n\n      return { isToken: false, value: substring };\n    });\n\n  // invoke localize preprocessor (only for french locales at the moment)\n  if (locale.localize.preprocessor) {\n    parts = locale.localize.preprocessor(originalDate, parts);\n  }\n\n  const formatterOptions = {\n    firstWeekContainsDate,\n    weekStartsOn,\n    locale,\n  };\n\n  return parts\n    .map((part) => {\n      if (!part.isToken) return part.value;\n\n      const token = part.value;\n\n      if (\n        (!options?.useAdditionalWeekYearTokens &&\n          isProtectedWeekYearToken(token)) ||\n        (!options?.useAdditionalDayOfYearTokens &&\n          isProtectedDayOfYearToken(token))\n      ) {\n        warnOrThrowProtectedError(token, formatStr, String(date));\n      }\n\n      const formatter = formatters[token[0]];\n      return formatter(originalDate, token, locale.localize, formatterOptions);\n    })\n    .join(\"\");\n}\n\nfunction cleanEscapedString(input) {\n  const matched = input.match(escapedStringRegExp);\n\n  if (!matched) {\n    return input;\n  }\n\n  return matched[1].replace(doubleQuoteRegExp, \"'\");\n}\n\n// Fallback for modularized imports:\nexport default format;\n","export type WebsiteConfig = {\n  title: string;\n  description: string;\n  coverImage?: string;\n  logo: string;\n  /**\n   * Specifying a valid BCP 47 language helps screen readers announce text properly.\n   * See: https://dequeuniversity.com/rules/axe/2.2/valid-lang\n   */\n  lang: string;\n  /**\n   * blog full path, no ending slash!\n   */\n  siteUrl: string;\n  /**\n   * full url, no username\n   */\n  instagram?: string;\n  /**\n   * full url, no username\n   */\n  github?: string;\n  /**\n  /**\n   * Meta tag for Google Webmaster Tools\n   */\n  googleSiteVerification?: string;\n  /**\n  /**\n   * Appears alongside the footer, after the credits\n   */\n  footer?: string;\n  /**\n   * Shows all post tags in main index view and post view if true\n   * Otherwise only shows first (primary) tag\n   */\n  showAllTags: boolean;\n};\n\nconst config: WebsiteConfig = {\n  title: \"Pozafly's Blog\",\n  description: ' ',\n  logo: 'img/common/pozafly.png',\n  lang: 'ko',\n  siteUrl: 'https://pozafly.github.io',\n  // instagram: 'https://www.instagram.com/pozafly_/',\n  github: 'https://github.com/pozafly',\n  googleSiteVerification: 'GoogleCode',\n  footer: 'is based on Gatsby',\n  showAllTags: true,\n};\n\nexport default config;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nexport default isArray;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default arraySome;\n","import {\n  AbstractMermaidTokenBuilder,\n  AbstractMermaidValueConverter,\n  MermaidGeneratedSharedModule,\n  TreemapGeneratedModule,\n  __name\n} from \"./chunk-YAJQ3QCK.mjs\";\n\n// src/language/treemap/module.ts\nimport {\n  EmptyFileSystem,\n  createDefaultCoreModule,\n  createDefaultSharedCoreModule,\n  inject\n} from \"langium\";\n\n// src/language/treemap/tokenBuilder.ts\nvar TreemapTokenBuilder = class extends AbstractMermaidTokenBuilder {\n  static {\n    __name(this, \"TreemapTokenBuilder\");\n  }\n  constructor() {\n    super([\"treemap\"]);\n  }\n};\n\n// src/language/treemap/valueConverter.ts\nvar classDefRegex = /classDef\\s+([A-Z_a-z]\\w+)(?:\\s+([^\\n\\r;]*))?;?/;\nvar TreemapValueConverter = class extends AbstractMermaidValueConverter {\n  static {\n    __name(this, \"TreemapValueConverter\");\n  }\n  runCustomConverter(rule, input, _cstNode) {\n    if (rule.name === \"NUMBER2\") {\n      return parseFloat(input.replace(/,/g, \"\"));\n    } else if (rule.name === \"SEPARATOR\") {\n      return input.substring(1, input.length - 1);\n    } else if (rule.name === \"STRING2\") {\n      return input.substring(1, input.length - 1);\n    } else if (rule.name === \"INDENTATION\") {\n      return input.length;\n    } else if (rule.name === \"ClassDef\") {\n      if (typeof input !== \"string\") {\n        return input;\n      }\n      const match = classDefRegex.exec(input);\n      if (match) {\n        return {\n          $type: \"ClassDefStatement\",\n          className: match[1],\n          styleText: match[2] || void 0\n        };\n      }\n    }\n    return void 0;\n  }\n};\n\n// src/language/treemap/treemap-validator.ts\nfunction registerValidationChecks(services) {\n  const validator = services.validation.TreemapValidator;\n  const registry = services.validation.ValidationRegistry;\n  if (registry) {\n    const checks = {\n      Treemap: validator.checkSingleRoot.bind(validator)\n      // Remove unused validation for TreemapRow\n    };\n    registry.register(checks, validator);\n  }\n}\n__name(registerValidationChecks, \"registerValidationChecks\");\nvar TreemapValidator = class {\n  static {\n    __name(this, \"TreemapValidator\");\n  }\n  /**\n   * Validates that a treemap has only one root node.\n   * A root node is defined as a node that has no indentation.\n   */\n  checkSingleRoot(doc, accept) {\n    let rootNodeIndentation;\n    for (const row of doc.TreemapRows) {\n      if (!row.item) {\n        continue;\n      }\n      if (rootNodeIndentation === void 0 && // Check if this is a root node (no indentation)\n      row.indent === void 0) {\n        rootNodeIndentation = 0;\n      } else if (row.indent === void 0) {\n        accept(\"error\", \"Multiple root nodes are not allowed in a treemap.\", {\n          node: row,\n          property: \"item\"\n        });\n      } else if (rootNodeIndentation !== void 0 && rootNodeIndentation >= parseInt(row.indent, 10)) {\n        accept(\"error\", \"Multiple root nodes are not allowed in a treemap.\", {\n          node: row,\n          property: \"item\"\n        });\n      }\n    }\n  }\n};\n\n// src/language/treemap/module.ts\nvar TreemapModule = {\n  parser: {\n    TokenBuilder: /* @__PURE__ */ __name(() => new TreemapTokenBuilder(), \"TokenBuilder\"),\n    ValueConverter: /* @__PURE__ */ __name(() => new TreemapValueConverter(), \"ValueConverter\")\n  },\n  validation: {\n    TreemapValidator: /* @__PURE__ */ __name(() => new TreemapValidator(), \"TreemapValidator\")\n  }\n};\nfunction createTreemapServices(context = EmptyFileSystem) {\n  const shared = inject(\n    createDefaultSharedCoreModule(context),\n    MermaidGeneratedSharedModule\n  );\n  const Treemap = inject(\n    createDefaultCoreModule({ shared }),\n    TreemapGeneratedModule,\n    TreemapModule\n  );\n  shared.ServiceRegistry.register(Treemap);\n  registerValidationChecks(Treemap);\n  return { shared, Treemap };\n}\n__name(createTreemapServices, \"createTreemapServices\");\n\nexport {\n  TreemapModule,\n  createTreemapServices\n};\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nexport var Module;\n(function (Module) {\n    Module.merge = (m1, m2) => _merge(_merge({}, m1), m2);\n})(Module || (Module = {}));\n/**\n * Given a set of modules, the inject function returns a lazily evaluated injector\n * that injects dependencies into the requested service when it is requested the\n * first time. Subsequent requests will return the same service.\n *\n * In the case of cyclic dependencies, an Error will be thrown. This can be fixed\n * by injecting a provider `() => T` instead of a `T`.\n *\n * Please note that the arguments may be objects or arrays. However, the result will\n * be an object. Using it with for..of will have no effect.\n *\n * @param module1 first Module\n * @param module2 (optional) second Module\n * @param module3 (optional) third Module\n * @param module4 (optional) fourth Module\n * @param module5 (optional) fifth Module\n * @param module6 (optional) sixth Module\n * @param module7 (optional) seventh Module\n * @param module8 (optional) eighth Module\n * @param module9 (optional) ninth Module\n * @returns a new object of type I\n */\nexport function inject(module1, module2, module3, module4, module5, module6, module7, module8, module9) {\n    const module = [module1, module2, module3, module4, module5, module6, module7, module8, module9].reduce(_merge, {});\n    return _inject(module);\n}\nconst isProxy = Symbol('isProxy');\n/**\n * Eagerly load all services in the given dependency injection container. This is sometimes\n * necessary because services can register event listeners in their constructors.\n */\nexport function eagerLoad(item) {\n    if (item && item[isProxy]) {\n        for (const value of Object.values(item)) {\n            eagerLoad(value);\n        }\n    }\n    return item;\n}\n/**\n * Helper function that returns an injector by creating a proxy.\n * Invariant: injector is of type I. If injector is undefined, then T = I.\n */\nfunction _inject(module, injector) {\n    const proxy = new Proxy({}, {\n        deleteProperty: () => false,\n        set: () => {\n            throw new Error('Cannot set property on injected service container');\n        },\n        get: (obj, prop) => {\n            if (prop === isProxy) {\n                return true;\n            }\n            else {\n                return _resolve(obj, prop, module, injector || proxy);\n            }\n        },\n        getOwnPropertyDescriptor: (obj, prop) => (_resolve(obj, prop, module, injector || proxy), Object.getOwnPropertyDescriptor(obj, prop)), // used by for..in\n        has: (_, prop) => prop in module, // used by ..in..\n        ownKeys: () => [...Object.getOwnPropertyNames(module)] // used by for..in\n    });\n    return proxy;\n}\n/**\n * Internally used to tag a requested dependency, directly before calling the factory.\n * This allows us to find cycles during instance creation.\n */\nconst __requested__ = Symbol();\n/**\n * Returns the value `obj[prop]`. If the value does not exist, yet, it is resolved from\n * the module description. The result of service factories is cached. Groups are\n * recursively proxied.\n *\n * @param obj an object holding all group proxies and services\n * @param prop the key of a value within obj\n * @param module an object containing groups and service factories\n * @param injector the first level proxy that provides access to all values\n * @returns the requested value `obj[prop]`\n * @throws Error if a dependency cycle is detected\n */\nfunction _resolve(obj, prop, module, injector) {\n    if (prop in obj) {\n        if (obj[prop] instanceof Error) {\n            throw new Error('Construction failure. Please make sure that your dependencies are constructable.', { cause: obj[prop] });\n        }\n        if (obj[prop] === __requested__) {\n            throw new Error('Cycle detected. Please make \"' + String(prop) + '\" lazy. Visit https://langium.org/docs/reference/configuration-services/#resolving-cyclic-dependencies');\n        }\n        return obj[prop];\n    }\n    else if (prop in module) {\n        const value = module[prop];\n        obj[prop] = __requested__;\n        try {\n            obj[prop] = (typeof value === 'function') ? value(injector) : _inject(value, injector);\n        }\n        catch (error) {\n            obj[prop] = error instanceof Error ? error : undefined;\n            throw error;\n        }\n        return obj[prop];\n    }\n    else {\n        return undefined;\n    }\n}\n/**\n * Performs a deep-merge of two modules by writing source entries into the target module.\n *\n * @param target the module which is written\n * @param source the module which is read\n * @returns the target module\n */\nfunction _merge(target, source) {\n    if (source) {\n        for (const [key, value2] of Object.entries(source)) {\n            if (value2 !== undefined) {\n                const value1 = target[key];\n                if (value1 !== null && value2 !== null && typeof value1 === 'object' && typeof value2 === 'object') {\n                    target[key] = _merge(value1, value2);\n                }\n                else {\n                    target[key] = value2;\n                }\n            }\n        }\n    }\n    return target;\n}\n//# sourceMappingURL=dependency-injection.js.map","import camelCase from \"camelcase\"\nimport type { IGatsbyImageData } from \"./index\"\n\nconst DEFAULT_PIXEL_DENSITIES = [0.25, 0.5, 1, 2]\nexport const DEFAULT_BREAKPOINTS = [750, 1080, 1366, 1920]\nexport const EVERY_BREAKPOINT = [\n  320, 654, 768, 1024, 1366, 1600, 1920, 2048, 2560, 3440, 3840, 4096,\n]\nconst DEFAULT_FLUID_WIDTH = 800\nconst DEFAULT_FIXED_WIDTH = 800\nconst DEFAULT_ASPECT_RATIO = 4 / 3\n\nexport type Fit = \"cover\" | \"fill\" | \"inside\" | \"outside\" | \"contain\"\n\nexport type Layout = \"fixed\" | \"fullWidth\" | \"constrained\"\nexport type ImageFormat = \"jpg\" | \"png\" | \"webp\" | \"avif\" | \"auto\" | \"\"\n\n/**\n * The minimal required reporter, as we don't want to import it from gatsby-cli\n */\nexport interface IReporter {\n  warn(message: string): void\n}\n\nexport interface ISharpGatsbyImageArgs {\n  layout?: Layout\n  formats?: Array<ImageFormat>\n  placeholder?: \"tracedSVG\" | \"dominantColor\" | \"blurred\" | \"none\"\n  tracedSVGOptions?: Record<string, unknown>\n  width?: number\n  height?: number\n  aspectRatio?: number\n  sizes?: string\n  quality?: number\n  transformOptions?: {\n    fit?: Fit\n    cropFocus?: number | string\n    duotone?: {\n      highlight: string\n      shadow: string\n      opacity?: number\n    }\n    grayscale?: boolean\n    rotate?: number\n    trim?: number\n  }\n  jpgOptions?: Record<string, unknown>\n  pngOptions?: Record<string, unknown>\n  webpOptions?: Record<string, unknown>\n  avifOptions?: Record<string, unknown>\n  blurredOptions?: { width?: number; toFormat?: ImageFormat }\n  breakpoints?: Array<number>\n  outputPixelDensities?: Array<number>\n  backgroundColor?: string\n}\n\nexport interface IImageSizeArgs {\n  width?: number\n  height?: number\n  layout?: Layout\n  filename: string\n  outputPixelDensities?: Array<number>\n  breakpoints?: Array<number>\n  fit?: Fit\n  reporter?: IReporter\n  sourceMetadata: { width: number; height: number }\n}\n\nexport interface IImageSizes {\n  sizes: Array<number>\n  presentationWidth: number\n  presentationHeight: number\n  aspectRatio: number\n  unscaledWidth: number\n}\n\nexport interface IImage {\n  src: string\n  width: number\n  height: number\n  format: ImageFormat\n}\n\nexport interface IGatsbyImageHelperArgs {\n  pluginName: string\n  generateImageSource: (\n    filename: string,\n    width: number,\n    height: number,\n    format: ImageFormat,\n    fit?: Fit,\n    options?: Record<string, unknown>\n  ) => IImage\n  layout?: Layout\n  formats?: Array<ImageFormat>\n  filename: string\n  placeholderURL?: string\n  width?: number\n  height?: number\n  sizes?: string\n  reporter?: IReporter\n  sourceMetadata?: { width: number; height: number; format: ImageFormat }\n  fit?: Fit\n  options?: Record<string, unknown>\n  breakpoints?: Array<number>\n  backgroundColor?: string\n  aspectRatio?: number\n}\n\nconst warn = (message: string): void => console.warn(message)\n\nconst sortNumeric = (a: number, b: number): number => a - b\n\nexport const getSizes = (width: number, layout: Layout): string | undefined => {\n  switch (layout) {\n    // If screen is wider than the max size, image width is the max size,\n    // otherwise it's the width of the screen\n    case `constrained`:\n      return `(min-width: ${width}px) ${width}px, 100vw`\n\n    // Image is always the same width, whatever the size of the screen\n    case `fixed`:\n      return `${width}px`\n\n    // Image is always the width of the screen\n    case `fullWidth`:\n      return `100vw`\n\n    default:\n      return undefined\n  }\n}\n\nexport const getSrcSet = (images: Array<IImage>): string =>\n  images.map(image => `${image.src} ${image.width}w`).join(`,\\n`)\n\nexport function formatFromFilename(filename: string): ImageFormat | undefined {\n  const dot = filename.lastIndexOf(`.`)\n  if (dot !== -1) {\n    const ext = filename.slice(dot + 1)\n    if (ext === `jpeg`) {\n      return `jpg`\n    }\n    if (ext.length === 3 || ext.length === 4) {\n      return ext as ImageFormat\n    }\n  }\n  return undefined\n}\n\nexport function setDefaultDimensions(\n  args: IGatsbyImageHelperArgs\n): IGatsbyImageHelperArgs {\n  let {\n    layout = `constrained`,\n    width,\n    height,\n    sourceMetadata,\n    breakpoints,\n    aspectRatio,\n    formats = [`auto`, `webp`],\n  } = args\n  formats = formats.map(format => format.toLowerCase() as ImageFormat)\n  layout = camelCase(layout) as Layout\n\n  if (width && height) {\n    return { ...args, formats, layout, aspectRatio: width / height }\n  }\n  if (sourceMetadata.width && sourceMetadata.height && !aspectRatio) {\n    aspectRatio = sourceMetadata.width / sourceMetadata.height\n  }\n\n  if (layout === `fullWidth`) {\n    width = width || sourceMetadata.width || breakpoints[breakpoints.length - 1]\n    height = height || Math.round(width / (aspectRatio || DEFAULT_ASPECT_RATIO))\n  } else {\n    if (!width) {\n      if (height && aspectRatio) {\n        width = height * aspectRatio\n      } else if (sourceMetadata.width) {\n        width = sourceMetadata.width\n      } else if (height) {\n        width = Math.round(height / DEFAULT_ASPECT_RATIO)\n      } else {\n        width = DEFAULT_FIXED_WIDTH\n      }\n    }\n\n    if (aspectRatio && !height) {\n      height = Math.round(width / aspectRatio)\n    } else if (!aspectRatio) {\n      aspectRatio = width / height\n    }\n  }\n  return { ...args, width, height, aspectRatio, layout, formats }\n}\n\n/**\n * Use this for getting an image for the blurred placeholder. This ensures the\n * aspect ratio and crop match the main image\n */\nexport function getLowResolutionImageURL(\n  args: IGatsbyImageHelperArgs,\n  width = 20\n): string {\n  args = setDefaultDimensions(args)\n  const { generateImageSource, filename, aspectRatio } = args\n  return generateImageSource(\n    filename,\n    width,\n    Math.round(width / aspectRatio),\n    args.sourceMetadata.format || `jpg`,\n    args.fit,\n    args.options\n  )?.src\n}\n\nexport function generateImageData(\n  args: IGatsbyImageHelperArgs\n): IGatsbyImageData {\n  args = setDefaultDimensions(args)\n\n  let {\n    pluginName,\n    sourceMetadata,\n    generateImageSource,\n    layout,\n    fit,\n    options,\n    width,\n    height,\n    filename,\n    reporter = { warn },\n    backgroundColor,\n    placeholderURL,\n  } = args\n\n  if (!pluginName) {\n    reporter.warn(\n      `[gatsby-plugin-image] \"generateImageData\" was not passed a plugin name`\n    )\n  }\n\n  if (typeof generateImageSource !== `function`) {\n    throw new Error(`generateImageSource must be a function`)\n  }\n\n  if (!sourceMetadata || (!sourceMetadata.width && !sourceMetadata.height)) {\n    // No metadata means we let the CDN handle max size etc, aspect ratio etc\n    sourceMetadata = {\n      width,\n      height,\n      format: sourceMetadata?.format || formatFromFilename(filename) || `auto`,\n    }\n  } else if (!sourceMetadata.format) {\n    sourceMetadata.format = formatFromFilename(filename)\n  }\n\n  const formats = new Set<ImageFormat>(args.formats)\n\n  if (formats.size === 0 || formats.has(`auto`) || formats.has(``)) {\n    formats.delete(`auto`)\n    formats.delete(``)\n    formats.add(sourceMetadata.format)\n  }\n\n  if (formats.has(`jpg`) && formats.has(`png`)) {\n    reporter.warn(\n      `[${pluginName}] Specifying both 'jpg' and 'png' formats is not supported. Using 'auto' instead`\n    )\n    if (sourceMetadata.format === `jpg`) {\n      formats.delete(`png`)\n    } else {\n      formats.delete(`jpg`)\n    }\n  }\n\n  const imageSizes = calculateImageSizes({ ...args, sourceMetadata })\n\n  const result: IGatsbyImageData[\"images\"] = {\n    sources: [],\n  }\n\n  let sizes = args.sizes\n  if (!sizes) {\n    sizes = getSizes(imageSizes.presentationWidth, layout)\n  }\n\n  formats.forEach(format => {\n    const images = imageSizes.sizes\n      .map(size => {\n        const imageSrc = generateImageSource(\n          filename,\n          size,\n          Math.round(size / imageSizes.aspectRatio),\n          format,\n          fit,\n          options\n        )\n        if (\n          !imageSrc?.width ||\n          !imageSrc.height ||\n          !imageSrc.src ||\n          !imageSrc.format\n        ) {\n          reporter.warn(\n            `[${pluginName}] The resolver for image ${filename} returned an invalid value.`\n          )\n          return undefined\n        }\n        return imageSrc\n      })\n      .filter(Boolean)\n\n    if (format === `jpg` || format === `png` || format === `auto`) {\n      const unscaled =\n        images.find(img => img.width === imageSizes.unscaledWidth) || images[0]\n\n      if (unscaled) {\n        result.fallback = {\n          src: unscaled.src,\n          srcSet: getSrcSet(images),\n          sizes,\n        }\n      }\n    } else {\n      result.sources?.push({\n        srcSet: getSrcSet(images),\n        sizes,\n        type: `image/${format}`,\n      })\n    }\n  })\n\n  const imageProps: Partial<IGatsbyImageData> = {\n    images: result,\n    layout,\n    backgroundColor,\n  }\n\n  if (placeholderURL) {\n    imageProps.placeholder = { fallback: placeholderURL }\n  }\n\n  switch (layout) {\n    case `fixed`:\n      imageProps.width = imageSizes.presentationWidth\n      imageProps.height = imageSizes.presentationHeight\n      break\n\n    case `fullWidth`:\n      imageProps.width = 1\n      imageProps.height = 1 / imageSizes.aspectRatio\n      break\n\n    case `constrained`:\n      imageProps.width = args.width || imageSizes.presentationWidth || 1\n      imageProps.height = (imageProps.width || 1) / imageSizes.aspectRatio\n  }\n\n  return imageProps as IGatsbyImageData\n}\n\nconst dedupeAndSortDensities = (values: Array<number>): Array<number> =>\n  Array.from(new Set([1, ...values])).sort(sortNumeric)\n\nexport function calculateImageSizes(args: IImageSizeArgs): IImageSizes {\n  const {\n    width,\n    height,\n    filename,\n    layout = `constrained`,\n    sourceMetadata: imgDimensions,\n    reporter = { warn },\n    breakpoints = DEFAULT_BREAKPOINTS,\n  } = args\n\n  // check that all dimensions provided are positive\n  const userDimensions = { width, height }\n  const erroneousUserDimensions = Object.entries(userDimensions).filter(\n    ([_, size]) => typeof size === `number` && size < 1\n  )\n  if (erroneousUserDimensions.length) {\n    throw new Error(\n      `Specified dimensions for images must be positive numbers (> 0). Problem dimensions you have are ${erroneousUserDimensions\n        .map(dim => dim.join(`: `))\n        .join(`, `)}`\n    )\n  }\n\n  if (layout === `fixed`) {\n    return fixedImageSizes(args)\n  } else if (layout === `constrained`) {\n    return responsiveImageSizes(args)\n  } else if (layout === `fullWidth`) {\n    return responsiveImageSizes({ breakpoints, ...args })\n  } else {\n    reporter.warn(\n      `No valid layout was provided for the image at ${filename}. Valid image layouts are fixed, fullWidth, and constrained. Found ${layout}`\n    )\n    return {\n      sizes: [imgDimensions.width],\n      presentationWidth: imgDimensions.width,\n      presentationHeight: imgDimensions.height,\n      aspectRatio: imgDimensions.width / imgDimensions.height,\n      unscaledWidth: imgDimensions.width,\n    }\n  }\n}\nexport function fixedImageSizes({\n  filename,\n  sourceMetadata: imgDimensions,\n  width,\n  height,\n  fit = `cover`,\n  outputPixelDensities = DEFAULT_PIXEL_DENSITIES,\n  reporter = { warn },\n}: IImageSizeArgs): IImageSizes {\n  let aspectRatio = imgDimensions.width / imgDimensions.height\n  // Sort, dedupe and ensure there's a 1\n  const densities = dedupeAndSortDensities(outputPixelDensities)\n\n  // If both are provided then we need to check the fit\n  if (width && height) {\n    const calculated = getDimensionsAndAspectRatio(imgDimensions, {\n      width,\n      height,\n      fit,\n    })\n    width = calculated.width\n    height = calculated.height\n    aspectRatio = calculated.aspectRatio\n  }\n\n  if (!width) {\n    if (!height) {\n      width = DEFAULT_FIXED_WIDTH\n    } else {\n      width = Math.round(height * aspectRatio)\n    }\n  } else if (!height) {\n    height = Math.round(width / aspectRatio)\n  }\n\n  const originalWidth = width // will use this for presentationWidth, don't want to lose it\n  const isTopSizeOverriden =\n    imgDimensions.width < width || imgDimensions.height < (height as number)\n\n  // If the image is smaller than requested, warn the user that it's being processed as such\n  // print out this message with the necessary information before we overwrite it for sizing\n  if (isTopSizeOverriden) {\n    const fixedDimension = imgDimensions.width < width ? `width` : `height`\n    reporter.warn(`\nThe requested ${fixedDimension} \"${\n      fixedDimension === `width` ? width : height\n    }px\" for the image ${filename} was larger than the actual image ${fixedDimension} of ${\n      imgDimensions[fixedDimension]\n    }px. If possible, replace the current image with a larger one.`)\n\n    if (fixedDimension === `width`) {\n      width = imgDimensions.width\n      height = Math.round(width / aspectRatio)\n    } else {\n      height = imgDimensions.height\n      width = height * aspectRatio\n    }\n  }\n\n  const sizes = densities\n    .filter(size => size >= 1) // remove smaller densities because fixed images don't need them\n    .map(density => Math.round(density * (width as number)))\n    .filter(size => size <= imgDimensions.width)\n\n  return {\n    sizes,\n    aspectRatio,\n    presentationWidth: originalWidth,\n    presentationHeight: Math.round(originalWidth / aspectRatio),\n    unscaledWidth: width,\n  }\n}\n\nexport function responsiveImageSizes({\n  sourceMetadata: imgDimensions,\n  width,\n  height,\n  fit = `cover`,\n  outputPixelDensities = DEFAULT_PIXEL_DENSITIES,\n  breakpoints,\n  layout,\n}: IImageSizeArgs): IImageSizes {\n  let sizes\n  let aspectRatio = imgDimensions.width / imgDimensions.height\n  // Sort, dedupe and ensure there's a 1\n  const densities = dedupeAndSortDensities(outputPixelDensities)\n\n  // If both are provided then we need to check the fit\n  if (width && height) {\n    const calculated = getDimensionsAndAspectRatio(imgDimensions, {\n      width,\n      height,\n      fit,\n    })\n    width = calculated.width\n    height = calculated.height\n    aspectRatio = calculated.aspectRatio\n  }\n\n  // Case 1: width of height were passed in, make sure it isn't larger than the actual image\n  width = width && Math.min(width, imgDimensions.width)\n  height = height && Math.min(height, imgDimensions.height)\n\n  // Case 2: neither width or height were passed in, use default size\n  if (!width && !height) {\n    width = Math.min(DEFAULT_FLUID_WIDTH, imgDimensions.width)\n    height = width / aspectRatio\n  }\n\n  // if it still hasn't been found, calculate width from the derived height.\n  // TS isn't smart enough to realise the type for height has been narrowed here\n  if (!width) {\n    width = (height as number) * aspectRatio\n  }\n\n  const originalWidth = width\n  const isTopSizeOverriden =\n    imgDimensions.width < width || imgDimensions.height < (height as number)\n  if (isTopSizeOverriden) {\n    width = imgDimensions.width\n    height = imgDimensions.height\n  }\n\n  width = Math.round(width)\n\n  if (breakpoints?.length > 0) {\n    sizes = breakpoints.filter(size => size <= imgDimensions.width)\n\n    // If a larger breakpoint has been filtered-out, add the actual image width instead\n    if (\n      sizes.length < breakpoints.length &&\n      !sizes.includes(imgDimensions.width)\n    ) {\n      sizes.push(imgDimensions.width)\n    }\n  } else {\n    sizes = densities.map(density => Math.round(density * (width as number)))\n    sizes = sizes.filter(size => size <= imgDimensions.width)\n  }\n\n  // ensure that the size passed in is included in the final output\n  if (layout === `constrained` && !sizes.includes(width)) {\n    sizes.push(width)\n  }\n  sizes = sizes.sort(sortNumeric)\n  return {\n    sizes,\n    aspectRatio,\n    presentationWidth: originalWidth,\n    presentationHeight: Math.round(originalWidth / aspectRatio),\n    unscaledWidth: width,\n  }\n}\n\nexport function getDimensionsAndAspectRatio(\n  dimensions,\n  options\n): { width: number; height: number; aspectRatio: number } {\n  // Calculate the eventual width/height of the image.\n  const imageAspectRatio = dimensions.width / dimensions.height\n\n  let width = options.width\n  let height = options.height\n\n  switch (options.fit) {\n    case `fill`: {\n      width = options.width ? options.width : dimensions.width\n      height = options.height ? options.height : dimensions.height\n      break\n    }\n    case `inside`: {\n      const widthOption = options.width\n        ? options.width\n        : Number.MAX_SAFE_INTEGER\n      const heightOption = options.height\n        ? options.height\n        : Number.MAX_SAFE_INTEGER\n\n      width = Math.min(widthOption, Math.round(heightOption * imageAspectRatio))\n      height = Math.min(\n        heightOption,\n        Math.round(widthOption / imageAspectRatio)\n      )\n      break\n    }\n    case `outside`: {\n      const widthOption = options.width ? options.width : 0\n      const heightOption = options.height ? options.height : 0\n\n      width = Math.max(widthOption, Math.round(heightOption * imageAspectRatio))\n      height = Math.max(\n        heightOption,\n        Math.round(widthOption / imageAspectRatio)\n      )\n      break\n    }\n\n    default: {\n      if (options.width && !options.height) {\n        width = options.width\n        height = Math.round(options.width / imageAspectRatio)\n      }\n\n      if (options.height && !options.width) {\n        width = Math.round(options.height * imageAspectRatio)\n        height = options.height\n      }\n    }\n  }\n\n  return {\n    width,\n    height,\n    aspectRatio: width / height,\n  }\n}\n","/* global GATSBY___IMAGE */\nimport { generateImageData, EVERY_BREAKPOINT } from \"../image-utils\"\nimport type { CSSProperties, HTMLAttributes, ImgHTMLAttributes } from \"react\"\nimport type { Node } from \"gatsby\"\nimport type { PlaceholderProps } from \"./placeholder\"\nimport type { MainImageProps } from \"./main-image\"\nimport type { IGatsbyImageData } from \"./gatsby-image.browser\"\nimport type {\n  IGatsbyImageHelperArgs,\n  Layout,\n  IImage,\n  ImageFormat,\n} from \"../image-utils\"\n\n// Native lazy-loading support: https://addyosmani.com/blog/lazy-loading/\nexport const hasNativeLazyLoadSupport = (): boolean =>\n  typeof HTMLImageElement !== `undefined` &&\n  `loading` in HTMLImageElement.prototype\n\nexport function gatsbyImageIsInstalled(): boolean {\n  return typeof GATSBY___IMAGE !== `undefined` && GATSBY___IMAGE\n}\n\nexport type IGatsbyImageDataParent<T = never> = T & {\n  gatsbyImageData: IGatsbyImageData\n}\nexport type IGatsbyImageParent<T = never> = T & {\n  gatsbyImage: IGatsbyImageData\n}\nexport type FileNode = Partial<Node> & {\n  childImageSharp?: IGatsbyImageDataParent<Partial<Node>>\n}\n\nconst isGatsbyImageData = (\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  node: IGatsbyImageData | any\n): node is IGatsbyImageData =>\n  //  check for a deep prop to be sure this is a valid gatsbyImageData object\n  Boolean(node?.images?.fallback?.src)\n\nconst isGatsbyImageDataParent = <T>(\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  node: IGatsbyImageDataParent<T> | any\n): node is IGatsbyImageDataParent<T> => Boolean(node?.gatsbyImageData)\n\nconst isGatsbyImageParent = <T>(\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  node: IGatsbyImageParent<T> | any\n): node is IGatsbyImageParent<T> => Boolean(node?.gatsbyImage)\n\nexport type ImageDataLike =\n  | FileNode\n  | IGatsbyImageDataParent\n  | IGatsbyImageParent\n  | IGatsbyImageData\n\nexport const getImage = (\n  node: ImageDataLike | null\n): IGatsbyImageData | undefined => {\n  // This checks both for gatsbyImageData and gatsbyImage\n  if (isGatsbyImageData(node)) {\n    return node\n  }\n  // gatsbyImageData GraphQL field\n  if (isGatsbyImageDataParent(node)) {\n    return node.gatsbyImageData\n  }\n  // gatsbyImage GraphQL field for Gatsby's Image CDN service\n  if (isGatsbyImageParent(node)) {\n    return node.gatsbyImage\n  }\n  return node?.childImageSharp?.gatsbyImageData\n}\n\nexport const getSrc = (node: ImageDataLike): string | undefined =>\n  getImage(node)?.images?.fallback?.src\n\nexport const getSrcSet = (node: ImageDataLike): string | undefined =>\n  getImage(node)?.images?.fallback?.srcSet\n\nexport function getWrapperProps(\n  width: number,\n  height: number,\n  layout: Layout\n): Pick<HTMLAttributes<HTMLElement>, \"className\" | \"style\"> & {\n  \"data-gatsby-image-wrapper\": string\n} {\n  const wrapperStyle: CSSProperties = {}\n\n  let className = `gatsby-image-wrapper`\n\n  // If the plugin isn't installed we need to apply the styles inline\n  if (!gatsbyImageIsInstalled()) {\n    wrapperStyle.position = `relative`\n    wrapperStyle.overflow = `hidden`\n  }\n\n  if (layout === `fixed`) {\n    wrapperStyle.width = width\n    wrapperStyle.height = height\n  } else if (layout === `constrained`) {\n    if (!gatsbyImageIsInstalled()) {\n      wrapperStyle.display = `inline-block`\n      wrapperStyle.verticalAlign = `top`\n    }\n    className = `gatsby-image-wrapper gatsby-image-wrapper-constrained`\n  }\n\n  return {\n    className,\n    \"data-gatsby-image-wrapper\": ``,\n    style: wrapperStyle,\n  }\n}\n\nexport interface IUrlBuilderArgs<OptionsType> {\n  width: number\n  height: number\n  baseUrl: string\n  format: ImageFormat\n  options: OptionsType\n}\nexport interface IGetImageDataArgs<OptionsType = Record<string, unknown>> {\n  baseUrl: string\n  /**\n   * For constrained and fixed images, the size of the image element\n   */\n  width?: number\n  height?: number\n  /**\n   * If available, pass the source image width and height\n   */\n  sourceWidth?: number\n  sourceHeight?: number\n  /**\n   * If only one dimension is passed, then this will be used to calculate the other.\n   */\n  aspectRatio?: number\n  layout?: Layout\n  /**\n   * Returns a URL based on the passed arguments. Should be a pure function\n   */\n  urlBuilder: (args: IUrlBuilderArgs<OptionsType>) => string\n\n  /**\n   * Should be a data URI\n   */\n  placeholderURL?: string\n  backgroundColor?: string\n  /**\n   * Used in error messages etc\n   */\n  pluginName?: string\n\n  /**\n   * If you do not support auto-format, pass an array of image types here\n   */\n  formats?: Array<ImageFormat>\n\n  breakpoints?: Array<number>\n\n  /**\n   * Passed to the urlBuilder function\n   */\n  options?: OptionsType\n}\n\n/**\n * Use this hook to generate gatsby-plugin-image data in the browser.\n */\nexport function getImageData<OptionsType>({\n  baseUrl,\n  urlBuilder,\n  sourceWidth,\n  sourceHeight,\n  pluginName = `getImageData`,\n  formats = [`auto`],\n  breakpoints,\n  options,\n  ...props\n}: IGetImageDataArgs<OptionsType>): IGatsbyImageData {\n  if (\n    !breakpoints?.length &&\n    (props.layout === `fullWidth` || (props.layout as string) === `FULL_WIDTH`)\n  ) {\n    breakpoints = EVERY_BREAKPOINT\n  }\n  const generateImageSource = (\n    baseUrl: string,\n    width: number,\n    height?: number,\n    format?: ImageFormat\n  ): IImage => {\n    return {\n      width,\n      height,\n      format,\n      src: urlBuilder({ baseUrl, width, height, options, format }),\n    }\n  }\n\n  const sourceMetadata: IGatsbyImageHelperArgs[\"sourceMetadata\"] = {\n    width: sourceWidth,\n    height: sourceHeight,\n    format: `auto`,\n  }\n\n  const args: IGatsbyImageHelperArgs = {\n    ...props,\n    pluginName,\n    generateImageSource,\n    filename: baseUrl,\n    formats,\n    breakpoints,\n    sourceMetadata,\n  }\n  return generateImageData(args)\n}\n\nexport function getMainProps(\n  isLoading: boolean,\n  isLoaded: boolean,\n  images: IGatsbyImageData[\"images\"],\n  loading?: \"eager\" | \"lazy\",\n  style: CSSProperties = {}\n): Partial<MainImageProps> {\n  // fallback when it's not configured in gatsby-config.\n  if (!gatsbyImageIsInstalled()) {\n    style = {\n      height: `100%`,\n      left: 0,\n      position: `absolute`,\n      top: 0,\n      transform: `translateZ(0)`,\n      transition: `opacity 250ms linear`,\n      width: `100%`,\n      willChange: `opacity`,\n      ...style,\n    }\n  }\n\n  const result = {\n    ...images,\n    loading,\n    shouldLoad: isLoading,\n    \"data-main-image\": ``,\n    style: {\n      ...style,\n      opacity: isLoaded ? 1 : 0,\n    },\n  }\n\n  return result\n}\n\nexport type PlaceholderImageAttrs = ImgHTMLAttributes<HTMLImageElement> &\n  Pick<PlaceholderProps, \"sources\" | \"fallback\"> & {\n    \"data-placeholder-image\"?: string\n  }\n\nexport function getPlaceholderProps(\n  placeholder: PlaceholderImageAttrs | undefined,\n  isLoaded: boolean,\n  layout: Layout,\n  width?: number,\n  height?: number,\n  backgroundColor?: string,\n  objectFit?: CSSProperties[\"objectFit\"],\n  objectPosition?: CSSProperties[\"objectPosition\"]\n): PlaceholderImageAttrs {\n  const wrapperStyle: CSSProperties = {}\n\n  if (backgroundColor) {\n    wrapperStyle.backgroundColor = backgroundColor\n\n    if (layout === `fixed`) {\n      wrapperStyle.width = width\n      wrapperStyle.height = height\n      wrapperStyle.backgroundColor = backgroundColor\n      wrapperStyle.position = `relative`\n    } else if (layout === `constrained`) {\n      wrapperStyle.position = `absolute`\n      wrapperStyle.top = 0\n      wrapperStyle.left = 0\n      wrapperStyle.bottom = 0\n      wrapperStyle.right = 0\n    } else if (layout === `fullWidth`) {\n      wrapperStyle.position = `absolute`\n      wrapperStyle.top = 0\n      wrapperStyle.left = 0\n      wrapperStyle.bottom = 0\n      wrapperStyle.right = 0\n    }\n  }\n\n  if (objectFit) {\n    wrapperStyle.objectFit = objectFit\n  }\n\n  if (objectPosition) {\n    wrapperStyle.objectPosition = objectPosition\n  }\n  const result: PlaceholderImageAttrs = {\n    ...placeholder,\n    \"aria-hidden\": true,\n    \"data-placeholder-image\": ``,\n    style: {\n      opacity: isLoaded ? 0 : 1,\n      transition: `opacity 500ms linear`,\n      ...wrapperStyle,\n    },\n  }\n\n  // fallback when it's not configured in gatsby-config.\n  if (!gatsbyImageIsInstalled()) {\n    result.style = {\n      height: `100%`,\n      left: 0,\n      position: `absolute`,\n      top: 0,\n      width: `100%`,\n    }\n  }\n\n  return result\n}\n\nexport interface IArtDirectedImage {\n  media: string\n  image: IGatsbyImageData\n}\n\n/**\n * Generate a Gatsby image data object with multiple, art-directed images that display at different\n * resolutions.\n *\n * @param defaultImage The image displayed when no media query matches.\n * It is also used for all other settings applied to the image, such as width, height and layout.\n * You should pass a className to the component with media queries to adjust the size of the container,\n * as this cannot be adjusted automatically.\n * @param artDirected Array of objects which each contains a `media` string which is a media query\n * such as `(min-width: 320px)`, and the image object to use when that query matches.\n */\nexport function withArtDirection(\n  defaultImage: IGatsbyImageData,\n  artDirected: Array<IArtDirectedImage>\n): IGatsbyImageData {\n  const { images, placeholder, ...props } = defaultImage\n  const output: IGatsbyImageData = {\n    ...props,\n    images: {\n      ...images,\n      sources: [],\n    },\n    placeholder: placeholder && {\n      ...placeholder,\n      sources: [],\n    },\n  }\n\n  artDirected.forEach(({ media, image }) => {\n    if (!media) {\n      if (process.env.NODE_ENV === `development`) {\n        console.warn(\n          \"[gatsby-plugin-image] All art-directed images passed to must have a value set for `media`. Skipping.\"\n        )\n      }\n      return\n    }\n\n    if (\n      image.layout !== defaultImage.layout &&\n      process.env.NODE_ENV === `development`\n    ) {\n      console.warn(\n        `[gatsby-plugin-image] Mismatched image layout: expected \"${defaultImage.layout}\" but received \"${image.layout}\". All art-directed images use the same layout as the default image`\n      )\n    }\n\n    output.images.sources.push(\n      ...image.images.sources.map(source => {\n        return { ...source, media }\n      }),\n      {\n        media,\n        srcSet: image.images.fallback.srcSet,\n      }\n    )\n\n    if (!output.placeholder) {\n      return\n    }\n\n    output.placeholder.sources.push({\n      media,\n      srcSet: image.placeholder.fallback,\n    })\n  })\n  output.images.sources.push(...images.sources)\n  if (placeholder?.sources) {\n    output.placeholder?.sources.push(...placeholder.sources)\n  }\n  return output\n}\n","import React, { Fragment, FunctionComponent, PropsWithChildren } from \"react\"\nimport terserMacro from \"../../macros/terser.macro\"\nimport { Layout } from \"../image-utils\"\n\nexport interface ILayoutWrapperProps {\n  layout: Layout\n  width: number\n  height: number\n}\n\nconst NativeScriptLoading: FunctionComponent = () => (\n  <script\n    type=\"module\"\n    dangerouslySetInnerHTML={{\n      __html: terserMacro`\nconst hasNativeLazyLoadSupport = typeof HTMLImageElement !== \"undefined\" && \"loading\" in HTMLImageElement.prototype;\nif (hasNativeLazyLoadSupport) {\n  const gatsbyImages = document.querySelectorAll('img[data-main-image]');\n  for (let mainImage of gatsbyImages) {\n    if (mainImage.dataset.src) {\n      mainImage.setAttribute('src', mainImage.dataset.src)\n      mainImage.removeAttribute('data-src')\n    }\n    if (mainImage.dataset.srcset) {\n      mainImage.setAttribute('srcset', mainImage.dataset.srcset)\n      mainImage.removeAttribute('data-srcset')\n    }\n\n    const sources = mainImage.parentNode.querySelectorAll('source[data-srcset]');\n    for (let source of sources) {\n      source.setAttribute('srcset', source.dataset.srcset)\n      source.removeAttribute('data-srcset')\n    }\n\n    if (mainImage.complete) {\n      mainImage.style.opacity = 1;\n\n      // also hide the placeholder\n      mainImage.parentNode.parentNode.querySelector('[data-placeholder-image]').style.opacity = 0;\n    }\n  }\n}\n`,\n    }}\n  />\n)\n\nexport function getSizer(\n  layout: Layout,\n  width: number,\n  height: number\n): string {\n  let sizer = ``\n  if (layout === `fullWidth`) {\n    sizer = `<div aria-hidden=\"true\" style=\"padding-top: ${\n      (height / width) * 100\n    }%;\"></div>`\n  }\n\n  if (layout === `constrained`) {\n    sizer = `<div style=\"max-width: ${width}px; display: block;\"><img alt=\"\" role=\"presentation\" aria-hidden=\"true\" src=\"data:image/svg+xml;charset=utf-8,%3Csvg%20height='${height}'%20width='${width}'%20xmlns='http://www.w3.org/2000/svg'%20version='1.1'%3E%3C/svg%3E\" style=\"max-width: 100%; display: block; position: static;\"></div>`\n  }\n\n  return sizer\n}\n\nconst Sizer: FunctionComponent<ILayoutWrapperProps> = function Sizer({\n  layout,\n  width,\n  height,\n}) {\n  if (layout === `fullWidth`) {\n    return (\n      <div aria-hidden style={{ paddingTop: `${(height / width) * 100}%` }} />\n    )\n  }\n\n  if (layout === `constrained`) {\n    return (\n      <div style={{ maxWidth: width, display: `block` }}>\n        <img\n          alt=\"\"\n          role=\"presentation\"\n          aria-hidden=\"true\"\n          src={`data:image/svg+xml;charset=utf-8,%3Csvg%20height='${height}'%20width='${width}'%20xmlns='http://www.w3.org/2000/svg'%20version='1.1'%3E%3C/svg%3E`}\n          style={{\n            maxWidth: `100%`,\n            display: `block`,\n            position: `static`,\n          }}\n        />\n      </div>\n    )\n  }\n\n  return null\n}\n\nexport const LayoutWrapper: FunctionComponent<\n  PropsWithChildren<ILayoutWrapperProps>\n> = function LayoutWrapper({ children, ...props }) {\n  return (\n    <Fragment>\n      <Sizer {...props} />\n      {children}\n\n      {SERVER ? <NativeScriptLoading /> : null}\n    </Fragment>\n  )\n}\n","import React, { FunctionComponent, ImgHTMLAttributes } from \"react\"\nimport * as PropTypes from \"prop-types\"\n\nexport interface IResponsiveImageProps {\n  sizes?: string\n  srcSet: string\n}\n\nexport type SourceProps = IResponsiveImageProps &\n  (\n    | {\n        media: string\n        type?: string\n      }\n    | {\n        media?: string\n        type: string\n      }\n  )\n\ntype FallbackProps = { src: string } & Partial<IResponsiveImageProps>\n\ntype ImageProps = ImgHTMLAttributes<HTMLImageElement> & {\n  src: string\n  alt: string\n  shouldLoad: boolean\n}\n\nexport type PictureProps = ImgHTMLAttributes<HTMLImageElement> & {\n  fallback?: FallbackProps\n  sources?: Array<SourceProps>\n  alt: string\n  shouldLoad?: boolean\n}\n\nconst Image: FunctionComponent<ImageProps> = function Image({\n  src,\n  srcSet,\n  loading,\n  alt = ``,\n  shouldLoad,\n  ...props\n}) {\n  return (\n    <img\n      {...props}\n      decoding=\"async\"\n      loading={loading}\n      src={shouldLoad ? src : undefined}\n      data-src={!shouldLoad ? src : undefined}\n      srcSet={shouldLoad ? srcSet : undefined}\n      data-srcset={!shouldLoad ? srcSet : undefined}\n      alt={alt}\n    />\n  )\n}\n\nexport const Picture: React.FC<PictureProps> = function Picture({\n  fallback,\n  sources = [],\n  shouldLoad = true,\n  ...props\n}) {\n  const sizes = props.sizes || fallback?.sizes\n  const fallbackImage = (\n    <Image {...props} {...fallback} sizes={sizes} shouldLoad={shouldLoad} />\n  )\n\n  if (!sources.length) {\n    return fallbackImage\n  }\n\n  return (\n    <picture>\n      {sources.map(({ media, srcSet, type }) => (\n        <source\n          key={`${media}-${type}-${srcSet}`}\n          type={type}\n          media={media}\n          srcSet={shouldLoad ? srcSet : undefined}\n          data-srcset={!shouldLoad ? srcSet : undefined}\n          sizes={sizes}\n        />\n      ))}\n      {fallbackImage}\n    </picture>\n  )\n}\n\nImage.propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n  sizes: PropTypes.string,\n  srcSet: PropTypes.string,\n  shouldLoad: PropTypes.bool,\n}\n\nPicture.displayName = `Picture`\nPicture.propTypes = {\n  alt: PropTypes.string.isRequired,\n  shouldLoad: PropTypes.bool,\n  fallback: PropTypes.exact({\n    src: PropTypes.string.isRequired,\n    srcSet: PropTypes.string,\n    sizes: PropTypes.string,\n  }),\n  sources: PropTypes.arrayOf(\n    PropTypes.oneOfType([\n      PropTypes.exact({\n        media: PropTypes.string.isRequired,\n        type: PropTypes.string,\n        sizes: PropTypes.string,\n        srcSet: PropTypes.string.isRequired,\n      }),\n      PropTypes.exact({\n        media: PropTypes.string,\n        type: PropTypes.string.isRequired,\n        sizes: PropTypes.string,\n        srcSet: PropTypes.string.isRequired,\n      }),\n    ])\n  ),\n}\n","import React, { FunctionComponent, ImgHTMLAttributes } from \"react\"\nimport * as PropTypes from \"prop-types\"\nimport { Picture, SourceProps } from \"./picture\"\n\nexport type PlaceholderProps = ImgHTMLAttributes<HTMLImageElement> & {\n  fallback?: string\n  sources?: Array<SourceProps>\n}\n\nexport const Placeholder: FunctionComponent<PlaceholderProps> =\n  function Placeholder({ fallback, ...props }) {\n    if (fallback) {\n      return (\n        <Picture\n          {...props}\n          fallback={{\n            src: fallback,\n          }}\n          aria-hidden\n          alt=\"\"\n        />\n      )\n    } else {\n      return <div {...props}></div>\n    }\n  }\n\nPlaceholder.displayName = `Placeholder`\nPlaceholder.propTypes = {\n  fallback: PropTypes.string,\n  sources: Picture.propTypes?.sources,\n  alt: function (props, propName, componentName): Error | null {\n    if (!props[propName]) {\n      return null\n    }\n\n    return new Error(\n      `Invalid prop \\`${propName}\\` supplied to \\`${componentName}\\`. Validation failed.`\n    )\n  },\n}\n","import React from \"react\"\nimport { Picture, PictureProps } from \"./picture\"\n\nexport type MainImageProps = PictureProps\n\nexport const MainImage: React.FC<PictureProps> = function MainImage(props) {\n  return (\n    <>\n      <Picture {...props} />\n      <noscript>\n        <Picture {...props} shouldLoad={true} />\n      </noscript>\n    </>\n  )\n}\n\nMainImage.displayName = `MainImage`\nMainImage.propTypes = Picture.propTypes\n","import React from \"react\"\nimport { getWrapperProps, getMainProps, getPlaceholderProps } from \"./hooks\"\nimport { Placeholder } from \"./placeholder\"\nimport { MainImage, MainImageProps } from \"./main-image\"\nimport { LayoutWrapper } from \"./layout-wrapper\"\nimport PropTypes from \"prop-types\"\nimport type { FunctionComponent, WeakValidationMap } from \"react\"\nimport type { GatsbyImageProps, IGatsbyImageData } from \"./gatsby-image.browser\"\n\nconst removeNewLines = (str: string): string => str.replace(/\\n/g, ``)\n\nexport const GatsbyImage: FunctionComponent<GatsbyImageProps> =\n  function GatsbyImage({\n    as = `div`,\n    className,\n    class: preactClass,\n    style,\n    image,\n    loading = `lazy`,\n    imgClassName,\n    imgStyle,\n    backgroundColor,\n    objectFit,\n    objectPosition,\n    ...props\n  }) {\n    if (!image) {\n      console.warn(`[gatsby-plugin-image] Missing image prop`)\n      return null\n    }\n\n    if (preactClass) {\n      className = preactClass\n    }\n\n    imgStyle = {\n      objectFit,\n      objectPosition,\n      backgroundColor,\n      ...imgStyle,\n    }\n\n    const {\n      width,\n      height,\n      layout,\n      images,\n      placeholder,\n      backgroundColor: placeholderBackgroundColor,\n    } = image\n\n    const {\n      style: wStyle,\n      className: wClass,\n      ...wrapperProps\n    } = getWrapperProps(width, height, layout)\n\n    const cleanedImages: IGatsbyImageData[\"images\"] = {\n      fallback: undefined,\n      sources: [],\n    }\n    if (images.fallback) {\n      cleanedImages.fallback = {\n        ...images.fallback,\n        srcSet: images.fallback.srcSet\n          ? removeNewLines(images.fallback.srcSet)\n          : undefined,\n      }\n    }\n\n    if (images.sources) {\n      cleanedImages.sources = images.sources.map(source => {\n        return {\n          ...source,\n          srcSet: removeNewLines(source.srcSet),\n        }\n      })\n    }\n\n    return React.createElement(\n      as,\n      {\n        ...wrapperProps,\n        style: {\n          ...wStyle,\n          ...style,\n          backgroundColor,\n        },\n        className: `${wClass}${className ? ` ${className}` : ``}`,\n      },\n      <LayoutWrapper layout={layout} width={width} height={height}>\n        <Placeholder\n          {...getPlaceholderProps(\n            placeholder,\n            false,\n            layout,\n            width,\n            height,\n            placeholderBackgroundColor,\n            objectFit,\n            objectPosition\n          )}\n        />\n\n        <MainImage\n          data-gatsby-image-ssr=\"\"\n          className={imgClassName}\n          {...(props as Omit<\n            MainImageProps,\n            \"images\" | \"fallback\" | \"onError\" | \"onLoad\"\n          >)}\n          // When eager is set we want to start the isLoading state on true (we want to load the img without react)\n          {...getMainProps(\n            loading === `eager`,\n            false,\n            cleanedImages,\n            loading,\n            imgStyle\n          )}\n        />\n      </LayoutWrapper>\n    )\n  }\n\nexport const altValidator: PropTypes.Validator<string> = (\n  props: GatsbyImageProps,\n  propName,\n  componentName,\n  ...rest\n): Error | undefined => {\n  if (!props.alt && props.alt !== ``) {\n    return new Error(\n      `The \"alt\" prop is required in ${componentName}. If the image is purely presentational then pass an empty string: e.g. alt=\"\". Learn more: https://a11y-style-guide.com/style-guide/section-media.html`\n    )\n  }\n\n  return PropTypes.string(props, propName, componentName, ...rest)\n}\n\nexport const propTypes = {\n  image: PropTypes.object.isRequired,\n  alt: altValidator,\n} as WeakValidationMap<GatsbyImageProps>\n","import {\n  createElement,\n  memo,\n  useMemo,\n  useEffect,\n  useLayoutEffect,\n  useRef,\n} from \"react\"\nimport {\n  getWrapperProps,\n  gatsbyImageIsInstalled,\n  hasNativeLazyLoadSupport,\n} from \"./hooks\"\nimport { getSizer } from \"./layout-wrapper\"\nimport { propTypes } from \"./gatsby-image.server\"\nimport type {\n  FC,\n  ElementType,\n  FunctionComponent,\n  ImgHTMLAttributes,\n  CSSProperties,\n  ReactEventHandler,\n} from \"react\"\nimport type { renderImageToString } from \"./lazy-hydrate\"\nimport type { PlaceholderProps } from \"./placeholder\"\nimport type { MainImageProps } from \"./main-image\"\nimport type { Layout } from \"../image-utils\"\n\nconst imageCache = new Set<string>()\nlet renderImageToStringPromise\nlet renderImage: typeof renderImageToString | undefined\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport interface GatsbyImageProps\n  extends Omit<\n    ImgHTMLAttributes<HTMLImageElement>,\n    \"placeholder\" | \"onLoad\" | \"src\" | \"srcSet\" | \"width\" | \"height\"\n  > {\n  alt: string\n  as?: ElementType\n  className?: string\n  class?: string\n  imgClassName?: string\n  image: IGatsbyImageData\n  imgStyle?: CSSProperties\n  backgroundColor?: string\n  objectFit?: CSSProperties[\"objectFit\"]\n  objectPosition?: CSSProperties[\"objectPosition\"]\n  onLoad?: (props: { wasCached: boolean }) => void\n  onError?: ReactEventHandler<HTMLImageElement>\n  onStartLoad?: (props: { wasCached: boolean }) => void\n}\n\nexport interface IGatsbyImageData {\n  layout: Layout\n  width: number\n  height: number\n  backgroundColor?: string\n  images: Pick<MainImageProps, \"sources\" | \"fallback\">\n  placeholder?: Pick<PlaceholderProps, \"sources\" | \"fallback\">\n}\n\nconst GatsbyImageHydrator: FC<GatsbyImageProps> = function GatsbyImageHydrator({\n  as = `div`,\n  image,\n  style,\n  backgroundColor,\n  className,\n  class: preactClass,\n  onStartLoad,\n  onLoad,\n  onError,\n  ...props\n}) {\n  const { width, height, layout } = image\n  const {\n    style: wStyle,\n    className: wClass,\n    ...wrapperProps\n  } = getWrapperProps(width, height, layout)\n  const root = useRef<HTMLElement>()\n  const cacheKey = useMemo(() => JSON.stringify(image.images), [image.images])\n\n  // Preact uses class instead of className so we need to check for both\n  if (preactClass) {\n    className = preactClass\n  }\n\n  const sizer = getSizer(layout, width, height)\n\n  useEffect(() => {\n    if (!renderImageToStringPromise) {\n      renderImageToStringPromise = import(`./lazy-hydrate`).then(\n        ({ renderImageToString, swapPlaceholderImage }) => {\n          renderImage = renderImageToString\n\n          return {\n            renderImageToString,\n            swapPlaceholderImage,\n          }\n        }\n      )\n    }\n\n    // The plugin image component is a bit special where if it's server-side rendered, we add extra script tags to support lazy-loading without\n    // In this case we stop hydration but fire the correct events.\n    const ssrImage = root.current.querySelector(\n      `[data-gatsby-image-ssr]`\n    ) as HTMLImageElement\n    if (ssrImage && hasNativeLazyLoadSupport()) {\n      if (ssrImage.complete) {\n        // Trigger onStartload and onLoad events\n        onStartLoad?.({\n          wasCached: true,\n        })\n        onLoad?.({\n          wasCached: true,\n        })\n\n        // remove ssr key for state updates but add delay to not fight with native code snippt of gatsby-ssr\n        setTimeout(() => {\n          ssrImage.removeAttribute(`data-gatsby-image-ssr`)\n        }, 0)\n      } else {\n        onStartLoad?.({\n          wasCached: true,\n        })\n\n        ssrImage.addEventListener(`load`, function onLoadListener() {\n          ssrImage.removeEventListener(`load`, onLoadListener)\n\n          onLoad?.({\n            wasCached: true,\n          })\n          // remove ssr key for state updates but add delay to not fight with native code snippt of gatsby-ssr\n          setTimeout(() => {\n            ssrImage.removeAttribute(`data-gatsby-image-ssr`)\n          }, 0)\n        })\n      }\n\n      imageCache.add(cacheKey)\n\n      return\n    }\n\n    if (renderImage && imageCache.has(cacheKey)) {\n      return\n    }\n\n    let animationFrame\n    let cleanupCallback\n    renderImageToStringPromise.then(\n      ({ renderImageToString, swapPlaceholderImage }) => {\n        if (!root.current) {\n          return\n        }\n\n        root.current.innerHTML = renderImageToString({\n          isLoading: true,\n          isLoaded: imageCache.has(cacheKey),\n          image,\n          ...props,\n        })\n\n        if (!imageCache.has(cacheKey)) {\n          animationFrame = requestAnimationFrame(() => {\n            if (root.current) {\n              cleanupCallback = swapPlaceholderImage(\n                root.current,\n                cacheKey,\n                imageCache,\n                style,\n                onStartLoad,\n                onLoad,\n                onError\n              )\n            }\n          })\n        }\n      }\n    )\n\n    // eslint-disable-next-line consistent-return\n    return (): void => {\n      if (animationFrame) {\n        cancelAnimationFrame(animationFrame)\n      }\n      if (cleanupCallback) {\n        cleanupCallback()\n      }\n    }\n  }, [image])\n\n  // useLayoutEffect is ran before React commits to the DOM. This allows us to make sure our HTML is using our cached image version\n  useLayoutEffect(() => {\n    if (imageCache.has(cacheKey) && renderImage) {\n      root.current.innerHTML = renderImage({\n        isLoading: imageCache.has(cacheKey),\n        isLoaded: imageCache.has(cacheKey),\n        image,\n        ...props,\n      })\n\n      // Trigger onStartload and onLoad events\n      onStartLoad?.({\n        wasCached: true,\n      })\n      onLoad?.({\n        wasCached: true,\n      })\n    }\n  }, [image])\n\n  // By keeping all props equal React will keep the component in the DOM\n  return createElement(as, {\n    ...wrapperProps,\n    style: {\n      ...wStyle,\n      ...style,\n      backgroundColor,\n    },\n    className: `${wClass}${className ? ` ${className}` : ``}`,\n    ref: root,\n    dangerouslySetInnerHTML: {\n      __html: sizer,\n    },\n    suppressHydrationWarning: true,\n  })\n}\n\nexport const GatsbyImage: FunctionComponent<GatsbyImageProps> = memo(\n  function GatsbyImage(props) {\n    if (!props.image) {\n      if (process.env.NODE_ENV === `development`) {\n        console.warn(`[gatsby-plugin-image] Missing image prop`)\n      }\n\n      return null\n    }\n\n    if (!gatsbyImageIsInstalled() && process.env.NODE_ENV === `development`) {\n      console.warn(\n        `[gatsby-plugin-image] You're missing out on some cool performance features. Please add \"gatsby-plugin-image\" to your gatsby-config.js`\n      )\n    }\n\n    return createElement(GatsbyImageHydrator, props)\n  }\n)\n\nGatsbyImage.propTypes = propTypes\nGatsbyImage.displayName = `GatsbyImage`\n","import React, { FunctionComponent, ReactElement } from \"react\"\nimport {\n  altValidator,\n  GatsbyImage as GatsbyImageServer,\n} from \"./gatsby-image.server\"\nimport { GatsbyImageProps, IGatsbyImageData } from \"./gatsby-image.browser\"\nimport PropTypes from \"prop-types\"\nimport { ISharpGatsbyImageArgs } from \"../image-utils\"\n\nexport interface IStaticImageProps\n  extends Omit<GatsbyImageProps, \"image\">,\n    Omit<ISharpGatsbyImageArgs, \"backgroundColor\"> {\n  src: string\n  filename?: string\n}\n\n// These values are added by Babel. Do not add them manually\ninterface IPrivateProps {\n  __imageData?: IGatsbyImageData\n  __error?: string\n}\n\nexport function _getStaticImage(\n  GatsbyImage: FunctionComponent<GatsbyImageProps>\n): React.FC<IStaticImageProps & IPrivateProps> {\n  return function StaticImage({\n    src,\n    __imageData: imageData,\n    __error,\n    // We extract these because they're not meant to be passed-down to GatsbyImage\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    width,\n    height,\n    aspectRatio,\n    tracedSVGOptions,\n    placeholder,\n    formats,\n    quality,\n    transformOptions,\n    jpgOptions,\n    pngOptions,\n    webpOptions,\n    avifOptions,\n    blurredOptions,\n    breakpoints,\n    outputPixelDensities,\n    /* eslint-enable @typescript-eslint/no-unused-vars */\n    ...props\n  }): ReactElement {\n    if (__error) {\n      console.warn(__error)\n    }\n\n    if (imageData) {\n      return <GatsbyImage image={imageData} {...props} />\n    }\n    console.warn(`Image not loaded`, src)\n    if (!__error && process.env.NODE_ENV === `development`) {\n      console.warn(\n        `Please ensure that \"gatsby-plugin-image\" is included in the plugins array in gatsby-config.js, and that your version of gatsby is at least 2.24.78`\n      )\n    }\n    return null\n  }\n}\n\nconst StaticImage: React.FC<IStaticImageProps & IPrivateProps> =\n  _getStaticImage(GatsbyImageServer)\n\nconst checkDimensionProps: PropTypes.Validator<number> = (\n  props: IStaticImageProps & IPrivateProps,\n  propName: keyof IStaticImageProps & IPrivateProps,\n  ...rest\n) => {\n  if (\n    props.layout === `fullWidth` &&\n    (propName === `width` || propName === `height`) &&\n    props[propName]\n  ) {\n    return new Error(\n      `\"${propName}\" ${props[propName]} may not be passed when layout is fullWidth.`\n    )\n  }\n  return PropTypes.number(props, propName, ...rest)\n}\n\nconst validLayouts = new Set([`fixed`, `fullWidth`, `constrained`])\n\nexport const propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: altValidator,\n  width: checkDimensionProps,\n  height: checkDimensionProps,\n  sizes: PropTypes.string,\n  layout: (props: IStaticImageProps & IPrivateProps): Error | undefined => {\n    if (props.layout === undefined) {\n      return undefined\n    }\n    if (validLayouts.has(props.layout)) {\n      return undefined\n    }\n\n    return new Error(\n      `Invalid value ${props.layout}\" provided for prop \"layout\". Defaulting to \"constrained\". Valid values are \"fixed\", \"fullWidth\" or \"constrained\".`\n    )\n  },\n}\n\nStaticImage.displayName = `StaticImage`\nStaticImage.propTypes = propTypes\n\nexport { StaticImage }\n","import {\n  GatsbyImage as GatsbyImageBrowser,\n  IGatsbyImageData,\n} from \"./gatsby-image.browser\"\nimport React from \"react\"\nimport {\n  _getStaticImage,\n  propTypes,\n  IStaticImageProps,\n} from \"./static-image.server\"\n// These values are added by Babel. Do not add them manually\ninterface IPrivateProps {\n  __imageData?: IGatsbyImageData\n  __error?: string\n}\n\nconst StaticImage: React.FC<IStaticImageProps & IPrivateProps> =\n  _getStaticImage(GatsbyImageBrowser)\n\nStaticImage.displayName = `StaticImage`\nStaticImage.propTypes = propTypes\n\nexport { StaticImage }\n","import Symbol from './_Symbol.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nexport default isFlattenable;\n","import arrayPush from './_arrayPush.js';\nimport isFlattenable from './_isFlattenable.js';\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nexport default baseFlatten;\n","import {\n  AbstractMermaidTokenBuilder,\n  CommonValueConverter,\n  MermaidGeneratedSharedModule,\n  RadarGeneratedModule,\n  __name\n} from \"./chunk-YAJQ3QCK.mjs\";\n\n// src/language/radar/module.ts\nimport {\n  EmptyFileSystem,\n  createDefaultCoreModule,\n  createDefaultSharedCoreModule,\n  inject\n} from \"langium\";\n\n// src/language/radar/tokenBuilder.ts\nvar RadarTokenBuilder = class extends AbstractMermaidTokenBuilder {\n  static {\n    __name(this, \"RadarTokenBuilder\");\n  }\n  constructor() {\n    super([\"radar-beta\"]);\n  }\n};\n\n// src/language/radar/module.ts\nvar RadarModule = {\n  parser: {\n    TokenBuilder: /* @__PURE__ */ __name(() => new RadarTokenBuilder(), \"TokenBuilder\"),\n    ValueConverter: /* @__PURE__ */ __name(() => new CommonValueConverter(), \"ValueConverter\")\n  }\n};\nfunction createRadarServices(context = EmptyFileSystem) {\n  const shared = inject(\n    createDefaultSharedCoreModule(context),\n    MermaidGeneratedSharedModule\n  );\n  const Radar = inject(\n    createDefaultCoreModule({ shared }),\n    RadarGeneratedModule,\n    RadarModule\n  );\n  shared.ServiceRegistry.register(Radar);\n  return { shared, Radar };\n}\n__name(createRadarServices, \"createRadarServices\");\n\nexport {\n  RadarModule,\n  createRadarServices\n};\n","/**\n * The base implementation of `_.propertyOf` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyOf(object) {\n  return function(key) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nexport default basePropertyOf;\n","import basePropertyOf from './_basePropertyOf.js';\n\n/** Used to map Latin Unicode letters to basic Latin letters. */\nvar deburredLetters = {\n  // Latin-1 Supplement block.\n  '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n  '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n  '\\xc7': 'C',  '\\xe7': 'c',\n  '\\xd0': 'D',  '\\xf0': 'd',\n  '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n  '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n  '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n  '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n  '\\xd1': 'N',  '\\xf1': 'n',\n  '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n  '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n  '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n  '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n  '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n  '\\xc6': 'Ae', '\\xe6': 'ae',\n  '\\xde': 'Th', '\\xfe': 'th',\n  '\\xdf': 'ss',\n  // Latin Extended-A block.\n  '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n  '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n  '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n  '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n  '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n  '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n  '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n  '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n  '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n  '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n  '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n  '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n  '\\u0134': 'J',  '\\u0135': 'j',\n  '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n  '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n  '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n  '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n  '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n  '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n  '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n  '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n  '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n  '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n  '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n  '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n  '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n  '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n  '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n  '\\u0174': 'W',  '\\u0175': 'w',\n  '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n  '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n  '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n  '\\u0132': 'IJ', '\\u0133': 'ij',\n  '\\u0152': 'Oe', '\\u0153': 'oe',\n  '\\u0149': \"'n\", '\\u017f': 's'\n};\n\n/**\n * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n * letters to basic Latin letters.\n *\n * @private\n * @param {string} letter The matched letter to deburr.\n * @returns {string} Returns the deburred letter.\n */\nvar deburrLetter = basePropertyOf(deburredLetters);\n\nexport default deburrLetter;\n","import deburrLetter from './_deburrLetter.js';\nimport toString from './toString.js';\n\n/** Used to match Latin Unicode letters (excluding mathematical operators). */\nvar reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n/** Used to compose unicode character classes. */\nvar rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange;\n\n/** Used to compose unicode capture groups. */\nvar rsCombo = '[' + rsComboRange + ']';\n\n/**\n * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n */\nvar reComboMark = RegExp(rsCombo, 'g');\n\n/**\n * Deburrs `string` by converting\n * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n * letters to basic Latin letters and removing\n * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to deburr.\n * @returns {string} Returns the deburred string.\n * @example\n *\n * _.deburr('dj vu');\n * // => 'deja vu'\n */\nfunction deburr(string) {\n  string = toString(string);\n  return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n}\n\nexport default deburr;\n","/** Used to match words composed of alphanumeric characters. */\nvar reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n/**\n * Splits an ASCII `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction asciiWords(string) {\n  return string.match(reAsciiWord) || [];\n}\n\nexport default asciiWords;\n","/** Used to detect strings that need a more robust regexp to match words. */\nvar reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n/**\n * Checks if `string` contains a word composed of Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a word is found, else `false`.\n */\nfunction hasUnicodeWord(string) {\n  return reHasUnicodeWord.test(string);\n}\n\nexport default hasUnicodeWord;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsDingbatRange = '\\\\u2700-\\\\u27bf',\n    rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n    rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n    rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n    rsPunctuationRange = '\\\\u2000-\\\\u206f',\n    rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n    rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n    rsVarRange = '\\\\ufe0e\\\\ufe0f',\n    rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\",\n    rsBreak = '[' + rsBreakRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsDigits = '\\\\d+',\n    rsDingbat = '[' + rsDingbatRange + ']',\n    rsLower = '[' + rsLowerRange + ']',\n    rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsUpper = '[' + rsUpperRange + ']',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n    rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n    rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n    rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n    reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n    rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq;\n\n/** Used to match complex or compound words. */\nvar reUnicodeWord = RegExp([\n  rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n  rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n  rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n  rsUpper + '+' + rsOptContrUpper,\n  rsOrdUpper,\n  rsOrdLower,\n  rsDigits,\n  rsEmoji\n].join('|'), 'g');\n\n/**\n * Splits a Unicode `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction unicodeWords(string) {\n  return string.match(reUnicodeWord) || [];\n}\n\nexport default unicodeWords;\n","import asciiWords from './_asciiWords.js';\nimport hasUnicodeWord from './_hasUnicodeWord.js';\nimport toString from './toString.js';\nimport unicodeWords from './_unicodeWords.js';\n\n/**\n * Splits `string` into an array of its words.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to inspect.\n * @param {RegExp|string} [pattern] The pattern to match words.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the words of `string`.\n * @example\n *\n * _.words('fred, barney, & pebbles');\n * // => ['fred', 'barney', 'pebbles']\n *\n * _.words('fred, barney, & pebbles', /[^, ]+/g);\n * // => ['fred', 'barney', '&', 'pebbles']\n */\nfunction words(string, pattern, guard) {\n  string = toString(string);\n  pattern = guard ? undefined : pattern;\n\n  if (pattern === undefined) {\n    return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n  }\n  return string.match(pattern) || [];\n}\n\nexport default words;\n","import arrayReduce from './_arrayReduce.js';\nimport deburr from './deburr.js';\nimport words from './words.js';\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\";\n\n/** Used to match apostrophes. */\nvar reApos = RegExp(rsApos, 'g');\n\n/**\n * Creates a function like `_.camelCase`.\n *\n * @private\n * @param {Function} callback The function to combine each word.\n * @returns {Function} Returns the new compounder function.\n */\nfunction createCompounder(callback) {\n  return function(string) {\n    return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n  };\n}\n\nexport default createCompounder;\n","import createCompounder from './_createCompounder.js';\n\n/**\n * Converts `string` to\n * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the kebab cased string.\n * @example\n *\n * _.kebabCase('Foo Bar');\n * // => 'foo-bar'\n *\n * _.kebabCase('fooBar');\n * // => 'foo-bar'\n *\n * _.kebabCase('__FOO_BAR__');\n * // => 'foo-bar'\n */\nvar kebabCase = createCompounder(function(result, word, index) {\n  return result + (index ? '-' : '') + word.toLowerCase();\n});\n\nexport default kebabCase;\n","/******************************************************************************\n * Copyright 2022 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nexport class EmptyFileSystemProvider {\n    readFile() {\n        throw new Error('No file system is available.');\n    }\n    async readDirectory() {\n        return [];\n    }\n}\nexport const EmptyFileSystem = {\n    fileSystemProvider: () => new EmptyFileSystemProvider()\n};\n//# sourceMappingURL=file-system-provider.js.map","import identity from './identity.js';\n\n/**\n * Casts `value` to `identity` if it's not a function.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Function} Returns cast function.\n */\nfunction castFunction(value) {\n  return typeof value == 'function' ? value : identity;\n}\n\nexport default castFunction;\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nexport default baseFindIndex;\n","/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nexport class ErrorWithLocation extends Error {\n    constructor(node, message) {\n        super(node ? `${message} at ${node.range.start.line}:${node.range.start.character}` : message);\n    }\n}\nexport function assertUnreachable(_) {\n    throw new Error('Error! The input value was not handled.');\n}\n//# sourceMappingURL=errors.js.map","import Set from './_Set.js';\nimport noop from './noop.js';\nimport setToArray from './_setToArray.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n  return new Set(values);\n};\n\nexport default createSet;\n","import SetCache from './_SetCache.js';\nimport arrayIncludes from './_arrayIncludes.js';\nimport arrayIncludesWith from './_arrayIncludesWith.js';\nimport cacheHas from './_cacheHas.js';\nimport createSet from './_createSet.js';\nimport setToArray from './_setToArray.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nexport default baseUniq;\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nexport default noop;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import castPath from './_castPath.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isIndex from './_isIndex.js';\nimport isLength from './isLength.js';\nimport toKey from './_toKey.js';\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nexport default hasPath;\n","import isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nexport default isKey;\n","import baseGetAllKeys from './_baseGetAllKeys.js';\nimport getSymbolsIn from './_getSymbolsIn.js';\nimport keysIn from './keysIn.js';\n\n/**\n * Creates an array of own and inherited enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeysIn(object) {\n  return baseGetAllKeys(object, keysIn, getSymbolsIn);\n}\n\nexport default getAllKeysIn;\n","import {\n  AbstractMermaidTokenBuilder,\n  AbstractMermaidValueConverter,\n  ArchitectureGeneratedModule,\n  MermaidGeneratedSharedModule,\n  __name\n} from \"./chunk-YAJQ3QCK.mjs\";\n\n// src/language/architecture/module.ts\nimport {\n  EmptyFileSystem,\n  createDefaultCoreModule,\n  createDefaultSharedCoreModule,\n  inject\n} from \"langium\";\n\n// src/language/architecture/tokenBuilder.ts\nvar ArchitectureTokenBuilder = class extends AbstractMermaidTokenBuilder {\n  static {\n    __name(this, \"ArchitectureTokenBuilder\");\n  }\n  constructor() {\n    super([\"architecture\"]);\n  }\n};\n\n// src/language/architecture/valueConverter.ts\nvar ArchitectureValueConverter = class extends AbstractMermaidValueConverter {\n  static {\n    __name(this, \"ArchitectureValueConverter\");\n  }\n  runCustomConverter(rule, input, _cstNode) {\n    if (rule.name === \"ARCH_ICON\") {\n      return input.replace(/[()]/g, \"\").trim();\n    } else if (rule.name === \"ARCH_TEXT_ICON\") {\n      return input.replace(/[\"()]/g, \"\");\n    } else if (rule.name === \"ARCH_TITLE\") {\n      return input.replace(/[[\\]]/g, \"\").trim();\n    }\n    return void 0;\n  }\n};\n\n// src/language/architecture/module.ts\nvar ArchitectureModule = {\n  parser: {\n    TokenBuilder: /* @__PURE__ */ __name(() => new ArchitectureTokenBuilder(), \"TokenBuilder\"),\n    ValueConverter: /* @__PURE__ */ __name(() => new ArchitectureValueConverter(), \"ValueConverter\")\n  }\n};\nfunction createArchitectureServices(context = EmptyFileSystem) {\n  const shared = inject(\n    createDefaultSharedCoreModule(context),\n    MermaidGeneratedSharedModule\n  );\n  const Architecture = inject(\n    createDefaultCoreModule({ shared }),\n    ArchitectureGeneratedModule,\n    ArchitectureModule\n  );\n  shared.ServiceRegistry.register(Architecture);\n  return { shared, Architecture };\n}\n__name(createArchitectureServices, \"createArchitectureServices\");\n\nexport {\n  ArchitectureModule,\n  createArchitectureServices\n};\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nexport default baseHasIn;\n","import baseHasIn from './_baseHasIn.js';\nimport hasPath from './_hasPath.js';\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nexport default hasIn;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { isCompositeCstNode, isLeafCstNode, isRootCstNode } from '../syntax-tree.js';\nimport { TreeStreamImpl } from './stream.js';\n/**\n * Create a stream of all CST nodes that are directly and indirectly contained in the given root node,\n * including the root node itself.\n */\nexport function streamCst(node) {\n    return new TreeStreamImpl(node, element => {\n        if (isCompositeCstNode(element)) {\n            return element.content;\n        }\n        else {\n            return [];\n        }\n    }, { includeRoot: true });\n}\n/**\n * Create a stream of all leaf nodes that are directly and indirectly contained in the given root node.\n */\nexport function flattenCst(node) {\n    return streamCst(node).filter(isLeafCstNode);\n}\n/**\n * Determines whether the specified cst node is a child of the specified parent node.\n */\nexport function isChildNode(child, parent) {\n    while (child.container) {\n        child = child.container;\n        if (child === parent) {\n            return true;\n        }\n    }\n    return false;\n}\nexport function tokenToRange(token) {\n    // Chevrotain uses 1-based indices everywhere\n    // So we subtract 1 from every value to align with the LSP\n    return {\n        start: {\n            character: token.startColumn - 1,\n            line: token.startLine - 1\n        },\n        end: {\n            character: token.endColumn, // endColumn uses the correct index\n            line: token.endLine - 1\n        }\n    };\n}\nexport function toDocumentSegment(node) {\n    if (!node) {\n        return undefined;\n    }\n    const { offset, end, range } = node;\n    return {\n        range,\n        offset,\n        end,\n        length: end - offset\n    };\n}\nexport var RangeComparison;\n(function (RangeComparison) {\n    RangeComparison[RangeComparison[\"Before\"] = 0] = \"Before\";\n    RangeComparison[RangeComparison[\"After\"] = 1] = \"After\";\n    RangeComparison[RangeComparison[\"OverlapFront\"] = 2] = \"OverlapFront\";\n    RangeComparison[RangeComparison[\"OverlapBack\"] = 3] = \"OverlapBack\";\n    RangeComparison[RangeComparison[\"Inside\"] = 4] = \"Inside\";\n    RangeComparison[RangeComparison[\"Outside\"] = 5] = \"Outside\";\n})(RangeComparison || (RangeComparison = {}));\nexport function compareRange(range, to) {\n    if (range.end.line < to.start.line || (range.end.line === to.start.line && range.end.character <= to.start.character)) {\n        return RangeComparison.Before;\n    }\n    else if (range.start.line > to.end.line || (range.start.line === to.end.line && range.start.character >= to.end.character)) {\n        return RangeComparison.After;\n    }\n    const startInside = range.start.line > to.start.line || (range.start.line === to.start.line && range.start.character >= to.start.character);\n    const endInside = range.end.line < to.end.line || (range.end.line === to.end.line && range.end.character <= to.end.character);\n    if (startInside && endInside) {\n        return RangeComparison.Inside;\n    }\n    else if (startInside) {\n        return RangeComparison.OverlapBack;\n    }\n    else if (endInside) {\n        return RangeComparison.OverlapFront;\n    }\n    else {\n        return RangeComparison.Outside;\n    }\n}\nexport function inRange(range, to) {\n    const comparison = compareRange(range, to);\n    return comparison > RangeComparison.After;\n}\n// The \\p{L} regex matches any unicode letter character, i.e. characters from non-english alphabets\n// Together with \\w it matches any kind of character which can commonly appear in IDs\nexport const DefaultNameRegexp = /^[\\w\\p{L}]$/u;\n/**\n * Performs `findLeafNodeAtOffset` with a minor difference: When encountering a character that matches the `nameRegexp` argument,\n * it will instead return the leaf node at the `offset - 1` position.\n *\n * For LSP services, users expect that the declaration of an element is available if the cursor is directly after the element.\n */\nexport function findDeclarationNodeAtOffset(cstNode, offset, nameRegexp = DefaultNameRegexp) {\n    if (cstNode) {\n        if (offset > 0) {\n            const localOffset = offset - cstNode.offset;\n            const textAtOffset = cstNode.text.charAt(localOffset);\n            if (!nameRegexp.test(textAtOffset)) {\n                offset--;\n            }\n        }\n        return findLeafNodeAtOffset(cstNode, offset);\n    }\n    return undefined;\n}\nexport function findCommentNode(cstNode, commentNames) {\n    if (cstNode) {\n        const previous = getPreviousNode(cstNode, true);\n        if (previous && isCommentNode(previous, commentNames)) {\n            return previous;\n        }\n        if (isRootCstNode(cstNode)) {\n            // Go from the first non-hidden node through all nodes in reverse order\n            // We do this to find the comment node which directly precedes the root node\n            const endIndex = cstNode.content.findIndex(e => !e.hidden);\n            for (let i = endIndex - 1; i >= 0; i--) {\n                const child = cstNode.content[i];\n                if (isCommentNode(child, commentNames)) {\n                    return child;\n                }\n            }\n        }\n    }\n    return undefined;\n}\nexport function isCommentNode(cstNode, commentNames) {\n    return isLeafCstNode(cstNode) && commentNames.includes(cstNode.tokenType.name);\n}\n/**\n * Finds the leaf CST node at the specified 0-based string offset.\n * Note that the given offset will be within the range of the returned leaf node.\n *\n * If the offset does not point to a CST node (but just white space), this method will return `undefined`.\n *\n * @param node The CST node to search through.\n * @param offset The specified offset.\n * @returns The CST node at the specified offset.\n */\nexport function findLeafNodeAtOffset(node, offset) {\n    if (isLeafCstNode(node)) {\n        return node;\n    }\n    else if (isCompositeCstNode(node)) {\n        const searchResult = binarySearch(node, offset, false);\n        if (searchResult) {\n            return findLeafNodeAtOffset(searchResult, offset);\n        }\n    }\n    return undefined;\n}\n/**\n * Finds the leaf CST node at the specified 0-based string offset.\n * If no CST node exists at the specified position, it will return the leaf node before it.\n *\n * If there is no leaf node before the specified offset, this method will return `undefined`.\n *\n * @param node The CST node to search through.\n * @param offset The specified offset.\n * @returns The CST node closest to the specified offset.\n */\nexport function findLeafNodeBeforeOffset(node, offset) {\n    if (isLeafCstNode(node)) {\n        return node;\n    }\n    else if (isCompositeCstNode(node)) {\n        const searchResult = binarySearch(node, offset, true);\n        if (searchResult) {\n            return findLeafNodeBeforeOffset(searchResult, offset);\n        }\n    }\n    return undefined;\n}\nfunction binarySearch(node, offset, closest) {\n    let left = 0;\n    let right = node.content.length - 1;\n    let closestNode = undefined;\n    while (left <= right) {\n        const middle = Math.floor((left + right) / 2);\n        const middleNode = node.content[middle];\n        if (middleNode.offset <= offset && middleNode.end > offset) {\n            // Found an exact match\n            return middleNode;\n        }\n        if (middleNode.end <= offset) {\n            // Update the closest node (less than offset) and move to the right half\n            closestNode = closest ? middleNode : undefined;\n            left = middle + 1;\n        }\n        else {\n            // Move to the left half\n            right = middle - 1;\n        }\n    }\n    return closestNode;\n}\nexport function getPreviousNode(node, hidden = true) {\n    while (node.container) {\n        const parent = node.container;\n        let index = parent.content.indexOf(node);\n        while (index > 0) {\n            index--;\n            const previous = parent.content[index];\n            if (hidden || !previous.hidden) {\n                return previous;\n            }\n        }\n        node = parent;\n    }\n    return undefined;\n}\nexport function getNextNode(node, hidden = true) {\n    while (node.container) {\n        const parent = node.container;\n        let index = parent.content.indexOf(node);\n        const last = parent.content.length - 1;\n        while (index < last) {\n            index++;\n            const next = parent.content[index];\n            if (hidden || !next.hidden) {\n                return next;\n            }\n        }\n        node = parent;\n    }\n    return undefined;\n}\nexport function getStartlineNode(node) {\n    if (node.range.start.character === 0) {\n        return node;\n    }\n    const line = node.range.start.line;\n    let last = node;\n    let index;\n    while (node.container) {\n        const parent = node.container;\n        const selfIndex = index !== null && index !== void 0 ? index : parent.content.indexOf(node);\n        if (selfIndex === 0) {\n            node = parent;\n            index = undefined;\n        }\n        else {\n            index = selfIndex - 1;\n            node = parent.content[index];\n        }\n        if (node.range.start.line !== line) {\n            break;\n        }\n        last = node;\n    }\n    return last;\n}\nexport function getInteriorNodes(start, end) {\n    const commonParent = getCommonParent(start, end);\n    if (!commonParent) {\n        return [];\n    }\n    return commonParent.parent.content.slice(commonParent.a + 1, commonParent.b);\n}\nfunction getCommonParent(a, b) {\n    const aParents = getParentChain(a);\n    const bParents = getParentChain(b);\n    let current;\n    for (let i = 0; i < aParents.length && i < bParents.length; i++) {\n        const aParent = aParents[i];\n        const bParent = bParents[i];\n        if (aParent.parent === bParent.parent) {\n            current = {\n                parent: aParent.parent,\n                a: aParent.index,\n                b: bParent.index\n            };\n        }\n        else {\n            break;\n        }\n    }\n    return current;\n}\nfunction getParentChain(node) {\n    const chain = [];\n    while (node.container) {\n        const parent = node.container;\n        const index = parent.content.indexOf(node);\n        chain.push({\n            parent,\n            index\n        });\n        node = parent;\n    }\n    return chain.reverse();\n}\n//# sourceMappingURL=cst-utils.js.map","import styled from '@emotion/styled';\n\ntype WrapperProps = {\n  className?: string;\n  children: React.ReactNode;\n};\n\nexport default function Wrapper({ children, className }: WrapperProps) {\n  return <StyledWrapper className={className}>{children}</StyledWrapper>;\n}\n\nconst StyledWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n`;\n","import arrayMap from './_arrayMap.js';\n\n/**\n * The base implementation of `_.values` and `_.valuesIn` which creates an\n * array of `object` property values corresponding to the property names\n * of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the array of property values.\n */\nfunction baseValues(object, props) {\n  return arrayMap(props, function(key) {\n    return object[key];\n  });\n}\n\nexport default baseValues;\n","import baseValues from './_baseValues.js';\nimport keys from './keys.js';\n\n/**\n * Creates an array of the own enumerable string keyed property values of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property values.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.values(new Foo);\n * // => [1, 2] (iteration order is not guaranteed)\n *\n * _.values('hi');\n * // => ['h', 'i']\n */\nfunction values(object) {\n  return object == null ? [] : baseValues(object, keys(object));\n}\n\nexport default values;\n","import memoize from '@emotion/memoize';\n\n// eslint-disable-next-line no-undef\nvar reactPropsRegex = /^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/; // https://esbench.com/bench/5bfee68a4cd7e6009ef61d23\n\nvar isPropValid = /* #__PURE__ */memoize(function (prop) {\n  return reactPropsRegex.test(prop) || prop.charCodeAt(0) === 111\n  /* o */\n  && prop.charCodeAt(1) === 110\n  /* n */\n  && prop.charCodeAt(2) < 91;\n}\n/* Z+1 */\n);\n\nexport { isPropValid as default };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport isPropValid from '@emotion/is-prop-valid';\nimport { withEmotionCache, ThemeContext } from '@emotion/react';\nimport { getRegisteredStyles, registerStyles, insertStyles } from '@emotion/utils';\nimport { serializeStyles } from '@emotion/serialize';\nimport { useInsertionEffectAlwaysWithSyncFallback } from '@emotion/use-insertion-effect-with-fallbacks';\n\nvar testOmitPropsOnStringTag = isPropValid;\n\nvar testOmitPropsOnComponent = function testOmitPropsOnComponent(key) {\n  return key !== 'theme';\n};\n\nvar getDefaultShouldForwardProp = function getDefaultShouldForwardProp(tag) {\n  return typeof tag === 'string' && // 96 is one less than the char code\n  // for \"a\" so this is checking that\n  // it's a lowercase character\n  tag.charCodeAt(0) > 96 ? testOmitPropsOnStringTag : testOmitPropsOnComponent;\n};\nvar composeShouldForwardProps = function composeShouldForwardProps(tag, options, isReal) {\n  var shouldForwardProp;\n\n  if (options) {\n    var optionsShouldForwardProp = options.shouldForwardProp;\n    shouldForwardProp = tag.__emotion_forwardProp && optionsShouldForwardProp ? function (propName) {\n      return tag.__emotion_forwardProp(propName) && optionsShouldForwardProp(propName);\n    } : optionsShouldForwardProp;\n  }\n\n  if (typeof shouldForwardProp !== 'function' && isReal) {\n    shouldForwardProp = tag.__emotion_forwardProp;\n  }\n\n  return shouldForwardProp;\n};\n\nvar ILLEGAL_ESCAPE_SEQUENCE_ERROR = \"You have illegal escape sequence in your template literal, most likely inside content's property value.\\nBecause you write your CSS inside a JavaScript string you actually have to do double escaping, so for example \\\"content: '\\\\00d7';\\\" should become \\\"content: '\\\\\\\\00d7';\\\".\\nYou can read more about this here:\\nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences\";\n\nvar Insertion = function Insertion(_ref) {\n  var cache = _ref.cache,\n      serialized = _ref.serialized,\n      isStringTag = _ref.isStringTag;\n  registerStyles(cache, serialized, isStringTag);\n  useInsertionEffectAlwaysWithSyncFallback(function () {\n    return insertStyles(cache, serialized, isStringTag);\n  });\n\n  return null;\n};\n\nvar createStyled = function createStyled(tag, options) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (tag === undefined) {\n      throw new Error('You are trying to create a styled element with an undefined component.\\nYou may have forgotten to import it.');\n    }\n  }\n\n  var isReal = tag.__emotion_real === tag;\n  var baseTag = isReal && tag.__emotion_base || tag;\n  var identifierName;\n  var targetClassName;\n\n  if (options !== undefined) {\n    identifierName = options.label;\n    targetClassName = options.target;\n  }\n\n  var shouldForwardProp = composeShouldForwardProps(tag, options, isReal);\n  var defaultShouldForwardProp = shouldForwardProp || getDefaultShouldForwardProp(baseTag);\n  var shouldUseAs = !defaultShouldForwardProp('as');\n  return function () {\n    var args = arguments;\n    var styles = isReal && tag.__emotion_styles !== undefined ? tag.__emotion_styles.slice(0) : [];\n\n    if (identifierName !== undefined) {\n      styles.push(\"label:\" + identifierName + \";\");\n    }\n\n    if (args[0] == null || args[0].raw === undefined) {\n      styles.push.apply(styles, args);\n    } else {\n      if (process.env.NODE_ENV !== 'production' && args[0][0] === undefined) {\n        console.error(ILLEGAL_ESCAPE_SEQUENCE_ERROR);\n      }\n\n      styles.push(args[0][0]);\n      var len = args.length;\n      var i = 1;\n\n      for (; i < len; i++) {\n        if (process.env.NODE_ENV !== 'production' && args[0][i] === undefined) {\n          console.error(ILLEGAL_ESCAPE_SEQUENCE_ERROR);\n        }\n\n        styles.push(args[i], args[0][i]);\n      }\n    } // $FlowFixMe: we need to cast StatelessFunctionalComponent to our PrivateStyledComponent class\n\n\n    var Styled = withEmotionCache(function (props, cache, ref) {\n      var FinalTag = shouldUseAs && props.as || baseTag;\n      var className = '';\n      var classInterpolations = [];\n      var mergedProps = props;\n\n      if (props.theme == null) {\n        mergedProps = {};\n\n        for (var key in props) {\n          mergedProps[key] = props[key];\n        }\n\n        mergedProps.theme = React.useContext(ThemeContext);\n      }\n\n      if (typeof props.className === 'string') {\n        className = getRegisteredStyles(cache.registered, classInterpolations, props.className);\n      } else if (props.className != null) {\n        className = props.className + \" \";\n      }\n\n      var serialized = serializeStyles(styles.concat(classInterpolations), cache.registered, mergedProps);\n      className += cache.key + \"-\" + serialized.name;\n\n      if (targetClassName !== undefined) {\n        className += \" \" + targetClassName;\n      }\n\n      var finalShouldForwardProp = shouldUseAs && shouldForwardProp === undefined ? getDefaultShouldForwardProp(FinalTag) : defaultShouldForwardProp;\n      var newProps = {};\n\n      for (var _key in props) {\n        if (shouldUseAs && _key === 'as') continue;\n\n        if ( // $FlowFixMe\n        finalShouldForwardProp(_key)) {\n          newProps[_key] = props[_key];\n        }\n      }\n\n      newProps.className = className;\n      newProps.ref = ref;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Insertion, {\n        cache: cache,\n        serialized: serialized,\n        isStringTag: typeof FinalTag === 'string'\n      }), /*#__PURE__*/React.createElement(FinalTag, newProps));\n    });\n    Styled.displayName = identifierName !== undefined ? identifierName : \"Styled(\" + (typeof baseTag === 'string' ? baseTag : baseTag.displayName || baseTag.name || 'Component') + \")\";\n    Styled.defaultProps = tag.defaultProps;\n    Styled.__emotion_real = Styled;\n    Styled.__emotion_base = baseTag;\n    Styled.__emotion_styles = styles;\n    Styled.__emotion_forwardProp = shouldForwardProp;\n    Object.defineProperty(Styled, 'toString', {\n      value: function value() {\n        if (targetClassName === undefined && process.env.NODE_ENV !== 'production') {\n          return 'NO_COMPONENT_SELECTOR';\n        } // $FlowFixMe: coerce undefined to string\n\n\n        return \".\" + targetClassName;\n      }\n    });\n\n    Styled.withComponent = function (nextTag, nextOptions) {\n      return createStyled(nextTag, _extends({}, options, nextOptions, {\n        shouldForwardProp: composeShouldForwardProps(Styled, nextOptions, true)\n      })).apply(void 0, styles);\n    };\n\n    return Styled;\n  };\n};\n\nexport { createStyled as default };\n","export const Github = () => (\n  <svg\n    width=\"21px\"\n    height=\"21px\"\n    viewBox=\"0 0 1024 1024\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M8 0C3.58 0 0 3.58 0 8C0 11.54 2.29 14.53 5.47 15.59C5.87 15.66 6.02 15.42 6.02 15.21C6.02 15.02 6.01 14.39 6.01 13.72C4 14.09 3.48 13.23 3.32 12.78C3.23 12.55 2.84 11.84 2.5 11.65C2.22 11.5 1.82 11.13 2.49 11.12C3.12 11.11 3.57 11.7 3.72 11.94C4.44 13.15 5.59 12.81 6.05 12.6C6.12 12.08 6.33 11.73 6.56 11.53C4.78 11.33 2.92 10.64 2.92 7.58C2.92 6.71 3.23 5.99 3.74 5.43C3.66 5.23 3.38 4.41 3.82 3.31C3.82 3.31 4.49 3.1 6.02 4.13C6.66 3.95 7.34 3.86 8.02 3.86C8.7 3.86 9.38 3.95 10.02 4.13C11.55 3.09 12.22 3.31 12.22 3.31C12.66 4.41 12.38 5.23 12.3 5.43C12.81 5.99 13.12 6.7 13.12 7.58C13.12 10.65 11.25 11.33 9.47 11.53C9.76 11.78 10.01 12.26 10.01 13.01C10.01 14.08 10 14.94 10 15.21C10 15.42 10.15 15.67 10.55 15.59C13.71 14.53 16 11.53 16 8C16 3.58 12.42 0 8 0Z\"\n      transform=\"scale(64)\"\n    />\n  </svg>\n);\n","export const Instagram = () => (\n  <svg height=\"511pt\" viewBox=\"0 0 511 511.9\" width=\"13pt\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"m510.949219 150.5c-1.199219-27.199219-5.597657-45.898438-11.898438-62.101562-6.5-17.199219-16.5-32.597657-29.601562-45.398438-12.800781-13-28.300781-23.101562-45.300781-29.5-16.296876-6.300781-34.898438-10.699219-62.097657-11.898438-27.402343-1.300781-36.101562-1.601562-105.601562-1.601562s-78.199219.300781-105.5 1.5c-27.199219 1.199219-45.898438 5.601562-62.097657 11.898438-17.203124 6.5-32.601562 16.5-45.402343 29.601562-13 12.800781-23.097657 28.300781-29.5 45.300781-6.300781 16.300781-10.699219 34.898438-11.898438 62.097657-1.300781 27.402343-1.601562 36.101562-1.601562 105.601562s.300781 78.199219 1.5 105.5c1.199219 27.199219 5.601562 45.898438 11.902343 62.101562 6.5 17.199219 16.597657 32.597657 29.597657 45.398438 12.800781 13 28.300781 23.101562 45.300781 29.5 16.300781 6.300781 34.898438 10.699219 62.101562 11.898438 27.296876 1.203124 36 1.5 105.5 1.5s78.199219-.296876 105.5-1.5c27.199219-1.199219 45.898438-5.597657 62.097657-11.898438 34.402343-13.300781 61.601562-40.5 74.902343-74.898438 6.296876-16.300781 10.699219-34.902343 11.898438-62.101562 1.199219-27.300781 1.5-36 1.5-105.5s-.101562-78.199219-1.300781-105.5zm-46.097657 209c-1.101562 25-5.300781 38.5-8.800781 47.5-8.601562 22.300781-26.300781 40-48.601562 48.601562-9 3.5-22.597657 7.699219-47.5 8.796876-27 1.203124-35.097657 1.5-103.398438 1.5s-76.5-.296876-103.402343-1.5c-25-1.097657-38.5-5.296876-47.5-8.796876-11.097657-4.101562-21.199219-10.601562-29.398438-19.101562-8.5-8.300781-15-18.300781-19.101562-29.398438-3.5-9-7.699219-22.601562-8.796876-47.5-1.203124-27-1.5-35.101562-1.5-103.402343s.296876-76.5 1.5-103.398438c1.097657-25 5.296876-38.5 8.796876-47.5 4.101562-11.101562 10.601562-21.199219 19.203124-29.402343 8.296876-8.5 18.296876-15 29.398438-19.097657 9-3.5 22.601562-7.699219 47.5-8.800781 27-1.199219 35.101562-1.5 103.398438-1.5 68.402343 0 76.5.300781 103.402343 1.5 25 1.101562 38.5 5.300781 47.5 8.800781 11.097657 4.097657 21.199219 10.597657 29.398438 19.097657 8.5 8.300781 15 18.300781 19.101562 29.402343 3.5 9 7.699219 22.597657 8.800781 47.5 1.199219 27 1.5 35.097657 1.5 103.398438s-.300781 76.300781-1.5 103.300781zm0 0\" />\n    <path d=\"m256.449219 124.5c-72.597657 0-131.5 58.898438-131.5 131.5s58.902343 131.5 131.5 131.5c72.601562 0 131.5-58.898438 131.5-131.5s-58.898438-131.5-131.5-131.5zm0 216.800781c-47.097657 0-85.300781-38.199219-85.300781-85.300781s38.203124-85.300781 85.300781-85.300781c47.101562 0 85.300781 38.199219 85.300781 85.300781s-38.199219 85.300781-85.300781 85.300781zm0 0\" />\n    <path d=\"m423.851562 119.300781c0 16.953125-13.746093 30.699219-30.703124 30.699219-16.953126 0-30.699219-13.746094-30.699219-30.699219 0-16.957031 13.746093-30.699219 30.699219-30.699219 16.957031 0 30.703124 13.742188 30.703124 30.699219zm0 0\" />\n  </svg>\n);\n","/**\n * The base implementation of `_.reduce` and `_.reduceRight`, without support\n * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} accumulator The initial value.\n * @param {boolean} initAccum Specify using the first or last element of\n *  `collection` as the initial value.\n * @param {Function} eachFunc The function to iterate over `collection`.\n * @returns {*} Returns the accumulated value.\n */\nfunction baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n  eachFunc(collection, function(value, index, collection) {\n    accumulator = initAccum\n      ? (initAccum = false, value)\n      : iteratee(accumulator, value, index, collection);\n  });\n  return accumulator;\n}\n\nexport default baseReduce;\n","import arrayReduce from './_arrayReduce.js';\nimport baseEach from './_baseEach.js';\nimport baseIteratee from './_baseIteratee.js';\nimport baseReduce from './_baseReduce.js';\nimport isArray from './isArray.js';\n\n/**\n * Reduces `collection` to a value which is the accumulated result of running\n * each element in `collection` thru `iteratee`, where each successive\n * invocation is supplied the return value of the previous. If `accumulator`\n * is not given, the first element of `collection` is used as the initial\n * value. The iteratee is invoked with four arguments:\n * (accumulator, value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.reduce`, `_.reduceRight`, and `_.transform`.\n *\n * The guarded methods are:\n * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n * and `sortBy`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @returns {*} Returns the accumulated value.\n * @see _.reduceRight\n * @example\n *\n * _.reduce([1, 2], function(sum, n) {\n *   return sum + n;\n * }, 0);\n * // => 3\n *\n * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n *   (result[value] || (result[value] = [])).push(key);\n *   return result;\n * }, {});\n * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n */\nfunction reduce(collection, iteratee, accumulator) {\n  var func = isArray(collection) ? arrayReduce : baseReduce,\n      initAccum = arguments.length < 3;\n\n  return func(collection, baseIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n}\n\nexport default reduce;\n","import { createContext } from 'react';\n\nexport const ThemeToggleContext = createContext({\n  theme: '',\n  themeToggler: () => {},\n});\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\n","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nexport default baseIsNaN;\n","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nexport default strictIndexOf;\n","import baseFindIndex from './_baseFindIndex.js';\nimport baseIsNaN from './_baseIsNaN.js';\nimport strictIndexOf from './_strictIndexOf.js';\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nexport default baseIndexOf;\n","// based on: https://github.com/petkaantonov/bluebird/blob/b97c0d2d487e8c5076e8bd897e0dcd4622d31846/src/util.js#L201-L216\nexport function toFastProperties(toBecomeFast) {\n    function FakeConstructor() { }\n    // If our object is used as a constructor, it would receive\n    FakeConstructor.prototype = toBecomeFast;\n    const fakeInstance = new FakeConstructor();\n    function fakeAccess() {\n        return typeof fakeInstance.bar;\n    }\n    // help V8 understand this is a \"real\" prototype by actually using\n    // the fake instance.\n    fakeAccess();\n    fakeAccess();\n    // Always true condition to suppress the Firefox warning of unreachable\n    // code after a return statement.\n    if (1)\n        return toBecomeFast;\n    // Eval prevents optimization of this method (even though this is dead code)\n    // - https://esbuild.github.io/content-types/#direct-eval\n    /* istanbul ignore next */\n    // tslint:disable-next-line\n    (0, eval)(toBecomeFast);\n}\n//# sourceMappingURL=to-fast-properties.js.map","/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nexport default baseSlice;\n","import baseSlice from './_baseSlice.js';\nimport toInteger from './toInteger.js';\n\n/**\n * Creates a slice of `array` with `n` elements dropped from the beginning.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Array\n * @param {Array} array The array to query.\n * @param {number} [n=1] The number of elements to drop.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the slice of `array`.\n * @example\n *\n * _.drop([1, 2, 3]);\n * // => [2, 3]\n *\n * _.drop([1, 2, 3], 2);\n * // => [3]\n *\n * _.drop([1, 2, 3], 5);\n * // => []\n *\n * _.drop([1, 2, 3], 0);\n * // => [1, 2, 3]\n */\nfunction drop(array, n, guard) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return [];\n  }\n  n = (guard || n === undefined) ? 1 : toInteger(n);\n  return baseSlice(array, n < 0 ? 0 : n, length);\n}\n\nexport default drop;\n","import assignValue from './_assignValue.js';\nimport copyObject from './_copyObject.js';\nimport createAssigner from './_createAssigner.js';\nimport isArrayLike from './isArrayLike.js';\nimport isPrototype from './_isPrototype.js';\nimport keys from './keys.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns own enumerable string keyed properties of source objects to the\n * destination object. Source objects are applied from left to right.\n * Subsequent sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object` and is loosely based on\n * [`Object.assign`](https://mdn.io/Object/assign).\n *\n * @static\n * @memberOf _\n * @since 0.10.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.assignIn\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * function Bar() {\n *   this.c = 3;\n * }\n *\n * Foo.prototype.b = 2;\n * Bar.prototype.d = 4;\n *\n * _.assign({ 'a': 0 }, new Foo, new Bar);\n * // => { 'a': 1, 'c': 3 }\n */\nvar assign = createAssigner(function(object, source) {\n  if (isPrototype(source) || isArrayLike(source)) {\n    copyObject(source, keys(source), object);\n    return;\n  }\n  for (var key in source) {\n    if (hasOwnProperty.call(source, key)) {\n      assignValue(object, key, source[key]);\n    }\n  }\n});\n\nexport default assign;\n","import arrayMap from './_arrayMap.js';\nimport baseIteratee from './_baseIteratee.js';\nimport basePickBy from './_basePickBy.js';\nimport getAllKeysIn from './_getAllKeysIn.js';\n\n/**\n * Creates an object composed of the `object` properties `predicate` returns\n * truthy for. The predicate is invoked with two arguments: (value, key).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The source object.\n * @param {Function} [predicate=_.identity] The function invoked per property.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pickBy(object, _.isNumber);\n * // => { 'a': 1, 'c': 3 }\n */\nfunction pickBy(object, predicate) {\n  if (object == null) {\n    return {};\n  }\n  var props = arrayMap(getAllKeysIn(object), function(prop) {\n    return [prop];\n  });\n  predicate = baseIteratee(predicate);\n  return basePickBy(object, props, function(value, path) {\n    return predicate(value, path[0]);\n  });\n}\n\nexport default pickBy;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar regexpTag = '[object RegExp]';\n\n/**\n * The base implementation of `_.isRegExp` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n */\nfunction baseIsRegExp(value) {\n  return isObjectLike(value) && baseGetTag(value) == regexpTag;\n}\n\nexport default baseIsRegExp;\n","import baseIsRegExp from './_baseIsRegExp.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsRegExp = nodeUtil && nodeUtil.isRegExp;\n\n/**\n * Checks if `value` is classified as a `RegExp` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n * @example\n *\n * _.isRegExp(/abc/);\n * // => true\n *\n * _.isRegExp('/abc/');\n * // => false\n */\nvar isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;\n\nexport default isRegExp;\n","import { assign, forEach, isRegExp, isString, map, pickBy } from \"lodash-es\";\n// TODO: duplicated code to avoid extracting another sub-package -- how to avoid?\nfunction tokenLabel(tokType) {\n    if (hasTokenLabel(tokType)) {\n        return tokType.LABEL;\n    }\n    else {\n        return tokType.name;\n    }\n}\n// TODO: duplicated code to avoid extracting another sub-package -- how to avoid?\nfunction hasTokenLabel(obj) {\n    return isString(obj.LABEL) && obj.LABEL !== \"\";\n}\nexport class AbstractProduction {\n    get definition() {\n        return this._definition;\n    }\n    set definition(value) {\n        this._definition = value;\n    }\n    constructor(_definition) {\n        this._definition = _definition;\n    }\n    accept(visitor) {\n        visitor.visit(this);\n        forEach(this.definition, (prod) => {\n            prod.accept(visitor);\n        });\n    }\n}\nexport class NonTerminal extends AbstractProduction {\n    constructor(options) {\n        super([]);\n        this.idx = 1;\n        assign(this, pickBy(options, (v) => v !== undefined));\n    }\n    set definition(definition) {\n        // immutable\n    }\n    get definition() {\n        if (this.referencedRule !== undefined) {\n            return this.referencedRule.definition;\n        }\n        return [];\n    }\n    accept(visitor) {\n        visitor.visit(this);\n        // don't visit children of a reference, we will get cyclic infinite loops if we do so\n    }\n}\nexport class Rule extends AbstractProduction {\n    constructor(options) {\n        super(options.definition);\n        this.orgText = \"\";\n        assign(this, pickBy(options, (v) => v !== undefined));\n    }\n}\nexport class Alternative extends AbstractProduction {\n    constructor(options) {\n        super(options.definition);\n        this.ignoreAmbiguities = false;\n        assign(this, pickBy(options, (v) => v !== undefined));\n    }\n}\nexport class Option extends AbstractProduction {\n    constructor(options) {\n        super(options.definition);\n        this.idx = 1;\n        assign(this, pickBy(options, (v) => v !== undefined));\n    }\n}\nexport class RepetitionMandatory extends AbstractProduction {\n    constructor(options) {\n        super(options.definition);\n        this.idx = 1;\n        assign(this, pickBy(options, (v) => v !== undefined));\n    }\n}\nexport class RepetitionMandatoryWithSeparator extends AbstractProduction {\n    constructor(options) {\n        super(options.definition);\n        this.idx = 1;\n        assign(this, pickBy(options, (v) => v !== undefined));\n    }\n}\nexport class Repetition extends AbstractProduction {\n    constructor(options) {\n        super(options.definition);\n        this.idx = 1;\n        assign(this, pickBy(options, (v) => v !== undefined));\n    }\n}\nexport class RepetitionWithSeparator extends AbstractProduction {\n    constructor(options) {\n        super(options.definition);\n        this.idx = 1;\n        assign(this, pickBy(options, (v) => v !== undefined));\n    }\n}\nexport class Alternation extends AbstractProduction {\n    get definition() {\n        return this._definition;\n    }\n    set definition(value) {\n        this._definition = value;\n    }\n    constructor(options) {\n        super(options.definition);\n        this.idx = 1;\n        this.ignoreAmbiguities = false;\n        this.hasPredicates = false;\n        assign(this, pickBy(options, (v) => v !== undefined));\n    }\n}\nexport class Terminal {\n    constructor(options) {\n        this.idx = 1;\n        assign(this, pickBy(options, (v) => v !== undefined));\n    }\n    accept(visitor) {\n        visitor.visit(this);\n    }\n}\nexport function serializeGrammar(topRules) {\n    return map(topRules, serializeProduction);\n}\nexport function serializeProduction(node) {\n    function convertDefinition(definition) {\n        return map(definition, serializeProduction);\n    }\n    /* istanbul ignore else */\n    if (node instanceof NonTerminal) {\n        const serializedNonTerminal = {\n            type: \"NonTerminal\",\n            name: node.nonTerminalName,\n            idx: node.idx,\n        };\n        if (isString(node.label)) {\n            serializedNonTerminal.label = node.label;\n        }\n        return serializedNonTerminal;\n    }\n    else if (node instanceof Alternative) {\n        return {\n            type: \"Alternative\",\n            definition: convertDefinition(node.definition),\n        };\n    }\n    else if (node instanceof Option) {\n        return {\n            type: \"Option\",\n            idx: node.idx,\n            definition: convertDefinition(node.definition),\n        };\n    }\n    else if (node instanceof RepetitionMandatory) {\n        return {\n            type: \"RepetitionMandatory\",\n            idx: node.idx,\n            definition: convertDefinition(node.definition),\n        };\n    }\n    else if (node instanceof RepetitionMandatoryWithSeparator) {\n        return {\n            type: \"RepetitionMandatoryWithSeparator\",\n            idx: node.idx,\n            separator: (serializeProduction(new Terminal({ terminalType: node.separator }))),\n            definition: convertDefinition(node.definition),\n        };\n    }\n    else if (node instanceof RepetitionWithSeparator) {\n        return {\n            type: \"RepetitionWithSeparator\",\n            idx: node.idx,\n            separator: (serializeProduction(new Terminal({ terminalType: node.separator }))),\n            definition: convertDefinition(node.definition),\n        };\n    }\n    else if (node instanceof Repetition) {\n        return {\n            type: \"Repetition\",\n            idx: node.idx,\n            definition: convertDefinition(node.definition),\n        };\n    }\n    else if (node instanceof Alternation) {\n        return {\n            type: \"Alternation\",\n            idx: node.idx,\n            definition: convertDefinition(node.definition),\n        };\n    }\n    else if (node instanceof Terminal) {\n        const serializedTerminal = {\n            type: \"Terminal\",\n            name: node.terminalType.name,\n            label: tokenLabel(node.terminalType),\n            idx: node.idx,\n        };\n        if (isString(node.label)) {\n            serializedTerminal.terminalLabel = node.label;\n        }\n        const pattern = node.terminalType.PATTERN;\n        if (node.terminalType.PATTERN) {\n            serializedTerminal.pattern = isRegExp(pattern)\n                ? pattern.source\n                : pattern;\n        }\n        return serializedTerminal;\n    }\n    else if (node instanceof Rule) {\n        return {\n            type: \"Rule\",\n            name: node.name,\n            orgText: node.orgText,\n            definition: convertDefinition(node.definition),\n        };\n        /* c8 ignore next 3 */\n    }\n    else {\n        throw Error(\"non exhaustive match\");\n    }\n}\n//# sourceMappingURL=model.js.map","import { Alternation, Alternative, NonTerminal, Option, Repetition, RepetitionMandatory, RepetitionMandatoryWithSeparator, RepetitionWithSeparator, Rule, Terminal, } from \"./model.js\";\nexport class GAstVisitor {\n    visit(node) {\n        const nodeAny = node;\n        switch (nodeAny.constructor) {\n            case NonTerminal:\n                return this.visitNonTerminal(nodeAny);\n            case Alternative:\n                return this.visitAlternative(nodeAny);\n            case Option:\n                return this.visitOption(nodeAny);\n            case RepetitionMandatory:\n                return this.visitRepetitionMandatory(nodeAny);\n            case RepetitionMandatoryWithSeparator:\n                return this.visitRepetitionMandatoryWithSeparator(nodeAny);\n            case RepetitionWithSeparator:\n                return this.visitRepetitionWithSeparator(nodeAny);\n            case Repetition:\n                return this.visitRepetition(nodeAny);\n            case Alternation:\n                return this.visitAlternation(nodeAny);\n            case Terminal:\n                return this.visitTerminal(nodeAny);\n            case Rule:\n                return this.visitRule(nodeAny);\n            /* c8 ignore next 2 */\n            default:\n                throw Error(\"non exhaustive match\");\n        }\n    }\n    /* c8 ignore next */\n    visitNonTerminal(node) { }\n    /* c8 ignore next */\n    visitAlternative(node) { }\n    /* c8 ignore next */\n    visitOption(node) { }\n    /* c8 ignore next */\n    visitRepetition(node) { }\n    /* c8 ignore next */\n    visitRepetitionMandatory(node) { }\n    /* c8 ignore next 3 */\n    visitRepetitionMandatoryWithSeparator(node) { }\n    /* c8 ignore next */\n    visitRepetitionWithSeparator(node) { }\n    /* c8 ignore next */\n    visitAlternation(node) { }\n    /* c8 ignore next */\n    visitTerminal(node) { }\n    /* c8 ignore next */\n    visitRule(node) { }\n}\n//# sourceMappingURL=visitor.js.map","import baseEach from './_baseEach.js';\n\n/**\n * The base implementation of `_.some` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction baseSome(collection, predicate) {\n  var result;\n\n  baseEach(collection, function(value, index, collection) {\n    result = predicate(value, index, collection);\n    return !result;\n  });\n  return !!result;\n}\n\nexport default baseSome;\n","import arraySome from './_arraySome.js';\nimport baseIteratee from './_baseIteratee.js';\nimport baseSome from './_baseSome.js';\nimport isArray from './isArray.js';\nimport isIterateeCall from './_isIterateeCall.js';\n\n/**\n * Checks if `predicate` returns truthy for **any** element of `collection`.\n * Iteration is stopped once `predicate` returns truthy. The predicate is\n * invoked with three arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n * @example\n *\n * _.some([null, 0, 'yes', false], Boolean);\n * // => true\n *\n * var users = [\n *   { 'user': 'barney', 'active': true },\n *   { 'user': 'fred',   'active': false }\n * ];\n *\n * // The `_.matches` iteratee shorthand.\n * _.some(users, { 'user': 'barney', 'active': false });\n * // => false\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.some(users, ['active', false]);\n * // => true\n *\n * // The `_.property` iteratee shorthand.\n * _.some(users, 'active');\n * // => true\n */\nfunction some(collection, predicate, guard) {\n  var func = isArray(collection) ? arraySome : baseSome;\n  if (guard && isIterateeCall(collection, predicate, guard)) {\n    predicate = undefined;\n  }\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nexport default some;\n","import baseIndexOf from './_baseIndexOf.js';\nimport isArrayLike from './isArrayLike.js';\nimport isString from './isString.js';\nimport toInteger from './toInteger.js';\nimport values from './values.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Checks if `value` is in `collection`. If `collection` is a string, it's\n * checked for a substring of `value`, otherwise\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * is used for equality comparisons. If `fromIndex` is negative, it's used as\n * the offset from the end of `collection`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object|string} collection The collection to inspect.\n * @param {*} value The value to search for.\n * @param {number} [fromIndex=0] The index to search from.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n * @returns {boolean} Returns `true` if `value` is found, else `false`.\n * @example\n *\n * _.includes([1, 2, 3], 1);\n * // => true\n *\n * _.includes([1, 2, 3], 1, 2);\n * // => false\n *\n * _.includes({ 'a': 1, 'b': 2 }, 1);\n * // => true\n *\n * _.includes('abcd', 'bc');\n * // => true\n */\nfunction includes(collection, value, fromIndex, guard) {\n  collection = isArrayLike(collection) ? collection : values(collection);\n  fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n  var length = collection.length;\n  if (fromIndex < 0) {\n    fromIndex = nativeMax(length + fromIndex, 0);\n  }\n  return isString(collection)\n    ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n    : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n}\n\nexport default includes;\n","/**\n * A specialized version of `_.every` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if all elements pass the predicate check,\n *  else `false`.\n */\nfunction arrayEvery(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (!predicate(array[index], index, array)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport default arrayEvery;\n","import baseEach from './_baseEach.js';\n\n/**\n * The base implementation of `_.every` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if all elements pass the predicate check,\n *  else `false`\n */\nfunction baseEvery(collection, predicate) {\n  var result = true;\n  baseEach(collection, function(value, index, collection) {\n    result = !!predicate(value, index, collection);\n    return result;\n  });\n  return result;\n}\n\nexport default baseEvery;\n","import arrayEvery from './_arrayEvery.js';\nimport baseEvery from './_baseEvery.js';\nimport baseIteratee from './_baseIteratee.js';\nimport isArray from './isArray.js';\nimport isIterateeCall from './_isIterateeCall.js';\n\n/**\n * Checks if `predicate` returns truthy for **all** elements of `collection`.\n * Iteration is stopped once `predicate` returns falsey. The predicate is\n * invoked with three arguments: (value, index|key, collection).\n *\n * **Note:** This method returns `true` for\n * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n * elements of empty collections.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {boolean} Returns `true` if all elements pass the predicate check,\n *  else `false`.\n * @example\n *\n * _.every([true, 1, null, 'yes'], Boolean);\n * // => false\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': false },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * // The `_.matches` iteratee shorthand.\n * _.every(users, { 'user': 'barney', 'active': false });\n * // => false\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.every(users, ['active', false]);\n * // => true\n *\n * // The `_.property` iteratee shorthand.\n * _.every(users, 'active');\n * // => false\n */\nfunction every(collection, predicate, guard) {\n  var func = isArray(collection) ? arrayEvery : baseEvery;\n  if (guard && isIterateeCall(collection, predicate, guard)) {\n    predicate = undefined;\n  }\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nexport default every;\n","import { every, includes, some } from \"lodash-es\";\nimport { AbstractProduction, Alternation, Alternative, NonTerminal, Option, Repetition, RepetitionMandatory, RepetitionMandatoryWithSeparator, RepetitionWithSeparator, Rule, Terminal, } from \"./model.js\";\nexport function isSequenceProd(prod) {\n    return (prod instanceof Alternative ||\n        prod instanceof Option ||\n        prod instanceof Repetition ||\n        prod instanceof RepetitionMandatory ||\n        prod instanceof RepetitionMandatoryWithSeparator ||\n        prod instanceof RepetitionWithSeparator ||\n        prod instanceof Terminal ||\n        prod instanceof Rule);\n}\nexport function isOptionalProd(prod, alreadyVisited = []) {\n    const isDirectlyOptional = prod instanceof Option ||\n        prod instanceof Repetition ||\n        prod instanceof RepetitionWithSeparator;\n    if (isDirectlyOptional) {\n        return true;\n    }\n    // note that this can cause infinite loop if one optional empty TOP production has a cyclic dependency with another\n    // empty optional top rule\n    // may be indirectly optional ((A?B?C?) | (D?E?F?))\n    if (prod instanceof Alternation) {\n        // for OR its enough for just one of the alternatives to be optional\n        return some(prod.definition, (subProd) => {\n            return isOptionalProd(subProd, alreadyVisited);\n        });\n    }\n    else if (prod instanceof NonTerminal && includes(alreadyVisited, prod)) {\n        // avoiding stack overflow due to infinite recursion\n        return false;\n    }\n    else if (prod instanceof AbstractProduction) {\n        if (prod instanceof NonTerminal) {\n            alreadyVisited.push(prod);\n        }\n        return every(prod.definition, (subProd) => {\n            return isOptionalProd(subProd, alreadyVisited);\n        });\n    }\n    else {\n        return false;\n    }\n}\nexport function isBranchingProd(prod) {\n    return prod instanceof Alternation;\n}\nexport function getProductionDslName(prod) {\n    /* istanbul ignore else */\n    if (prod instanceof NonTerminal) {\n        return \"SUBRULE\";\n    }\n    else if (prod instanceof Option) {\n        return \"OPTION\";\n    }\n    else if (prod instanceof Alternation) {\n        return \"OR\";\n    }\n    else if (prod instanceof RepetitionMandatory) {\n        return \"AT_LEAST_ONE\";\n    }\n    else if (prod instanceof RepetitionMandatoryWithSeparator) {\n        return \"AT_LEAST_ONE_SEP\";\n    }\n    else if (prod instanceof RepetitionWithSeparator) {\n        return \"MANY_SEP\";\n    }\n    else if (prod instanceof Repetition) {\n        return \"MANY\";\n    }\n    else if (prod instanceof Terminal) {\n        return \"CONSUME\";\n        /* c8 ignore next 3 */\n    }\n    else {\n        throw Error(\"non exhaustive match\");\n    }\n}\n//# sourceMappingURL=helpers.js.map","import { drop, forEach } from \"lodash-es\";\nimport { Alternation, Alternative, NonTerminal, Option, Repetition, RepetitionMandatory, RepetitionMandatoryWithSeparator, RepetitionWithSeparator, Terminal, } from \"@chevrotain/gast\";\n/**\n *  A Grammar Walker that computes the \"remaining\" grammar \"after\" a productions in the grammar.\n */\nexport class RestWalker {\n    walk(prod, prevRest = []) {\n        forEach(prod.definition, (subProd, index) => {\n            const currRest = drop(prod.definition, index + 1);\n            /* istanbul ignore else */\n            if (subProd instanceof NonTerminal) {\n                this.walkProdRef(subProd, currRest, prevRest);\n            }\n            else if (subProd instanceof Terminal) {\n                this.walkTerminal(subProd, currRest, prevRest);\n            }\n            else if (subProd instanceof Alternative) {\n                this.walkFlat(subProd, currRest, prevRest);\n            }\n            else if (subProd instanceof Option) {\n                this.walkOption(subProd, currRest, prevRest);\n            }\n            else if (subProd instanceof RepetitionMandatory) {\n                this.walkAtLeastOne(subProd, currRest, prevRest);\n            }\n            else if (subProd instanceof RepetitionMandatoryWithSeparator) {\n                this.walkAtLeastOneSep(subProd, currRest, prevRest);\n            }\n            else if (subProd instanceof RepetitionWithSeparator) {\n                this.walkManySep(subProd, currRest, prevRest);\n            }\n            else if (subProd instanceof Repetition) {\n                this.walkMany(subProd, currRest, prevRest);\n            }\n            else if (subProd instanceof Alternation) {\n                this.walkOr(subProd, currRest, prevRest);\n            }\n            else {\n                throw Error(\"non exhaustive match\");\n            }\n        });\n    }\n    walkTerminal(terminal, currRest, prevRest) { }\n    walkProdRef(refProd, currRest, prevRest) { }\n    walkFlat(flatProd, currRest, prevRest) {\n        // ABCDEF => after the D the rest is EF\n        const fullOrRest = currRest.concat(prevRest);\n        this.walk(flatProd, fullOrRest);\n    }\n    walkOption(optionProd, currRest, prevRest) {\n        // ABC(DE)?F => after the (DE)? the rest is F\n        const fullOrRest = currRest.concat(prevRest);\n        this.walk(optionProd, fullOrRest);\n    }\n    walkAtLeastOne(atLeastOneProd, currRest, prevRest) {\n        // ABC(DE)+F => after the (DE)+ the rest is (DE)?F\n        const fullAtLeastOneRest = [\n            new Option({ definition: atLeastOneProd.definition }),\n        ].concat(currRest, prevRest);\n        this.walk(atLeastOneProd, fullAtLeastOneRest);\n    }\n    walkAtLeastOneSep(atLeastOneSepProd, currRest, prevRest) {\n        // ABC DE(,DE)* F => after the (,DE)+ the rest is (,DE)?F\n        const fullAtLeastOneSepRest = restForRepetitionWithSeparator(atLeastOneSepProd, currRest, prevRest);\n        this.walk(atLeastOneSepProd, fullAtLeastOneSepRest);\n    }\n    walkMany(manyProd, currRest, prevRest) {\n        // ABC(DE)*F => after the (DE)* the rest is (DE)?F\n        const fullManyRest = [\n            new Option({ definition: manyProd.definition }),\n        ].concat(currRest, prevRest);\n        this.walk(manyProd, fullManyRest);\n    }\n    walkManySep(manySepProd, currRest, prevRest) {\n        // ABC (DE(,DE)*)? F => after the (,DE)* the rest is (,DE)?F\n        const fullManySepRest = restForRepetitionWithSeparator(manySepProd, currRest, prevRest);\n        this.walk(manySepProd, fullManySepRest);\n    }\n    walkOr(orProd, currRest, prevRest) {\n        // ABC(D|E|F)G => when finding the (D|E|F) the rest is G\n        const fullOrRest = currRest.concat(prevRest);\n        // walk all different alternatives\n        forEach(orProd.definition, (alt) => {\n            // wrapping each alternative in a single definition wrapper\n            // to avoid errors in computing the rest of that alternative in the invocation to computeInProdFollows\n            // (otherwise for OR([alt1,alt2]) alt2 will be considered in 'rest' of alt1\n            const prodWrapper = new Alternative({ definition: [alt] });\n            this.walk(prodWrapper, fullOrRest);\n        });\n    }\n}\nfunction restForRepetitionWithSeparator(repSepProd, currRest, prevRest) {\n    const repSepRest = [\n        new Option({\n            definition: [\n                new Terminal({ terminalType: repSepProd.separator }),\n            ].concat(repSepProd.definition),\n        }),\n    ];\n    const fullRepSepRest = repSepRest.concat(currRest, prevRest);\n    return fullRepSepRest;\n}\n//# sourceMappingURL=rest.js.map","import baseUniq from './_baseUniq.js';\n\n/**\n * Creates a duplicate-free version of an array, using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons, in which only the first occurrence of each element\n * is kept. The order of result values is determined by the order they occur\n * in the array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniq([2, 1, 2]);\n * // => [2, 1]\n */\nfunction uniq(array) {\n  return (array && array.length) ? baseUniq(array) : [];\n}\n\nexport default uniq;\n","import { flatten, map, uniq } from \"lodash-es\";\nimport { isBranchingProd, isOptionalProd, isSequenceProd, NonTerminal, Terminal, } from \"@chevrotain/gast\";\nexport function first(prod) {\n    /* istanbul ignore else */\n    if (prod instanceof NonTerminal) {\n        // this could in theory cause infinite loops if\n        // (1) prod A refs prod B.\n        // (2) prod B refs prod A\n        // (3) AB can match the empty set\n        // in other words a cycle where everything is optional so the first will keep\n        // looking ahead for the next optional part and will never exit\n        // currently there is no safeguard for this unique edge case because\n        // (1) not sure a grammar in which this can happen is useful for anything (productive)\n        return first(prod.referencedRule);\n    }\n    else if (prod instanceof Terminal) {\n        return firstForTerminal(prod);\n    }\n    else if (isSequenceProd(prod)) {\n        return firstForSequence(prod);\n    }\n    else if (isBranchingProd(prod)) {\n        return firstForBranching(prod);\n    }\n    else {\n        throw Error(\"non exhaustive match\");\n    }\n}\nexport function firstForSequence(prod) {\n    let firstSet = [];\n    const seq = prod.definition;\n    let nextSubProdIdx = 0;\n    let hasInnerProdsRemaining = seq.length > nextSubProdIdx;\n    let currSubProd;\n    // so we enter the loop at least once (if the definition is not empty\n    let isLastInnerProdOptional = true;\n    // scan a sequence until it's end or until we have found a NONE optional production in it\n    while (hasInnerProdsRemaining && isLastInnerProdOptional) {\n        currSubProd = seq[nextSubProdIdx];\n        isLastInnerProdOptional = isOptionalProd(currSubProd);\n        firstSet = firstSet.concat(first(currSubProd));\n        nextSubProdIdx = nextSubProdIdx + 1;\n        hasInnerProdsRemaining = seq.length > nextSubProdIdx;\n    }\n    return uniq(firstSet);\n}\nexport function firstForBranching(prod) {\n    const allAlternativesFirsts = map(prod.definition, (innerProd) => {\n        return first(innerProd);\n    });\n    return uniq(flatten(allAlternativesFirsts));\n}\nexport function firstForTerminal(terminal) {\n    return [terminal.terminalType];\n}\n//# sourceMappingURL=first.js.map","// TODO: can this be removed? where is it used?\nexport const IN = \"_~IN~_\";\n//# sourceMappingURL=constants.js.map","import { RestWalker } from \"./rest.js\";\nimport { first } from \"./first.js\";\nimport { assign, forEach } from \"lodash-es\";\nimport { IN } from \"../constants.js\";\nimport { Alternative } from \"@chevrotain/gast\";\n// This ResyncFollowsWalker computes all of the follows required for RESYNC\n// (skipping reference production).\nexport class ResyncFollowsWalker extends RestWalker {\n    constructor(topProd) {\n        super();\n        this.topProd = topProd;\n        this.follows = {};\n    }\n    startWalking() {\n        this.walk(this.topProd);\n        return this.follows;\n    }\n    walkTerminal(terminal, currRest, prevRest) {\n        // do nothing! just like in the public sector after 13:00\n    }\n    walkProdRef(refProd, currRest, prevRest) {\n        const followName = buildBetweenProdsFollowPrefix(refProd.referencedRule, refProd.idx) +\n            this.topProd.name;\n        const fullRest = currRest.concat(prevRest);\n        const restProd = new Alternative({ definition: fullRest });\n        const t_in_topProd_follows = first(restProd);\n        this.follows[followName] = t_in_topProd_follows;\n    }\n}\nexport function computeAllProdsFollows(topProductions) {\n    const reSyncFollows = {};\n    forEach(topProductions, (topProd) => {\n        const currRefsFollow = new ResyncFollowsWalker(topProd).startWalking();\n        assign(reSyncFollows, currRefsFollow);\n    });\n    return reSyncFollows;\n}\nexport function buildBetweenProdsFollowPrefix(inner, occurenceInParent) {\n    return inner.name + occurenceInParent + IN;\n}\nexport function buildInProdFollowPrefix(terminal) {\n    const terminalName = terminal.terminalType.name;\n    return terminalName + terminal.idx + IN;\n}\n//# sourceMappingURL=follow.js.map","/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that negates the result of the predicate `func`. The\n * `func` predicate is invoked with the `this` binding and arguments of the\n * created function.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {Function} predicate The predicate to negate.\n * @returns {Function} Returns the new negated function.\n * @example\n *\n * function isEven(n) {\n *   return n % 2 == 0;\n * }\n *\n * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n * // => [1, 3, 5]\n */\nfunction negate(predicate) {\n  if (typeof predicate != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  return function() {\n    var args = arguments;\n    switch (args.length) {\n      case 0: return !predicate.call(this);\n      case 1: return !predicate.call(this, args[0]);\n      case 2: return !predicate.call(this, args[0], args[1]);\n      case 3: return !predicate.call(this, args[0], args[1], args[2]);\n    }\n    return !predicate.apply(this, args);\n  };\n}\n\nexport default negate;\n","import arrayFilter from './_arrayFilter.js';\nimport baseFilter from './_baseFilter.js';\nimport baseIteratee from './_baseIteratee.js';\nimport isArray from './isArray.js';\nimport negate from './negate.js';\n\n/**\n * The opposite of `_.filter`; this method returns the elements of `collection`\n * that `predicate` does **not** return truthy for.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n * @see _.filter\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': false },\n *   { 'user': 'fred',   'age': 40, 'active': true }\n * ];\n *\n * _.reject(users, function(o) { return !o.active; });\n * // => objects for ['fred']\n *\n * // The `_.matches` iteratee shorthand.\n * _.reject(users, { 'age': 40, 'active': true });\n * // => objects for ['barney']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.reject(users, ['active', false]);\n * // => objects for ['fred']\n *\n * // The `_.property` iteratee shorthand.\n * _.reject(users, 'active');\n * // => objects for ['barney']\n */\nfunction reject(collection, predicate) {\n  var func = isArray(collection) ? arrayFilter : baseFilter;\n  return func(collection, negate(baseIteratee(predicate, 3)));\n}\n\nexport default reject;\n","import baseIndexOf from './_baseIndexOf.js';\nimport toInteger from './toInteger.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Gets the index at which the first occurrence of `value` is found in `array`\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. If `fromIndex` is negative, it's used as the\n * offset from the end of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n * @example\n *\n * _.indexOf([1, 2, 1, 2], 2);\n * // => 1\n *\n * // Search from the `fromIndex`.\n * _.indexOf([1, 2, 1, 2], 2, 2);\n * // => 3\n */\nfunction indexOf(array, value, fromIndex) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return -1;\n  }\n  var index = fromIndex == null ? 0 : toInteger(fromIndex);\n  if (index < 0) {\n    index = nativeMax(length + index, 0);\n  }\n  return baseIndexOf(array, value, index);\n}\n\nexport default indexOf;\n","import SetCache from './_SetCache.js';\nimport arrayIncludes from './_arrayIncludes.js';\nimport arrayIncludesWith from './_arrayIncludesWith.js';\nimport arrayMap from './_arrayMap.js';\nimport baseUnary from './_baseUnary.js';\nimport cacheHas from './_cacheHas.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of methods like `_.difference` without support\n * for excluding multiple arrays or iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n */\nfunction baseDifference(array, values, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      isCommon = true,\n      length = array.length,\n      result = [],\n      valuesLength = values.length;\n\n  if (!length) {\n    return result;\n  }\n  if (iteratee) {\n    values = arrayMap(values, baseUnary(iteratee));\n  }\n  if (comparator) {\n    includes = arrayIncludesWith;\n    isCommon = false;\n  }\n  else if (values.length >= LARGE_ARRAY_SIZE) {\n    includes = cacheHas;\n    isCommon = false;\n    values = new SetCache(values);\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee == null ? value : iteratee(value);\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var valuesIndex = valuesLength;\n      while (valuesIndex--) {\n        if (values[valuesIndex] === computed) {\n          continue outer;\n        }\n      }\n      result.push(value);\n    }\n    else if (!includes(values, computed, comparator)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nexport default baseDifference;\n","import baseDifference from './_baseDifference.js';\nimport baseFlatten from './_baseFlatten.js';\nimport baseRest from './_baseRest.js';\nimport isArrayLikeObject from './isArrayLikeObject.js';\n\n/**\n * Creates an array of `array` values not included in the other given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * **Note:** Unlike `_.pullAll`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.without, _.xor\n * @example\n *\n * _.difference([2, 1], [2, 3]);\n * // => [1]\n */\nvar difference = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n    : [];\n});\n\nexport default difference;\n","/**\n * Creates an array with all falsey values removed. The values `false`, `null`,\n * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to compact.\n * @returns {Array} Returns the new array of filtered values.\n * @example\n *\n * _.compact([0, 1, false, 2, '', 3]);\n * // => [1, 2, 3]\n */\nfunction compact(array) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (value) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nexport default compact;\n","/**\n * Gets the first element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias first\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the first element of `array`.\n * @example\n *\n * _.head([1, 2, 3]);\n * // => 1\n *\n * _.head([]);\n * // => undefined\n */\nfunction head(array) {\n  return (array && array.length) ? array[0] : undefined;\n}\n\nexport default head;\n","export function PRINT_ERROR(msg) {\n    /* istanbul ignore else - can't override global.console in node.js */\n    if (console && console.error) {\n        console.error(`Error: ${msg}`);\n    }\n}\nexport function PRINT_WARNING(msg) {\n    /* istanbul ignore else - can't override global.console in node.js*/\n    if (console && console.warn) {\n        // TODO: modify docs accordingly\n        console.warn(`Warning: ${msg}`);\n    }\n}\n//# sourceMappingURL=print.js.map","import { RegExpParser, } from \"@chevrotain/regexp-to-ast\";\nlet regExpAstCache = {};\nconst regExpParser = new RegExpParser();\nexport function getRegExpAst(regExp) {\n    const regExpStr = regExp.toString();\n    if (regExpAstCache.hasOwnProperty(regExpStr)) {\n        return regExpAstCache[regExpStr];\n    }\n    else {\n        const regExpAst = regExpParser.pattern(regExpStr);\n        regExpAstCache[regExpStr] = regExpAst;\n        return regExpAst;\n    }\n}\nexport function clearRegExpParserCache() {\n    regExpAstCache = {};\n}\n//# sourceMappingURL=reg_exp_parser.js.map","import { BaseRegExpVisitor, } from \"@chevrotain/regexp-to-ast\";\nimport { every, find, forEach, includes, isArray, values } from \"lodash-es\";\nimport { PRINT_ERROR, PRINT_WARNING } from \"@chevrotain/utils\";\nimport { getRegExpAst } from \"./reg_exp_parser.js\";\nimport { charCodeToOptimizedIndex, minOptimizationVal } from \"./lexer.js\";\nconst complementErrorMessage = \"Complement Sets are not supported for first char optimization\";\nexport const failedOptimizationPrefixMsg = 'Unable to use \"first char\" lexer optimizations:\\n';\nexport function getOptimizedStartCodesIndices(regExp, ensureOptimizations = false) {\n    try {\n        const ast = getRegExpAst(regExp);\n        const firstChars = firstCharOptimizedIndices(ast.value, {}, ast.flags.ignoreCase);\n        return firstChars;\n    }\n    catch (e) {\n        /* istanbul ignore next */\n        // Testing this relies on the regexp-to-ast library having a bug... */\n        // TODO: only the else branch needs to be ignored, try to fix with newer prettier / tsc\n        if (e.message === complementErrorMessage) {\n            if (ensureOptimizations) {\n                PRINT_WARNING(`${failedOptimizationPrefixMsg}` +\n                    `\\tUnable to optimize: < ${regExp.toString()} >\\n` +\n                    \"\\tComplement Sets cannot be automatically optimized.\\n\" +\n                    \"\\tThis will disable the lexer's first char optimizations.\\n\" +\n                    \"\\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.\");\n            }\n        }\n        else {\n            let msgSuffix = \"\";\n            if (ensureOptimizations) {\n                msgSuffix =\n                    \"\\n\\tThis will disable the lexer's first char optimizations.\\n\" +\n                        \"\\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.\";\n            }\n            PRINT_ERROR(`${failedOptimizationPrefixMsg}\\n` +\n                `\\tFailed parsing: < ${regExp.toString()} >\\n` +\n                `\\tUsing the @chevrotain/regexp-to-ast library\\n` +\n                \"\\tPlease open an issue at: https://github.com/chevrotain/chevrotain/issues\" +\n                msgSuffix);\n        }\n    }\n    return [];\n}\nexport function firstCharOptimizedIndices(ast, result, ignoreCase) {\n    switch (ast.type) {\n        case \"Disjunction\":\n            for (let i = 0; i < ast.value.length; i++) {\n                firstCharOptimizedIndices(ast.value[i], result, ignoreCase);\n            }\n            break;\n        case \"Alternative\":\n            const terms = ast.value;\n            for (let i = 0; i < terms.length; i++) {\n                const term = terms[i];\n                // skip terms that cannot effect the first char results\n                switch (term.type) {\n                    case \"EndAnchor\":\n                    // A group back reference cannot affect potential starting char.\n                    // because if a back reference is the first production than automatically\n                    // the group being referenced has had to come BEFORE so its codes have already been added\n                    case \"GroupBackReference\":\n                    // assertions do not affect potential starting codes\n                    case \"Lookahead\":\n                    case \"NegativeLookahead\":\n                    case \"StartAnchor\":\n                    case \"WordBoundary\":\n                    case \"NonWordBoundary\":\n                        continue;\n                }\n                const atom = term;\n                switch (atom.type) {\n                    case \"Character\":\n                        addOptimizedIdxToResult(atom.value, result, ignoreCase);\n                        break;\n                    case \"Set\":\n                        if (atom.complement === true) {\n                            throw Error(complementErrorMessage);\n                        }\n                        forEach(atom.value, (code) => {\n                            if (typeof code === \"number\") {\n                                addOptimizedIdxToResult(code, result, ignoreCase);\n                            }\n                            else {\n                                // range\n                                const range = code;\n                                // cannot optimize when ignoreCase is\n                                if (ignoreCase === true) {\n                                    for (let rangeCode = range.from; rangeCode <= range.to; rangeCode++) {\n                                        addOptimizedIdxToResult(rangeCode, result, ignoreCase);\n                                    }\n                                }\n                                // Optimization (2 orders of magnitude less work for very large ranges)\n                                else {\n                                    // handle unoptimized values\n                                    for (let rangeCode = range.from; rangeCode <= range.to && rangeCode < minOptimizationVal; rangeCode++) {\n                                        addOptimizedIdxToResult(rangeCode, result, ignoreCase);\n                                    }\n                                    // Less common charCode where we optimize for faster init time, by using larger \"buckets\"\n                                    if (range.to >= minOptimizationVal) {\n                                        const minUnOptVal = range.from >= minOptimizationVal\n                                            ? range.from\n                                            : minOptimizationVal;\n                                        const maxUnOptVal = range.to;\n                                        const minOptIdx = charCodeToOptimizedIndex(minUnOptVal);\n                                        const maxOptIdx = charCodeToOptimizedIndex(maxUnOptVal);\n                                        for (let currOptIdx = minOptIdx; currOptIdx <= maxOptIdx; currOptIdx++) {\n                                            result[currOptIdx] = currOptIdx;\n                                        }\n                                    }\n                                }\n                            }\n                        });\n                        break;\n                    case \"Group\":\n                        firstCharOptimizedIndices(atom.value, result, ignoreCase);\n                        break;\n                    /* istanbul ignore next */\n                    default:\n                        throw Error(\"Non Exhaustive Match\");\n                }\n                // reached a mandatory production, no more **start** codes can be found on this alternative\n                const isOptionalQuantifier = atom.quantifier !== undefined && atom.quantifier.atLeast === 0;\n                if (\n                // A group may be optional due to empty contents /(?:)/\n                // or if everything inside it is optional /((a)?)/\n                (atom.type === \"Group\" && isWholeOptional(atom) === false) ||\n                    // If this term is not a group it may only be optional if it has an optional quantifier\n                    (atom.type !== \"Group\" && isOptionalQuantifier === false)) {\n                    break;\n                }\n            }\n            break;\n        /* istanbul ignore next */\n        default:\n            throw Error(\"non exhaustive match!\");\n    }\n    // console.log(Object.keys(result).length)\n    return values(result);\n}\nfunction addOptimizedIdxToResult(code, result, ignoreCase) {\n    const optimizedCharIdx = charCodeToOptimizedIndex(code);\n    result[optimizedCharIdx] = optimizedCharIdx;\n    if (ignoreCase === true) {\n        handleIgnoreCase(code, result);\n    }\n}\nfunction handleIgnoreCase(code, result) {\n    const char = String.fromCharCode(code);\n    const upperChar = char.toUpperCase();\n    /* istanbul ignore else */\n    if (upperChar !== char) {\n        const optimizedCharIdx = charCodeToOptimizedIndex(upperChar.charCodeAt(0));\n        result[optimizedCharIdx] = optimizedCharIdx;\n    }\n    else {\n        const lowerChar = char.toLowerCase();\n        if (lowerChar !== char) {\n            const optimizedCharIdx = charCodeToOptimizedIndex(lowerChar.charCodeAt(0));\n            result[optimizedCharIdx] = optimizedCharIdx;\n        }\n    }\n}\nfunction findCode(setNode, targetCharCodes) {\n    return find(setNode.value, (codeOrRange) => {\n        if (typeof codeOrRange === \"number\") {\n            return includes(targetCharCodes, codeOrRange);\n        }\n        else {\n            // range\n            const range = codeOrRange;\n            return (find(targetCharCodes, (targetCode) => range.from <= targetCode && targetCode <= range.to) !== undefined);\n        }\n    });\n}\nfunction isWholeOptional(ast) {\n    const quantifier = ast.quantifier;\n    if (quantifier && quantifier.atLeast === 0) {\n        return true;\n    }\n    if (!ast.value) {\n        return false;\n    }\n    return isArray(ast.value)\n        ? every(ast.value, isWholeOptional)\n        : isWholeOptional(ast.value);\n}\nclass CharCodeFinder extends BaseRegExpVisitor {\n    constructor(targetCharCodes) {\n        super();\n        this.targetCharCodes = targetCharCodes;\n        this.found = false;\n    }\n    visitChildren(node) {\n        // No need to keep looking...\n        if (this.found === true) {\n            return;\n        }\n        // switch lookaheads as they do not actually consume any characters thus\n        // finding a charCode at lookahead context does not mean that regexp can actually contain it in a match.\n        switch (node.type) {\n            case \"Lookahead\":\n                this.visitLookahead(node);\n                return;\n            case \"NegativeLookahead\":\n                this.visitNegativeLookahead(node);\n                return;\n        }\n        super.visitChildren(node);\n    }\n    visitCharacter(node) {\n        if (includes(this.targetCharCodes, node.value)) {\n            this.found = true;\n        }\n    }\n    visitSet(node) {\n        if (node.complement) {\n            if (findCode(node, this.targetCharCodes) === undefined) {\n                this.found = true;\n            }\n        }\n        else {\n            if (findCode(node, this.targetCharCodes) !== undefined) {\n                this.found = true;\n            }\n        }\n    }\n}\nexport function canMatchCharCode(charCodes, pattern) {\n    if (pattern instanceof RegExp) {\n        const ast = getRegExpAst(pattern);\n        const charCodeFinder = new CharCodeFinder(charCodes);\n        charCodeFinder.visit(ast);\n        return charCodeFinder.found;\n    }\n    else {\n        return (find(pattern, (char) => {\n            return includes(charCodes, char.charCodeAt(0));\n        }) !== undefined);\n    }\n}\n//# sourceMappingURL=reg_exp.js.map","import { BaseRegExpVisitor } from \"@chevrotain/regexp-to-ast\";\nimport { Lexer, LexerDefinitionErrorType, } from \"./lexer_public.js\";\nimport { compact, defaults, difference, filter, find, first, flatten, forEach, has, includes, indexOf, isArray, isEmpty, isFunction, isRegExp, isString, isUndefined, keys, map, reduce, reject, values, } from \"lodash-es\";\nimport { PRINT_ERROR } from \"@chevrotain/utils\";\nimport { canMatchCharCode, failedOptimizationPrefixMsg, getOptimizedStartCodesIndices, } from \"./reg_exp.js\";\nimport { getRegExpAst } from \"./reg_exp_parser.js\";\nconst PATTERN = \"PATTERN\";\nexport const DEFAULT_MODE = \"defaultMode\";\nexport const MODES = \"modes\";\nexport let SUPPORT_STICKY = typeof new RegExp(\"(?:)\").sticky === \"boolean\";\nexport function disableSticky() {\n    SUPPORT_STICKY = false;\n}\nexport function enableSticky() {\n    SUPPORT_STICKY = true;\n}\nexport function analyzeTokenTypes(tokenTypes, options) {\n    options = defaults(options, {\n        useSticky: SUPPORT_STICKY,\n        debug: false,\n        safeMode: false,\n        positionTracking: \"full\",\n        lineTerminatorCharacters: [\"\\r\", \"\\n\"],\n        tracer: (msg, action) => action(),\n    });\n    const tracer = options.tracer;\n    tracer(\"initCharCodeToOptimizedIndexMap\", () => {\n        initCharCodeToOptimizedIndexMap();\n    });\n    let onlyRelevantTypes;\n    tracer(\"Reject Lexer.NA\", () => {\n        onlyRelevantTypes = reject(tokenTypes, (currType) => {\n            return currType[PATTERN] === Lexer.NA;\n        });\n    });\n    let hasCustom = false;\n    let allTransformedPatterns;\n    tracer(\"Transform Patterns\", () => {\n        hasCustom = false;\n        allTransformedPatterns = map(onlyRelevantTypes, (currType) => {\n            const currPattern = currType[PATTERN];\n            /* istanbul ignore else */\n            if (isRegExp(currPattern)) {\n                const regExpSource = currPattern.source;\n                if (regExpSource.length === 1 &&\n                    // only these regExp meta characters which can appear in a length one regExp\n                    regExpSource !== \"^\" &&\n                    regExpSource !== \"$\" &&\n                    regExpSource !== \".\" &&\n                    !currPattern.ignoreCase) {\n                    return regExpSource;\n                }\n                else if (regExpSource.length === 2 &&\n                    regExpSource[0] === \"\\\\\" &&\n                    // not a meta character\n                    !includes([\n                        \"d\",\n                        \"D\",\n                        \"s\",\n                        \"S\",\n                        \"t\",\n                        \"r\",\n                        \"n\",\n                        \"t\",\n                        \"0\",\n                        \"c\",\n                        \"b\",\n                        \"B\",\n                        \"f\",\n                        \"v\",\n                        \"w\",\n                        \"W\",\n                    ], regExpSource[1])) {\n                    // escaped meta Characters: /\\+/ /\\[/\n                    // or redundant escaping: /\\a/\n                    // without the escaping \"\\\"\n                    return regExpSource[1];\n                }\n                else {\n                    return options.useSticky\n                        ? addStickyFlag(currPattern)\n                        : addStartOfInput(currPattern);\n                }\n            }\n            else if (isFunction(currPattern)) {\n                hasCustom = true;\n                // CustomPatternMatcherFunc - custom patterns do not require any transformations, only wrapping in a RegExp Like object\n                return { exec: currPattern };\n            }\n            else if (typeof currPattern === \"object\") {\n                hasCustom = true;\n                // ICustomPattern\n                return currPattern;\n            }\n            else if (typeof currPattern === \"string\") {\n                if (currPattern.length === 1) {\n                    return currPattern;\n                }\n                else {\n                    const escapedRegExpString = currPattern.replace(/[\\\\^$.*+?()[\\]{}|]/g, \"\\\\$&\");\n                    const wrappedRegExp = new RegExp(escapedRegExpString);\n                    return options.useSticky\n                        ? addStickyFlag(wrappedRegExp)\n                        : addStartOfInput(wrappedRegExp);\n                }\n            }\n            else {\n                throw Error(\"non exhaustive match\");\n            }\n        });\n    });\n    let patternIdxToType;\n    let patternIdxToGroup;\n    let patternIdxToLongerAltIdxArr;\n    let patternIdxToPushMode;\n    let patternIdxToPopMode;\n    tracer(\"misc mapping\", () => {\n        patternIdxToType = map(onlyRelevantTypes, (currType) => currType.tokenTypeIdx);\n        patternIdxToGroup = map(onlyRelevantTypes, (clazz) => {\n            const groupName = clazz.GROUP;\n            /* istanbul ignore next */\n            if (groupName === Lexer.SKIPPED) {\n                return undefined;\n            }\n            else if (isString(groupName)) {\n                return groupName;\n            }\n            else if (isUndefined(groupName)) {\n                return false;\n            }\n            else {\n                throw Error(\"non exhaustive match\");\n            }\n        });\n        patternIdxToLongerAltIdxArr = map(onlyRelevantTypes, (clazz) => {\n            const longerAltType = clazz.LONGER_ALT;\n            if (longerAltType) {\n                const longerAltIdxArr = isArray(longerAltType)\n                    ? map(longerAltType, (type) => indexOf(onlyRelevantTypes, type))\n                    : [indexOf(onlyRelevantTypes, longerAltType)];\n                return longerAltIdxArr;\n            }\n        });\n        patternIdxToPushMode = map(onlyRelevantTypes, (clazz) => clazz.PUSH_MODE);\n        patternIdxToPopMode = map(onlyRelevantTypes, (clazz) => has(clazz, \"POP_MODE\"));\n    });\n    let patternIdxToCanLineTerminator;\n    tracer(\"Line Terminator Handling\", () => {\n        const lineTerminatorCharCodes = getCharCodes(options.lineTerminatorCharacters);\n        patternIdxToCanLineTerminator = map(onlyRelevantTypes, (tokType) => false);\n        if (options.positionTracking !== \"onlyOffset\") {\n            patternIdxToCanLineTerminator = map(onlyRelevantTypes, (tokType) => {\n                if (has(tokType, \"LINE_BREAKS\")) {\n                    return !!tokType.LINE_BREAKS;\n                }\n                else {\n                    return (checkLineBreaksIssues(tokType, lineTerminatorCharCodes) === false &&\n                        canMatchCharCode(lineTerminatorCharCodes, tokType.PATTERN));\n                }\n            });\n        }\n    });\n    let patternIdxToIsCustom;\n    let patternIdxToShort;\n    let emptyGroups;\n    let patternIdxToConfig;\n    tracer(\"Misc Mapping #2\", () => {\n        patternIdxToIsCustom = map(onlyRelevantTypes, isCustomPattern);\n        patternIdxToShort = map(allTransformedPatterns, isShortPattern);\n        emptyGroups = reduce(onlyRelevantTypes, (acc, clazz) => {\n            const groupName = clazz.GROUP;\n            if (isString(groupName) && !(groupName === Lexer.SKIPPED)) {\n                acc[groupName] = [];\n            }\n            return acc;\n        }, {});\n        patternIdxToConfig = map(allTransformedPatterns, (x, idx) => {\n            return {\n                pattern: allTransformedPatterns[idx],\n                longerAlt: patternIdxToLongerAltIdxArr[idx],\n                canLineTerminator: patternIdxToCanLineTerminator[idx],\n                isCustom: patternIdxToIsCustom[idx],\n                short: patternIdxToShort[idx],\n                group: patternIdxToGroup[idx],\n                push: patternIdxToPushMode[idx],\n                pop: patternIdxToPopMode[idx],\n                tokenTypeIdx: patternIdxToType[idx],\n                tokenType: onlyRelevantTypes[idx],\n            };\n        });\n    });\n    let canBeOptimized = true;\n    let charCodeToPatternIdxToConfig = [];\n    if (!options.safeMode) {\n        tracer(\"First Char Optimization\", () => {\n            charCodeToPatternIdxToConfig = reduce(onlyRelevantTypes, (result, currTokType, idx) => {\n                if (typeof currTokType.PATTERN === \"string\") {\n                    const charCode = currTokType.PATTERN.charCodeAt(0);\n                    const optimizedIdx = charCodeToOptimizedIndex(charCode);\n                    addToMapOfArrays(result, optimizedIdx, patternIdxToConfig[idx]);\n                }\n                else if (isArray(currTokType.START_CHARS_HINT)) {\n                    let lastOptimizedIdx;\n                    forEach(currTokType.START_CHARS_HINT, (charOrInt) => {\n                        const charCode = typeof charOrInt === \"string\"\n                            ? charOrInt.charCodeAt(0)\n                            : charOrInt;\n                        const currOptimizedIdx = charCodeToOptimizedIndex(charCode);\n                        // Avoid adding the config multiple times\n                        /* istanbul ignore else */\n                        // - Difficult to check this scenario effects as it is only a performance\n                        //   optimization that does not change correctness\n                        if (lastOptimizedIdx !== currOptimizedIdx) {\n                            lastOptimizedIdx = currOptimizedIdx;\n                            addToMapOfArrays(result, currOptimizedIdx, patternIdxToConfig[idx]);\n                        }\n                    });\n                }\n                else if (isRegExp(currTokType.PATTERN)) {\n                    if (currTokType.PATTERN.unicode) {\n                        canBeOptimized = false;\n                        if (options.ensureOptimizations) {\n                            PRINT_ERROR(`${failedOptimizationPrefixMsg}` +\n                                `\\tUnable to analyze < ${currTokType.PATTERN.toString()} > pattern.\\n` +\n                                \"\\tThe regexp unicode flag is not currently supported by the regexp-to-ast library.\\n\" +\n                                \"\\tThis will disable the lexer's first char optimizations.\\n\" +\n                                \"\\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE\");\n                        }\n                    }\n                    else {\n                        const optimizedCodes = getOptimizedStartCodesIndices(currTokType.PATTERN, options.ensureOptimizations);\n                        /* istanbul ignore if */\n                        // start code will only be empty given an empty regExp or failure of regexp-to-ast library\n                        // the first should be a different validation and the second cannot be tested.\n                        if (isEmpty(optimizedCodes)) {\n                            // we cannot understand what codes may start possible matches\n                            // The optimization correctness requires knowing start codes for ALL patterns.\n                            // Not actually sure this is an error, no debug message\n                            canBeOptimized = false;\n                        }\n                        forEach(optimizedCodes, (code) => {\n                            addToMapOfArrays(result, code, patternIdxToConfig[idx]);\n                        });\n                    }\n                }\n                else {\n                    if (options.ensureOptimizations) {\n                        PRINT_ERROR(`${failedOptimizationPrefixMsg}` +\n                            `\\tTokenType: <${currTokType.name}> is using a custom token pattern without providing <start_chars_hint> parameter.\\n` +\n                            \"\\tThis will disable the lexer's first char optimizations.\\n\" +\n                            \"\\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE\");\n                    }\n                    canBeOptimized = false;\n                }\n                return result;\n            }, []);\n        });\n    }\n    return {\n        emptyGroups: emptyGroups,\n        patternIdxToConfig: patternIdxToConfig,\n        charCodeToPatternIdxToConfig: charCodeToPatternIdxToConfig,\n        hasCustom: hasCustom,\n        canBeOptimized: canBeOptimized,\n    };\n}\nexport function validatePatterns(tokenTypes, validModesNames) {\n    let errors = [];\n    const missingResult = findMissingPatterns(tokenTypes);\n    errors = errors.concat(missingResult.errors);\n    const invalidResult = findInvalidPatterns(missingResult.valid);\n    const validTokenTypes = invalidResult.valid;\n    errors = errors.concat(invalidResult.errors);\n    errors = errors.concat(validateRegExpPattern(validTokenTypes));\n    errors = errors.concat(findInvalidGroupType(validTokenTypes));\n    errors = errors.concat(findModesThatDoNotExist(validTokenTypes, validModesNames));\n    errors = errors.concat(findUnreachablePatterns(validTokenTypes));\n    return errors;\n}\nfunction validateRegExpPattern(tokenTypes) {\n    let errors = [];\n    const withRegExpPatterns = filter(tokenTypes, (currTokType) => isRegExp(currTokType[PATTERN]));\n    errors = errors.concat(findEndOfInputAnchor(withRegExpPatterns));\n    errors = errors.concat(findStartOfInputAnchor(withRegExpPatterns));\n    errors = errors.concat(findUnsupportedFlags(withRegExpPatterns));\n    errors = errors.concat(findDuplicatePatterns(withRegExpPatterns));\n    errors = errors.concat(findEmptyMatchRegExps(withRegExpPatterns));\n    return errors;\n}\nexport function findMissingPatterns(tokenTypes) {\n    const tokenTypesWithMissingPattern = filter(tokenTypes, (currType) => {\n        return !has(currType, PATTERN);\n    });\n    const errors = map(tokenTypesWithMissingPattern, (currType) => {\n        return {\n            message: \"Token Type: ->\" +\n                currType.name +\n                \"<- missing static 'PATTERN' property\",\n            type: LexerDefinitionErrorType.MISSING_PATTERN,\n            tokenTypes: [currType],\n        };\n    });\n    const valid = difference(tokenTypes, tokenTypesWithMissingPattern);\n    return { errors, valid };\n}\nexport function findInvalidPatterns(tokenTypes) {\n    const tokenTypesWithInvalidPattern = filter(tokenTypes, (currType) => {\n        const pattern = currType[PATTERN];\n        return (!isRegExp(pattern) &&\n            !isFunction(pattern) &&\n            !has(pattern, \"exec\") &&\n            !isString(pattern));\n    });\n    const errors = map(tokenTypesWithInvalidPattern, (currType) => {\n        return {\n            message: \"Token Type: ->\" +\n                currType.name +\n                \"<- static 'PATTERN' can only be a RegExp, a\" +\n                \" Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.\",\n            type: LexerDefinitionErrorType.INVALID_PATTERN,\n            tokenTypes: [currType],\n        };\n    });\n    const valid = difference(tokenTypes, tokenTypesWithInvalidPattern);\n    return { errors, valid };\n}\nconst end_of_input = /[^\\\\][$]/;\nexport function findEndOfInputAnchor(tokenTypes) {\n    class EndAnchorFinder extends BaseRegExpVisitor {\n        constructor() {\n            super(...arguments);\n            this.found = false;\n        }\n        visitEndAnchor(node) {\n            this.found = true;\n        }\n    }\n    const invalidRegex = filter(tokenTypes, (currType) => {\n        const pattern = currType.PATTERN;\n        try {\n            const regexpAst = getRegExpAst(pattern);\n            const endAnchorVisitor = new EndAnchorFinder();\n            endAnchorVisitor.visit(regexpAst);\n            return endAnchorVisitor.found;\n        }\n        catch (e) {\n            // old behavior in case of runtime exceptions with regexp-to-ast.\n            /* istanbul ignore next - cannot ensure an error in regexp-to-ast*/\n            return end_of_input.test(pattern.source);\n        }\n    });\n    const errors = map(invalidRegex, (currType) => {\n        return {\n            message: \"Unexpected RegExp Anchor Error:\\n\" +\n                \"\\tToken Type: ->\" +\n                currType.name +\n                \"<- static 'PATTERN' cannot contain end of input anchor '$'\\n\" +\n                \"\\tSee chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\" +\n                \"\\tfor details.\",\n            type: LexerDefinitionErrorType.EOI_ANCHOR_FOUND,\n            tokenTypes: [currType],\n        };\n    });\n    return errors;\n}\nexport function findEmptyMatchRegExps(tokenTypes) {\n    const matchesEmptyString = filter(tokenTypes, (currType) => {\n        const pattern = currType.PATTERN;\n        return pattern.test(\"\");\n    });\n    const errors = map(matchesEmptyString, (currType) => {\n        return {\n            message: \"Token Type: ->\" +\n                currType.name +\n                \"<- static 'PATTERN' must not match an empty string\",\n            type: LexerDefinitionErrorType.EMPTY_MATCH_PATTERN,\n            tokenTypes: [currType],\n        };\n    });\n    return errors;\n}\nconst start_of_input = /[^\\\\[][\\^]|^\\^/;\nexport function findStartOfInputAnchor(tokenTypes) {\n    class StartAnchorFinder extends BaseRegExpVisitor {\n        constructor() {\n            super(...arguments);\n            this.found = false;\n        }\n        visitStartAnchor(node) {\n            this.found = true;\n        }\n    }\n    const invalidRegex = filter(tokenTypes, (currType) => {\n        const pattern = currType.PATTERN;\n        try {\n            const regexpAst = getRegExpAst(pattern);\n            const startAnchorVisitor = new StartAnchorFinder();\n            startAnchorVisitor.visit(regexpAst);\n            return startAnchorVisitor.found;\n        }\n        catch (e) {\n            // old behavior in case of runtime exceptions with regexp-to-ast.\n            /* istanbul ignore next - cannot ensure an error in regexp-to-ast*/\n            return start_of_input.test(pattern.source);\n        }\n    });\n    const errors = map(invalidRegex, (currType) => {\n        return {\n            message: \"Unexpected RegExp Anchor Error:\\n\" +\n                \"\\tToken Type: ->\" +\n                currType.name +\n                \"<- static 'PATTERN' cannot contain start of input anchor '^'\\n\" +\n                \"\\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\" +\n                \"\\tfor details.\",\n            type: LexerDefinitionErrorType.SOI_ANCHOR_FOUND,\n            tokenTypes: [currType],\n        };\n    });\n    return errors;\n}\nexport function findUnsupportedFlags(tokenTypes) {\n    const invalidFlags = filter(tokenTypes, (currType) => {\n        const pattern = currType[PATTERN];\n        return pattern instanceof RegExp && (pattern.multiline || pattern.global);\n    });\n    const errors = map(invalidFlags, (currType) => {\n        return {\n            message: \"Token Type: ->\" +\n                currType.name +\n                \"<- static 'PATTERN' may NOT contain global('g') or multiline('m')\",\n            type: LexerDefinitionErrorType.UNSUPPORTED_FLAGS_FOUND,\n            tokenTypes: [currType],\n        };\n    });\n    return errors;\n}\n// This can only test for identical duplicate RegExps, not semantically equivalent ones.\nexport function findDuplicatePatterns(tokenTypes) {\n    const found = [];\n    let identicalPatterns = map(tokenTypes, (outerType) => {\n        return reduce(tokenTypes, (result, innerType) => {\n            if (outerType.PATTERN.source === innerType.PATTERN.source &&\n                !includes(found, innerType) &&\n                innerType.PATTERN !== Lexer.NA) {\n                // this avoids duplicates in the result, each Token Type may only appear in one \"set\"\n                // in essence we are creating Equivalence classes on equality relation.\n                found.push(innerType);\n                result.push(innerType);\n                return result;\n            }\n            return result;\n        }, []);\n    });\n    identicalPatterns = compact(identicalPatterns);\n    const duplicatePatterns = filter(identicalPatterns, (currIdenticalSet) => {\n        return currIdenticalSet.length > 1;\n    });\n    const errors = map(duplicatePatterns, (setOfIdentical) => {\n        const tokenTypeNames = map(setOfIdentical, (currType) => {\n            return currType.name;\n        });\n        const dupPatternSrc = first(setOfIdentical).PATTERN;\n        return {\n            message: `The same RegExp pattern ->${dupPatternSrc}<-` +\n                `has been used in all of the following Token Types: ${tokenTypeNames.join(\", \")} <-`,\n            type: LexerDefinitionErrorType.DUPLICATE_PATTERNS_FOUND,\n            tokenTypes: setOfIdentical,\n        };\n    });\n    return errors;\n}\nexport function findInvalidGroupType(tokenTypes) {\n    const invalidTypes = filter(tokenTypes, (clazz) => {\n        if (!has(clazz, \"GROUP\")) {\n            return false;\n        }\n        const group = clazz.GROUP;\n        return group !== Lexer.SKIPPED && group !== Lexer.NA && !isString(group);\n    });\n    const errors = map(invalidTypes, (currType) => {\n        return {\n            message: \"Token Type: ->\" +\n                currType.name +\n                \"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String\",\n            type: LexerDefinitionErrorType.INVALID_GROUP_TYPE_FOUND,\n            tokenTypes: [currType],\n        };\n    });\n    return errors;\n}\nexport function findModesThatDoNotExist(tokenTypes, validModes) {\n    const invalidModes = filter(tokenTypes, (clazz) => {\n        return (clazz.PUSH_MODE !== undefined && !includes(validModes, clazz.PUSH_MODE));\n    });\n    const errors = map(invalidModes, (tokType) => {\n        const msg = `Token Type: ->${tokType.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${tokType.PUSH_MODE}<-` +\n            `which does not exist`;\n        return {\n            message: msg,\n            type: LexerDefinitionErrorType.PUSH_MODE_DOES_NOT_EXIST,\n            tokenTypes: [tokType],\n        };\n    });\n    return errors;\n}\nexport function findUnreachablePatterns(tokenTypes) {\n    const errors = [];\n    const canBeTested = reduce(tokenTypes, (result, tokType, idx) => {\n        const pattern = tokType.PATTERN;\n        if (pattern === Lexer.NA) {\n            return result;\n        }\n        // a more comprehensive validation for all forms of regExps would require\n        // deeper regExp analysis capabilities\n        if (isString(pattern)) {\n            result.push({ str: pattern, idx, tokenType: tokType });\n        }\n        else if (isRegExp(pattern) && noMetaChar(pattern)) {\n            result.push({ str: pattern.source, idx, tokenType: tokType });\n        }\n        return result;\n    }, []);\n    forEach(tokenTypes, (tokType, testIdx) => {\n        forEach(canBeTested, ({ str, idx, tokenType }) => {\n            if (testIdx < idx && testTokenType(str, tokType.PATTERN)) {\n                const msg = `Token: ->${tokenType.name}<- can never be matched.\\n` +\n                    `Because it appears AFTER the Token Type ->${tokType.name}<-` +\n                    `in the lexer's definition.\\n` +\n                    `See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;\n                errors.push({\n                    message: msg,\n                    type: LexerDefinitionErrorType.UNREACHABLE_PATTERN,\n                    tokenTypes: [tokType, tokenType],\n                });\n            }\n        });\n    });\n    return errors;\n}\nfunction testTokenType(str, pattern) {\n    /* istanbul ignore else */\n    if (isRegExp(pattern)) {\n        const regExpArray = pattern.exec(str);\n        return regExpArray !== null && regExpArray.index === 0;\n    }\n    else if (isFunction(pattern)) {\n        // maintain the API of custom patterns\n        return pattern(str, 0, [], {});\n    }\n    else if (has(pattern, \"exec\")) {\n        // maintain the API of custom patterns\n        return pattern.exec(str, 0, [], {});\n    }\n    else if (typeof pattern === \"string\") {\n        return pattern === str;\n    }\n    else {\n        throw Error(\"non exhaustive match\");\n    }\n}\nfunction noMetaChar(regExp) {\n    //https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp\n    const metaChars = [\n        \".\",\n        \"\\\\\",\n        \"[\",\n        \"]\",\n        \"|\",\n        \"^\",\n        \"$\",\n        \"(\",\n        \")\",\n        \"?\",\n        \"*\",\n        \"+\",\n        \"{\",\n    ];\n    return (find(metaChars, (char) => regExp.source.indexOf(char) !== -1) === undefined);\n}\nexport function addStartOfInput(pattern) {\n    const flags = pattern.ignoreCase ? \"i\" : \"\";\n    // always wrapping in a none capturing group preceded by '^' to make sure matching can only work on start of input.\n    // duplicate/redundant start of input markers have no meaning (/^^^^A/ === /^A/)\n    return new RegExp(`^(?:${pattern.source})`, flags);\n}\nexport function addStickyFlag(pattern) {\n    const flags = pattern.ignoreCase ? \"iy\" : \"y\";\n    // always wrapping in a none capturing group preceded by '^' to make sure matching can only work on start of input.\n    // duplicate/redundant start of input markers have no meaning (/^^^^A/ === /^A/)\n    return new RegExp(`${pattern.source}`, flags);\n}\nexport function performRuntimeChecks(lexerDefinition, trackLines, lineTerminatorCharacters) {\n    const errors = [];\n    // some run time checks to help the end users.\n    if (!has(lexerDefinition, DEFAULT_MODE)) {\n        errors.push({\n            message: \"A MultiMode Lexer cannot be initialized without a <\" +\n                DEFAULT_MODE +\n                \"> property in its definition\\n\",\n            type: LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE,\n        });\n    }\n    if (!has(lexerDefinition, MODES)) {\n        errors.push({\n            message: \"A MultiMode Lexer cannot be initialized without a <\" +\n                MODES +\n                \"> property in its definition\\n\",\n            type: LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY,\n        });\n    }\n    if (has(lexerDefinition, MODES) &&\n        has(lexerDefinition, DEFAULT_MODE) &&\n        !has(lexerDefinition.modes, lexerDefinition.defaultMode)) {\n        errors.push({\n            message: `A MultiMode Lexer cannot be initialized with a ${DEFAULT_MODE}: <${lexerDefinition.defaultMode}>` +\n                `which does not exist\\n`,\n            type: LexerDefinitionErrorType.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST,\n        });\n    }\n    if (has(lexerDefinition, MODES)) {\n        forEach(lexerDefinition.modes, (currModeValue, currModeName) => {\n            forEach(currModeValue, (currTokType, currIdx) => {\n                if (isUndefined(currTokType)) {\n                    errors.push({\n                        message: `A Lexer cannot be initialized using an undefined Token Type. Mode:` +\n                            `<${currModeName}> at index: <${currIdx}>\\n`,\n                        type: LexerDefinitionErrorType.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED,\n                    });\n                }\n                else if (has(currTokType, \"LONGER_ALT\")) {\n                    const longerAlt = isArray(currTokType.LONGER_ALT)\n                        ? currTokType.LONGER_ALT\n                        : [currTokType.LONGER_ALT];\n                    forEach(longerAlt, (currLongerAlt) => {\n                        if (!isUndefined(currLongerAlt) &&\n                            !includes(currModeValue, currLongerAlt)) {\n                            errors.push({\n                                message: `A MultiMode Lexer cannot be initialized with a longer_alt <${currLongerAlt.name}> on token <${currTokType.name}> outside of mode <${currModeName}>\\n`,\n                                type: LexerDefinitionErrorType.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE,\n                            });\n                        }\n                    });\n                }\n            });\n        });\n    }\n    return errors;\n}\nexport function performWarningRuntimeChecks(lexerDefinition, trackLines, lineTerminatorCharacters) {\n    const warnings = [];\n    let hasAnyLineBreak = false;\n    const allTokenTypes = compact(flatten(values(lexerDefinition.modes)));\n    const concreteTokenTypes = reject(allTokenTypes, (currType) => currType[PATTERN] === Lexer.NA);\n    const terminatorCharCodes = getCharCodes(lineTerminatorCharacters);\n    if (trackLines) {\n        forEach(concreteTokenTypes, (tokType) => {\n            const currIssue = checkLineBreaksIssues(tokType, terminatorCharCodes);\n            if (currIssue !== false) {\n                const message = buildLineBreakIssueMessage(tokType, currIssue);\n                const warningDescriptor = {\n                    message,\n                    type: currIssue.issue,\n                    tokenType: tokType,\n                };\n                warnings.push(warningDescriptor);\n            }\n            else {\n                // we don't want to attempt to scan if the user explicitly specified the line_breaks option.\n                if (has(tokType, \"LINE_BREAKS\")) {\n                    if (tokType.LINE_BREAKS === true) {\n                        hasAnyLineBreak = true;\n                    }\n                }\n                else {\n                    if (canMatchCharCode(terminatorCharCodes, tokType.PATTERN)) {\n                        hasAnyLineBreak = true;\n                    }\n                }\n            }\n        });\n    }\n    if (trackLines && !hasAnyLineBreak) {\n        warnings.push({\n            message: \"Warning: No LINE_BREAKS Found.\\n\" +\n                \"\\tThis Lexer has been defined to track line and column information,\\n\" +\n                \"\\tBut none of the Token Types can be identified as matching a line terminator.\\n\" +\n                \"\\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \\n\" +\n                \"\\tfor details.\",\n            type: LexerDefinitionErrorType.NO_LINE_BREAKS_FLAGS,\n        });\n    }\n    return warnings;\n}\nexport function cloneEmptyGroups(emptyGroups) {\n    const clonedResult = {};\n    const groupKeys = keys(emptyGroups);\n    forEach(groupKeys, (currKey) => {\n        const currGroupValue = emptyGroups[currKey];\n        /* istanbul ignore else */\n        if (isArray(currGroupValue)) {\n            clonedResult[currKey] = [];\n        }\n        else {\n            throw Error(\"non exhaustive match\");\n        }\n    });\n    return clonedResult;\n}\n// TODO: refactor to avoid duplication\nexport function isCustomPattern(tokenType) {\n    const pattern = tokenType.PATTERN;\n    /* istanbul ignore else */\n    if (isRegExp(pattern)) {\n        return false;\n    }\n    else if (isFunction(pattern)) {\n        // CustomPatternMatcherFunc - custom patterns do not require any transformations, only wrapping in a RegExp Like object\n        return true;\n    }\n    else if (has(pattern, \"exec\")) {\n        // ICustomPattern\n        return true;\n    }\n    else if (isString(pattern)) {\n        return false;\n    }\n    else {\n        throw Error(\"non exhaustive match\");\n    }\n}\nexport function isShortPattern(pattern) {\n    if (isString(pattern) && pattern.length === 1) {\n        return pattern.charCodeAt(0);\n    }\n    else {\n        return false;\n    }\n}\n/**\n * Faster than using a RegExp for default newline detection during lexing.\n */\nexport const LineTerminatorOptimizedTester = {\n    // implements /\\n|\\r\\n?/g.test\n    test: function (text) {\n        const len = text.length;\n        for (let i = this.lastIndex; i < len; i++) {\n            const c = text.charCodeAt(i);\n            if (c === 10) {\n                this.lastIndex = i + 1;\n                return true;\n            }\n            else if (c === 13) {\n                if (text.charCodeAt(i + 1) === 10) {\n                    this.lastIndex = i + 2;\n                }\n                else {\n                    this.lastIndex = i + 1;\n                }\n                return true;\n            }\n        }\n        return false;\n    },\n    lastIndex: 0,\n};\nfunction checkLineBreaksIssues(tokType, lineTerminatorCharCodes) {\n    if (has(tokType, \"LINE_BREAKS\")) {\n        // if the user explicitly declared the line_breaks option we will respect their choice\n        // and assume it is correct.\n        return false;\n    }\n    else {\n        /* istanbul ignore else */\n        if (isRegExp(tokType.PATTERN)) {\n            try {\n                // TODO: why is the casting suddenly needed?\n                canMatchCharCode(lineTerminatorCharCodes, tokType.PATTERN);\n            }\n            catch (e) {\n                /* istanbul ignore next - to test this we would have to mock <canMatchCharCode> to throw an error */\n                return {\n                    issue: LexerDefinitionErrorType.IDENTIFY_TERMINATOR,\n                    errMsg: e.message,\n                };\n            }\n            return false;\n        }\n        else if (isString(tokType.PATTERN)) {\n            // string literal patterns can always be analyzed to detect line terminator usage\n            return false;\n        }\n        else if (isCustomPattern(tokType)) {\n            // custom token types\n            return { issue: LexerDefinitionErrorType.CUSTOM_LINE_BREAK };\n        }\n        else {\n            throw Error(\"non exhaustive match\");\n        }\n    }\n}\nexport function buildLineBreakIssueMessage(tokType, details) {\n    /* istanbul ignore else */\n    if (details.issue === LexerDefinitionErrorType.IDENTIFY_TERMINATOR) {\n        return (\"Warning: unable to identify line terminator usage in pattern.\\n\" +\n            `\\tThe problem is in the <${tokType.name}> Token Type\\n` +\n            `\\t Root cause: ${details.errMsg}.\\n` +\n            \"\\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR\");\n    }\n    else if (details.issue === LexerDefinitionErrorType.CUSTOM_LINE_BREAK) {\n        return (\"Warning: A Custom Token Pattern should specify the <line_breaks> option.\\n\" +\n            `\\tThe problem is in the <${tokType.name}> Token Type\\n` +\n            \"\\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK\");\n    }\n    else {\n        throw Error(\"non exhaustive match\");\n    }\n}\nfunction getCharCodes(charsOrCodes) {\n    const charCodes = map(charsOrCodes, (numOrString) => {\n        if (isString(numOrString)) {\n            return numOrString.charCodeAt(0);\n        }\n        else {\n            return numOrString;\n        }\n    });\n    return charCodes;\n}\nfunction addToMapOfArrays(map, key, value) {\n    if (map[key] === undefined) {\n        map[key] = [value];\n    }\n    else {\n        map[key].push(value);\n    }\n}\nexport const minOptimizationVal = 256;\n/**\n * We are mapping charCode above ASCI (256) into buckets each in the size of 256.\n * This is because ASCI are the most common start chars so each one of those will get its own\n * possible token configs vector.\n *\n * Tokens starting with charCodes \"above\" ASCI are uncommon, so we can \"afford\"\n * to place these into buckets of possible token configs, What we gain from\n * this is avoiding the case of creating an optimization 'charCodeToPatternIdxToConfig'\n * which would contain 10,000+ arrays of small size (e.g unicode Identifiers scenario).\n * Our 'charCodeToPatternIdxToConfig' max size will now be:\n * 256 + (2^16 / 2^8) - 1 === 511\n *\n * note the hack for fast division integer part extraction\n * See: https://stackoverflow.com/a/4228528\n */\nlet charCodeToOptimizedIdxMap = [];\nexport function charCodeToOptimizedIndex(charCode) {\n    return charCode < minOptimizationVal\n        ? charCode\n        : charCodeToOptimizedIdxMap[charCode];\n}\n/**\n * This is a compromise between cold start / hot running performance\n * Creating this array takes ~3ms on a modern machine,\n * But if we perform the computation at runtime as needed the CSS Lexer benchmark\n * performance degrades by ~10%\n *\n * TODO: Perhaps it should be lazy initialized only if a charCode > 255 is used.\n */\nfunction initCharCodeToOptimizedIndexMap() {\n    if (isEmpty(charCodeToOptimizedIdxMap)) {\n        charCodeToOptimizedIdxMap = new Array(65536);\n        for (let i = 0; i < 65536; i++) {\n            charCodeToOptimizedIdxMap[i] = i > 255 ? 255 + ~~(i / 255) : i;\n        }\n    }\n}\n//# sourceMappingURL=lexer.js.map","export function timer(func) {\n    const start = new Date().getTime();\n    const val = func();\n    const end = new Date().getTime();\n    const total = end - start;\n    return { time: total, value: val };\n}\n//# sourceMappingURL=timer.js.map","import { clone, compact, difference, flatten, forEach, has, includes, isArray, isEmpty, map, } from \"lodash-es\";\nexport function tokenStructuredMatcher(tokInstance, tokConstructor) {\n    const instanceType = tokInstance.tokenTypeIdx;\n    if (instanceType === tokConstructor.tokenTypeIdx) {\n        return true;\n    }\n    else {\n        return (tokConstructor.isParent === true &&\n            tokConstructor.categoryMatchesMap[instanceType] === true);\n    }\n}\n// Optimized tokenMatcher in case our grammar does not use token categories\n// Being so tiny it is much more likely to be in-lined and this avoid the function call overhead\nexport function tokenStructuredMatcherNoCategories(token, tokType) {\n    return token.tokenTypeIdx === tokType.tokenTypeIdx;\n}\nexport let tokenShortNameIdx = 1;\nexport const tokenIdxToClass = {};\nexport function augmentTokenTypes(tokenTypes) {\n    // collect the parent Token Types as well.\n    const tokenTypesAndParents = expandCategories(tokenTypes);\n    // add required tokenType and categoryMatches properties\n    assignTokenDefaultProps(tokenTypesAndParents);\n    // fill up the categoryMatches\n    assignCategoriesMapProp(tokenTypesAndParents);\n    assignCategoriesTokensProp(tokenTypesAndParents);\n    forEach(tokenTypesAndParents, (tokType) => {\n        tokType.isParent = tokType.categoryMatches.length > 0;\n    });\n}\nexport function expandCategories(tokenTypes) {\n    let result = clone(tokenTypes);\n    let categories = tokenTypes;\n    let searching = true;\n    while (searching) {\n        categories = compact(flatten(map(categories, (currTokType) => currTokType.CATEGORIES)));\n        const newCategories = difference(categories, result);\n        result = result.concat(newCategories);\n        if (isEmpty(newCategories)) {\n            searching = false;\n        }\n        else {\n            categories = newCategories;\n        }\n    }\n    return result;\n}\nexport function assignTokenDefaultProps(tokenTypes) {\n    forEach(tokenTypes, (currTokType) => {\n        if (!hasShortKeyProperty(currTokType)) {\n            tokenIdxToClass[tokenShortNameIdx] = currTokType;\n            currTokType.tokenTypeIdx = tokenShortNameIdx++;\n        }\n        // CATEGORIES? : TokenType | TokenType[]\n        if (hasCategoriesProperty(currTokType) &&\n            !isArray(currTokType.CATEGORIES)\n        // &&\n        // !isUndefined(currTokType.CATEGORIES.PATTERN)\n        ) {\n            currTokType.CATEGORIES = [currTokType.CATEGORIES];\n        }\n        if (!hasCategoriesProperty(currTokType)) {\n            currTokType.CATEGORIES = [];\n        }\n        if (!hasExtendingTokensTypesProperty(currTokType)) {\n            currTokType.categoryMatches = [];\n        }\n        if (!hasExtendingTokensTypesMapProperty(currTokType)) {\n            currTokType.categoryMatchesMap = {};\n        }\n    });\n}\nexport function assignCategoriesTokensProp(tokenTypes) {\n    forEach(tokenTypes, (currTokType) => {\n        // avoid duplications\n        currTokType.categoryMatches = [];\n        forEach(currTokType.categoryMatchesMap, (val, key) => {\n            currTokType.categoryMatches.push(tokenIdxToClass[key].tokenTypeIdx);\n        });\n    });\n}\nexport function assignCategoriesMapProp(tokenTypes) {\n    forEach(tokenTypes, (currTokType) => {\n        singleAssignCategoriesToksMap([], currTokType);\n    });\n}\nexport function singleAssignCategoriesToksMap(path, nextNode) {\n    forEach(path, (pathNode) => {\n        nextNode.categoryMatchesMap[pathNode.tokenTypeIdx] = true;\n    });\n    forEach(nextNode.CATEGORIES, (nextCategory) => {\n        const newPath = path.concat(nextNode);\n        // avoids infinite loops due to cyclic categories.\n        if (!includes(newPath, nextCategory)) {\n            singleAssignCategoriesToksMap(newPath, nextCategory);\n        }\n    });\n}\nexport function hasShortKeyProperty(tokType) {\n    return has(tokType, \"tokenTypeIdx\");\n}\nexport function hasCategoriesProperty(tokType) {\n    return has(tokType, \"CATEGORIES\");\n}\nexport function hasExtendingTokensTypesProperty(tokType) {\n    return has(tokType, \"categoryMatches\");\n}\nexport function hasExtendingTokensTypesMapProperty(tokType) {\n    return has(tokType, \"categoryMatchesMap\");\n}\nexport function isTokenType(tokType) {\n    return has(tokType, \"tokenTypeIdx\");\n}\n//# sourceMappingURL=tokens.js.map","export const defaultLexerErrorProvider = {\n    buildUnableToPopLexerModeMessage(token) {\n        return `Unable to pop Lexer Mode after encountering Token ->${token.image}<- The Mode Stack is empty`;\n    },\n    buildUnexpectedCharactersMessage(fullText, startOffset, length, line, column) {\n        return (`unexpected character: ->${fullText.charAt(startOffset)}<- at offset: ${startOffset},` + ` skipped ${length} characters.`);\n    },\n};\n//# sourceMappingURL=lexer_errors_public.js.map","import { analyzeTokenTypes, charCodeToOptimizedIndex, cloneEmptyGroups, DEFAULT_MODE, LineTerminatorOptimizedTester, performRuntimeChecks, performWarningRuntimeChecks, SUPPORT_STICKY, validatePatterns, } from \"./lexer.js\";\nimport { assign, clone, forEach, identity, isArray, isEmpty, isUndefined, keys, last, map, noop, reduce, reject, } from \"lodash-es\";\nimport { PRINT_WARNING, timer, toFastProperties } from \"@chevrotain/utils\";\nimport { augmentTokenTypes } from \"./tokens.js\";\nimport { defaultLexerErrorProvider } from \"./lexer_errors_public.js\";\nimport { clearRegExpParserCache } from \"./reg_exp_parser.js\";\nexport var LexerDefinitionErrorType;\n(function (LexerDefinitionErrorType) {\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"MISSING_PATTERN\"] = 0] = \"MISSING_PATTERN\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"INVALID_PATTERN\"] = 1] = \"INVALID_PATTERN\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"EOI_ANCHOR_FOUND\"] = 2] = \"EOI_ANCHOR_FOUND\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"UNSUPPORTED_FLAGS_FOUND\"] = 3] = \"UNSUPPORTED_FLAGS_FOUND\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"DUPLICATE_PATTERNS_FOUND\"] = 4] = \"DUPLICATE_PATTERNS_FOUND\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"INVALID_GROUP_TYPE_FOUND\"] = 5] = \"INVALID_GROUP_TYPE_FOUND\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"PUSH_MODE_DOES_NOT_EXIST\"] = 6] = \"PUSH_MODE_DOES_NOT_EXIST\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE\"] = 7] = \"MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY\"] = 8] = \"MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST\"] = 9] = \"MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED\"] = 10] = \"LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"SOI_ANCHOR_FOUND\"] = 11] = \"SOI_ANCHOR_FOUND\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"EMPTY_MATCH_PATTERN\"] = 12] = \"EMPTY_MATCH_PATTERN\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"NO_LINE_BREAKS_FLAGS\"] = 13] = \"NO_LINE_BREAKS_FLAGS\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"UNREACHABLE_PATTERN\"] = 14] = \"UNREACHABLE_PATTERN\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"IDENTIFY_TERMINATOR\"] = 15] = \"IDENTIFY_TERMINATOR\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"CUSTOM_LINE_BREAK\"] = 16] = \"CUSTOM_LINE_BREAK\";\n    LexerDefinitionErrorType[LexerDefinitionErrorType[\"MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE\"] = 17] = \"MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE\";\n})(LexerDefinitionErrorType || (LexerDefinitionErrorType = {}));\nconst DEFAULT_LEXER_CONFIG = {\n    deferDefinitionErrorsHandling: false,\n    positionTracking: \"full\",\n    lineTerminatorsPattern: /\\n|\\r\\n?/g,\n    lineTerminatorCharacters: [\"\\n\", \"\\r\"],\n    ensureOptimizations: false,\n    safeMode: false,\n    errorMessageProvider: defaultLexerErrorProvider,\n    traceInitPerf: false,\n    skipValidations: false,\n    recoveryEnabled: true,\n};\nObject.freeze(DEFAULT_LEXER_CONFIG);\nexport class Lexer {\n    constructor(lexerDefinition, config = DEFAULT_LEXER_CONFIG) {\n        this.lexerDefinition = lexerDefinition;\n        this.lexerDefinitionErrors = [];\n        this.lexerDefinitionWarning = [];\n        this.patternIdxToConfig = {};\n        this.charCodeToPatternIdxToConfig = {};\n        this.modes = [];\n        this.emptyGroups = {};\n        this.trackStartLines = true;\n        this.trackEndLines = true;\n        this.hasCustom = false;\n        this.canModeBeOptimized = {};\n        // Duplicated from the parser's perf trace trait to allow future extraction\n        // of the lexer to a separate package.\n        this.TRACE_INIT = (phaseDesc, phaseImpl) => {\n            // No need to optimize this using NOOP pattern because\n            // It is not called in a hot spot...\n            if (this.traceInitPerf === true) {\n                this.traceInitIndent++;\n                const indent = new Array(this.traceInitIndent + 1).join(\"\\t\");\n                if (this.traceInitIndent < this.traceInitMaxIdent) {\n                    console.log(`${indent}--> <${phaseDesc}>`);\n                }\n                const { time, value } = timer(phaseImpl);\n                /* istanbul ignore next - Difficult to reproduce specific performance behavior (>10ms) in tests */\n                const traceMethod = time > 10 ? console.warn : console.log;\n                if (this.traceInitIndent < this.traceInitMaxIdent) {\n                    traceMethod(`${indent}<-- <${phaseDesc}> time: ${time}ms`);\n                }\n                this.traceInitIndent--;\n                return value;\n            }\n            else {\n                return phaseImpl();\n            }\n        };\n        if (typeof config === \"boolean\") {\n            throw Error(\"The second argument to the Lexer constructor is now an ILexerConfig Object.\\n\" +\n                \"a boolean 2nd argument is no longer supported\");\n        }\n        // todo: defaults func?\n        this.config = assign({}, DEFAULT_LEXER_CONFIG, config);\n        const traceInitVal = this.config.traceInitPerf;\n        if (traceInitVal === true) {\n            this.traceInitMaxIdent = Infinity;\n            this.traceInitPerf = true;\n        }\n        else if (typeof traceInitVal === \"number\") {\n            this.traceInitMaxIdent = traceInitVal;\n            this.traceInitPerf = true;\n        }\n        this.traceInitIndent = -1;\n        this.TRACE_INIT(\"Lexer Constructor\", () => {\n            let actualDefinition;\n            let hasOnlySingleMode = true;\n            this.TRACE_INIT(\"Lexer Config handling\", () => {\n                if (this.config.lineTerminatorsPattern ===\n                    DEFAULT_LEXER_CONFIG.lineTerminatorsPattern) {\n                    // optimized built-in implementation for the defaults definition of lineTerminators\n                    this.config.lineTerminatorsPattern = LineTerminatorOptimizedTester;\n                }\n                else {\n                    if (this.config.lineTerminatorCharacters ===\n                        DEFAULT_LEXER_CONFIG.lineTerminatorCharacters) {\n                        throw Error(\"Error: Missing <lineTerminatorCharacters> property on the Lexer config.\\n\" +\n                            \"\\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS\");\n                    }\n                }\n                if (config.safeMode && config.ensureOptimizations) {\n                    throw Error('\"safeMode\" and \"ensureOptimizations\" flags are mutually exclusive.');\n                }\n                this.trackStartLines = /full|onlyStart/i.test(this.config.positionTracking);\n                this.trackEndLines = /full/i.test(this.config.positionTracking);\n                // Convert SingleModeLexerDefinition into a IMultiModeLexerDefinition.\n                if (isArray(lexerDefinition)) {\n                    actualDefinition = {\n                        modes: { defaultMode: clone(lexerDefinition) },\n                        defaultMode: DEFAULT_MODE,\n                    };\n                }\n                else {\n                    // no conversion needed, input should already be a IMultiModeLexerDefinition\n                    hasOnlySingleMode = false;\n                    actualDefinition = clone(lexerDefinition);\n                }\n            });\n            if (this.config.skipValidations === false) {\n                this.TRACE_INIT(\"performRuntimeChecks\", () => {\n                    this.lexerDefinitionErrors = this.lexerDefinitionErrors.concat(performRuntimeChecks(actualDefinition, this.trackStartLines, this.config.lineTerminatorCharacters));\n                });\n                this.TRACE_INIT(\"performWarningRuntimeChecks\", () => {\n                    this.lexerDefinitionWarning = this.lexerDefinitionWarning.concat(performWarningRuntimeChecks(actualDefinition, this.trackStartLines, this.config.lineTerminatorCharacters));\n                });\n            }\n            // for extra robustness to avoid throwing an none informative error message\n            actualDefinition.modes = actualDefinition.modes\n                ? actualDefinition.modes\n                : {};\n            // an error of undefined TokenTypes will be detected in \"performRuntimeChecks\" above.\n            // this transformation is to increase robustness in the case of partially invalid lexer definition.\n            forEach(actualDefinition.modes, (currModeValue, currModeName) => {\n                actualDefinition.modes[currModeName] = reject(currModeValue, (currTokType) => isUndefined(currTokType));\n            });\n            const allModeNames = keys(actualDefinition.modes);\n            forEach(actualDefinition.modes, (currModDef, currModName) => {\n                this.TRACE_INIT(`Mode: <${currModName}> processing`, () => {\n                    this.modes.push(currModName);\n                    if (this.config.skipValidations === false) {\n                        this.TRACE_INIT(`validatePatterns`, () => {\n                            this.lexerDefinitionErrors = this.lexerDefinitionErrors.concat(validatePatterns(currModDef, allModeNames));\n                        });\n                    }\n                    // If definition errors were encountered, the analysis phase may fail unexpectedly/\n                    // Considering a lexer with definition errors may never be used, there is no point\n                    // to performing the analysis anyhow...\n                    if (isEmpty(this.lexerDefinitionErrors)) {\n                        augmentTokenTypes(currModDef);\n                        let currAnalyzeResult;\n                        this.TRACE_INIT(`analyzeTokenTypes`, () => {\n                            currAnalyzeResult = analyzeTokenTypes(currModDef, {\n                                lineTerminatorCharacters: this.config.lineTerminatorCharacters,\n                                positionTracking: config.positionTracking,\n                                ensureOptimizations: config.ensureOptimizations,\n                                safeMode: config.safeMode,\n                                tracer: this.TRACE_INIT,\n                            });\n                        });\n                        this.patternIdxToConfig[currModName] =\n                            currAnalyzeResult.patternIdxToConfig;\n                        this.charCodeToPatternIdxToConfig[currModName] =\n                            currAnalyzeResult.charCodeToPatternIdxToConfig;\n                        this.emptyGroups = assign({}, this.emptyGroups, currAnalyzeResult.emptyGroups);\n                        this.hasCustom = currAnalyzeResult.hasCustom || this.hasCustom;\n                        this.canModeBeOptimized[currModName] =\n                            currAnalyzeResult.canBeOptimized;\n                    }\n                });\n            });\n            this.defaultMode = actualDefinition.defaultMode;\n            if (!isEmpty(this.lexerDefinitionErrors) &&\n                !this.config.deferDefinitionErrorsHandling) {\n                const allErrMessages = map(this.lexerDefinitionErrors, (error) => {\n                    return error.message;\n                });\n                const allErrMessagesString = allErrMessages.join(\"-----------------------\\n\");\n                throw new Error(\"Errors detected in definition of Lexer:\\n\" + allErrMessagesString);\n            }\n            // Only print warning if there are no errors, This will avoid pl\n            forEach(this.lexerDefinitionWarning, (warningDescriptor) => {\n                PRINT_WARNING(warningDescriptor.message);\n            });\n            this.TRACE_INIT(\"Choosing sub-methods implementations\", () => {\n                // Choose the relevant internal implementations for this specific parser.\n                // These implementations should be in-lined by the JavaScript engine\n                // to provide optimal performance in each scenario.\n                if (SUPPORT_STICKY) {\n                    this.chopInput = identity;\n                    this.match = this.matchWithTest;\n                }\n                else {\n                    this.updateLastIndex = noop;\n                    this.match = this.matchWithExec;\n                }\n                if (hasOnlySingleMode) {\n                    this.handleModes = noop;\n                }\n                if (this.trackStartLines === false) {\n                    this.computeNewColumn = identity;\n                }\n                if (this.trackEndLines === false) {\n                    this.updateTokenEndLineColumnLocation = noop;\n                }\n                if (/full/i.test(this.config.positionTracking)) {\n                    this.createTokenInstance = this.createFullToken;\n                }\n                else if (/onlyStart/i.test(this.config.positionTracking)) {\n                    this.createTokenInstance = this.createStartOnlyToken;\n                }\n                else if (/onlyOffset/i.test(this.config.positionTracking)) {\n                    this.createTokenInstance = this.createOffsetOnlyToken;\n                }\n                else {\n                    throw Error(`Invalid <positionTracking> config option: \"${this.config.positionTracking}\"`);\n                }\n                if (this.hasCustom) {\n                    this.addToken = this.addTokenUsingPush;\n                    this.handlePayload = this.handlePayloadWithCustom;\n                }\n                else {\n                    this.addToken = this.addTokenUsingMemberAccess;\n                    this.handlePayload = this.handlePayloadNoCustom;\n                }\n            });\n            this.TRACE_INIT(\"Failed Optimization Warnings\", () => {\n                const unOptimizedModes = reduce(this.canModeBeOptimized, (cannotBeOptimized, canBeOptimized, modeName) => {\n                    if (canBeOptimized === false) {\n                        cannotBeOptimized.push(modeName);\n                    }\n                    return cannotBeOptimized;\n                }, []);\n                if (config.ensureOptimizations && !isEmpty(unOptimizedModes)) {\n                    throw Error(`Lexer Modes: < ${unOptimizedModes.join(\", \")} > cannot be optimized.\\n` +\n                        '\\t Disable the \"ensureOptimizations\" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\\n' +\n                        \"\\t Or inspect the console log for details on how to resolve these issues.\");\n                }\n            });\n            this.TRACE_INIT(\"clearRegExpParserCache\", () => {\n                clearRegExpParserCache();\n            });\n            this.TRACE_INIT(\"toFastProperties\", () => {\n                toFastProperties(this);\n            });\n        });\n    }\n    tokenize(text, initialMode = this.defaultMode) {\n        if (!isEmpty(this.lexerDefinitionErrors)) {\n            const allErrMessages = map(this.lexerDefinitionErrors, (error) => {\n                return error.message;\n            });\n            const allErrMessagesString = allErrMessages.join(\"-----------------------\\n\");\n            throw new Error(\"Unable to Tokenize because Errors detected in definition of Lexer:\\n\" +\n                allErrMessagesString);\n        }\n        return this.tokenizeInternal(text, initialMode);\n    }\n    // There is quite a bit of duplication between this and \"tokenizeInternalLazy\"\n    // This is intentional due to performance considerations.\n    // this method also used quite a bit of `!` none null assertions because it is too optimized\n    // for `tsc` to always understand it is \"safe\"\n    tokenizeInternal(text, initialMode) {\n        let i, j, k, matchAltImage, longerAlt, matchedImage, payload, altPayload, imageLength, group, tokType, newToken, errLength, droppedChar, msg, match;\n        const orgText = text;\n        const orgLength = orgText.length;\n        let offset = 0;\n        let matchedTokensIndex = 0;\n        // initializing the tokensArray to the \"guessed\" size.\n        // guessing too little will still reduce the number of array re-sizes on pushes.\n        // guessing too large (Tested by guessing x4 too large) may cost a bit more of memory\n        // but would still have a faster runtime by avoiding (All but one) array resizing.\n        const guessedNumberOfTokens = this.hasCustom\n            ? 0 // will break custom token pattern APIs the matchedTokens array will contain undefined elements.\n            : Math.floor(text.length / 10);\n        const matchedTokens = new Array(guessedNumberOfTokens);\n        const errors = [];\n        let line = this.trackStartLines ? 1 : undefined;\n        let column = this.trackStartLines ? 1 : undefined;\n        const groups = cloneEmptyGroups(this.emptyGroups);\n        const trackLines = this.trackStartLines;\n        const lineTerminatorPattern = this.config.lineTerminatorsPattern;\n        let currModePatternsLength = 0;\n        let patternIdxToConfig = [];\n        let currCharCodeToPatternIdxToConfig = [];\n        const modeStack = [];\n        const emptyArray = [];\n        Object.freeze(emptyArray);\n        let getPossiblePatterns;\n        function getPossiblePatternsSlow() {\n            return patternIdxToConfig;\n        }\n        function getPossiblePatternsOptimized(charCode) {\n            const optimizedCharIdx = charCodeToOptimizedIndex(charCode);\n            const possiblePatterns = currCharCodeToPatternIdxToConfig[optimizedCharIdx];\n            if (possiblePatterns === undefined) {\n                return emptyArray;\n            }\n            else {\n                return possiblePatterns;\n            }\n        }\n        const pop_mode = (popToken) => {\n            // TODO: perhaps avoid this error in the edge case there is no more input?\n            if (modeStack.length === 1 &&\n                // if we have both a POP_MODE and a PUSH_MODE this is in-fact a \"transition\"\n                // So no error should occur.\n                popToken.tokenType.PUSH_MODE === undefined) {\n                // if we try to pop the last mode there lexer will no longer have ANY mode.\n                // thus the pop is ignored, an error will be created and the lexer will continue parsing in the previous mode.\n                const msg = this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(popToken);\n                errors.push({\n                    offset: popToken.startOffset,\n                    line: popToken.startLine,\n                    column: popToken.startColumn,\n                    length: popToken.image.length,\n                    message: msg,\n                });\n            }\n            else {\n                modeStack.pop();\n                const newMode = last(modeStack);\n                patternIdxToConfig = this.patternIdxToConfig[newMode];\n                currCharCodeToPatternIdxToConfig =\n                    this.charCodeToPatternIdxToConfig[newMode];\n                currModePatternsLength = patternIdxToConfig.length;\n                const modeCanBeOptimized = this.canModeBeOptimized[newMode] && this.config.safeMode === false;\n                if (currCharCodeToPatternIdxToConfig && modeCanBeOptimized) {\n                    getPossiblePatterns = getPossiblePatternsOptimized;\n                }\n                else {\n                    getPossiblePatterns = getPossiblePatternsSlow;\n                }\n            }\n        };\n        function push_mode(newMode) {\n            modeStack.push(newMode);\n            currCharCodeToPatternIdxToConfig =\n                this.charCodeToPatternIdxToConfig[newMode];\n            patternIdxToConfig = this.patternIdxToConfig[newMode];\n            currModePatternsLength = patternIdxToConfig.length;\n            currModePatternsLength = patternIdxToConfig.length;\n            const modeCanBeOptimized = this.canModeBeOptimized[newMode] && this.config.safeMode === false;\n            if (currCharCodeToPatternIdxToConfig && modeCanBeOptimized) {\n                getPossiblePatterns = getPossiblePatternsOptimized;\n            }\n            else {\n                getPossiblePatterns = getPossiblePatternsSlow;\n            }\n        }\n        // this pattern seems to avoid a V8 de-optimization, although that de-optimization does not\n        // seem to matter performance wise.\n        push_mode.call(this, initialMode);\n        let currConfig;\n        const recoveryEnabled = this.config.recoveryEnabled;\n        while (offset < orgLength) {\n            matchedImage = null;\n            const nextCharCode = orgText.charCodeAt(offset);\n            const chosenPatternIdxToConfig = getPossiblePatterns(nextCharCode);\n            const chosenPatternsLength = chosenPatternIdxToConfig.length;\n            for (i = 0; i < chosenPatternsLength; i++) {\n                currConfig = chosenPatternIdxToConfig[i];\n                const currPattern = currConfig.pattern;\n                payload = null;\n                // manually in-lined because > 600 chars won't be in-lined in V8\n                const singleCharCode = currConfig.short;\n                if (singleCharCode !== false) {\n                    if (nextCharCode === singleCharCode) {\n                        // single character string\n                        matchedImage = currPattern;\n                    }\n                }\n                else if (currConfig.isCustom === true) {\n                    match = currPattern.exec(orgText, offset, matchedTokens, groups);\n                    if (match !== null) {\n                        matchedImage = match[0];\n                        if (match.payload !== undefined) {\n                            payload = match.payload;\n                        }\n                    }\n                    else {\n                        matchedImage = null;\n                    }\n                }\n                else {\n                    this.updateLastIndex(currPattern, offset);\n                    matchedImage = this.match(currPattern, text, offset);\n                }\n                if (matchedImage !== null) {\n                    // even though this pattern matched we must try a another longer alternative.\n                    // this can be used to prioritize keywords over identifiers\n                    longerAlt = currConfig.longerAlt;\n                    if (longerAlt !== undefined) {\n                        // TODO: micro optimize, avoid extra prop access\n                        // by saving/linking longerAlt on the original config?\n                        const longerAltLength = longerAlt.length;\n                        for (k = 0; k < longerAltLength; k++) {\n                            const longerAltConfig = patternIdxToConfig[longerAlt[k]];\n                            const longerAltPattern = longerAltConfig.pattern;\n                            altPayload = null;\n                            // single Char can never be a longer alt so no need to test it.\n                            // manually in-lined because > 600 chars won't be in-lined in V8\n                            if (longerAltConfig.isCustom === true) {\n                                match = longerAltPattern.exec(orgText, offset, matchedTokens, groups);\n                                if (match !== null) {\n                                    matchAltImage = match[0];\n                                    if (match.payload !== undefined) {\n                                        altPayload = match.payload;\n                                    }\n                                }\n                                else {\n                                    matchAltImage = null;\n                                }\n                            }\n                            else {\n                                this.updateLastIndex(longerAltPattern, offset);\n                                matchAltImage = this.match(longerAltPattern, text, offset);\n                            }\n                            if (matchAltImage && matchAltImage.length > matchedImage.length) {\n                                matchedImage = matchAltImage;\n                                payload = altPayload;\n                                currConfig = longerAltConfig;\n                                // Exit the loop early after matching one of the longer alternatives\n                                // The first matched alternative takes precedence\n                                break;\n                            }\n                        }\n                    }\n                    break;\n                }\n            }\n            // successful match\n            if (matchedImage !== null) {\n                imageLength = matchedImage.length;\n                group = currConfig.group;\n                if (group !== undefined) {\n                    tokType = currConfig.tokenTypeIdx;\n                    // TODO: \"offset + imageLength\" and the new column may be computed twice in case of \"full\" location information inside\n                    // createFullToken method\n                    newToken = this.createTokenInstance(matchedImage, offset, tokType, currConfig.tokenType, line, column, imageLength);\n                    this.handlePayload(newToken, payload);\n                    // TODO: optimize NOOP in case there are no special groups?\n                    if (group === false) {\n                        matchedTokensIndex = this.addToken(matchedTokens, matchedTokensIndex, newToken);\n                    }\n                    else {\n                        groups[group].push(newToken);\n                    }\n                }\n                text = this.chopInput(text, imageLength);\n                offset = offset + imageLength;\n                // TODO: with newlines the column may be assigned twice\n                column = this.computeNewColumn(column, imageLength);\n                if (trackLines === true && currConfig.canLineTerminator === true) {\n                    let numOfLTsInMatch = 0;\n                    let foundTerminator;\n                    let lastLTEndOffset;\n                    lineTerminatorPattern.lastIndex = 0;\n                    do {\n                        foundTerminator = lineTerminatorPattern.test(matchedImage);\n                        if (foundTerminator === true) {\n                            lastLTEndOffset = lineTerminatorPattern.lastIndex - 1;\n                            numOfLTsInMatch++;\n                        }\n                    } while (foundTerminator === true);\n                    if (numOfLTsInMatch !== 0) {\n                        line = line + numOfLTsInMatch;\n                        column = imageLength - lastLTEndOffset;\n                        this.updateTokenEndLineColumnLocation(newToken, group, lastLTEndOffset, numOfLTsInMatch, line, column, imageLength);\n                    }\n                }\n                // will be NOOP if no modes present\n                this.handleModes(currConfig, pop_mode, push_mode, newToken);\n            }\n            else {\n                // error recovery, drop characters until we identify a valid token's start point\n                const errorStartOffset = offset;\n                const errorLine = line;\n                const errorColumn = column;\n                let foundResyncPoint = recoveryEnabled === false;\n                while (foundResyncPoint === false && offset < orgLength) {\n                    // Identity Func (when sticky flag is enabled)\n                    text = this.chopInput(text, 1);\n                    offset++;\n                    for (j = 0; j < currModePatternsLength; j++) {\n                        const currConfig = patternIdxToConfig[j];\n                        const currPattern = currConfig.pattern;\n                        // manually in-lined because > 600 chars won't be in-lined in V8\n                        const singleCharCode = currConfig.short;\n                        if (singleCharCode !== false) {\n                            if (orgText.charCodeAt(offset) === singleCharCode) {\n                                // single character string\n                                foundResyncPoint = true;\n                            }\n                        }\n                        else if (currConfig.isCustom === true) {\n                            foundResyncPoint =\n                                currPattern.exec(orgText, offset, matchedTokens, groups) !== null;\n                        }\n                        else {\n                            this.updateLastIndex(currPattern, offset);\n                            foundResyncPoint = currPattern.exec(text) !== null;\n                        }\n                        if (foundResyncPoint === true) {\n                            break;\n                        }\n                    }\n                }\n                errLength = offset - errorStartOffset;\n                column = this.computeNewColumn(column, errLength);\n                // at this point we either re-synced or reached the end of the input text\n                msg = this.config.errorMessageProvider.buildUnexpectedCharactersMessage(orgText, errorStartOffset, errLength, errorLine, errorColumn);\n                errors.push({\n                    offset: errorStartOffset,\n                    line: errorLine,\n                    column: errorColumn,\n                    length: errLength,\n                    message: msg,\n                });\n                if (recoveryEnabled === false) {\n                    break;\n                }\n            }\n        }\n        // if we do have custom patterns which push directly into the\n        // TODO: custom tokens should not push directly??\n        if (!this.hasCustom) {\n            // if we guessed a too large size for the tokens array this will shrink it to the right size.\n            matchedTokens.length = matchedTokensIndex;\n        }\n        return {\n            tokens: matchedTokens,\n            groups: groups,\n            errors: errors,\n        };\n    }\n    handleModes(config, pop_mode, push_mode, newToken) {\n        if (config.pop === true) {\n            // need to save the PUSH_MODE property as if the mode is popped\n            // patternIdxToPopMode is updated to reflect the new mode after popping the stack\n            const pushMode = config.push;\n            pop_mode(newToken);\n            if (pushMode !== undefined) {\n                push_mode.call(this, pushMode);\n            }\n        }\n        else if (config.push !== undefined) {\n            push_mode.call(this, config.push);\n        }\n    }\n    chopInput(text, length) {\n        return text.substring(length);\n    }\n    updateLastIndex(regExp, newLastIndex) {\n        regExp.lastIndex = newLastIndex;\n    }\n    // TODO: decrease this under 600 characters? inspect stripping comments option in TSC compiler\n    updateTokenEndLineColumnLocation(newToken, group, lastLTIdx, numOfLTsInMatch, line, column, imageLength) {\n        let lastCharIsLT, fixForEndingInLT;\n        if (group !== undefined) {\n            // a none skipped multi line Token, need to update endLine/endColumn\n            lastCharIsLT = lastLTIdx === imageLength - 1;\n            fixForEndingInLT = lastCharIsLT ? -1 : 0;\n            if (!(numOfLTsInMatch === 1 && lastCharIsLT === true)) {\n                // if a token ends in a LT that last LT only affects the line numbering of following Tokens\n                newToken.endLine = line + fixForEndingInLT;\n                // the last LT in a token does not affect the endColumn either as the [columnStart ... columnEnd)\n                // inclusive to exclusive range.\n                newToken.endColumn = column - 1 + -fixForEndingInLT;\n            }\n            // else single LT in the last character of a token, no need to modify the endLine/EndColumn\n        }\n    }\n    computeNewColumn(oldColumn, imageLength) {\n        return oldColumn + imageLength;\n    }\n    createOffsetOnlyToken(image, startOffset, tokenTypeIdx, tokenType) {\n        return {\n            image,\n            startOffset,\n            tokenTypeIdx,\n            tokenType,\n        };\n    }\n    createStartOnlyToken(image, startOffset, tokenTypeIdx, tokenType, startLine, startColumn) {\n        return {\n            image,\n            startOffset,\n            startLine,\n            startColumn,\n            tokenTypeIdx,\n            tokenType,\n        };\n    }\n    createFullToken(image, startOffset, tokenTypeIdx, tokenType, startLine, startColumn, imageLength) {\n        return {\n            image,\n            startOffset,\n            endOffset: startOffset + imageLength - 1,\n            startLine,\n            endLine: startLine,\n            startColumn,\n            endColumn: startColumn + imageLength - 1,\n            tokenTypeIdx,\n            tokenType,\n        };\n    }\n    addTokenUsingPush(tokenVector, index, tokenToAdd) {\n        tokenVector.push(tokenToAdd);\n        return index;\n    }\n    addTokenUsingMemberAccess(tokenVector, index, tokenToAdd) {\n        tokenVector[index] = tokenToAdd;\n        index++;\n        return index;\n    }\n    handlePayloadNoCustom(token, payload) { }\n    handlePayloadWithCustom(token, payload) {\n        if (payload !== null) {\n            token.payload = payload;\n        }\n    }\n    matchWithTest(pattern, text, offset) {\n        const found = pattern.test(text);\n        if (found === true) {\n            return text.substring(offset, pattern.lastIndex);\n        }\n        return null;\n    }\n    matchWithExec(pattern, text) {\n        const regExpArray = pattern.exec(text);\n        return regExpArray !== null ? regExpArray[0] : null;\n    }\n}\nLexer.SKIPPED = \"This marks a skipped Token pattern, this means each token identified by it will\" +\n    \"be consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.\";\nLexer.NA = /NOT_APPLICABLE/;\n//# sourceMappingURL=lexer_public.js.map","import { has, isString, isUndefined } from \"lodash-es\";\nimport { Lexer } from \"./lexer_public.js\";\nimport { augmentTokenTypes, tokenStructuredMatcher } from \"./tokens.js\";\nexport function tokenLabel(tokType) {\n    if (hasTokenLabel(tokType)) {\n        return tokType.LABEL;\n    }\n    else {\n        return tokType.name;\n    }\n}\nexport function tokenName(tokType) {\n    return tokType.name;\n}\nexport function hasTokenLabel(obj) {\n    return isString(obj.LABEL) && obj.LABEL !== \"\";\n}\nconst PARENT = \"parent\";\nconst CATEGORIES = \"categories\";\nconst LABEL = \"label\";\nconst GROUP = \"group\";\nconst PUSH_MODE = \"push_mode\";\nconst POP_MODE = \"pop_mode\";\nconst LONGER_ALT = \"longer_alt\";\nconst LINE_BREAKS = \"line_breaks\";\nconst START_CHARS_HINT = \"start_chars_hint\";\nexport function createToken(config) {\n    return createTokenInternal(config);\n}\nfunction createTokenInternal(config) {\n    const pattern = config.pattern;\n    const tokenType = {};\n    tokenType.name = config.name;\n    if (!isUndefined(pattern)) {\n        tokenType.PATTERN = pattern;\n    }\n    if (has(config, PARENT)) {\n        throw (\"The parent property is no longer supported.\\n\" +\n            \"See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.\");\n    }\n    if (has(config, CATEGORIES)) {\n        // casting to ANY as this will be fixed inside `augmentTokenTypes``\n        tokenType.CATEGORIES = config[CATEGORIES];\n    }\n    augmentTokenTypes([tokenType]);\n    if (has(config, LABEL)) {\n        tokenType.LABEL = config[LABEL];\n    }\n    if (has(config, GROUP)) {\n        tokenType.GROUP = config[GROUP];\n    }\n    if (has(config, POP_MODE)) {\n        tokenType.POP_MODE = config[POP_MODE];\n    }\n    if (has(config, PUSH_MODE)) {\n        tokenType.PUSH_MODE = config[PUSH_MODE];\n    }\n    if (has(config, LONGER_ALT)) {\n        tokenType.LONGER_ALT = config[LONGER_ALT];\n    }\n    if (has(config, LINE_BREAKS)) {\n        tokenType.LINE_BREAKS = config[LINE_BREAKS];\n    }\n    if (has(config, START_CHARS_HINT)) {\n        tokenType.START_CHARS_HINT = config[START_CHARS_HINT];\n    }\n    return tokenType;\n}\nexport const EOF = createToken({ name: \"EOF\", pattern: Lexer.NA });\naugmentTokenTypes([EOF]);\nexport function createTokenInstance(tokType, image, startOffset, endOffset, startLine, endLine, startColumn, endColumn) {\n    return {\n        image,\n        startOffset,\n        endOffset,\n        startLine,\n        endLine,\n        startColumn,\n        endColumn,\n        tokenTypeIdx: tokType.tokenTypeIdx,\n        tokenType: tokType,\n    };\n}\nexport function tokenMatcher(token, tokType) {\n    return tokenStructuredMatcher(token, tokType);\n}\n//# sourceMappingURL=tokens_public.js.map","import { hasTokenLabel, tokenLabel } from \"../scan/tokens_public.js\";\nimport { first, map, reduce } from \"lodash-es\";\nimport { getProductionDslName, NonTerminal, Rule, Terminal, } from \"@chevrotain/gast\";\nexport const defaultParserErrorProvider = {\n    buildMismatchTokenMessage({ expected, actual, previous, ruleName }) {\n        const hasLabel = hasTokenLabel(expected);\n        const expectedMsg = hasLabel\n            ? `--> ${tokenLabel(expected)} <--`\n            : `token of type --> ${expected.name} <--`;\n        const msg = `Expecting ${expectedMsg} but found --> '${actual.image}' <--`;\n        return msg;\n    },\n    buildNotAllInputParsedMessage({ firstRedundant, ruleName }) {\n        return \"Redundant input, expecting EOF but found: \" + firstRedundant.image;\n    },\n    buildNoViableAltMessage({ expectedPathsPerAlt, actual, previous, customUserDescription, ruleName, }) {\n        const errPrefix = \"Expecting: \";\n        // TODO: issue: No Viable Alternative Error may have incomplete details. #502\n        const actualText = first(actual).image;\n        const errSuffix = \"\\nbut found: '\" + actualText + \"'\";\n        if (customUserDescription) {\n            return errPrefix + customUserDescription + errSuffix;\n        }\n        else {\n            const allLookAheadPaths = reduce(expectedPathsPerAlt, (result, currAltPaths) => result.concat(currAltPaths), []);\n            const nextValidTokenSequences = map(allLookAheadPaths, (currPath) => `[${map(currPath, (currTokenType) => tokenLabel(currTokenType)).join(\", \")}]`);\n            const nextValidSequenceItems = map(nextValidTokenSequences, (itemMsg, idx) => `  ${idx + 1}. ${itemMsg}`);\n            const calculatedDescription = `one of these possible Token sequences:\\n${nextValidSequenceItems.join(\"\\n\")}`;\n            return errPrefix + calculatedDescription + errSuffix;\n        }\n    },\n    buildEarlyExitMessage({ expectedIterationPaths, actual, customUserDescription, ruleName, }) {\n        const errPrefix = \"Expecting: \";\n        // TODO: issue: No Viable Alternative Error may have incomplete details. #502\n        const actualText = first(actual).image;\n        const errSuffix = \"\\nbut found: '\" + actualText + \"'\";\n        if (customUserDescription) {\n            return errPrefix + customUserDescription + errSuffix;\n        }\n        else {\n            const nextValidTokenSequences = map(expectedIterationPaths, (currPath) => `[${map(currPath, (currTokenType) => tokenLabel(currTokenType)).join(\",\")}]`);\n            const calculatedDescription = `expecting at least one iteration which starts with one of these possible Token sequences::\\n  ` +\n                `<${nextValidTokenSequences.join(\" ,\")}>`;\n            return errPrefix + calculatedDescription + errSuffix;\n        }\n    },\n};\nObject.freeze(defaultParserErrorProvider);\nexport const defaultGrammarResolverErrorProvider = {\n    buildRuleNotFoundError(topLevelRule, undefinedRule) {\n        const msg = \"Invalid grammar, reference to a rule which is not defined: ->\" +\n            undefinedRule.nonTerminalName +\n            \"<-\\n\" +\n            \"inside top level rule: ->\" +\n            topLevelRule.name +\n            \"<-\";\n        return msg;\n    },\n};\nexport const defaultGrammarValidatorErrorProvider = {\n    buildDuplicateFoundError(topLevelRule, duplicateProds) {\n        function getExtraProductionArgument(prod) {\n            if (prod instanceof Terminal) {\n                return prod.terminalType.name;\n            }\n            else if (prod instanceof NonTerminal) {\n                return prod.nonTerminalName;\n            }\n            else {\n                return \"\";\n            }\n        }\n        const topLevelName = topLevelRule.name;\n        const duplicateProd = first(duplicateProds);\n        const index = duplicateProd.idx;\n        const dslName = getProductionDslName(duplicateProd);\n        const extraArgument = getExtraProductionArgument(duplicateProd);\n        const hasExplicitIndex = index > 0;\n        let msg = `->${dslName}${hasExplicitIndex ? index : \"\"}<- ${extraArgument ? `with argument: ->${extraArgument}<-` : \"\"}\n                  appears more than once (${duplicateProds.length} times) in the top level rule: ->${topLevelName}<-.                  \n                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  `;\n        // white space trimming time! better to trim afterwards as it allows to use WELL formatted multi line template strings...\n        msg = msg.replace(/[ \\t]+/g, \" \");\n        msg = msg.replace(/\\s\\s+/g, \"\\n\");\n        return msg;\n    },\n    buildNamespaceConflictError(rule) {\n        const errMsg = `Namespace conflict found in grammar.\\n` +\n            `The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${rule.name}>.\\n` +\n            `To resolve this make sure each Terminal and Non-Terminal names are unique\\n` +\n            `This is easy to accomplish by using the convention that Terminal names start with an uppercase letter\\n` +\n            `and Non-Terminal names start with a lower case letter.`;\n        return errMsg;\n    },\n    buildAlternationPrefixAmbiguityError(options) {\n        const pathMsg = map(options.prefixPath, (currTok) => tokenLabel(currTok)).join(\", \");\n        const occurrence = options.alternation.idx === 0 ? \"\" : options.alternation.idx;\n        const errMsg = `Ambiguous alternatives: <${options.ambiguityIndices.join(\" ,\")}> due to common lookahead prefix\\n` +\n            `in <OR${occurrence}> inside <${options.topLevelRule.name}> Rule,\\n` +\n            `<${pathMsg}> may appears as a prefix path in all these alternatives.\\n` +\n            `See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\\n` +\n            `For Further details.`;\n        return errMsg;\n    },\n    buildAlternationAmbiguityError(options) {\n        const pathMsg = map(options.prefixPath, (currtok) => tokenLabel(currtok)).join(\", \");\n        const occurrence = options.alternation.idx === 0 ? \"\" : options.alternation.idx;\n        let currMessage = `Ambiguous Alternatives Detected: <${options.ambiguityIndices.join(\" ,\")}> in <OR${occurrence}>` +\n            ` inside <${options.topLevelRule.name}> Rule,\\n` +\n            `<${pathMsg}> may appears as a prefix path in all these alternatives.\\n`;\n        currMessage =\n            currMessage +\n                `See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\\n` +\n                `For Further details.`;\n        return currMessage;\n    },\n    buildEmptyRepetitionError(options) {\n        let dslName = getProductionDslName(options.repetition);\n        if (options.repetition.idx !== 0) {\n            dslName += options.repetition.idx;\n        }\n        const errMsg = `The repetition <${dslName}> within Rule <${options.topLevelRule.name}> can never consume any tokens.\\n` +\n            `This could lead to an infinite loop.`;\n        return errMsg;\n    },\n    // TODO: remove - `errors_public` from nyc.config.js exclude\n    //       once this method is fully removed from this file\n    buildTokenNameError(options) {\n        /* istanbul ignore next */\n        return \"deprecated\";\n    },\n    buildEmptyAlternationError(options) {\n        const errMsg = `Ambiguous empty alternative: <${options.emptyChoiceIdx + 1}>` +\n            ` in <OR${options.alternation.idx}> inside <${options.topLevelRule.name}> Rule.\\n` +\n            `Only the last alternative may be an empty alternative.`;\n        return errMsg;\n    },\n    buildTooManyAlternativesError(options) {\n        const errMsg = `An Alternation cannot have more than 256 alternatives:\\n` +\n            `<OR${options.alternation.idx}> inside <${options.topLevelRule.name}> Rule.\\n has ${options.alternation.definition.length + 1} alternatives.`;\n        return errMsg;\n    },\n    buildLeftRecursionError(options) {\n        const ruleName = options.topLevelRule.name;\n        const pathNames = map(options.leftRecursionPath, (currRule) => currRule.name);\n        const leftRecursivePath = `${ruleName} --> ${pathNames\n            .concat([ruleName])\n            .join(\" --> \")}`;\n        const errMsg = `Left Recursion found in grammar.\\n` +\n            `rule: <${ruleName}> can be invoked from itself (directly or indirectly)\\n` +\n            `without consuming any Tokens. The grammar path that causes this is: \\n ${leftRecursivePath}\\n` +\n            ` To fix this refactor your grammar to remove the left recursion.\\n` +\n            `see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`;\n        return errMsg;\n    },\n    // TODO: remove - `errors_public` from nyc.config.js exclude\n    //       once this method is fully removed from this file\n    buildInvalidRuleNameError(options) {\n        /* istanbul ignore next */\n        return \"deprecated\";\n    },\n    buildDuplicateRuleNameError(options) {\n        let ruleName;\n        if (options.topLevelRule instanceof Rule) {\n            ruleName = options.topLevelRule.name;\n        }\n        else {\n            ruleName = options.topLevelRule;\n        }\n        const errMsg = `Duplicate definition, rule: ->${ruleName}<- is already defined in the grammar: ->${options.grammarName}<-`;\n        return errMsg;\n    },\n};\n//# sourceMappingURL=errors_public.js.map","import { ParserDefinitionErrorType, } from \"../parser/parser.js\";\nimport { forEach, values } from \"lodash-es\";\nimport { GAstVisitor } from \"@chevrotain/gast\";\nexport function resolveGrammar(topLevels, errMsgProvider) {\n    const refResolver = new GastRefResolverVisitor(topLevels, errMsgProvider);\n    refResolver.resolveRefs();\n    return refResolver.errors;\n}\nexport class GastRefResolverVisitor extends GAstVisitor {\n    constructor(nameToTopRule, errMsgProvider) {\n        super();\n        this.nameToTopRule = nameToTopRule;\n        this.errMsgProvider = errMsgProvider;\n        this.errors = [];\n    }\n    resolveRefs() {\n        forEach(values(this.nameToTopRule), (prod) => {\n            this.currTopLevel = prod;\n            prod.accept(this);\n        });\n    }\n    visitNonTerminal(node) {\n        const ref = this.nameToTopRule[node.nonTerminalName];\n        if (!ref) {\n            const msg = this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel, node);\n            this.errors.push({\n                message: msg,\n                type: ParserDefinitionErrorType.UNRESOLVED_SUBRULE_REF,\n                ruleName: this.currTopLevel.name,\n                unresolvedRefName: node.nonTerminalName,\n            });\n        }\n        else {\n            node.referencedRule = ref;\n        }\n    }\n}\n//# sourceMappingURL=resolver.js.map","/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nexport default arrayAggregator;\n","import baseEach from './_baseEach.js';\n\n/**\n * Aggregates elements of `collection` on `accumulator` with keys transformed\n * by `iteratee` and values set by `setter`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction baseAggregator(collection, setter, iteratee, accumulator) {\n  baseEach(collection, function(value, key, collection) {\n    setter(accumulator, value, iteratee(value), collection);\n  });\n  return accumulator;\n}\n\nexport default baseAggregator;\n","import arrayAggregator from './_arrayAggregator.js';\nimport baseAggregator from './_baseAggregator.js';\nimport baseIteratee from './_baseIteratee.js';\nimport isArray from './isArray.js';\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray(collection) ? arrayAggregator : baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, baseIteratee(iteratee, 2), accumulator);\n  };\n}\n\nexport default createAggregator;\n","import baseAssignValue from './_baseAssignValue.js';\nimport createAggregator from './_createAggregator.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The order of grouped values\n * is determined by the order they occur in `collection`. The corresponding\n * value of each key is an array of elements responsible for generating the\n * key. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': [4.2], '6': [6.1, 6.3] }\n *\n * // The `_.property` iteratee shorthand.\n * _.groupBy(['one', 'two', 'three'], 'length');\n * // => { '3': ['one', 'two'], '5': ['three'] }\n */\nvar groupBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    baseAssignValue(result, key, [value]);\n  }\n});\n\nexport default groupBy;\n","import baseSlice from './_baseSlice.js';\nimport toInteger from './toInteger.js';\n\n/**\n * Creates a slice of `array` with `n` elements dropped from the end.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to query.\n * @param {number} [n=1] The number of elements to drop.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the slice of `array`.\n * @example\n *\n * _.dropRight([1, 2, 3]);\n * // => [1, 2]\n *\n * _.dropRight([1, 2, 3], 2);\n * // => [1]\n *\n * _.dropRight([1, 2, 3], 5);\n * // => []\n *\n * _.dropRight([1, 2, 3], 0);\n * // => [1, 2, 3]\n */\nfunction dropRight(array, n, guard) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return [];\n  }\n  n = (guard || n === undefined) ? 1 : toInteger(n);\n  n = length - n;\n  return baseSlice(array, 0, n < 0 ? 0 : n);\n}\n\nexport default dropRight;\n","import { every, flatten, forEach, has, isEmpty, map, reduce } from \"lodash-es\";\nimport { possiblePathsFrom } from \"./interpreter.js\";\nimport { RestWalker } from \"./rest.js\";\nimport { tokenStructuredMatcher, tokenStructuredMatcherNoCategories, } from \"../../scan/tokens.js\";\nimport { Alternation, Alternative as AlternativeGAST, GAstVisitor, Option, Repetition, RepetitionMandatory, RepetitionMandatoryWithSeparator, RepetitionWithSeparator, } from \"@chevrotain/gast\";\nexport var PROD_TYPE;\n(function (PROD_TYPE) {\n    PROD_TYPE[PROD_TYPE[\"OPTION\"] = 0] = \"OPTION\";\n    PROD_TYPE[PROD_TYPE[\"REPETITION\"] = 1] = \"REPETITION\";\n    PROD_TYPE[PROD_TYPE[\"REPETITION_MANDATORY\"] = 2] = \"REPETITION_MANDATORY\";\n    PROD_TYPE[PROD_TYPE[\"REPETITION_MANDATORY_WITH_SEPARATOR\"] = 3] = \"REPETITION_MANDATORY_WITH_SEPARATOR\";\n    PROD_TYPE[PROD_TYPE[\"REPETITION_WITH_SEPARATOR\"] = 4] = \"REPETITION_WITH_SEPARATOR\";\n    PROD_TYPE[PROD_TYPE[\"ALTERNATION\"] = 5] = \"ALTERNATION\";\n})(PROD_TYPE || (PROD_TYPE = {}));\nexport function getProdType(prod) {\n    /* istanbul ignore else */\n    if (prod instanceof Option || prod === \"Option\") {\n        return PROD_TYPE.OPTION;\n    }\n    else if (prod instanceof Repetition || prod === \"Repetition\") {\n        return PROD_TYPE.REPETITION;\n    }\n    else if (prod instanceof RepetitionMandatory ||\n        prod === \"RepetitionMandatory\") {\n        return PROD_TYPE.REPETITION_MANDATORY;\n    }\n    else if (prod instanceof RepetitionMandatoryWithSeparator ||\n        prod === \"RepetitionMandatoryWithSeparator\") {\n        return PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR;\n    }\n    else if (prod instanceof RepetitionWithSeparator ||\n        prod === \"RepetitionWithSeparator\") {\n        return PROD_TYPE.REPETITION_WITH_SEPARATOR;\n    }\n    else if (prod instanceof Alternation || prod === \"Alternation\") {\n        return PROD_TYPE.ALTERNATION;\n    }\n    else {\n        throw Error(\"non exhaustive match\");\n    }\n}\nexport function getLookaheadPaths(options) {\n    const { occurrence, rule, prodType, maxLookahead } = options;\n    const type = getProdType(prodType);\n    if (type === PROD_TYPE.ALTERNATION) {\n        return getLookaheadPathsForOr(occurrence, rule, maxLookahead);\n    }\n    else {\n        return getLookaheadPathsForOptionalProd(occurrence, rule, type, maxLookahead);\n    }\n}\nexport function buildLookaheadFuncForOr(occurrence, ruleGrammar, maxLookahead, hasPredicates, dynamicTokensEnabled, laFuncBuilder) {\n    const lookAheadPaths = getLookaheadPathsForOr(occurrence, ruleGrammar, maxLookahead);\n    const tokenMatcher = areTokenCategoriesNotUsed(lookAheadPaths)\n        ? tokenStructuredMatcherNoCategories\n        : tokenStructuredMatcher;\n    return laFuncBuilder(lookAheadPaths, hasPredicates, tokenMatcher, dynamicTokensEnabled);\n}\n/**\n *  When dealing with an Optional production (OPTION/MANY/2nd iteration of AT_LEAST_ONE/...) we need to compare\n *  the lookahead \"inside\" the production and the lookahead immediately \"after\" it in the same top level rule (context free).\n *\n *  Example: given a production:\n *  ABC(DE)?DF\n *\n *  The optional '(DE)?' should only be entered if we see 'DE'. a single Token 'D' is not sufficient to distinguish between the two\n *  alternatives.\n *\n *  @returns A Lookahead function which will return true IFF the parser should parse the Optional production.\n */\nexport function buildLookaheadFuncForOptionalProd(occurrence, ruleGrammar, k, dynamicTokensEnabled, prodType, lookaheadBuilder) {\n    const lookAheadPaths = getLookaheadPathsForOptionalProd(occurrence, ruleGrammar, prodType, k);\n    const tokenMatcher = areTokenCategoriesNotUsed(lookAheadPaths)\n        ? tokenStructuredMatcherNoCategories\n        : tokenStructuredMatcher;\n    return lookaheadBuilder(lookAheadPaths[0], tokenMatcher, dynamicTokensEnabled);\n}\nexport function buildAlternativesLookAheadFunc(alts, hasPredicates, tokenMatcher, dynamicTokensEnabled) {\n    const numOfAlts = alts.length;\n    const areAllOneTokenLookahead = every(alts, (currAlt) => {\n        return every(currAlt, (currPath) => {\n            return currPath.length === 1;\n        });\n    });\n    // This version takes into account the predicates as well.\n    if (hasPredicates) {\n        /**\n         * @returns {number} - The chosen alternative index\n         */\n        return function (orAlts) {\n            // unfortunately the predicates must be extracted every single time\n            // as they cannot be cached due to references to parameters(vars) which are no longer valid.\n            // note that in the common case of no predicates, no cpu time will be wasted on this (see else block)\n            const predicates = map(orAlts, (currAlt) => currAlt.GATE);\n            for (let t = 0; t < numOfAlts; t++) {\n                const currAlt = alts[t];\n                const currNumOfPaths = currAlt.length;\n                const currPredicate = predicates[t];\n                if (currPredicate !== undefined && currPredicate.call(this) === false) {\n                    // if the predicate does not match there is no point in checking the paths\n                    continue;\n                }\n                nextPath: for (let j = 0; j < currNumOfPaths; j++) {\n                    const currPath = currAlt[j];\n                    const currPathLength = currPath.length;\n                    for (let i = 0; i < currPathLength; i++) {\n                        const nextToken = this.LA(i + 1);\n                        if (tokenMatcher(nextToken, currPath[i]) === false) {\n                            // mismatch in current path\n                            // try the next pth\n                            continue nextPath;\n                        }\n                    }\n                    // found a full path that matches.\n                    // this will also work for an empty ALT as the loop will be skipped\n                    return t;\n                }\n                // none of the paths for the current alternative matched\n                // try the next alternative\n            }\n            // none of the alternatives could be matched\n            return undefined;\n        };\n    }\n    else if (areAllOneTokenLookahead && !dynamicTokensEnabled) {\n        // optimized (common) case of all the lookaheads paths requiring only\n        // a single token lookahead. These Optimizations cannot work if dynamically defined Tokens are used.\n        const singleTokenAlts = map(alts, (currAlt) => {\n            return flatten(currAlt);\n        });\n        const choiceToAlt = reduce(singleTokenAlts, (result, currAlt, idx) => {\n            forEach(currAlt, (currTokType) => {\n                if (!has(result, currTokType.tokenTypeIdx)) {\n                    result[currTokType.tokenTypeIdx] = idx;\n                }\n                forEach(currTokType.categoryMatches, (currExtendingType) => {\n                    if (!has(result, currExtendingType)) {\n                        result[currExtendingType] = idx;\n                    }\n                });\n            });\n            return result;\n        }, {});\n        /**\n         * @returns {number} - The chosen alternative index\n         */\n        return function () {\n            const nextToken = this.LA(1);\n            return choiceToAlt[nextToken.tokenTypeIdx];\n        };\n    }\n    else {\n        // optimized lookahead without needing to check the predicates at all.\n        // this causes code duplication which is intentional to improve performance.\n        /**\n         * @returns {number} - The chosen alternative index\n         */\n        return function () {\n            for (let t = 0; t < numOfAlts; t++) {\n                const currAlt = alts[t];\n                const currNumOfPaths = currAlt.length;\n                nextPath: for (let j = 0; j < currNumOfPaths; j++) {\n                    const currPath = currAlt[j];\n                    const currPathLength = currPath.length;\n                    for (let i = 0; i < currPathLength; i++) {\n                        const nextToken = this.LA(i + 1);\n                        if (tokenMatcher(nextToken, currPath[i]) === false) {\n                            // mismatch in current path\n                            // try the next pth\n                            continue nextPath;\n                        }\n                    }\n                    // found a full path that matches.\n                    // this will also work for an empty ALT as the loop will be skipped\n                    return t;\n                }\n                // none of the paths for the current alternative matched\n                // try the next alternative\n            }\n            // none of the alternatives could be matched\n            return undefined;\n        };\n    }\n}\nexport function buildSingleAlternativeLookaheadFunction(alt, tokenMatcher, dynamicTokensEnabled) {\n    const areAllOneTokenLookahead = every(alt, (currPath) => {\n        return currPath.length === 1;\n    });\n    const numOfPaths = alt.length;\n    // optimized (common) case of all the lookaheads paths requiring only\n    // a single token lookahead.\n    if (areAllOneTokenLookahead && !dynamicTokensEnabled) {\n        const singleTokensTypes = flatten(alt);\n        if (singleTokensTypes.length === 1 &&\n            isEmpty(singleTokensTypes[0].categoryMatches)) {\n            const expectedTokenType = singleTokensTypes[0];\n            const expectedTokenUniqueKey = expectedTokenType.tokenTypeIdx;\n            return function () {\n                return this.LA(1).tokenTypeIdx === expectedTokenUniqueKey;\n            };\n        }\n        else {\n            const choiceToAlt = reduce(singleTokensTypes, (result, currTokType, idx) => {\n                result[currTokType.tokenTypeIdx] = true;\n                forEach(currTokType.categoryMatches, (currExtendingType) => {\n                    result[currExtendingType] = true;\n                });\n                return result;\n            }, []);\n            return function () {\n                const nextToken = this.LA(1);\n                return choiceToAlt[nextToken.tokenTypeIdx] === true;\n            };\n        }\n    }\n    else {\n        return function () {\n            nextPath: for (let j = 0; j < numOfPaths; j++) {\n                const currPath = alt[j];\n                const currPathLength = currPath.length;\n                for (let i = 0; i < currPathLength; i++) {\n                    const nextToken = this.LA(i + 1);\n                    if (tokenMatcher(nextToken, currPath[i]) === false) {\n                        // mismatch in current path\n                        // try the next pth\n                        continue nextPath;\n                    }\n                }\n                // found a full path that matches.\n                return true;\n            }\n            // none of the paths matched\n            return false;\n        };\n    }\n}\nclass RestDefinitionFinderWalker extends RestWalker {\n    constructor(topProd, targetOccurrence, targetProdType) {\n        super();\n        this.topProd = topProd;\n        this.targetOccurrence = targetOccurrence;\n        this.targetProdType = targetProdType;\n    }\n    startWalking() {\n        this.walk(this.topProd);\n        return this.restDef;\n    }\n    checkIsTarget(node, expectedProdType, currRest, prevRest) {\n        if (node.idx === this.targetOccurrence &&\n            this.targetProdType === expectedProdType) {\n            this.restDef = currRest.concat(prevRest);\n            return true;\n        }\n        // performance optimization, do not iterate over the entire Grammar ast after we have found the target\n        return false;\n    }\n    walkOption(optionProd, currRest, prevRest) {\n        if (!this.checkIsTarget(optionProd, PROD_TYPE.OPTION, currRest, prevRest)) {\n            super.walkOption(optionProd, currRest, prevRest);\n        }\n    }\n    walkAtLeastOne(atLeastOneProd, currRest, prevRest) {\n        if (!this.checkIsTarget(atLeastOneProd, PROD_TYPE.REPETITION_MANDATORY, currRest, prevRest)) {\n            super.walkOption(atLeastOneProd, currRest, prevRest);\n        }\n    }\n    walkAtLeastOneSep(atLeastOneSepProd, currRest, prevRest) {\n        if (!this.checkIsTarget(atLeastOneSepProd, PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR, currRest, prevRest)) {\n            super.walkOption(atLeastOneSepProd, currRest, prevRest);\n        }\n    }\n    walkMany(manyProd, currRest, prevRest) {\n        if (!this.checkIsTarget(manyProd, PROD_TYPE.REPETITION, currRest, prevRest)) {\n            super.walkOption(manyProd, currRest, prevRest);\n        }\n    }\n    walkManySep(manySepProd, currRest, prevRest) {\n        if (!this.checkIsTarget(manySepProd, PROD_TYPE.REPETITION_WITH_SEPARATOR, currRest, prevRest)) {\n            super.walkOption(manySepProd, currRest, prevRest);\n        }\n    }\n}\n/**\n * Returns the definition of a target production in a top level level rule.\n */\nclass InsideDefinitionFinderVisitor extends GAstVisitor {\n    constructor(targetOccurrence, targetProdType, targetRef) {\n        super();\n        this.targetOccurrence = targetOccurrence;\n        this.targetProdType = targetProdType;\n        this.targetRef = targetRef;\n        this.result = [];\n    }\n    checkIsTarget(node, expectedProdName) {\n        if (node.idx === this.targetOccurrence &&\n            this.targetProdType === expectedProdName &&\n            (this.targetRef === undefined || node === this.targetRef)) {\n            this.result = node.definition;\n        }\n    }\n    visitOption(node) {\n        this.checkIsTarget(node, PROD_TYPE.OPTION);\n    }\n    visitRepetition(node) {\n        this.checkIsTarget(node, PROD_TYPE.REPETITION);\n    }\n    visitRepetitionMandatory(node) {\n        this.checkIsTarget(node, PROD_TYPE.REPETITION_MANDATORY);\n    }\n    visitRepetitionMandatoryWithSeparator(node) {\n        this.checkIsTarget(node, PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR);\n    }\n    visitRepetitionWithSeparator(node) {\n        this.checkIsTarget(node, PROD_TYPE.REPETITION_WITH_SEPARATOR);\n    }\n    visitAlternation(node) {\n        this.checkIsTarget(node, PROD_TYPE.ALTERNATION);\n    }\n}\nfunction initializeArrayOfArrays(size) {\n    const result = new Array(size);\n    for (let i = 0; i < size; i++) {\n        result[i] = [];\n    }\n    return result;\n}\n/**\n * A sort of hash function between a Path in the grammar and a string.\n * Note that this returns multiple \"hashes\" to support the scenario of token categories.\n * -  A single path with categories may match multiple **actual** paths.\n */\nfunction pathToHashKeys(path) {\n    let keys = [\"\"];\n    for (let i = 0; i < path.length; i++) {\n        const tokType = path[i];\n        const longerKeys = [];\n        for (let j = 0; j < keys.length; j++) {\n            const currShorterKey = keys[j];\n            longerKeys.push(currShorterKey + \"_\" + tokType.tokenTypeIdx);\n            for (let t = 0; t < tokType.categoryMatches.length; t++) {\n                const categoriesKeySuffix = \"_\" + tokType.categoryMatches[t];\n                longerKeys.push(currShorterKey + categoriesKeySuffix);\n            }\n        }\n        keys = longerKeys;\n    }\n    return keys;\n}\n/**\n * Imperative style due to being called from a hot spot\n */\nfunction isUniquePrefixHash(altKnownPathsKeys, searchPathKeys, idx) {\n    for (let currAltIdx = 0; currAltIdx < altKnownPathsKeys.length; currAltIdx++) {\n        // We only want to test vs the other alternatives\n        if (currAltIdx === idx) {\n            continue;\n        }\n        const otherAltKnownPathsKeys = altKnownPathsKeys[currAltIdx];\n        for (let searchIdx = 0; searchIdx < searchPathKeys.length; searchIdx++) {\n            const searchKey = searchPathKeys[searchIdx];\n            if (otherAltKnownPathsKeys[searchKey] === true) {\n                return false;\n            }\n        }\n    }\n    // None of the SearchPathKeys were found in any of the other alternatives\n    return true;\n}\nexport function lookAheadSequenceFromAlternatives(altsDefs, k) {\n    const partialAlts = map(altsDefs, (currAlt) => possiblePathsFrom([currAlt], 1));\n    const finalResult = initializeArrayOfArrays(partialAlts.length);\n    const altsHashes = map(partialAlts, (currAltPaths) => {\n        const dict = {};\n        forEach(currAltPaths, (item) => {\n            const keys = pathToHashKeys(item.partialPath);\n            forEach(keys, (currKey) => {\n                dict[currKey] = true;\n            });\n        });\n        return dict;\n    });\n    let newData = partialAlts;\n    // maxLookahead loop\n    for (let pathLength = 1; pathLength <= k; pathLength++) {\n        const currDataset = newData;\n        newData = initializeArrayOfArrays(currDataset.length);\n        // alternatives loop\n        for (let altIdx = 0; altIdx < currDataset.length; altIdx++) {\n            const currAltPathsAndSuffixes = currDataset[altIdx];\n            // paths in current alternative loop\n            for (let currPathIdx = 0; currPathIdx < currAltPathsAndSuffixes.length; currPathIdx++) {\n                const currPathPrefix = currAltPathsAndSuffixes[currPathIdx].partialPath;\n                const suffixDef = currAltPathsAndSuffixes[currPathIdx].suffixDef;\n                const prefixKeys = pathToHashKeys(currPathPrefix);\n                const isUnique = isUniquePrefixHash(altsHashes, prefixKeys, altIdx);\n                // End of the line for this path.\n                if (isUnique || isEmpty(suffixDef) || currPathPrefix.length === k) {\n                    const currAltResult = finalResult[altIdx];\n                    // TODO: Can we implement a containsPath using Maps/Dictionaries?\n                    if (containsPath(currAltResult, currPathPrefix) === false) {\n                        currAltResult.push(currPathPrefix);\n                        // Update all new  keys for the current path.\n                        for (let j = 0; j < prefixKeys.length; j++) {\n                            const currKey = prefixKeys[j];\n                            altsHashes[altIdx][currKey] = true;\n                        }\n                    }\n                }\n                // Expand longer paths\n                else {\n                    const newPartialPathsAndSuffixes = possiblePathsFrom(suffixDef, pathLength + 1, currPathPrefix);\n                    newData[altIdx] = newData[altIdx].concat(newPartialPathsAndSuffixes);\n                    // Update keys for new known paths\n                    forEach(newPartialPathsAndSuffixes, (item) => {\n                        const prefixKeys = pathToHashKeys(item.partialPath);\n                        forEach(prefixKeys, (key) => {\n                            altsHashes[altIdx][key] = true;\n                        });\n                    });\n                }\n            }\n        }\n    }\n    return finalResult;\n}\nexport function getLookaheadPathsForOr(occurrence, ruleGrammar, k, orProd) {\n    const visitor = new InsideDefinitionFinderVisitor(occurrence, PROD_TYPE.ALTERNATION, orProd);\n    ruleGrammar.accept(visitor);\n    return lookAheadSequenceFromAlternatives(visitor.result, k);\n}\nexport function getLookaheadPathsForOptionalProd(occurrence, ruleGrammar, prodType, k) {\n    const insideDefVisitor = new InsideDefinitionFinderVisitor(occurrence, prodType);\n    ruleGrammar.accept(insideDefVisitor);\n    const insideDef = insideDefVisitor.result;\n    const afterDefWalker = new RestDefinitionFinderWalker(ruleGrammar, occurrence, prodType);\n    const afterDef = afterDefWalker.startWalking();\n    const insideFlat = new AlternativeGAST({ definition: insideDef });\n    const afterFlat = new AlternativeGAST({ definition: afterDef });\n    return lookAheadSequenceFromAlternatives([insideFlat, afterFlat], k);\n}\nexport function containsPath(alternative, searchPath) {\n    compareOtherPath: for (let i = 0; i < alternative.length; i++) {\n        const otherPath = alternative[i];\n        if (otherPath.length !== searchPath.length) {\n            continue;\n        }\n        for (let j = 0; j < otherPath.length; j++) {\n            const searchTok = searchPath[j];\n            const otherTok = otherPath[j];\n            const matchingTokens = searchTok === otherTok ||\n                otherTok.categoryMatchesMap[searchTok.tokenTypeIdx] !== undefined;\n            if (matchingTokens === false) {\n                continue compareOtherPath;\n            }\n        }\n        return true;\n    }\n    return false;\n}\nexport function isStrictPrefixOfPath(prefix, other) {\n    return (prefix.length < other.length &&\n        every(prefix, (tokType, idx) => {\n            const otherTokType = other[idx];\n            return (tokType === otherTokType ||\n                otherTokType.categoryMatchesMap[tokType.tokenTypeIdx]);\n        }));\n}\nexport function areTokenCategoriesNotUsed(lookAheadPaths) {\n    return every(lookAheadPaths, (singleAltPaths) => every(singleAltPaths, (singlePath) => every(singlePath, (token) => isEmpty(token.categoryMatches))));\n}\n//# sourceMappingURL=lookahead.js.map","import { clone, drop, dropRight, first as _first, forEach, isEmpty, last, } from \"lodash-es\";\nimport { first } from \"./first.js\";\nimport { RestWalker } from \"./rest.js\";\nimport { Alternation, Alternative, NonTerminal, Option, Repetition, RepetitionMandatory, RepetitionMandatoryWithSeparator, RepetitionWithSeparator, Rule, Terminal, } from \"@chevrotain/gast\";\nexport class AbstractNextPossibleTokensWalker extends RestWalker {\n    constructor(topProd, path) {\n        super();\n        this.topProd = topProd;\n        this.path = path;\n        this.possibleTokTypes = [];\n        this.nextProductionName = \"\";\n        this.nextProductionOccurrence = 0;\n        this.found = false;\n        this.isAtEndOfPath = false;\n    }\n    startWalking() {\n        this.found = false;\n        if (this.path.ruleStack[0] !== this.topProd.name) {\n            throw Error(\"The path does not start with the walker's top Rule!\");\n        }\n        // immutable for the win\n        this.ruleStack = clone(this.path.ruleStack).reverse(); // intelij bug requires assertion\n        this.occurrenceStack = clone(this.path.occurrenceStack).reverse(); // intelij bug requires assertion\n        // already verified that the first production is valid, we now seek the 2nd production\n        this.ruleStack.pop();\n        this.occurrenceStack.pop();\n        this.updateExpectedNext();\n        this.walk(this.topProd);\n        return this.possibleTokTypes;\n    }\n    walk(prod, prevRest = []) {\n        // stop scanning once we found the path\n        if (!this.found) {\n            super.walk(prod, prevRest);\n        }\n    }\n    walkProdRef(refProd, currRest, prevRest) {\n        // found the next production, need to keep walking in it\n        if (refProd.referencedRule.name === this.nextProductionName &&\n            refProd.idx === this.nextProductionOccurrence) {\n            const fullRest = currRest.concat(prevRest);\n            this.updateExpectedNext();\n            this.walk(refProd.referencedRule, fullRest);\n        }\n    }\n    updateExpectedNext() {\n        // need to consume the Terminal\n        if (isEmpty(this.ruleStack)) {\n            // must reset nextProductionXXX to avoid walking down another Top Level production while what we are\n            // really seeking is the last Terminal...\n            this.nextProductionName = \"\";\n            this.nextProductionOccurrence = 0;\n            this.isAtEndOfPath = true;\n        }\n        else {\n            this.nextProductionName = this.ruleStack.pop();\n            this.nextProductionOccurrence = this.occurrenceStack.pop();\n        }\n    }\n}\nexport class NextAfterTokenWalker extends AbstractNextPossibleTokensWalker {\n    constructor(topProd, path) {\n        super(topProd, path);\n        this.path = path;\n        this.nextTerminalName = \"\";\n        this.nextTerminalOccurrence = 0;\n        this.nextTerminalName = this.path.lastTok.name;\n        this.nextTerminalOccurrence = this.path.lastTokOccurrence;\n    }\n    walkTerminal(terminal, currRest, prevRest) {\n        if (this.isAtEndOfPath &&\n            terminal.terminalType.name === this.nextTerminalName &&\n            terminal.idx === this.nextTerminalOccurrence &&\n            !this.found) {\n            const fullRest = currRest.concat(prevRest);\n            const restProd = new Alternative({ definition: fullRest });\n            this.possibleTokTypes = first(restProd);\n            this.found = true;\n        }\n    }\n}\n/**\n * This walker only \"walks\" a single \"TOP\" level in the Grammar Ast, this means\n * it never \"follows\" production refs\n */\nexport class AbstractNextTerminalAfterProductionWalker extends RestWalker {\n    constructor(topRule, occurrence) {\n        super();\n        this.topRule = topRule;\n        this.occurrence = occurrence;\n        this.result = {\n            token: undefined,\n            occurrence: undefined,\n            isEndOfRule: undefined,\n        };\n    }\n    startWalking() {\n        this.walk(this.topRule);\n        return this.result;\n    }\n}\nexport class NextTerminalAfterManyWalker extends AbstractNextTerminalAfterProductionWalker {\n    walkMany(manyProd, currRest, prevRest) {\n        if (manyProd.idx === this.occurrence) {\n            const firstAfterMany = _first(currRest.concat(prevRest));\n            this.result.isEndOfRule = firstAfterMany === undefined;\n            if (firstAfterMany instanceof Terminal) {\n                this.result.token = firstAfterMany.terminalType;\n                this.result.occurrence = firstAfterMany.idx;\n            }\n        }\n        else {\n            super.walkMany(manyProd, currRest, prevRest);\n        }\n    }\n}\nexport class NextTerminalAfterManySepWalker extends AbstractNextTerminalAfterProductionWalker {\n    walkManySep(manySepProd, currRest, prevRest) {\n        if (manySepProd.idx === this.occurrence) {\n            const firstAfterManySep = _first(currRest.concat(prevRest));\n            this.result.isEndOfRule = firstAfterManySep === undefined;\n            if (firstAfterManySep instanceof Terminal) {\n                this.result.token = firstAfterManySep.terminalType;\n                this.result.occurrence = firstAfterManySep.idx;\n            }\n        }\n        else {\n            super.walkManySep(manySepProd, currRest, prevRest);\n        }\n    }\n}\nexport class NextTerminalAfterAtLeastOneWalker extends AbstractNextTerminalAfterProductionWalker {\n    walkAtLeastOne(atLeastOneProd, currRest, prevRest) {\n        if (atLeastOneProd.idx === this.occurrence) {\n            const firstAfterAtLeastOne = _first(currRest.concat(prevRest));\n            this.result.isEndOfRule = firstAfterAtLeastOne === undefined;\n            if (firstAfterAtLeastOne instanceof Terminal) {\n                this.result.token = firstAfterAtLeastOne.terminalType;\n                this.result.occurrence = firstAfterAtLeastOne.idx;\n            }\n        }\n        else {\n            super.walkAtLeastOne(atLeastOneProd, currRest, prevRest);\n        }\n    }\n}\n// TODO: reduce code duplication in the AfterWalkers\nexport class NextTerminalAfterAtLeastOneSepWalker extends AbstractNextTerminalAfterProductionWalker {\n    walkAtLeastOneSep(atleastOneSepProd, currRest, prevRest) {\n        if (atleastOneSepProd.idx === this.occurrence) {\n            const firstAfterfirstAfterAtLeastOneSep = _first(currRest.concat(prevRest));\n            this.result.isEndOfRule = firstAfterfirstAfterAtLeastOneSep === undefined;\n            if (firstAfterfirstAfterAtLeastOneSep instanceof Terminal) {\n                this.result.token = firstAfterfirstAfterAtLeastOneSep.terminalType;\n                this.result.occurrence = firstAfterfirstAfterAtLeastOneSep.idx;\n            }\n        }\n        else {\n            super.walkAtLeastOneSep(atleastOneSepProd, currRest, prevRest);\n        }\n    }\n}\nexport function possiblePathsFrom(targetDef, maxLength, currPath = []) {\n    // avoid side effects\n    currPath = clone(currPath);\n    let result = [];\n    let i = 0;\n    // TODO: avoid inner funcs\n    function remainingPathWith(nextDef) {\n        return nextDef.concat(drop(targetDef, i + 1));\n    }\n    // TODO: avoid inner funcs\n    function getAlternativesForProd(definition) {\n        const alternatives = possiblePathsFrom(remainingPathWith(definition), maxLength, currPath);\n        return result.concat(alternatives);\n    }\n    /**\n     * Mandatory productions will halt the loop as the paths computed from their recursive calls will already contain the\n     * following (rest) of the targetDef.\n     *\n     * For optional productions (Option/Repetition/...) the loop will continue to represent the paths that do not include the\n     * the optional production.\n     */\n    while (currPath.length < maxLength && i < targetDef.length) {\n        const prod = targetDef[i];\n        /* istanbul ignore else */\n        if (prod instanceof Alternative) {\n            return getAlternativesForProd(prod.definition);\n        }\n        else if (prod instanceof NonTerminal) {\n            return getAlternativesForProd(prod.definition);\n        }\n        else if (prod instanceof Option) {\n            result = getAlternativesForProd(prod.definition);\n        }\n        else if (prod instanceof RepetitionMandatory) {\n            const newDef = prod.definition.concat([\n                new Repetition({\n                    definition: prod.definition,\n                }),\n            ]);\n            return getAlternativesForProd(newDef);\n        }\n        else if (prod instanceof RepetitionMandatoryWithSeparator) {\n            const newDef = [\n                new Alternative({ definition: prod.definition }),\n                new Repetition({\n                    definition: [new Terminal({ terminalType: prod.separator })].concat(prod.definition),\n                }),\n            ];\n            return getAlternativesForProd(newDef);\n        }\n        else if (prod instanceof RepetitionWithSeparator) {\n            const newDef = prod.definition.concat([\n                new Repetition({\n                    definition: [new Terminal({ terminalType: prod.separator })].concat(prod.definition),\n                }),\n            ]);\n            result = getAlternativesForProd(newDef);\n        }\n        else if (prod instanceof Repetition) {\n            const newDef = prod.definition.concat([\n                new Repetition({\n                    definition: prod.definition,\n                }),\n            ]);\n            result = getAlternativesForProd(newDef);\n        }\n        else if (prod instanceof Alternation) {\n            forEach(prod.definition, (currAlt) => {\n                // TODO: this is a limited check for empty alternatives\n                //   It would prevent a common case of infinite loops during parser initialization.\n                //   However **in-directly** empty alternatives may still cause issues.\n                if (isEmpty(currAlt.definition) === false) {\n                    result = getAlternativesForProd(currAlt.definition);\n                }\n            });\n            return result;\n        }\n        else if (prod instanceof Terminal) {\n            currPath.push(prod.terminalType);\n        }\n        else {\n            throw Error(\"non exhaustive match\");\n        }\n        i++;\n    }\n    result.push({\n        partialPath: currPath,\n        suffixDef: drop(targetDef, i),\n    });\n    return result;\n}\nexport function nextPossibleTokensAfter(initialDef, tokenVector, tokMatcher, maxLookAhead) {\n    const EXIT_NON_TERMINAL = \"EXIT_NONE_TERMINAL\";\n    // to avoid creating a new Array each time.\n    const EXIT_NON_TERMINAL_ARR = [EXIT_NON_TERMINAL];\n    const EXIT_ALTERNATIVE = \"EXIT_ALTERNATIVE\";\n    let foundCompletePath = false;\n    const tokenVectorLength = tokenVector.length;\n    const minimalAlternativesIndex = tokenVectorLength - maxLookAhead - 1;\n    const result = [];\n    const possiblePaths = [];\n    possiblePaths.push({\n        idx: -1,\n        def: initialDef,\n        ruleStack: [],\n        occurrenceStack: [],\n    });\n    while (!isEmpty(possiblePaths)) {\n        const currPath = possiblePaths.pop();\n        // skip alternatives if no more results can be found (assuming deterministic grammar with fixed lookahead)\n        if (currPath === EXIT_ALTERNATIVE) {\n            if (foundCompletePath &&\n                last(possiblePaths).idx <= minimalAlternativesIndex) {\n                // remove irrelevant alternative\n                possiblePaths.pop();\n            }\n            continue;\n        }\n        const currDef = currPath.def;\n        const currIdx = currPath.idx;\n        const currRuleStack = currPath.ruleStack;\n        const currOccurrenceStack = currPath.occurrenceStack;\n        // For Example: an empty path could exist in a valid grammar in the case of an EMPTY_ALT\n        if (isEmpty(currDef)) {\n            continue;\n        }\n        const prod = currDef[0];\n        /* istanbul ignore else */\n        if (prod === EXIT_NON_TERMINAL) {\n            const nextPath = {\n                idx: currIdx,\n                def: drop(currDef),\n                ruleStack: dropRight(currRuleStack),\n                occurrenceStack: dropRight(currOccurrenceStack),\n            };\n            possiblePaths.push(nextPath);\n        }\n        else if (prod instanceof Terminal) {\n            /* istanbul ignore else */\n            if (currIdx < tokenVectorLength - 1) {\n                const nextIdx = currIdx + 1;\n                const actualToken = tokenVector[nextIdx];\n                if (tokMatcher(actualToken, prod.terminalType)) {\n                    const nextPath = {\n                        idx: nextIdx,\n                        def: drop(currDef),\n                        ruleStack: currRuleStack,\n                        occurrenceStack: currOccurrenceStack,\n                    };\n                    possiblePaths.push(nextPath);\n                }\n                // end of the line\n            }\n            else if (currIdx === tokenVectorLength - 1) {\n                // IGNORE ABOVE ELSE\n                result.push({\n                    nextTokenType: prod.terminalType,\n                    nextTokenOccurrence: prod.idx,\n                    ruleStack: currRuleStack,\n                    occurrenceStack: currOccurrenceStack,\n                });\n                foundCompletePath = true;\n            }\n            else {\n                throw Error(\"non exhaustive match\");\n            }\n        }\n        else if (prod instanceof NonTerminal) {\n            const newRuleStack = clone(currRuleStack);\n            newRuleStack.push(prod.nonTerminalName);\n            const newOccurrenceStack = clone(currOccurrenceStack);\n            newOccurrenceStack.push(prod.idx);\n            const nextPath = {\n                idx: currIdx,\n                def: prod.definition.concat(EXIT_NON_TERMINAL_ARR, drop(currDef)),\n                ruleStack: newRuleStack,\n                occurrenceStack: newOccurrenceStack,\n            };\n            possiblePaths.push(nextPath);\n        }\n        else if (prod instanceof Option) {\n            // the order of alternatives is meaningful, FILO (Last path will be traversed first).\n            const nextPathWithout = {\n                idx: currIdx,\n                def: drop(currDef),\n                ruleStack: currRuleStack,\n                occurrenceStack: currOccurrenceStack,\n            };\n            possiblePaths.push(nextPathWithout);\n            // required marker to avoid backtracking paths whose higher priority alternatives already matched\n            possiblePaths.push(EXIT_ALTERNATIVE);\n            const nextPathWith = {\n                idx: currIdx,\n                def: prod.definition.concat(drop(currDef)),\n                ruleStack: currRuleStack,\n                occurrenceStack: currOccurrenceStack,\n            };\n            possiblePaths.push(nextPathWith);\n        }\n        else if (prod instanceof RepetitionMandatory) {\n            // TODO:(THE NEW operators here take a while...) (convert once?)\n            const secondIteration = new Repetition({\n                definition: prod.definition,\n                idx: prod.idx,\n            });\n            const nextDef = prod.definition.concat([secondIteration], drop(currDef));\n            const nextPath = {\n                idx: currIdx,\n                def: nextDef,\n                ruleStack: currRuleStack,\n                occurrenceStack: currOccurrenceStack,\n            };\n            possiblePaths.push(nextPath);\n        }\n        else if (prod instanceof RepetitionMandatoryWithSeparator) {\n            // TODO:(THE NEW operators here take a while...) (convert once?)\n            const separatorGast = new Terminal({\n                terminalType: prod.separator,\n            });\n            const secondIteration = new Repetition({\n                definition: [separatorGast].concat(prod.definition),\n                idx: prod.idx,\n            });\n            const nextDef = prod.definition.concat([secondIteration], drop(currDef));\n            const nextPath = {\n                idx: currIdx,\n                def: nextDef,\n                ruleStack: currRuleStack,\n                occurrenceStack: currOccurrenceStack,\n            };\n            possiblePaths.push(nextPath);\n        }\n        else if (prod instanceof RepetitionWithSeparator) {\n            // the order of alternatives is meaningful, FILO (Last path will be traversed first).\n            const nextPathWithout = {\n                idx: currIdx,\n                def: drop(currDef),\n                ruleStack: currRuleStack,\n                occurrenceStack: currOccurrenceStack,\n            };\n            possiblePaths.push(nextPathWithout);\n            // required marker to avoid backtracking paths whose higher priority alternatives already matched\n            possiblePaths.push(EXIT_ALTERNATIVE);\n            const separatorGast = new Terminal({\n                terminalType: prod.separator,\n            });\n            const nthRepetition = new Repetition({\n                definition: [separatorGast].concat(prod.definition),\n                idx: prod.idx,\n            });\n            const nextDef = prod.definition.concat([nthRepetition], drop(currDef));\n            const nextPathWith = {\n                idx: currIdx,\n                def: nextDef,\n                ruleStack: currRuleStack,\n                occurrenceStack: currOccurrenceStack,\n            };\n            possiblePaths.push(nextPathWith);\n        }\n        else if (prod instanceof Repetition) {\n            // the order of alternatives is meaningful, FILO (Last path will be traversed first).\n            const nextPathWithout = {\n                idx: currIdx,\n                def: drop(currDef),\n                ruleStack: currRuleStack,\n                occurrenceStack: currOccurrenceStack,\n            };\n            possiblePaths.push(nextPathWithout);\n            // required marker to avoid backtracking paths whose higher priority alternatives already matched\n            possiblePaths.push(EXIT_ALTERNATIVE);\n            // TODO: an empty repetition will cause infinite loops here, will the parser detect this in selfAnalysis?\n            const nthRepetition = new Repetition({\n                definition: prod.definition,\n                idx: prod.idx,\n            });\n            const nextDef = prod.definition.concat([nthRepetition], drop(currDef));\n            const nextPathWith = {\n                idx: currIdx,\n                def: nextDef,\n                ruleStack: currRuleStack,\n                occurrenceStack: currOccurrenceStack,\n            };\n            possiblePaths.push(nextPathWith);\n        }\n        else if (prod instanceof Alternation) {\n            // the order of alternatives is meaningful, FILO (Last path will be traversed first).\n            for (let i = prod.definition.length - 1; i >= 0; i--) {\n                const currAlt = prod.definition[i];\n                const currAltPath = {\n                    idx: currIdx,\n                    def: currAlt.definition.concat(drop(currDef)),\n                    ruleStack: currRuleStack,\n                    occurrenceStack: currOccurrenceStack,\n                };\n                possiblePaths.push(currAltPath);\n                possiblePaths.push(EXIT_ALTERNATIVE);\n            }\n        }\n        else if (prod instanceof Alternative) {\n            possiblePaths.push({\n                idx: currIdx,\n                def: prod.definition.concat(drop(currDef)),\n                ruleStack: currRuleStack,\n                occurrenceStack: currOccurrenceStack,\n            });\n        }\n        else if (prod instanceof Rule) {\n            // last because we should only encounter at most a single one of these per invocation.\n            possiblePaths.push(expandTopLevelRule(prod, currIdx, currRuleStack, currOccurrenceStack));\n        }\n        else {\n            throw Error(\"non exhaustive match\");\n        }\n    }\n    return result;\n}\nfunction expandTopLevelRule(topRule, currIdx, currRuleStack, currOccurrenceStack) {\n    const newRuleStack = clone(currRuleStack);\n    newRuleStack.push(topRule.name);\n    const newCurrOccurrenceStack = clone(currOccurrenceStack);\n    // top rule is always assumed to have been called with occurrence index 1\n    newCurrOccurrenceStack.push(1);\n    return {\n        idx: currIdx,\n        def: topRule.definition,\n        ruleStack: newRuleStack,\n        occurrenceStack: newCurrOccurrenceStack,\n    };\n}\n//# sourceMappingURL=interpreter.js.map","import { clone, compact, difference, drop, dropRight, filter, first, flatMap, flatten, forEach, groupBy, includes, isEmpty, map, pickBy, reduce, reject, values, } from \"lodash-es\";\nimport { ParserDefinitionErrorType, } from \"../parser/parser.js\";\nimport { Alternation, Alternative as AlternativeGAST, GAstVisitor, getProductionDslName, isOptionalProd, NonTerminal, Option, Repetition, RepetitionMandatory, RepetitionMandatoryWithSeparator, RepetitionWithSeparator, Terminal, } from \"@chevrotain/gast\";\nimport { containsPath, getLookaheadPathsForOptionalProd, getLookaheadPathsForOr, getProdType, isStrictPrefixOfPath, } from \"./lookahead.js\";\nimport { nextPossibleTokensAfter } from \"./interpreter.js\";\nimport { tokenStructuredMatcher } from \"../../scan/tokens.js\";\nexport function validateLookahead(options) {\n    const lookaheadValidationErrorMessages = options.lookaheadStrategy.validate({\n        rules: options.rules,\n        tokenTypes: options.tokenTypes,\n        grammarName: options.grammarName,\n    });\n    return map(lookaheadValidationErrorMessages, (errorMessage) => (Object.assign({ type: ParserDefinitionErrorType.CUSTOM_LOOKAHEAD_VALIDATION }, errorMessage)));\n}\nexport function validateGrammar(topLevels, tokenTypes, errMsgProvider, grammarName) {\n    const duplicateErrors = flatMap(topLevels, (currTopLevel) => validateDuplicateProductions(currTopLevel, errMsgProvider));\n    const termsNamespaceConflictErrors = checkTerminalAndNoneTerminalsNameSpace(topLevels, tokenTypes, errMsgProvider);\n    const tooManyAltsErrors = flatMap(topLevels, (curRule) => validateTooManyAlts(curRule, errMsgProvider));\n    const duplicateRulesError = flatMap(topLevels, (curRule) => validateRuleDoesNotAlreadyExist(curRule, topLevels, grammarName, errMsgProvider));\n    return duplicateErrors.concat(termsNamespaceConflictErrors, tooManyAltsErrors, duplicateRulesError);\n}\nfunction validateDuplicateProductions(topLevelRule, errMsgProvider) {\n    const collectorVisitor = new OccurrenceValidationCollector();\n    topLevelRule.accept(collectorVisitor);\n    const allRuleProductions = collectorVisitor.allProductions;\n    const productionGroups = groupBy(allRuleProductions, identifyProductionForDuplicates);\n    const duplicates = pickBy(productionGroups, (currGroup) => {\n        return currGroup.length > 1;\n    });\n    const errors = map(values(duplicates), (currDuplicates) => {\n        const firstProd = first(currDuplicates);\n        const msg = errMsgProvider.buildDuplicateFoundError(topLevelRule, currDuplicates);\n        const dslName = getProductionDslName(firstProd);\n        const defError = {\n            message: msg,\n            type: ParserDefinitionErrorType.DUPLICATE_PRODUCTIONS,\n            ruleName: topLevelRule.name,\n            dslName: dslName,\n            occurrence: firstProd.idx,\n        };\n        const param = getExtraProductionArgument(firstProd);\n        if (param) {\n            defError.parameter = param;\n        }\n        return defError;\n    });\n    return errors;\n}\nexport function identifyProductionForDuplicates(prod) {\n    return `${getProductionDslName(prod)}_#_${prod.idx}_#_${getExtraProductionArgument(prod)}`;\n}\nfunction getExtraProductionArgument(prod) {\n    if (prod instanceof Terminal) {\n        return prod.terminalType.name;\n    }\n    else if (prod instanceof NonTerminal) {\n        return prod.nonTerminalName;\n    }\n    else {\n        return \"\";\n    }\n}\nexport class OccurrenceValidationCollector extends GAstVisitor {\n    constructor() {\n        super(...arguments);\n        this.allProductions = [];\n    }\n    visitNonTerminal(subrule) {\n        this.allProductions.push(subrule);\n    }\n    visitOption(option) {\n        this.allProductions.push(option);\n    }\n    visitRepetitionWithSeparator(manySep) {\n        this.allProductions.push(manySep);\n    }\n    visitRepetitionMandatory(atLeastOne) {\n        this.allProductions.push(atLeastOne);\n    }\n    visitRepetitionMandatoryWithSeparator(atLeastOneSep) {\n        this.allProductions.push(atLeastOneSep);\n    }\n    visitRepetition(many) {\n        this.allProductions.push(many);\n    }\n    visitAlternation(or) {\n        this.allProductions.push(or);\n    }\n    visitTerminal(terminal) {\n        this.allProductions.push(terminal);\n    }\n}\nexport function validateRuleDoesNotAlreadyExist(rule, allRules, className, errMsgProvider) {\n    const errors = [];\n    const occurrences = reduce(allRules, (result, curRule) => {\n        if (curRule.name === rule.name) {\n            return result + 1;\n        }\n        return result;\n    }, 0);\n    if (occurrences > 1) {\n        const errMsg = errMsgProvider.buildDuplicateRuleNameError({\n            topLevelRule: rule,\n            grammarName: className,\n        });\n        errors.push({\n            message: errMsg,\n            type: ParserDefinitionErrorType.DUPLICATE_RULE_NAME,\n            ruleName: rule.name,\n        });\n    }\n    return errors;\n}\n// TODO: is there anyway to get only the rule names of rules inherited from the super grammars?\n// This is not part of the IGrammarErrorProvider because the validation cannot be performed on\n// The grammar structure, only at runtime.\nexport function validateRuleIsOverridden(ruleName, definedRulesNames, className) {\n    const errors = [];\n    let errMsg;\n    if (!includes(definedRulesNames, ruleName)) {\n        errMsg =\n            `Invalid rule override, rule: ->${ruleName}<- cannot be overridden in the grammar: ->${className}<-` +\n                `as it is not defined in any of the super grammars `;\n        errors.push({\n            message: errMsg,\n            type: ParserDefinitionErrorType.INVALID_RULE_OVERRIDE,\n            ruleName: ruleName,\n        });\n    }\n    return errors;\n}\nexport function validateNoLeftRecursion(topRule, currRule, errMsgProvider, path = []) {\n    const errors = [];\n    const nextNonTerminals = getFirstNoneTerminal(currRule.definition);\n    if (isEmpty(nextNonTerminals)) {\n        return [];\n    }\n    else {\n        const ruleName = topRule.name;\n        const foundLeftRecursion = includes(nextNonTerminals, topRule);\n        if (foundLeftRecursion) {\n            errors.push({\n                message: errMsgProvider.buildLeftRecursionError({\n                    topLevelRule: topRule,\n                    leftRecursionPath: path,\n                }),\n                type: ParserDefinitionErrorType.LEFT_RECURSION,\n                ruleName: ruleName,\n            });\n        }\n        // we are only looking for cyclic paths leading back to the specific topRule\n        // other cyclic paths are ignored, we still need this difference to avoid infinite loops...\n        const validNextSteps = difference(nextNonTerminals, path.concat([topRule]));\n        const errorsFromNextSteps = flatMap(validNextSteps, (currRefRule) => {\n            const newPath = clone(path);\n            newPath.push(currRefRule);\n            return validateNoLeftRecursion(topRule, currRefRule, errMsgProvider, newPath);\n        });\n        return errors.concat(errorsFromNextSteps);\n    }\n}\nexport function getFirstNoneTerminal(definition) {\n    let result = [];\n    if (isEmpty(definition)) {\n        return result;\n    }\n    const firstProd = first(definition);\n    /* istanbul ignore else */\n    if (firstProd instanceof NonTerminal) {\n        result.push(firstProd.referencedRule);\n    }\n    else if (firstProd instanceof AlternativeGAST ||\n        firstProd instanceof Option ||\n        firstProd instanceof RepetitionMandatory ||\n        firstProd instanceof RepetitionMandatoryWithSeparator ||\n        firstProd instanceof RepetitionWithSeparator ||\n        firstProd instanceof Repetition) {\n        result = result.concat(getFirstNoneTerminal(firstProd.definition));\n    }\n    else if (firstProd instanceof Alternation) {\n        // each sub definition in alternation is a FLAT\n        result = flatten(map(firstProd.definition, (currSubDef) => getFirstNoneTerminal(currSubDef.definition)));\n    }\n    else if (firstProd instanceof Terminal) {\n        // nothing to see, move along\n    }\n    else {\n        throw Error(\"non exhaustive match\");\n    }\n    const isFirstOptional = isOptionalProd(firstProd);\n    const hasMore = definition.length > 1;\n    if (isFirstOptional && hasMore) {\n        const rest = drop(definition);\n        return result.concat(getFirstNoneTerminal(rest));\n    }\n    else {\n        return result;\n    }\n}\nclass OrCollector extends GAstVisitor {\n    constructor() {\n        super(...arguments);\n        this.alternations = [];\n    }\n    visitAlternation(node) {\n        this.alternations.push(node);\n    }\n}\nexport function validateEmptyOrAlternative(topLevelRule, errMsgProvider) {\n    const orCollector = new OrCollector();\n    topLevelRule.accept(orCollector);\n    const ors = orCollector.alternations;\n    const errors = flatMap(ors, (currOr) => {\n        const exceptLast = dropRight(currOr.definition);\n        return flatMap(exceptLast, (currAlternative, currAltIdx) => {\n            const possibleFirstInAlt = nextPossibleTokensAfter([currAlternative], [], tokenStructuredMatcher, 1);\n            if (isEmpty(possibleFirstInAlt)) {\n                return [\n                    {\n                        message: errMsgProvider.buildEmptyAlternationError({\n                            topLevelRule: topLevelRule,\n                            alternation: currOr,\n                            emptyChoiceIdx: currAltIdx,\n                        }),\n                        type: ParserDefinitionErrorType.NONE_LAST_EMPTY_ALT,\n                        ruleName: topLevelRule.name,\n                        occurrence: currOr.idx,\n                        alternative: currAltIdx + 1,\n                    },\n                ];\n            }\n            else {\n                return [];\n            }\n        });\n    });\n    return errors;\n}\nexport function validateAmbiguousAlternationAlternatives(topLevelRule, globalMaxLookahead, errMsgProvider) {\n    const orCollector = new OrCollector();\n    topLevelRule.accept(orCollector);\n    let ors = orCollector.alternations;\n    // New Handling of ignoring ambiguities\n    // - https://github.com/chevrotain/chevrotain/issues/869\n    ors = reject(ors, (currOr) => currOr.ignoreAmbiguities === true);\n    const errors = flatMap(ors, (currOr) => {\n        const currOccurrence = currOr.idx;\n        const actualMaxLookahead = currOr.maxLookahead || globalMaxLookahead;\n        const alternatives = getLookaheadPathsForOr(currOccurrence, topLevelRule, actualMaxLookahead, currOr);\n        const altsAmbiguityErrors = checkAlternativesAmbiguities(alternatives, currOr, topLevelRule, errMsgProvider);\n        const altsPrefixAmbiguityErrors = checkPrefixAlternativesAmbiguities(alternatives, currOr, topLevelRule, errMsgProvider);\n        return altsAmbiguityErrors.concat(altsPrefixAmbiguityErrors);\n    });\n    return errors;\n}\nexport class RepetitionCollector extends GAstVisitor {\n    constructor() {\n        super(...arguments);\n        this.allProductions = [];\n    }\n    visitRepetitionWithSeparator(manySep) {\n        this.allProductions.push(manySep);\n    }\n    visitRepetitionMandatory(atLeastOne) {\n        this.allProductions.push(atLeastOne);\n    }\n    visitRepetitionMandatoryWithSeparator(atLeastOneSep) {\n        this.allProductions.push(atLeastOneSep);\n    }\n    visitRepetition(many) {\n        this.allProductions.push(many);\n    }\n}\nexport function validateTooManyAlts(topLevelRule, errMsgProvider) {\n    const orCollector = new OrCollector();\n    topLevelRule.accept(orCollector);\n    const ors = orCollector.alternations;\n    const errors = flatMap(ors, (currOr) => {\n        if (currOr.definition.length > 255) {\n            return [\n                {\n                    message: errMsgProvider.buildTooManyAlternativesError({\n                        topLevelRule: topLevelRule,\n                        alternation: currOr,\n                    }),\n                    type: ParserDefinitionErrorType.TOO_MANY_ALTS,\n                    ruleName: topLevelRule.name,\n                    occurrence: currOr.idx,\n                },\n            ];\n        }\n        else {\n            return [];\n        }\n    });\n    return errors;\n}\nexport function validateSomeNonEmptyLookaheadPath(topLevelRules, maxLookahead, errMsgProvider) {\n    const errors = [];\n    forEach(topLevelRules, (currTopRule) => {\n        const collectorVisitor = new RepetitionCollector();\n        currTopRule.accept(collectorVisitor);\n        const allRuleProductions = collectorVisitor.allProductions;\n        forEach(allRuleProductions, (currProd) => {\n            const prodType = getProdType(currProd);\n            const actualMaxLookahead = currProd.maxLookahead || maxLookahead;\n            const currOccurrence = currProd.idx;\n            const paths = getLookaheadPathsForOptionalProd(currOccurrence, currTopRule, prodType, actualMaxLookahead);\n            const pathsInsideProduction = paths[0];\n            if (isEmpty(flatten(pathsInsideProduction))) {\n                const errMsg = errMsgProvider.buildEmptyRepetitionError({\n                    topLevelRule: currTopRule,\n                    repetition: currProd,\n                });\n                errors.push({\n                    message: errMsg,\n                    type: ParserDefinitionErrorType.NO_NON_EMPTY_LOOKAHEAD,\n                    ruleName: currTopRule.name,\n                });\n            }\n        });\n    });\n    return errors;\n}\nfunction checkAlternativesAmbiguities(alternatives, alternation, rule, errMsgProvider) {\n    const foundAmbiguousPaths = [];\n    const identicalAmbiguities = reduce(alternatives, (result, currAlt, currAltIdx) => {\n        // ignore (skip) ambiguities with this alternative\n        if (alternation.definition[currAltIdx].ignoreAmbiguities === true) {\n            return result;\n        }\n        forEach(currAlt, (currPath) => {\n            const altsCurrPathAppearsIn = [currAltIdx];\n            forEach(alternatives, (currOtherAlt, currOtherAltIdx) => {\n                if (currAltIdx !== currOtherAltIdx &&\n                    containsPath(currOtherAlt, currPath) &&\n                    // ignore (skip) ambiguities with this \"other\" alternative\n                    alternation.definition[currOtherAltIdx].ignoreAmbiguities !== true) {\n                    altsCurrPathAppearsIn.push(currOtherAltIdx);\n                }\n            });\n            if (altsCurrPathAppearsIn.length > 1 &&\n                !containsPath(foundAmbiguousPaths, currPath)) {\n                foundAmbiguousPaths.push(currPath);\n                result.push({\n                    alts: altsCurrPathAppearsIn,\n                    path: currPath,\n                });\n            }\n        });\n        return result;\n    }, []);\n    const currErrors = map(identicalAmbiguities, (currAmbDescriptor) => {\n        const ambgIndices = map(currAmbDescriptor.alts, (currAltIdx) => currAltIdx + 1);\n        const currMessage = errMsgProvider.buildAlternationAmbiguityError({\n            topLevelRule: rule,\n            alternation: alternation,\n            ambiguityIndices: ambgIndices,\n            prefixPath: currAmbDescriptor.path,\n        });\n        return {\n            message: currMessage,\n            type: ParserDefinitionErrorType.AMBIGUOUS_ALTS,\n            ruleName: rule.name,\n            occurrence: alternation.idx,\n            alternatives: currAmbDescriptor.alts,\n        };\n    });\n    return currErrors;\n}\nexport function checkPrefixAlternativesAmbiguities(alternatives, alternation, rule, errMsgProvider) {\n    // flatten\n    const pathsAndIndices = reduce(alternatives, (result, currAlt, idx) => {\n        const currPathsAndIdx = map(currAlt, (currPath) => {\n            return { idx: idx, path: currPath };\n        });\n        return result.concat(currPathsAndIdx);\n    }, []);\n    const errors = compact(flatMap(pathsAndIndices, (currPathAndIdx) => {\n        const alternativeGast = alternation.definition[currPathAndIdx.idx];\n        // ignore (skip) ambiguities with this alternative\n        if (alternativeGast.ignoreAmbiguities === true) {\n            return [];\n        }\n        const targetIdx = currPathAndIdx.idx;\n        const targetPath = currPathAndIdx.path;\n        const prefixAmbiguitiesPathsAndIndices = filter(pathsAndIndices, (searchPathAndIdx) => {\n            // prefix ambiguity can only be created from lower idx (higher priority) path\n            return (\n            // ignore (skip) ambiguities with this \"other\" alternative\n            alternation.definition[searchPathAndIdx.idx].ignoreAmbiguities !==\n                true &&\n                searchPathAndIdx.idx < targetIdx &&\n                // checking for strict prefix because identical lookaheads\n                // will be be detected using a different validation.\n                isStrictPrefixOfPath(searchPathAndIdx.path, targetPath));\n        });\n        const currPathPrefixErrors = map(prefixAmbiguitiesPathsAndIndices, (currAmbPathAndIdx) => {\n            const ambgIndices = [currAmbPathAndIdx.idx + 1, targetIdx + 1];\n            const occurrence = alternation.idx === 0 ? \"\" : alternation.idx;\n            const message = errMsgProvider.buildAlternationPrefixAmbiguityError({\n                topLevelRule: rule,\n                alternation: alternation,\n                ambiguityIndices: ambgIndices,\n                prefixPath: currAmbPathAndIdx.path,\n            });\n            return {\n                message: message,\n                type: ParserDefinitionErrorType.AMBIGUOUS_PREFIX_ALTS,\n                ruleName: rule.name,\n                occurrence: occurrence,\n                alternatives: ambgIndices,\n            };\n        });\n        return currPathPrefixErrors;\n    }));\n    return errors;\n}\nfunction checkTerminalAndNoneTerminalsNameSpace(topLevels, tokenTypes, errMsgProvider) {\n    const errors = [];\n    const tokenNames = map(tokenTypes, (currToken) => currToken.name);\n    forEach(topLevels, (currRule) => {\n        const currRuleName = currRule.name;\n        if (includes(tokenNames, currRuleName)) {\n            const errMsg = errMsgProvider.buildNamespaceConflictError(currRule);\n            errors.push({\n                message: errMsg,\n                type: ParserDefinitionErrorType.CONFLICT_TOKENS_RULES_NAMESPACE,\n                ruleName: currRuleName,\n            });\n        }\n    });\n    return errors;\n}\n//# sourceMappingURL=checks.js.map","import { defaults, forEach } from \"lodash-es\";\nimport { resolveGrammar as orgResolveGrammar } from \"../resolver.js\";\nimport { validateGrammar as orgValidateGrammar } from \"../checks.js\";\nimport { defaultGrammarResolverErrorProvider, defaultGrammarValidatorErrorProvider, } from \"../../errors_public.js\";\nexport function resolveGrammar(options) {\n    const actualOptions = defaults(options, {\n        errMsgProvider: defaultGrammarResolverErrorProvider,\n    });\n    const topRulesTable = {};\n    forEach(options.rules, (rule) => {\n        topRulesTable[rule.name] = rule;\n    });\n    return orgResolveGrammar(topRulesTable, actualOptions.errMsgProvider);\n}\nexport function validateGrammar(options) {\n    options = defaults(options, {\n        errMsgProvider: defaultGrammarValidatorErrorProvider,\n    });\n    return orgValidateGrammar(options.rules, options.tokenTypes, options.errMsgProvider, options.grammarName);\n}\n//# sourceMappingURL=gast_resolver_public.js.map","import { includes } from \"lodash-es\";\nconst MISMATCHED_TOKEN_EXCEPTION = \"MismatchedTokenException\";\nconst NO_VIABLE_ALT_EXCEPTION = \"NoViableAltException\";\nconst EARLY_EXIT_EXCEPTION = \"EarlyExitException\";\nconst NOT_ALL_INPUT_PARSED_EXCEPTION = \"NotAllInputParsedException\";\nconst RECOGNITION_EXCEPTION_NAMES = [\n    MISMATCHED_TOKEN_EXCEPTION,\n    NO_VIABLE_ALT_EXCEPTION,\n    EARLY_EXIT_EXCEPTION,\n    NOT_ALL_INPUT_PARSED_EXCEPTION,\n];\nObject.freeze(RECOGNITION_EXCEPTION_NAMES);\n// hacks to bypass no support for custom Errors in javascript/typescript\nexport function isRecognitionException(error) {\n    // can't do instanceof on hacked custom js exceptions\n    return includes(RECOGNITION_EXCEPTION_NAMES, error.name);\n}\nclass RecognitionException extends Error {\n    constructor(message, token) {\n        super(message);\n        this.token = token;\n        this.resyncedTokens = [];\n        // fix prototype chain when typescript target is ES5\n        Object.setPrototypeOf(this, new.target.prototype);\n        /* istanbul ignore next - V8 workaround to remove constructor from stacktrace when typescript target is ES5 */\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, this.constructor);\n        }\n    }\n}\nexport class MismatchedTokenException extends RecognitionException {\n    constructor(message, token, previousToken) {\n        super(message, token);\n        this.previousToken = previousToken;\n        this.name = MISMATCHED_TOKEN_EXCEPTION;\n    }\n}\nexport class NoViableAltException extends RecognitionException {\n    constructor(message, token, previousToken) {\n        super(message, token);\n        this.previousToken = previousToken;\n        this.name = NO_VIABLE_ALT_EXCEPTION;\n    }\n}\nexport class NotAllInputParsedException extends RecognitionException {\n    constructor(message, token) {\n        super(message, token);\n        this.name = NOT_ALL_INPUT_PARSED_EXCEPTION;\n    }\n}\nexport class EarlyExitException extends RecognitionException {\n    constructor(message, token, previousToken) {\n        super(message, token);\n        this.previousToken = previousToken;\n        this.name = EARLY_EXIT_EXCEPTION;\n    }\n}\n//# sourceMappingURL=exceptions_public.js.map","import { createTokenInstance, EOF, tokenMatcher, } from \"../../../scan/tokens_public.js\";\nimport { clone, dropRight, find, flatten, has, includes, isEmpty, map, } from \"lodash-es\";\nimport { MismatchedTokenException } from \"../../exceptions_public.js\";\nimport { IN } from \"../../constants.js\";\nimport { DEFAULT_PARSER_CONFIG } from \"../parser.js\";\nexport const EOF_FOLLOW_KEY = {};\nexport const IN_RULE_RECOVERY_EXCEPTION = \"InRuleRecoveryException\";\nexport class InRuleRecoveryException extends Error {\n    constructor(message) {\n        super(message);\n        this.name = IN_RULE_RECOVERY_EXCEPTION;\n    }\n}\n/**\n * This trait is responsible for the error recovery and fault tolerant logic\n */\nexport class Recoverable {\n    initRecoverable(config) {\n        this.firstAfterRepMap = {};\n        this.resyncFollows = {};\n        this.recoveryEnabled = has(config, \"recoveryEnabled\")\n            ? config.recoveryEnabled // assumes end user provides the correct config value/type\n            : DEFAULT_PARSER_CONFIG.recoveryEnabled;\n        // performance optimization, NOOP will be inlined which\n        // effectively means that this optional feature does not exist\n        // when not used.\n        if (this.recoveryEnabled) {\n            this.attemptInRepetitionRecovery = attemptInRepetitionRecovery;\n        }\n    }\n    getTokenToInsert(tokType) {\n        const tokToInsert = createTokenInstance(tokType, \"\", NaN, NaN, NaN, NaN, NaN, NaN);\n        tokToInsert.isInsertedInRecovery = true;\n        return tokToInsert;\n    }\n    canTokenTypeBeInsertedInRecovery(tokType) {\n        return true;\n    }\n    canTokenTypeBeDeletedInRecovery(tokType) {\n        return true;\n    }\n    tryInRepetitionRecovery(grammarRule, grammarRuleArgs, lookAheadFunc, expectedTokType) {\n        // TODO: can the resyncTokenType be cached?\n        const reSyncTokType = this.findReSyncTokenType();\n        const savedLexerState = this.exportLexerState();\n        const resyncedTokens = [];\n        let passedResyncPoint = false;\n        const nextTokenWithoutResync = this.LA(1);\n        let currToken = this.LA(1);\n        const generateErrorMessage = () => {\n            const previousToken = this.LA(0);\n            // we are preemptively re-syncing before an error has been detected, therefor we must reproduce\n            // the error that would have been thrown\n            const msg = this.errorMessageProvider.buildMismatchTokenMessage({\n                expected: expectedTokType,\n                actual: nextTokenWithoutResync,\n                previous: previousToken,\n                ruleName: this.getCurrRuleFullName(),\n            });\n            const error = new MismatchedTokenException(msg, nextTokenWithoutResync, this.LA(0));\n            // the first token here will be the original cause of the error, this is not part of the resyncedTokens property.\n            error.resyncedTokens = dropRight(resyncedTokens);\n            this.SAVE_ERROR(error);\n        };\n        while (!passedResyncPoint) {\n            // re-synced to a point where we can safely exit the repetition/\n            if (this.tokenMatcher(currToken, expectedTokType)) {\n                generateErrorMessage();\n                return; // must return here to avoid reverting the inputIdx\n            }\n            else if (lookAheadFunc.call(this)) {\n                // we skipped enough tokens so we can resync right back into another iteration of the repetition grammar rule\n                generateErrorMessage();\n                // recursive invocation in other to support multiple re-syncs in the same top level repetition grammar rule\n                grammarRule.apply(this, grammarRuleArgs);\n                return; // must return here to avoid reverting the inputIdx\n            }\n            else if (this.tokenMatcher(currToken, reSyncTokType)) {\n                passedResyncPoint = true;\n            }\n            else {\n                currToken = this.SKIP_TOKEN();\n                this.addToResyncTokens(currToken, resyncedTokens);\n            }\n        }\n        // we were unable to find a CLOSER point to resync inside the Repetition, reset the state.\n        // The parsing exception we were trying to prevent will happen in the NEXT parsing step. it may be handled by\n        // \"between rules\" resync recovery later in the flow.\n        this.importLexerState(savedLexerState);\n    }\n    shouldInRepetitionRecoveryBeTried(expectTokAfterLastMatch, nextTokIdx, notStuck) {\n        // Edge case of arriving from a MANY repetition which is stuck\n        // Attempting recovery in this case could cause an infinite loop\n        if (notStuck === false) {\n            return false;\n        }\n        // no need to recover, next token is what we expect...\n        if (this.tokenMatcher(this.LA(1), expectTokAfterLastMatch)) {\n            return false;\n        }\n        // error recovery is disabled during backtracking as it can make the parser ignore a valid grammar path\n        // and prefer some backtracking path that includes recovered errors.\n        if (this.isBackTracking()) {\n            return false;\n        }\n        // if we can perform inRule recovery (single token insertion or deletion) we always prefer that recovery algorithm\n        // because if it works, it makes the least amount of changes to the input stream (greedy algorithm)\n        //noinspection RedundantIfStatementJS\n        if (this.canPerformInRuleRecovery(expectTokAfterLastMatch, this.getFollowsForInRuleRecovery(expectTokAfterLastMatch, nextTokIdx))) {\n            return false;\n        }\n        return true;\n    }\n    // Error Recovery functionality\n    getFollowsForInRuleRecovery(tokType, tokIdxInRule) {\n        const grammarPath = this.getCurrentGrammarPath(tokType, tokIdxInRule);\n        const follows = this.getNextPossibleTokenTypes(grammarPath);\n        return follows;\n    }\n    tryInRuleRecovery(expectedTokType, follows) {\n        if (this.canRecoverWithSingleTokenInsertion(expectedTokType, follows)) {\n            const tokToInsert = this.getTokenToInsert(expectedTokType);\n            return tokToInsert;\n        }\n        if (this.canRecoverWithSingleTokenDeletion(expectedTokType)) {\n            const nextTok = this.SKIP_TOKEN();\n            this.consumeToken();\n            return nextTok;\n        }\n        throw new InRuleRecoveryException(\"sad sad panda\");\n    }\n    canPerformInRuleRecovery(expectedToken, follows) {\n        return (this.canRecoverWithSingleTokenInsertion(expectedToken, follows) ||\n            this.canRecoverWithSingleTokenDeletion(expectedToken));\n    }\n    canRecoverWithSingleTokenInsertion(expectedTokType, follows) {\n        if (!this.canTokenTypeBeInsertedInRecovery(expectedTokType)) {\n            return false;\n        }\n        // must know the possible following tokens to perform single token insertion\n        if (isEmpty(follows)) {\n            return false;\n        }\n        const mismatchedTok = this.LA(1);\n        const isMisMatchedTokInFollows = find(follows, (possibleFollowsTokType) => {\n            return this.tokenMatcher(mismatchedTok, possibleFollowsTokType);\n        }) !== undefined;\n        return isMisMatchedTokInFollows;\n    }\n    canRecoverWithSingleTokenDeletion(expectedTokType) {\n        if (!this.canTokenTypeBeDeletedInRecovery(expectedTokType)) {\n            return false;\n        }\n        const isNextTokenWhatIsExpected = this.tokenMatcher(this.LA(2), expectedTokType);\n        return isNextTokenWhatIsExpected;\n    }\n    isInCurrentRuleReSyncSet(tokenTypeIdx) {\n        const followKey = this.getCurrFollowKey();\n        const currentRuleReSyncSet = this.getFollowSetFromFollowKey(followKey);\n        return includes(currentRuleReSyncSet, tokenTypeIdx);\n    }\n    findReSyncTokenType() {\n        const allPossibleReSyncTokTypes = this.flattenFollowSet();\n        // this loop will always terminate as EOF is always in the follow stack and also always (virtually) in the input\n        let nextToken = this.LA(1);\n        let k = 2;\n        while (true) {\n            const foundMatch = find(allPossibleReSyncTokTypes, (resyncTokType) => {\n                const canMatch = tokenMatcher(nextToken, resyncTokType);\n                return canMatch;\n            });\n            if (foundMatch !== undefined) {\n                return foundMatch;\n            }\n            nextToken = this.LA(k);\n            k++;\n        }\n    }\n    getCurrFollowKey() {\n        // the length is at least one as we always add the ruleName to the stack before invoking the rule.\n        if (this.RULE_STACK.length === 1) {\n            return EOF_FOLLOW_KEY;\n        }\n        const currRuleShortName = this.getLastExplicitRuleShortName();\n        const currRuleIdx = this.getLastExplicitRuleOccurrenceIndex();\n        const prevRuleShortName = this.getPreviousExplicitRuleShortName();\n        return {\n            ruleName: this.shortRuleNameToFullName(currRuleShortName),\n            idxInCallingRule: currRuleIdx,\n            inRule: this.shortRuleNameToFullName(prevRuleShortName),\n        };\n    }\n    buildFullFollowKeyStack() {\n        const explicitRuleStack = this.RULE_STACK;\n        const explicitOccurrenceStack = this.RULE_OCCURRENCE_STACK;\n        return map(explicitRuleStack, (ruleName, idx) => {\n            if (idx === 0) {\n                return EOF_FOLLOW_KEY;\n            }\n            return {\n                ruleName: this.shortRuleNameToFullName(ruleName),\n                idxInCallingRule: explicitOccurrenceStack[idx],\n                inRule: this.shortRuleNameToFullName(explicitRuleStack[idx - 1]),\n            };\n        });\n    }\n    flattenFollowSet() {\n        const followStack = map(this.buildFullFollowKeyStack(), (currKey) => {\n            return this.getFollowSetFromFollowKey(currKey);\n        });\n        return flatten(followStack);\n    }\n    getFollowSetFromFollowKey(followKey) {\n        if (followKey === EOF_FOLLOW_KEY) {\n            return [EOF];\n        }\n        const followName = followKey.ruleName + followKey.idxInCallingRule + IN + followKey.inRule;\n        return this.resyncFollows[followName];\n    }\n    // It does not make any sense to include a virtual EOF token in the list of resynced tokens\n    // as EOF does not really exist and thus does not contain any useful information (line/column numbers)\n    addToResyncTokens(token, resyncTokens) {\n        if (!this.tokenMatcher(token, EOF)) {\n            resyncTokens.push(token);\n        }\n        return resyncTokens;\n    }\n    reSyncTo(tokType) {\n        const resyncedTokens = [];\n        let nextTok = this.LA(1);\n        while (this.tokenMatcher(nextTok, tokType) === false) {\n            nextTok = this.SKIP_TOKEN();\n            this.addToResyncTokens(nextTok, resyncedTokens);\n        }\n        // the last token is not part of the error.\n        return dropRight(resyncedTokens);\n    }\n    attemptInRepetitionRecovery(prodFunc, args, lookaheadFunc, dslMethodIdx, prodOccurrence, nextToksWalker, notStuck) {\n        // by default this is a NO-OP\n        // The actual implementation is with the function(not method) below\n    }\n    getCurrentGrammarPath(tokType, tokIdxInRule) {\n        const pathRuleStack = this.getHumanReadableRuleStack();\n        const pathOccurrenceStack = clone(this.RULE_OCCURRENCE_STACK);\n        const grammarPath = {\n            ruleStack: pathRuleStack,\n            occurrenceStack: pathOccurrenceStack,\n            lastTok: tokType,\n            lastTokOccurrence: tokIdxInRule,\n        };\n        return grammarPath;\n    }\n    getHumanReadableRuleStack() {\n        return map(this.RULE_STACK, (currShortName) => this.shortRuleNameToFullName(currShortName));\n    }\n}\nexport function attemptInRepetitionRecovery(prodFunc, args, lookaheadFunc, dslMethodIdx, prodOccurrence, nextToksWalker, notStuck) {\n    const key = this.getKeyForAutomaticLookahead(dslMethodIdx, prodOccurrence);\n    let firstAfterRepInfo = this.firstAfterRepMap[key];\n    if (firstAfterRepInfo === undefined) {\n        const currRuleName = this.getCurrRuleFullName();\n        const ruleGrammar = this.getGAstProductions()[currRuleName];\n        const walker = new nextToksWalker(ruleGrammar, prodOccurrence);\n        firstAfterRepInfo = walker.startWalking();\n        this.firstAfterRepMap[key] = firstAfterRepInfo;\n    }\n    let expectTokAfterLastMatch = firstAfterRepInfo.token;\n    let nextTokIdx = firstAfterRepInfo.occurrence;\n    const isEndOfRule = firstAfterRepInfo.isEndOfRule;\n    // special edge case of a TOP most repetition after which the input should END.\n    // this will force an attempt for inRule recovery in that scenario.\n    if (this.RULE_STACK.length === 1 &&\n        isEndOfRule &&\n        expectTokAfterLastMatch === undefined) {\n        expectTokAfterLastMatch = EOF;\n        nextTokIdx = 1;\n    }\n    // We don't have anything to re-sync to...\n    // this condition was extracted from `shouldInRepetitionRecoveryBeTried` to act as a type-guard\n    if (expectTokAfterLastMatch === undefined || nextTokIdx === undefined) {\n        return;\n    }\n    if (this.shouldInRepetitionRecoveryBeTried(expectTokAfterLastMatch, nextTokIdx, notStuck)) {\n        // TODO: performance optimization: instead of passing the original args here, we modify\n        // the args param (or create a new one) and make sure the lookahead func is explicitly provided\n        // to avoid searching the cache for it once more.\n        this.tryInRepetitionRecovery(prodFunc, args, lookaheadFunc, expectTokAfterLastMatch);\n    }\n}\n//# sourceMappingURL=recoverable.js.map","// Lookahead keys are 32Bit integers in the form\n// TTTTTTTT-ZZZZZZZZZZZZ-YYYY-XXXXXXXX\n// XXXX -> Occurrence Index bitmap.\n// YYYY -> DSL Method Type bitmap.\n// ZZZZZZZZZZZZZZZ -> Rule short Index bitmap.\n// TTTTTTTTT -> alternation alternative index bitmap\nexport const BITS_FOR_METHOD_TYPE = 4;\nexport const BITS_FOR_OCCURRENCE_IDX = 8;\nexport const BITS_FOR_RULE_IDX = 12;\n// TODO: validation, this means that there may at most 2^8 --> 256 alternatives for an alternation.\nexport const BITS_FOR_ALT_IDX = 8;\n// short string used as part of mapping keys.\n// being short improves the performance when composing KEYS for maps out of these\n// The 5 - 8 bits (16 possible values, are reserved for the DSL method indices)\nexport const OR_IDX = 1 << BITS_FOR_OCCURRENCE_IDX;\nexport const OPTION_IDX = 2 << BITS_FOR_OCCURRENCE_IDX;\nexport const MANY_IDX = 3 << BITS_FOR_OCCURRENCE_IDX;\nexport const AT_LEAST_ONE_IDX = 4 << BITS_FOR_OCCURRENCE_IDX;\nexport const MANY_SEP_IDX = 5 << BITS_FOR_OCCURRENCE_IDX;\nexport const AT_LEAST_ONE_SEP_IDX = 6 << BITS_FOR_OCCURRENCE_IDX;\n// this actually returns a number, but it is always used as a string (object prop key)\nexport function getKeyForAutomaticLookahead(ruleIdx, dslMethodIdx, occurrence) {\n    return occurrence | dslMethodIdx | ruleIdx;\n}\nconst BITS_START_FOR_ALT_IDX = 32 - BITS_FOR_ALT_IDX;\n//# sourceMappingURL=keys.js.map","import { flatMap, isEmpty } from \"lodash-es\";\nimport { defaultGrammarValidatorErrorProvider } from \"../errors_public.js\";\nimport { DEFAULT_PARSER_CONFIG } from \"../parser/parser.js\";\nimport { validateAmbiguousAlternationAlternatives, validateEmptyOrAlternative, validateNoLeftRecursion, validateSomeNonEmptyLookaheadPath, } from \"./checks.js\";\nimport { buildAlternativesLookAheadFunc, buildLookaheadFuncForOptionalProd, buildLookaheadFuncForOr, buildSingleAlternativeLookaheadFunction, getProdType, } from \"./lookahead.js\";\nexport class LLkLookaheadStrategy {\n    constructor(options) {\n        var _a;\n        this.maxLookahead =\n            (_a = options === null || options === void 0 ? void 0 : options.maxLookahead) !== null && _a !== void 0 ? _a : DEFAULT_PARSER_CONFIG.maxLookahead;\n    }\n    validate(options) {\n        const leftRecursionErrors = this.validateNoLeftRecursion(options.rules);\n        if (isEmpty(leftRecursionErrors)) {\n            const emptyAltErrors = this.validateEmptyOrAlternatives(options.rules);\n            const ambiguousAltsErrors = this.validateAmbiguousAlternationAlternatives(options.rules, this.maxLookahead);\n            const emptyRepetitionErrors = this.validateSomeNonEmptyLookaheadPath(options.rules, this.maxLookahead);\n            const allErrors = [\n                ...leftRecursionErrors,\n                ...emptyAltErrors,\n                ...ambiguousAltsErrors,\n                ...emptyRepetitionErrors,\n            ];\n            return allErrors;\n        }\n        return leftRecursionErrors;\n    }\n    validateNoLeftRecursion(rules) {\n        return flatMap(rules, (currTopRule) => validateNoLeftRecursion(currTopRule, currTopRule, defaultGrammarValidatorErrorProvider));\n    }\n    validateEmptyOrAlternatives(rules) {\n        return flatMap(rules, (currTopRule) => validateEmptyOrAlternative(currTopRule, defaultGrammarValidatorErrorProvider));\n    }\n    validateAmbiguousAlternationAlternatives(rules, maxLookahead) {\n        return flatMap(rules, (currTopRule) => validateAmbiguousAlternationAlternatives(currTopRule, maxLookahead, defaultGrammarValidatorErrorProvider));\n    }\n    validateSomeNonEmptyLookaheadPath(rules, maxLookahead) {\n        return validateSomeNonEmptyLookaheadPath(rules, maxLookahead, defaultGrammarValidatorErrorProvider);\n    }\n    buildLookaheadForAlternation(options) {\n        return buildLookaheadFuncForOr(options.prodOccurrence, options.rule, options.maxLookahead, options.hasPredicates, options.dynamicTokensEnabled, buildAlternativesLookAheadFunc);\n    }\n    buildLookaheadForOptional(options) {\n        return buildLookaheadFuncForOptionalProd(options.prodOccurrence, options.rule, options.maxLookahead, options.dynamicTokensEnabled, getProdType(options.prodType), buildSingleAlternativeLookaheadFunction);\n    }\n}\n//# sourceMappingURL=llk_lookahead.js.map","import { forEach, has } from \"lodash-es\";\nimport { DEFAULT_PARSER_CONFIG } from \"../parser.js\";\nimport { AT_LEAST_ONE_IDX, AT_LEAST_ONE_SEP_IDX, getKeyForAutomaticLookahead, MANY_IDX, MANY_SEP_IDX, OPTION_IDX, OR_IDX, } from \"../../grammar/keys.js\";\nimport { GAstVisitor, getProductionDslName, } from \"@chevrotain/gast\";\nimport { LLkLookaheadStrategy } from \"../../grammar/llk_lookahead.js\";\n/**\n * Trait responsible for the lookahead related utilities and optimizations.\n */\nexport class LooksAhead {\n    initLooksAhead(config) {\n        this.dynamicTokensEnabled = has(config, \"dynamicTokensEnabled\")\n            ? config.dynamicTokensEnabled // assumes end user provides the correct config value/type\n            : DEFAULT_PARSER_CONFIG.dynamicTokensEnabled;\n        this.maxLookahead = has(config, \"maxLookahead\")\n            ? config.maxLookahead // assumes end user provides the correct config value/type\n            : DEFAULT_PARSER_CONFIG.maxLookahead;\n        this.lookaheadStrategy = has(config, \"lookaheadStrategy\")\n            ? config.lookaheadStrategy // assumes end user provides the correct config value/type\n            : new LLkLookaheadStrategy({ maxLookahead: this.maxLookahead });\n        this.lookAheadFuncsCache = new Map();\n    }\n    preComputeLookaheadFunctions(rules) {\n        forEach(rules, (currRule) => {\n            this.TRACE_INIT(`${currRule.name} Rule Lookahead`, () => {\n                const { alternation, repetition, option, repetitionMandatory, repetitionMandatoryWithSeparator, repetitionWithSeparator, } = collectMethods(currRule);\n                forEach(alternation, (currProd) => {\n                    const prodIdx = currProd.idx === 0 ? \"\" : currProd.idx;\n                    this.TRACE_INIT(`${getProductionDslName(currProd)}${prodIdx}`, () => {\n                        const laFunc = this.lookaheadStrategy.buildLookaheadForAlternation({\n                            prodOccurrence: currProd.idx,\n                            rule: currRule,\n                            maxLookahead: currProd.maxLookahead || this.maxLookahead,\n                            hasPredicates: currProd.hasPredicates,\n                            dynamicTokensEnabled: this.dynamicTokensEnabled,\n                        });\n                        const key = getKeyForAutomaticLookahead(this.fullRuleNameToShort[currRule.name], OR_IDX, currProd.idx);\n                        this.setLaFuncCache(key, laFunc);\n                    });\n                });\n                forEach(repetition, (currProd) => {\n                    this.computeLookaheadFunc(currRule, currProd.idx, MANY_IDX, \"Repetition\", currProd.maxLookahead, getProductionDslName(currProd));\n                });\n                forEach(option, (currProd) => {\n                    this.computeLookaheadFunc(currRule, currProd.idx, OPTION_IDX, \"Option\", currProd.maxLookahead, getProductionDslName(currProd));\n                });\n                forEach(repetitionMandatory, (currProd) => {\n                    this.computeLookaheadFunc(currRule, currProd.idx, AT_LEAST_ONE_IDX, \"RepetitionMandatory\", currProd.maxLookahead, getProductionDslName(currProd));\n                });\n                forEach(repetitionMandatoryWithSeparator, (currProd) => {\n                    this.computeLookaheadFunc(currRule, currProd.idx, AT_LEAST_ONE_SEP_IDX, \"RepetitionMandatoryWithSeparator\", currProd.maxLookahead, getProductionDslName(currProd));\n                });\n                forEach(repetitionWithSeparator, (currProd) => {\n                    this.computeLookaheadFunc(currRule, currProd.idx, MANY_SEP_IDX, \"RepetitionWithSeparator\", currProd.maxLookahead, getProductionDslName(currProd));\n                });\n            });\n        });\n    }\n    computeLookaheadFunc(rule, prodOccurrence, prodKey, prodType, prodMaxLookahead, dslMethodName) {\n        this.TRACE_INIT(`${dslMethodName}${prodOccurrence === 0 ? \"\" : prodOccurrence}`, () => {\n            const laFunc = this.lookaheadStrategy.buildLookaheadForOptional({\n                prodOccurrence,\n                rule,\n                maxLookahead: prodMaxLookahead || this.maxLookahead,\n                dynamicTokensEnabled: this.dynamicTokensEnabled,\n                prodType,\n            });\n            const key = getKeyForAutomaticLookahead(this.fullRuleNameToShort[rule.name], prodKey, prodOccurrence);\n            this.setLaFuncCache(key, laFunc);\n        });\n    }\n    // this actually returns a number, but it is always used as a string (object prop key)\n    getKeyForAutomaticLookahead(dslMethodIdx, occurrence) {\n        const currRuleShortName = this.getLastExplicitRuleShortName();\n        return getKeyForAutomaticLookahead(currRuleShortName, dslMethodIdx, occurrence);\n    }\n    getLaFuncFromCache(key) {\n        return this.lookAheadFuncsCache.get(key);\n    }\n    /* istanbul ignore next */\n    setLaFuncCache(key, value) {\n        this.lookAheadFuncsCache.set(key, value);\n    }\n}\nclass DslMethodsCollectorVisitor extends GAstVisitor {\n    constructor() {\n        super(...arguments);\n        this.dslMethods = {\n            option: [],\n            alternation: [],\n            repetition: [],\n            repetitionWithSeparator: [],\n            repetitionMandatory: [],\n            repetitionMandatoryWithSeparator: [],\n        };\n    }\n    reset() {\n        this.dslMethods = {\n            option: [],\n            alternation: [],\n            repetition: [],\n            repetitionWithSeparator: [],\n            repetitionMandatory: [],\n            repetitionMandatoryWithSeparator: [],\n        };\n    }\n    visitOption(option) {\n        this.dslMethods.option.push(option);\n    }\n    visitRepetitionWithSeparator(manySep) {\n        this.dslMethods.repetitionWithSeparator.push(manySep);\n    }\n    visitRepetitionMandatory(atLeastOne) {\n        this.dslMethods.repetitionMandatory.push(atLeastOne);\n    }\n    visitRepetitionMandatoryWithSeparator(atLeastOneSep) {\n        this.dslMethods.repetitionMandatoryWithSeparator.push(atLeastOneSep);\n    }\n    visitRepetition(many) {\n        this.dslMethods.repetition.push(many);\n    }\n    visitAlternation(or) {\n        this.dslMethods.alternation.push(or);\n    }\n}\nconst collectorVisitor = new DslMethodsCollectorVisitor();\nexport function collectMethods(rule) {\n    collectorVisitor.reset();\n    rule.accept(collectorVisitor);\n    const dslMethods = collectorVisitor.dslMethods;\n    // avoid uncleaned references\n    collectorVisitor.reset();\n    return dslMethods;\n}\n//# sourceMappingURL=looksahead.js.map","/**\n * This nodeLocation tracking is not efficient and should only be used\n * when error recovery is enabled or the Token Vector contains virtual Tokens\n * (e.g, Python Indent/Outdent)\n * As it executes the calculation for every single terminal/nonTerminal\n * and does not rely on the fact the token vector is **sorted**\n */\nexport function setNodeLocationOnlyOffset(currNodeLocation, newLocationInfo) {\n    // First (valid) update for this cst node\n    if (isNaN(currNodeLocation.startOffset) === true) {\n        // assumption1: Token location information is either NaN or a valid number\n        // assumption2: Token location information is fully valid if it exist\n        // (both start/end offsets exist and are numbers).\n        currNodeLocation.startOffset = newLocationInfo.startOffset;\n        currNodeLocation.endOffset = newLocationInfo.endOffset;\n    }\n    // Once the startOffset has been updated with a valid number it should never receive\n    // any farther updates as the Token vector is sorted.\n    // We still have to check this this condition for every new possible location info\n    // because with error recovery enabled we may encounter invalid tokens (NaN location props)\n    else if (currNodeLocation.endOffset < newLocationInfo.endOffset === true) {\n        currNodeLocation.endOffset = newLocationInfo.endOffset;\n    }\n}\n/**\n * This nodeLocation tracking is not efficient and should only be used\n * when error recovery is enabled or the Token Vector contains virtual Tokens\n * (e.g, Python Indent/Outdent)\n * As it executes the calculation for every single terminal/nonTerminal\n * and does not rely on the fact the token vector is **sorted**\n */\nexport function setNodeLocationFull(currNodeLocation, newLocationInfo) {\n    // First (valid) update for this cst node\n    if (isNaN(currNodeLocation.startOffset) === true) {\n        // assumption1: Token location information is either NaN or a valid number\n        // assumption2: Token location information is fully valid if it exist\n        // (all start/end props exist and are numbers).\n        currNodeLocation.startOffset = newLocationInfo.startOffset;\n        currNodeLocation.startColumn = newLocationInfo.startColumn;\n        currNodeLocation.startLine = newLocationInfo.startLine;\n        currNodeLocation.endOffset = newLocationInfo.endOffset;\n        currNodeLocation.endColumn = newLocationInfo.endColumn;\n        currNodeLocation.endLine = newLocationInfo.endLine;\n    }\n    // Once the start props has been updated with a valid number it should never receive\n    // any farther updates as the Token vector is sorted.\n    // We still have to check this this condition for every new possible location info\n    // because with error recovery enabled we may encounter invalid tokens (NaN location props)\n    else if (currNodeLocation.endOffset < newLocationInfo.endOffset === true) {\n        currNodeLocation.endOffset = newLocationInfo.endOffset;\n        currNodeLocation.endColumn = newLocationInfo.endColumn;\n        currNodeLocation.endLine = newLocationInfo.endLine;\n    }\n}\nexport function addTerminalToCst(node, token, tokenTypeName) {\n    if (node.children[tokenTypeName] === undefined) {\n        node.children[tokenTypeName] = [token];\n    }\n    else {\n        node.children[tokenTypeName].push(token);\n    }\n}\nexport function addNoneTerminalToCst(node, ruleName, ruleResult) {\n    if (node.children[ruleName] === undefined) {\n        node.children[ruleName] = [ruleResult];\n    }\n    else {\n        node.children[ruleName].push(ruleResult);\n    }\n}\n//# sourceMappingURL=cst.js.map","const NAME = \"name\";\nexport function defineNameProp(obj, nameValue) {\n    Object.defineProperty(obj, NAME, {\n        enumerable: false,\n        configurable: true,\n        writable: false,\n        value: nameValue,\n    });\n}\n//# sourceMappingURL=lang_extensions.js.map","import { compact, filter, forEach, isArray, isEmpty, isFunction, isUndefined, keys, map, } from \"lodash-es\";\nimport { defineNameProp } from \"../../lang/lang_extensions.js\";\nexport function defaultVisit(ctx, param) {\n    const childrenNames = keys(ctx);\n    const childrenNamesLength = childrenNames.length;\n    for (let i = 0; i < childrenNamesLength; i++) {\n        const currChildName = childrenNames[i];\n        const currChildArray = ctx[currChildName];\n        const currChildArrayLength = currChildArray.length;\n        for (let j = 0; j < currChildArrayLength; j++) {\n            const currChild = currChildArray[j];\n            // distinction between Tokens Children and CstNode children\n            if (currChild.tokenTypeIdx === undefined) {\n                this[currChild.name](currChild.children, param);\n            }\n        }\n    }\n    // defaultVisit does not support generic out param\n}\nexport function createBaseSemanticVisitorConstructor(grammarName, ruleNames) {\n    const derivedConstructor = function () { };\n    // can be overwritten according to:\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/\n    // name?redirectlocale=en-US&redirectslug=JavaScript%2FReference%2FGlobal_Objects%2FFunction%2Fname\n    defineNameProp(derivedConstructor, grammarName + \"BaseSemantics\");\n    const semanticProto = {\n        visit: function (cstNode, param) {\n            // enables writing more concise visitor methods when CstNode has only a single child\n            if (isArray(cstNode)) {\n                // A CST Node's children dictionary can never have empty arrays as values\n                // If a key is defined there will be at least one element in the corresponding value array.\n                cstNode = cstNode[0];\n            }\n            // enables passing optional CstNodes concisely.\n            if (isUndefined(cstNode)) {\n                return undefined;\n            }\n            return this[cstNode.name](cstNode.children, param);\n        },\n        validateVisitor: function () {\n            const semanticDefinitionErrors = validateVisitor(this, ruleNames);\n            if (!isEmpty(semanticDefinitionErrors)) {\n                const errorMessages = map(semanticDefinitionErrors, (currDefError) => currDefError.msg);\n                throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:\\n\\t` +\n                    `${errorMessages.join(\"\\n\\n\").replace(/\\n/g, \"\\n\\t\")}`);\n            }\n        },\n    };\n    derivedConstructor.prototype = semanticProto;\n    derivedConstructor.prototype.constructor = derivedConstructor;\n    derivedConstructor._RULE_NAMES = ruleNames;\n    return derivedConstructor;\n}\nexport function createBaseVisitorConstructorWithDefaults(grammarName, ruleNames, baseConstructor) {\n    const derivedConstructor = function () { };\n    // can be overwritten according to:\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/\n    // name?redirectlocale=en-US&redirectslug=JavaScript%2FReference%2FGlobal_Objects%2FFunction%2Fname\n    defineNameProp(derivedConstructor, grammarName + \"BaseSemanticsWithDefaults\");\n    const withDefaultsProto = Object.create(baseConstructor.prototype);\n    forEach(ruleNames, (ruleName) => {\n        withDefaultsProto[ruleName] = defaultVisit;\n    });\n    derivedConstructor.prototype = withDefaultsProto;\n    derivedConstructor.prototype.constructor = derivedConstructor;\n    return derivedConstructor;\n}\nexport var CstVisitorDefinitionError;\n(function (CstVisitorDefinitionError) {\n    CstVisitorDefinitionError[CstVisitorDefinitionError[\"REDUNDANT_METHOD\"] = 0] = \"REDUNDANT_METHOD\";\n    CstVisitorDefinitionError[CstVisitorDefinitionError[\"MISSING_METHOD\"] = 1] = \"MISSING_METHOD\";\n})(CstVisitorDefinitionError || (CstVisitorDefinitionError = {}));\nexport function validateVisitor(visitorInstance, ruleNames) {\n    const missingErrors = validateMissingCstMethods(visitorInstance, ruleNames);\n    return missingErrors;\n}\nexport function validateMissingCstMethods(visitorInstance, ruleNames) {\n    const missingRuleNames = filter(ruleNames, (currRuleName) => {\n        return isFunction(visitorInstance[currRuleName]) === false;\n    });\n    const errors = map(missingRuleNames, (currRuleName) => {\n        return {\n            msg: `Missing visitor method: <${currRuleName}> on ${(visitorInstance.constructor.name)} CST Visitor.`,\n            type: CstVisitorDefinitionError.MISSING_METHOD,\n            methodName: currRuleName,\n        };\n    });\n    return compact(errors);\n}\n//# sourceMappingURL=cst_visitor.js.map","import { forEach, has, isArray, isFunction, last as peek, some, } from \"lodash-es\";\nimport { Alternation, Alternative, NonTerminal, Option, Repetition, RepetitionMandatory, RepetitionMandatoryWithSeparator, RepetitionWithSeparator, Rule, Terminal, } from \"@chevrotain/gast\";\nimport { Lexer } from \"../../../scan/lexer_public.js\";\nimport { augmentTokenTypes, hasShortKeyProperty, } from \"../../../scan/tokens.js\";\nimport { createToken, createTokenInstance, } from \"../../../scan/tokens_public.js\";\nimport { END_OF_FILE } from \"../parser.js\";\nimport { BITS_FOR_OCCURRENCE_IDX } from \"../../grammar/keys.js\";\nconst RECORDING_NULL_OBJECT = {\n    description: \"This Object indicates the Parser is during Recording Phase\",\n};\nObject.freeze(RECORDING_NULL_OBJECT);\nconst HANDLE_SEPARATOR = true;\nconst MAX_METHOD_IDX = Math.pow(2, BITS_FOR_OCCURRENCE_IDX) - 1;\nconst RFT = createToken({ name: \"RECORDING_PHASE_TOKEN\", pattern: Lexer.NA });\naugmentTokenTypes([RFT]);\nconst RECORDING_PHASE_TOKEN = createTokenInstance(RFT, \"This IToken indicates the Parser is in Recording Phase\\n\\t\" +\n    \"\" +\n    \"See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details\", \n// Using \"-1\" instead of NaN (as in EOF) because an actual number is less likely to\n// cause errors if the output of LA or CONSUME would be (incorrectly) used during the recording phase.\n-1, -1, -1, -1, -1, -1);\nObject.freeze(RECORDING_PHASE_TOKEN);\nconst RECORDING_PHASE_CSTNODE = {\n    name: \"This CSTNode indicates the Parser is in Recording Phase\\n\\t\" +\n        \"See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details\",\n    children: {},\n};\n/**\n * This trait handles the creation of the GAST structure for Chevrotain Grammars\n */\nexport class GastRecorder {\n    initGastRecorder(config) {\n        this.recordingProdStack = [];\n        this.RECORDING_PHASE = false;\n    }\n    enableRecording() {\n        this.RECORDING_PHASE = true;\n        this.TRACE_INIT(\"Enable Recording\", () => {\n            /**\n             * Warning Dark Voodoo Magic upcoming!\n             * We are \"replacing\" the public parsing DSL methods API\n             * With **new** alternative implementations on the Parser **instance**\n             *\n             * So far this is the only way I've found to avoid performance regressions during parsing time.\n             * - Approx 30% performance regression was measured on Chrome 75 Canary when attempting to replace the \"internal\"\n             *   implementations directly instead.\n             */\n            for (let i = 0; i < 10; i++) {\n                const idx = i > 0 ? i : \"\";\n                this[`CONSUME${idx}`] = function (arg1, arg2) {\n                    return this.consumeInternalRecord(arg1, i, arg2);\n                };\n                this[`SUBRULE${idx}`] = function (arg1, arg2) {\n                    return this.subruleInternalRecord(arg1, i, arg2);\n                };\n                this[`OPTION${idx}`] = function (arg1) {\n                    return this.optionInternalRecord(arg1, i);\n                };\n                this[`OR${idx}`] = function (arg1) {\n                    return this.orInternalRecord(arg1, i);\n                };\n                this[`MANY${idx}`] = function (arg1) {\n                    this.manyInternalRecord(i, arg1);\n                };\n                this[`MANY_SEP${idx}`] = function (arg1) {\n                    this.manySepFirstInternalRecord(i, arg1);\n                };\n                this[`AT_LEAST_ONE${idx}`] = function (arg1) {\n                    this.atLeastOneInternalRecord(i, arg1);\n                };\n                this[`AT_LEAST_ONE_SEP${idx}`] = function (arg1) {\n                    this.atLeastOneSepFirstInternalRecord(i, arg1);\n                };\n            }\n            // DSL methods with the idx(suffix) as an argument\n            this[`consume`] = function (idx, arg1, arg2) {\n                return this.consumeInternalRecord(arg1, idx, arg2);\n            };\n            this[`subrule`] = function (idx, arg1, arg2) {\n                return this.subruleInternalRecord(arg1, idx, arg2);\n            };\n            this[`option`] = function (idx, arg1) {\n                return this.optionInternalRecord(arg1, idx);\n            };\n            this[`or`] = function (idx, arg1) {\n                return this.orInternalRecord(arg1, idx);\n            };\n            this[`many`] = function (idx, arg1) {\n                this.manyInternalRecord(idx, arg1);\n            };\n            this[`atLeastOne`] = function (idx, arg1) {\n                this.atLeastOneInternalRecord(idx, arg1);\n            };\n            this.ACTION = this.ACTION_RECORD;\n            this.BACKTRACK = this.BACKTRACK_RECORD;\n            this.LA = this.LA_RECORD;\n        });\n    }\n    disableRecording() {\n        this.RECORDING_PHASE = false;\n        // By deleting these **instance** properties, any future invocation\n        // will be deferred to the original methods on the **prototype** object\n        // This seems to get rid of any incorrect optimizations that V8 may\n        // do during the recording phase.\n        this.TRACE_INIT(\"Deleting Recording methods\", () => {\n            const that = this;\n            for (let i = 0; i < 10; i++) {\n                const idx = i > 0 ? i : \"\";\n                delete that[`CONSUME${idx}`];\n                delete that[`SUBRULE${idx}`];\n                delete that[`OPTION${idx}`];\n                delete that[`OR${idx}`];\n                delete that[`MANY${idx}`];\n                delete that[`MANY_SEP${idx}`];\n                delete that[`AT_LEAST_ONE${idx}`];\n                delete that[`AT_LEAST_ONE_SEP${idx}`];\n            }\n            delete that[`consume`];\n            delete that[`subrule`];\n            delete that[`option`];\n            delete that[`or`];\n            delete that[`many`];\n            delete that[`atLeastOne`];\n            delete that.ACTION;\n            delete that.BACKTRACK;\n            delete that.LA;\n        });\n    }\n    //   Parser methods are called inside an ACTION?\n    //   Maybe try/catch/finally on ACTIONS while disabling the recorders state changes?\n    // @ts-expect-error -- noop place holder\n    ACTION_RECORD(impl) {\n        // NO-OP during recording\n    }\n    // Executing backtracking logic will break our recording logic assumptions\n    BACKTRACK_RECORD(grammarRule, args) {\n        return () => true;\n    }\n    // LA is part of the official API and may be used for custom lookahead logic\n    // by end users who may forget to wrap it in ACTION or inside a GATE\n    LA_RECORD(howMuch) {\n        // We cannot use the RECORD_PHASE_TOKEN here because someone may depend\n        // On LA return EOF at the end of the input so an infinite loop may occur.\n        return END_OF_FILE;\n    }\n    topLevelRuleRecord(name, def) {\n        try {\n            const newTopLevelRule = new Rule({ definition: [], name: name });\n            newTopLevelRule.name = name;\n            this.recordingProdStack.push(newTopLevelRule);\n            def.call(this);\n            this.recordingProdStack.pop();\n            return newTopLevelRule;\n        }\n        catch (originalError) {\n            if (originalError.KNOWN_RECORDER_ERROR !== true) {\n                try {\n                    originalError.message =\n                        originalError.message +\n                            '\\n\\t This error was thrown during the \"grammar recording phase\" For more info see:\\n\\t' +\n                            \"https://chevrotain.io/docs/guide/internals.html#grammar-recording\";\n                }\n                catch (mutabilityError) {\n                    // We may not be able to modify the original error object\n                    throw originalError;\n                }\n            }\n            throw originalError;\n        }\n    }\n    // Implementation of parsing DSL\n    optionInternalRecord(actionORMethodDef, occurrence) {\n        return recordProd.call(this, Option, actionORMethodDef, occurrence);\n    }\n    atLeastOneInternalRecord(occurrence, actionORMethodDef) {\n        recordProd.call(this, RepetitionMandatory, actionORMethodDef, occurrence);\n    }\n    atLeastOneSepFirstInternalRecord(occurrence, options) {\n        recordProd.call(this, RepetitionMandatoryWithSeparator, options, occurrence, HANDLE_SEPARATOR);\n    }\n    manyInternalRecord(occurrence, actionORMethodDef) {\n        recordProd.call(this, Repetition, actionORMethodDef, occurrence);\n    }\n    manySepFirstInternalRecord(occurrence, options) {\n        recordProd.call(this, RepetitionWithSeparator, options, occurrence, HANDLE_SEPARATOR);\n    }\n    orInternalRecord(altsOrOpts, occurrence) {\n        return recordOrProd.call(this, altsOrOpts, occurrence);\n    }\n    subruleInternalRecord(ruleToCall, occurrence, options) {\n        assertMethodIdxIsValid(occurrence);\n        if (!ruleToCall || has(ruleToCall, \"ruleName\") === false) {\n            const error = new Error(`<SUBRULE${getIdxSuffix(occurrence)}> argument is invalid` +\n                ` expecting a Parser method reference but got: <${JSON.stringify(ruleToCall)}>` +\n                `\\n inside top level rule: <${this.recordingProdStack[0].name}>`);\n            error.KNOWN_RECORDER_ERROR = true;\n            throw error;\n        }\n        const prevProd = peek(this.recordingProdStack);\n        const ruleName = ruleToCall.ruleName;\n        const newNoneTerminal = new NonTerminal({\n            idx: occurrence,\n            nonTerminalName: ruleName,\n            label: options === null || options === void 0 ? void 0 : options.LABEL,\n            // The resolving of the `referencedRule` property will be done once all the Rule's GASTs have been created\n            referencedRule: undefined,\n        });\n        prevProd.definition.push(newNoneTerminal);\n        return this.outputCst\n            ? RECORDING_PHASE_CSTNODE\n            : RECORDING_NULL_OBJECT;\n    }\n    consumeInternalRecord(tokType, occurrence, options) {\n        assertMethodIdxIsValid(occurrence);\n        if (!hasShortKeyProperty(tokType)) {\n            const error = new Error(`<CONSUME${getIdxSuffix(occurrence)}> argument is invalid` +\n                ` expecting a TokenType reference but got: <${JSON.stringify(tokType)}>` +\n                `\\n inside top level rule: <${this.recordingProdStack[0].name}>`);\n            error.KNOWN_RECORDER_ERROR = true;\n            throw error;\n        }\n        const prevProd = peek(this.recordingProdStack);\n        const newNoneTerminal = new Terminal({\n            idx: occurrence,\n            terminalType: tokType,\n            label: options === null || options === void 0 ? void 0 : options.LABEL,\n        });\n        prevProd.definition.push(newNoneTerminal);\n        return RECORDING_PHASE_TOKEN;\n    }\n}\nfunction recordProd(prodConstructor, mainProdArg, occurrence, handleSep = false) {\n    assertMethodIdxIsValid(occurrence);\n    const prevProd = peek(this.recordingProdStack);\n    const grammarAction = isFunction(mainProdArg) ? mainProdArg : mainProdArg.DEF;\n    const newProd = new prodConstructor({ definition: [], idx: occurrence });\n    if (handleSep) {\n        newProd.separator = mainProdArg.SEP;\n    }\n    if (has(mainProdArg, \"MAX_LOOKAHEAD\")) {\n        newProd.maxLookahead = mainProdArg.MAX_LOOKAHEAD;\n    }\n    this.recordingProdStack.push(newProd);\n    grammarAction.call(this);\n    prevProd.definition.push(newProd);\n    this.recordingProdStack.pop();\n    return RECORDING_NULL_OBJECT;\n}\nfunction recordOrProd(mainProdArg, occurrence) {\n    assertMethodIdxIsValid(occurrence);\n    const prevProd = peek(this.recordingProdStack);\n    // Only an array of alternatives\n    const hasOptions = isArray(mainProdArg) === false;\n    const alts = hasOptions === false ? mainProdArg : mainProdArg.DEF;\n    const newOrProd = new Alternation({\n        definition: [],\n        idx: occurrence,\n        ignoreAmbiguities: hasOptions && mainProdArg.IGNORE_AMBIGUITIES === true,\n    });\n    if (has(mainProdArg, \"MAX_LOOKAHEAD\")) {\n        newOrProd.maxLookahead = mainProdArg.MAX_LOOKAHEAD;\n    }\n    const hasPredicates = some(alts, (currAlt) => isFunction(currAlt.GATE));\n    newOrProd.hasPredicates = hasPredicates;\n    prevProd.definition.push(newOrProd);\n    forEach(alts, (currAlt) => {\n        const currAltFlat = new Alternative({ definition: [] });\n        newOrProd.definition.push(currAltFlat);\n        if (has(currAlt, \"IGNORE_AMBIGUITIES\")) {\n            currAltFlat.ignoreAmbiguities = currAlt.IGNORE_AMBIGUITIES; // assumes end user provides the correct config value/type\n        }\n        // **implicit** ignoreAmbiguities due to usage of gate\n        else if (has(currAlt, \"GATE\")) {\n            currAltFlat.ignoreAmbiguities = true;\n        }\n        this.recordingProdStack.push(currAltFlat);\n        currAlt.ALT.call(this);\n        this.recordingProdStack.pop();\n    });\n    return RECORDING_NULL_OBJECT;\n}\nfunction getIdxSuffix(idx) {\n    return idx === 0 ? \"\" : `${idx}`;\n}\nfunction assertMethodIdxIsValid(idx) {\n    if (idx < 0 || idx > MAX_METHOD_IDX) {\n        const error = new Error(\n        // The stack trace will contain all the needed details\n        `Invalid DSL Method idx value: <${idx}>\\n\\t` +\n            `Idx value must be a none negative value smaller than ${MAX_METHOD_IDX + 1}`);\n        error.KNOWN_RECORDER_ERROR = true;\n        throw error;\n    }\n}\n//# sourceMappingURL=gast_recorder.js.map","import { clone, forEach, has, isEmpty, map, values } from \"lodash-es\";\nimport { toFastProperties } from \"@chevrotain/utils\";\nimport { computeAllProdsFollows } from \"../grammar/follow.js\";\nimport { createTokenInstance, EOF } from \"../../scan/tokens_public.js\";\nimport { defaultGrammarValidatorErrorProvider, defaultParserErrorProvider, } from \"../errors_public.js\";\nimport { resolveGrammar, validateGrammar, } from \"../grammar/gast/gast_resolver_public.js\";\nimport { Recoverable } from \"./traits/recoverable.js\";\nimport { LooksAhead } from \"./traits/looksahead.js\";\nimport { TreeBuilder } from \"./traits/tree_builder.js\";\nimport { LexerAdapter } from \"./traits/lexer_adapter.js\";\nimport { RecognizerApi } from \"./traits/recognizer_api.js\";\nimport { RecognizerEngine } from \"./traits/recognizer_engine.js\";\nimport { ErrorHandler } from \"./traits/error_handler.js\";\nimport { ContentAssist } from \"./traits/context_assist.js\";\nimport { GastRecorder } from \"./traits/gast_recorder.js\";\nimport { PerformanceTracer } from \"./traits/perf_tracer.js\";\nimport { applyMixins } from \"./utils/apply_mixins.js\";\nimport { validateLookahead } from \"../grammar/checks.js\";\nexport const END_OF_FILE = createTokenInstance(EOF, \"\", NaN, NaN, NaN, NaN, NaN, NaN);\nObject.freeze(END_OF_FILE);\nexport const DEFAULT_PARSER_CONFIG = Object.freeze({\n    recoveryEnabled: false,\n    maxLookahead: 3,\n    dynamicTokensEnabled: false,\n    outputCst: true,\n    errorMessageProvider: defaultParserErrorProvider,\n    nodeLocationTracking: \"none\",\n    traceInitPerf: false,\n    skipValidations: false,\n});\nexport const DEFAULT_RULE_CONFIG = Object.freeze({\n    recoveryValueFunc: () => undefined,\n    resyncEnabled: true,\n});\nexport var ParserDefinitionErrorType;\n(function (ParserDefinitionErrorType) {\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"INVALID_RULE_NAME\"] = 0] = \"INVALID_RULE_NAME\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"DUPLICATE_RULE_NAME\"] = 1] = \"DUPLICATE_RULE_NAME\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"INVALID_RULE_OVERRIDE\"] = 2] = \"INVALID_RULE_OVERRIDE\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"DUPLICATE_PRODUCTIONS\"] = 3] = \"DUPLICATE_PRODUCTIONS\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"UNRESOLVED_SUBRULE_REF\"] = 4] = \"UNRESOLVED_SUBRULE_REF\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"LEFT_RECURSION\"] = 5] = \"LEFT_RECURSION\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"NONE_LAST_EMPTY_ALT\"] = 6] = \"NONE_LAST_EMPTY_ALT\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"AMBIGUOUS_ALTS\"] = 7] = \"AMBIGUOUS_ALTS\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"CONFLICT_TOKENS_RULES_NAMESPACE\"] = 8] = \"CONFLICT_TOKENS_RULES_NAMESPACE\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"INVALID_TOKEN_NAME\"] = 9] = \"INVALID_TOKEN_NAME\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"NO_NON_EMPTY_LOOKAHEAD\"] = 10] = \"NO_NON_EMPTY_LOOKAHEAD\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"AMBIGUOUS_PREFIX_ALTS\"] = 11] = \"AMBIGUOUS_PREFIX_ALTS\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"TOO_MANY_ALTS\"] = 12] = \"TOO_MANY_ALTS\";\n    ParserDefinitionErrorType[ParserDefinitionErrorType[\"CUSTOM_LOOKAHEAD_VALIDATION\"] = 13] = \"CUSTOM_LOOKAHEAD_VALIDATION\";\n})(ParserDefinitionErrorType || (ParserDefinitionErrorType = {}));\nexport function EMPTY_ALT(value = undefined) {\n    return function () {\n        return value;\n    };\n}\nexport class Parser {\n    /**\n     *  @deprecated use the **instance** method with the same name instead\n     */\n    static performSelfAnalysis(parserInstance) {\n        throw Error(\"The **static** `performSelfAnalysis` method has been deprecated.\" +\n            \"\\t\\nUse the **instance** method with the same name instead.\");\n    }\n    performSelfAnalysis() {\n        this.TRACE_INIT(\"performSelfAnalysis\", () => {\n            let defErrorsMsgs;\n            this.selfAnalysisDone = true;\n            const className = this.className;\n            this.TRACE_INIT(\"toFastProps\", () => {\n                // Without this voodoo magic the parser would be x3-x4 slower\n                // It seems it is better to invoke `toFastProperties` **before**\n                // Any manipulations of the `this` object done during the recording phase.\n                toFastProperties(this);\n            });\n            this.TRACE_INIT(\"Grammar Recording\", () => {\n                try {\n                    this.enableRecording();\n                    // Building the GAST\n                    forEach(this.definedRulesNames, (currRuleName) => {\n                        const wrappedRule = this[currRuleName];\n                        const originalGrammarAction = wrappedRule[\"originalGrammarAction\"];\n                        let recordedRuleGast;\n                        this.TRACE_INIT(`${currRuleName} Rule`, () => {\n                            recordedRuleGast = this.topLevelRuleRecord(currRuleName, originalGrammarAction);\n                        });\n                        this.gastProductionsCache[currRuleName] = recordedRuleGast;\n                    });\n                }\n                finally {\n                    this.disableRecording();\n                }\n            });\n            let resolverErrors = [];\n            this.TRACE_INIT(\"Grammar Resolving\", () => {\n                resolverErrors = resolveGrammar({\n                    rules: values(this.gastProductionsCache),\n                });\n                this.definitionErrors = this.definitionErrors.concat(resolverErrors);\n            });\n            this.TRACE_INIT(\"Grammar Validations\", () => {\n                // only perform additional grammar validations IFF no resolving errors have occurred.\n                // as unresolved grammar may lead to unhandled runtime exceptions in the follow up validations.\n                if (isEmpty(resolverErrors) && this.skipValidations === false) {\n                    const validationErrors = validateGrammar({\n                        rules: values(this.gastProductionsCache),\n                        tokenTypes: values(this.tokensMap),\n                        errMsgProvider: defaultGrammarValidatorErrorProvider,\n                        grammarName: className,\n                    });\n                    const lookaheadValidationErrors = validateLookahead({\n                        lookaheadStrategy: this.lookaheadStrategy,\n                        rules: values(this.gastProductionsCache),\n                        tokenTypes: values(this.tokensMap),\n                        grammarName: className,\n                    });\n                    this.definitionErrors = this.definitionErrors.concat(validationErrors, lookaheadValidationErrors);\n                }\n            });\n            // this analysis may fail if the grammar is not perfectly valid\n            if (isEmpty(this.definitionErrors)) {\n                // The results of these computations are not needed unless error recovery is enabled.\n                if (this.recoveryEnabled) {\n                    this.TRACE_INIT(\"computeAllProdsFollows\", () => {\n                        const allFollows = computeAllProdsFollows(values(this.gastProductionsCache));\n                        this.resyncFollows = allFollows;\n                    });\n                }\n                this.TRACE_INIT(\"ComputeLookaheadFunctions\", () => {\n                    var _a, _b;\n                    (_b = (_a = this.lookaheadStrategy).initialize) === null || _b === void 0 ? void 0 : _b.call(_a, {\n                        rules: values(this.gastProductionsCache),\n                    });\n                    this.preComputeLookaheadFunctions(values(this.gastProductionsCache));\n                });\n            }\n            if (!Parser.DEFER_DEFINITION_ERRORS_HANDLING &&\n                !isEmpty(this.definitionErrors)) {\n                defErrorsMsgs = map(this.definitionErrors, (defError) => defError.message);\n                throw new Error(`Parser Definition Errors detected:\\n ${defErrorsMsgs.join(\"\\n-------------------------------\\n\")}`);\n            }\n        });\n    }\n    constructor(tokenVocabulary, config) {\n        this.definitionErrors = [];\n        this.selfAnalysisDone = false;\n        const that = this;\n        that.initErrorHandler(config);\n        that.initLexerAdapter();\n        that.initLooksAhead(config);\n        that.initRecognizerEngine(tokenVocabulary, config);\n        that.initRecoverable(config);\n        that.initTreeBuilder(config);\n        that.initContentAssist();\n        that.initGastRecorder(config);\n        that.initPerformanceTracer(config);\n        if (has(config, \"ignoredIssues\")) {\n            throw new Error(\"The <ignoredIssues> IParserConfig property has been deprecated.\\n\\t\" +\n                \"Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\\n\\t\" +\n                \"See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\\n\\t\" +\n                \"For further details.\");\n        }\n        this.skipValidations = has(config, \"skipValidations\")\n            ? config.skipValidations // casting assumes the end user passing the correct type\n            : DEFAULT_PARSER_CONFIG.skipValidations;\n    }\n}\n// Set this flag to true if you don't want the Parser to throw error when problems in it's definition are detected.\n// (normally during the parser's constructor).\n// This is a design time flag, it will not affect the runtime error handling of the parser, just design time errors,\n// for example: duplicate rule names, referencing an unresolved subrule, ect...\n// This flag should not be enabled during normal usage, it is used in special situations, for example when\n// needing to display the parser definition errors in some GUI(online playground).\nParser.DEFER_DEFINITION_ERRORS_HANDLING = false;\napplyMixins(Parser, [\n    Recoverable,\n    LooksAhead,\n    TreeBuilder,\n    LexerAdapter,\n    RecognizerEngine,\n    RecognizerApi,\n    ErrorHandler,\n    ContentAssist,\n    GastRecorder,\n    PerformanceTracer,\n]);\nexport class CstParser extends Parser {\n    constructor(tokenVocabulary, config = DEFAULT_PARSER_CONFIG) {\n        const configClone = clone(config);\n        configClone.outputCst = true;\n        super(tokenVocabulary, configClone);\n    }\n}\nexport class EmbeddedActionsParser extends Parser {\n    constructor(tokenVocabulary, config = DEFAULT_PARSER_CONFIG) {\n        const configClone = clone(config);\n        configClone.outputCst = false;\n        super(tokenVocabulary, configClone);\n    }\n}\n//# sourceMappingURL=parser.js.map","export function applyMixins(derivedCtor, baseCtors) {\n    baseCtors.forEach((baseCtor) => {\n        const baseProto = baseCtor.prototype;\n        Object.getOwnPropertyNames(baseProto).forEach((propName) => {\n            if (propName === \"constructor\") {\n                return;\n            }\n            const basePropDescriptor = Object.getOwnPropertyDescriptor(baseProto, propName);\n            // Handle Accessors\n            if (basePropDescriptor &&\n                (basePropDescriptor.get || basePropDescriptor.set)) {\n                Object.defineProperty(derivedCtor.prototype, propName, basePropDescriptor);\n            }\n            else {\n                derivedCtor.prototype[propName] = baseCtor.prototype[propName];\n            }\n        });\n    });\n}\n//# sourceMappingURL=apply_mixins.js.map","import { addNoneTerminalToCst, addTerminalToCst, setNodeLocationFull, setNodeLocationOnlyOffset, } from \"../../cst/cst.js\";\nimport { has, isUndefined, keys, noop } from \"lodash-es\";\nimport { createBaseSemanticVisitorConstructor, createBaseVisitorConstructorWithDefaults, } from \"../../cst/cst_visitor.js\";\nimport { DEFAULT_PARSER_CONFIG } from \"../parser.js\";\n/**\n * This trait is responsible for the CST building logic.\n */\nexport class TreeBuilder {\n    initTreeBuilder(config) {\n        this.CST_STACK = [];\n        // outputCst is no longer exposed/defined in the pubic API\n        this.outputCst = config.outputCst;\n        this.nodeLocationTracking = has(config, \"nodeLocationTracking\")\n            ? config.nodeLocationTracking // assumes end user provides the correct config value/type\n            : DEFAULT_PARSER_CONFIG.nodeLocationTracking;\n        if (!this.outputCst) {\n            this.cstInvocationStateUpdate = noop;\n            this.cstFinallyStateUpdate = noop;\n            this.cstPostTerminal = noop;\n            this.cstPostNonTerminal = noop;\n            this.cstPostRule = noop;\n        }\n        else {\n            if (/full/i.test(this.nodeLocationTracking)) {\n                if (this.recoveryEnabled) {\n                    this.setNodeLocationFromToken = setNodeLocationFull;\n                    this.setNodeLocationFromNode = setNodeLocationFull;\n                    this.cstPostRule = noop;\n                    this.setInitialNodeLocation = this.setInitialNodeLocationFullRecovery;\n                }\n                else {\n                    this.setNodeLocationFromToken = noop;\n                    this.setNodeLocationFromNode = noop;\n                    this.cstPostRule = this.cstPostRuleFull;\n                    this.setInitialNodeLocation = this.setInitialNodeLocationFullRegular;\n                }\n            }\n            else if (/onlyOffset/i.test(this.nodeLocationTracking)) {\n                if (this.recoveryEnabled) {\n                    this.setNodeLocationFromToken = setNodeLocationOnlyOffset;\n                    this.setNodeLocationFromNode = setNodeLocationOnlyOffset;\n                    this.cstPostRule = noop;\n                    this.setInitialNodeLocation =\n                        this.setInitialNodeLocationOnlyOffsetRecovery;\n                }\n                else {\n                    this.setNodeLocationFromToken = noop;\n                    this.setNodeLocationFromNode = noop;\n                    this.cstPostRule = this.cstPostRuleOnlyOffset;\n                    this.setInitialNodeLocation =\n                        this.setInitialNodeLocationOnlyOffsetRegular;\n                }\n            }\n            else if (/none/i.test(this.nodeLocationTracking)) {\n                this.setNodeLocationFromToken = noop;\n                this.setNodeLocationFromNode = noop;\n                this.cstPostRule = noop;\n                this.setInitialNodeLocation = noop;\n            }\n            else {\n                throw Error(`Invalid <nodeLocationTracking> config option: \"${config.nodeLocationTracking}\"`);\n            }\n        }\n    }\n    setInitialNodeLocationOnlyOffsetRecovery(cstNode) {\n        cstNode.location = {\n            startOffset: NaN,\n            endOffset: NaN,\n        };\n    }\n    setInitialNodeLocationOnlyOffsetRegular(cstNode) {\n        cstNode.location = {\n            // without error recovery the starting Location of a new CstNode is guaranteed\n            // To be the next Token's startOffset (for valid inputs).\n            // For invalid inputs there won't be any CSTOutput so this potential\n            // inaccuracy does not matter\n            startOffset: this.LA(1).startOffset,\n            endOffset: NaN,\n        };\n    }\n    setInitialNodeLocationFullRecovery(cstNode) {\n        cstNode.location = {\n            startOffset: NaN,\n            startLine: NaN,\n            startColumn: NaN,\n            endOffset: NaN,\n            endLine: NaN,\n            endColumn: NaN,\n        };\n    }\n    /**\n       *  @see setInitialNodeLocationOnlyOffsetRegular for explanation why this work\n  \n       * @param cstNode\n       */\n    setInitialNodeLocationFullRegular(cstNode) {\n        const nextToken = this.LA(1);\n        cstNode.location = {\n            startOffset: nextToken.startOffset,\n            startLine: nextToken.startLine,\n            startColumn: nextToken.startColumn,\n            endOffset: NaN,\n            endLine: NaN,\n            endColumn: NaN,\n        };\n    }\n    cstInvocationStateUpdate(fullRuleName) {\n        const cstNode = {\n            name: fullRuleName,\n            children: Object.create(null),\n        };\n        this.setInitialNodeLocation(cstNode);\n        this.CST_STACK.push(cstNode);\n    }\n    cstFinallyStateUpdate() {\n        this.CST_STACK.pop();\n    }\n    cstPostRuleFull(ruleCstNode) {\n        // casts to `required<CstNodeLocation>` are safe because `cstPostRuleFull` should only be invoked when full location is enabled\n        const prevToken = this.LA(0);\n        const loc = ruleCstNode.location;\n        // If this condition is true it means we consumed at least one Token\n        // In this CstNode.\n        if (loc.startOffset <= prevToken.startOffset === true) {\n            loc.endOffset = prevToken.endOffset;\n            loc.endLine = prevToken.endLine;\n            loc.endColumn = prevToken.endColumn;\n        }\n        // \"empty\" CstNode edge case\n        else {\n            loc.startOffset = NaN;\n            loc.startLine = NaN;\n            loc.startColumn = NaN;\n        }\n    }\n    cstPostRuleOnlyOffset(ruleCstNode) {\n        const prevToken = this.LA(0);\n        // `location' is not null because `cstPostRuleOnlyOffset` will only be invoked when location tracking is enabled.\n        const loc = ruleCstNode.location;\n        // If this condition is true it means we consumed at least one Token\n        // In this CstNode.\n        if (loc.startOffset <= prevToken.startOffset === true) {\n            loc.endOffset = prevToken.endOffset;\n        }\n        // \"empty\" CstNode edge case\n        else {\n            loc.startOffset = NaN;\n        }\n    }\n    cstPostTerminal(key, consumedToken) {\n        const rootCst = this.CST_STACK[this.CST_STACK.length - 1];\n        addTerminalToCst(rootCst, consumedToken, key);\n        // This is only used when **both** error recovery and CST Output are enabled.\n        this.setNodeLocationFromToken(rootCst.location, consumedToken);\n    }\n    cstPostNonTerminal(ruleCstResult, ruleName) {\n        const preCstNode = this.CST_STACK[this.CST_STACK.length - 1];\n        addNoneTerminalToCst(preCstNode, ruleName, ruleCstResult);\n        // This is only used when **both** error recovery and CST Output are enabled.\n        this.setNodeLocationFromNode(preCstNode.location, ruleCstResult.location);\n    }\n    getBaseCstVisitorConstructor() {\n        if (isUndefined(this.baseCstVisitorConstructor)) {\n            const newBaseCstVisitorConstructor = createBaseSemanticVisitorConstructor(this.className, keys(this.gastProductionsCache));\n            this.baseCstVisitorConstructor = newBaseCstVisitorConstructor;\n            return newBaseCstVisitorConstructor;\n        }\n        return this.baseCstVisitorConstructor;\n    }\n    getBaseCstVisitorConstructorWithDefaults() {\n        if (isUndefined(this.baseCstVisitorWithDefaultsConstructor)) {\n            const newConstructor = createBaseVisitorConstructorWithDefaults(this.className, keys(this.gastProductionsCache), this.getBaseCstVisitorConstructor());\n            this.baseCstVisitorWithDefaultsConstructor = newConstructor;\n            return newConstructor;\n        }\n        return this.baseCstVisitorWithDefaultsConstructor;\n    }\n    getLastExplicitRuleShortName() {\n        const ruleStack = this.RULE_STACK;\n        return ruleStack[ruleStack.length - 1];\n    }\n    getPreviousExplicitRuleShortName() {\n        const ruleStack = this.RULE_STACK;\n        return ruleStack[ruleStack.length - 2];\n    }\n    getLastExplicitRuleOccurrenceIndex() {\n        const occurrenceStack = this.RULE_OCCURRENCE_STACK;\n        return occurrenceStack[occurrenceStack.length - 1];\n    }\n}\n//# sourceMappingURL=tree_builder.js.map","import { END_OF_FILE } from \"../parser.js\";\n/**\n * Trait responsible abstracting over the interaction with Lexer output (Token vector).\n *\n * This could be generalized to support other kinds of lexers, e.g.\n * - Just in Time Lexing / Lexer-Less parsing.\n * - Streaming Lexer.\n */\nexport class LexerAdapter {\n    initLexerAdapter() {\n        this.tokVector = [];\n        this.tokVectorLength = 0;\n        this.currIdx = -1;\n    }\n    set input(newInput) {\n        // @ts-ignore - `this parameter` not supported in setters/getters\n        //   - https://www.typescriptlang.org/docs/handbook/functions.html#this-parameters\n        if (this.selfAnalysisDone !== true) {\n            throw Error(`Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.`);\n        }\n        // @ts-ignore - `this parameter` not supported in setters/getters\n        //   - https://www.typescriptlang.org/docs/handbook/functions.html#this-parameters\n        this.reset();\n        this.tokVector = newInput;\n        this.tokVectorLength = newInput.length;\n    }\n    get input() {\n        return this.tokVector;\n    }\n    // skips a token and returns the next token\n    SKIP_TOKEN() {\n        if (this.currIdx <= this.tokVector.length - 2) {\n            this.consumeToken();\n            return this.LA(1);\n        }\n        else {\n            return END_OF_FILE;\n        }\n    }\n    // Lexer (accessing Token vector) related methods which can be overridden to implement lazy lexers\n    // or lexers dependent on parser context.\n    LA(howMuch) {\n        const soughtIdx = this.currIdx + howMuch;\n        if (soughtIdx < 0 || this.tokVectorLength <= soughtIdx) {\n            return END_OF_FILE;\n        }\n        else {\n            return this.tokVector[soughtIdx];\n        }\n    }\n    consumeToken() {\n        this.currIdx++;\n    }\n    exportLexerState() {\n        return this.currIdx;\n    }\n    importLexerState(newState) {\n        this.currIdx = newState;\n    }\n    resetLexerState() {\n        this.currIdx = -1;\n    }\n    moveToTerminatedState() {\n        this.currIdx = this.tokVector.length - 1;\n    }\n    getLexerPosition() {\n        return this.exportLexerState();\n    }\n}\n//# sourceMappingURL=lexer_adapter.js.map","import { clone, every, flatten, has, isArray, isEmpty, isObject, reduce, uniq, values, } from \"lodash-es\";\nimport { AT_LEAST_ONE_IDX, AT_LEAST_ONE_SEP_IDX, BITS_FOR_METHOD_TYPE, BITS_FOR_OCCURRENCE_IDX, MANY_IDX, MANY_SEP_IDX, OPTION_IDX, OR_IDX, } from \"../../grammar/keys.js\";\nimport { isRecognitionException, MismatchedTokenException, NotAllInputParsedException, } from \"../../exceptions_public.js\";\nimport { PROD_TYPE } from \"../../grammar/lookahead.js\";\nimport { NextTerminalAfterAtLeastOneSepWalker, NextTerminalAfterAtLeastOneWalker, NextTerminalAfterManySepWalker, NextTerminalAfterManyWalker, } from \"../../grammar/interpreter.js\";\nimport { DEFAULT_RULE_CONFIG } from \"../parser.js\";\nimport { IN_RULE_RECOVERY_EXCEPTION } from \"./recoverable.js\";\nimport { EOF } from \"../../../scan/tokens_public.js\";\nimport { augmentTokenTypes, isTokenType, tokenStructuredMatcher, tokenStructuredMatcherNoCategories, } from \"../../../scan/tokens.js\";\n/**\n * This trait is responsible for the runtime parsing engine\n * Used by the official API (recognizer_api.ts)\n */\nexport class RecognizerEngine {\n    initRecognizerEngine(tokenVocabulary, config) {\n        this.className = this.constructor.name;\n        // TODO: would using an ES6 Map or plain object be faster (CST building scenario)\n        this.shortRuleNameToFull = {};\n        this.fullRuleNameToShort = {};\n        this.ruleShortNameIdx = 256;\n        this.tokenMatcher = tokenStructuredMatcherNoCategories;\n        this.subruleIdx = 0;\n        this.definedRulesNames = [];\n        this.tokensMap = {};\n        this.isBackTrackingStack = [];\n        this.RULE_STACK = [];\n        this.RULE_OCCURRENCE_STACK = [];\n        this.gastProductionsCache = {};\n        if (has(config, \"serializedGrammar\")) {\n            throw Error(\"The Parser's configuration can no longer contain a <serializedGrammar> property.\\n\" +\n                \"\\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0\\n\" +\n                \"\\tFor Further details.\");\n        }\n        if (isArray(tokenVocabulary)) {\n            // This only checks for Token vocabularies provided as arrays.\n            // That is good enough because the main objective is to detect users of pre-V4.0 APIs\n            // rather than all edge cases of empty Token vocabularies.\n            if (isEmpty(tokenVocabulary)) {\n                throw Error(\"A Token Vocabulary cannot be empty.\\n\" +\n                    \"\\tNote that the first argument for the parser constructor\\n\" +\n                    \"\\tis no longer a Token vector (since v4.0).\");\n            }\n            if (typeof tokenVocabulary[0].startOffset === \"number\") {\n                throw Error(\"The Parser constructor no longer accepts a token vector as the first argument.\\n\" +\n                    \"\\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0\\n\" +\n                    \"\\tFor Further details.\");\n            }\n        }\n        if (isArray(tokenVocabulary)) {\n            this.tokensMap = reduce(tokenVocabulary, (acc, tokType) => {\n                acc[tokType.name] = tokType;\n                return acc;\n            }, {});\n        }\n        else if (has(tokenVocabulary, \"modes\") &&\n            every(flatten(values(tokenVocabulary.modes)), isTokenType)) {\n            const allTokenTypes = flatten(values(tokenVocabulary.modes));\n            const uniqueTokens = uniq(allTokenTypes);\n            this.tokensMap = reduce(uniqueTokens, (acc, tokType) => {\n                acc[tokType.name] = tokType;\n                return acc;\n            }, {});\n        }\n        else if (isObject(tokenVocabulary)) {\n            this.tokensMap = clone(tokenVocabulary);\n        }\n        else {\n            throw new Error(\"<tokensDictionary> argument must be An Array of Token constructors,\" +\n                \" A dictionary of Token constructors or an IMultiModeLexerDefinition\");\n        }\n        // always add EOF to the tokenNames -> constructors map. it is useful to assure all the input has been\n        // parsed with a clear error message (\"expecting EOF but found ...\")\n        this.tokensMap[\"EOF\"] = EOF;\n        const allTokenTypes = has(tokenVocabulary, \"modes\")\n            ? flatten(values(tokenVocabulary.modes))\n            : values(tokenVocabulary);\n        const noTokenCategoriesUsed = every(allTokenTypes, (tokenConstructor) => isEmpty(tokenConstructor.categoryMatches));\n        this.tokenMatcher = noTokenCategoriesUsed\n            ? tokenStructuredMatcherNoCategories\n            : tokenStructuredMatcher;\n        // Because ES2015+ syntax should be supported for creating Token classes\n        // We cannot assume that the Token classes were created using the \"extendToken\" utilities\n        // Therefore we must augment the Token classes both on Lexer initialization and on Parser initialization\n        augmentTokenTypes(values(this.tokensMap));\n    }\n    defineRule(ruleName, impl, config) {\n        if (this.selfAnalysisDone) {\n            throw Error(`Grammar rule <${ruleName}> may not be defined after the 'performSelfAnalysis' method has been called'\\n` +\n                `Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);\n        }\n        const resyncEnabled = has(config, \"resyncEnabled\")\n            ? config.resyncEnabled // assumes end user provides the correct config value/type\n            : DEFAULT_RULE_CONFIG.resyncEnabled;\n        const recoveryValueFunc = has(config, \"recoveryValueFunc\")\n            ? config.recoveryValueFunc // assumes end user provides the correct config value/type\n            : DEFAULT_RULE_CONFIG.recoveryValueFunc;\n        // performance optimization: Use small integers as keys for the longer human readable \"full\" rule names.\n        // this greatly improves Map access time (as much as 8% for some performance benchmarks).\n        const shortName = this.ruleShortNameIdx << (BITS_FOR_METHOD_TYPE + BITS_FOR_OCCURRENCE_IDX);\n        this.ruleShortNameIdx++;\n        this.shortRuleNameToFull[shortName] = ruleName;\n        this.fullRuleNameToShort[ruleName] = shortName;\n        let invokeRuleWithTry;\n        // Micro optimization, only check the condition **once** on rule definition\n        // instead of **every single** rule invocation.\n        if (this.outputCst === true) {\n            invokeRuleWithTry = function invokeRuleWithTry(...args) {\n                try {\n                    this.ruleInvocationStateUpdate(shortName, ruleName, this.subruleIdx);\n                    impl.apply(this, args);\n                    const cst = this.CST_STACK[this.CST_STACK.length - 1];\n                    this.cstPostRule(cst);\n                    return cst;\n                }\n                catch (e) {\n                    return this.invokeRuleCatch(e, resyncEnabled, recoveryValueFunc);\n                }\n                finally {\n                    this.ruleFinallyStateUpdate();\n                }\n            };\n        }\n        else {\n            invokeRuleWithTry = function invokeRuleWithTryCst(...args) {\n                try {\n                    this.ruleInvocationStateUpdate(shortName, ruleName, this.subruleIdx);\n                    return impl.apply(this, args);\n                }\n                catch (e) {\n                    return this.invokeRuleCatch(e, resyncEnabled, recoveryValueFunc);\n                }\n                finally {\n                    this.ruleFinallyStateUpdate();\n                }\n            };\n        }\n        const wrappedGrammarRule = Object.assign(invokeRuleWithTry, { ruleName, originalGrammarAction: impl });\n        return wrappedGrammarRule;\n    }\n    invokeRuleCatch(e, resyncEnabledConfig, recoveryValueFunc) {\n        const isFirstInvokedRule = this.RULE_STACK.length === 1;\n        // note the reSync is always enabled for the first rule invocation, because we must always be able to\n        // reSync with EOF and just output some INVALID ParseTree\n        // during backtracking reSync recovery is disabled, otherwise we can't be certain the backtracking\n        // path is really the most valid one\n        const reSyncEnabled = resyncEnabledConfig && !this.isBackTracking() && this.recoveryEnabled;\n        if (isRecognitionException(e)) {\n            const recogError = e;\n            if (reSyncEnabled) {\n                const reSyncTokType = this.findReSyncTokenType();\n                if (this.isInCurrentRuleReSyncSet(reSyncTokType)) {\n                    recogError.resyncedTokens = this.reSyncTo(reSyncTokType);\n                    if (this.outputCst) {\n                        const partialCstResult = this.CST_STACK[this.CST_STACK.length - 1];\n                        partialCstResult.recoveredNode = true;\n                        return partialCstResult;\n                    }\n                    else {\n                        return recoveryValueFunc(e);\n                    }\n                }\n                else {\n                    if (this.outputCst) {\n                        const partialCstResult = this.CST_STACK[this.CST_STACK.length - 1];\n                        partialCstResult.recoveredNode = true;\n                        recogError.partialCstResult = partialCstResult;\n                    }\n                    // to be handled Further up the call stack\n                    throw recogError;\n                }\n            }\n            else if (isFirstInvokedRule) {\n                // otherwise a Redundant input error will be created as well and we cannot guarantee that this is indeed the case\n                this.moveToTerminatedState();\n                // the parser should never throw one of its own errors outside its flow.\n                // even if error recovery is disabled\n                return recoveryValueFunc(e);\n            }\n            else {\n                // to be recovered Further up the call stack\n                throw recogError;\n            }\n        }\n        else {\n            // some other Error type which we don't know how to handle (for example a built in JavaScript Error)\n            throw e;\n        }\n    }\n    // Implementation of parsing DSL\n    optionInternal(actionORMethodDef, occurrence) {\n        const key = this.getKeyForAutomaticLookahead(OPTION_IDX, occurrence);\n        return this.optionInternalLogic(actionORMethodDef, occurrence, key);\n    }\n    optionInternalLogic(actionORMethodDef, occurrence, key) {\n        let lookAheadFunc = this.getLaFuncFromCache(key);\n        let action;\n        if (typeof actionORMethodDef !== \"function\") {\n            action = actionORMethodDef.DEF;\n            const predicate = actionORMethodDef.GATE;\n            // predicate present\n            if (predicate !== undefined) {\n                const orgLookaheadFunction = lookAheadFunc;\n                lookAheadFunc = () => {\n                    return predicate.call(this) && orgLookaheadFunction.call(this);\n                };\n            }\n        }\n        else {\n            action = actionORMethodDef;\n        }\n        if (lookAheadFunc.call(this) === true) {\n            return action.call(this);\n        }\n        return undefined;\n    }\n    atLeastOneInternal(prodOccurrence, actionORMethodDef) {\n        const laKey = this.getKeyForAutomaticLookahead(AT_LEAST_ONE_IDX, prodOccurrence);\n        return this.atLeastOneInternalLogic(prodOccurrence, actionORMethodDef, laKey);\n    }\n    atLeastOneInternalLogic(prodOccurrence, actionORMethodDef, key) {\n        let lookAheadFunc = this.getLaFuncFromCache(key);\n        let action;\n        if (typeof actionORMethodDef !== \"function\") {\n            action = actionORMethodDef.DEF;\n            const predicate = actionORMethodDef.GATE;\n            // predicate present\n            if (predicate !== undefined) {\n                const orgLookaheadFunction = lookAheadFunc;\n                lookAheadFunc = () => {\n                    return predicate.call(this) && orgLookaheadFunction.call(this);\n                };\n            }\n        }\n        else {\n            action = actionORMethodDef;\n        }\n        if (lookAheadFunc.call(this) === true) {\n            let notStuck = this.doSingleRepetition(action);\n            while (lookAheadFunc.call(this) === true &&\n                notStuck === true) {\n                notStuck = this.doSingleRepetition(action);\n            }\n        }\n        else {\n            throw this.raiseEarlyExitException(prodOccurrence, PROD_TYPE.REPETITION_MANDATORY, actionORMethodDef.ERR_MSG);\n        }\n        // note that while it may seem that this can cause an error because by using a recursive call to\n        // AT_LEAST_ONE we change the grammar to AT_LEAST_TWO, AT_LEAST_THREE ... , the possible recursive call\n        // from the tryInRepetitionRecovery(...) will only happen IFF there really are TWO/THREE/.... items.\n        // Performance optimization: \"attemptInRepetitionRecovery\" will be defined as NOOP unless recovery is enabled\n        this.attemptInRepetitionRecovery(this.atLeastOneInternal, [prodOccurrence, actionORMethodDef], lookAheadFunc, AT_LEAST_ONE_IDX, prodOccurrence, NextTerminalAfterAtLeastOneWalker);\n    }\n    atLeastOneSepFirstInternal(prodOccurrence, options) {\n        const laKey = this.getKeyForAutomaticLookahead(AT_LEAST_ONE_SEP_IDX, prodOccurrence);\n        this.atLeastOneSepFirstInternalLogic(prodOccurrence, options, laKey);\n    }\n    atLeastOneSepFirstInternalLogic(prodOccurrence, options, key) {\n        const action = options.DEF;\n        const separator = options.SEP;\n        const firstIterationLookaheadFunc = this.getLaFuncFromCache(key);\n        // 1st iteration\n        if (firstIterationLookaheadFunc.call(this) === true) {\n            action.call(this);\n            //  TODO: Optimization can move this function construction into \"attemptInRepetitionRecovery\"\n            //  because it is only needed in error recovery scenarios.\n            const separatorLookAheadFunc = () => {\n                return this.tokenMatcher(this.LA(1), separator);\n            };\n            // 2nd..nth iterations\n            while (this.tokenMatcher(this.LA(1), separator) === true) {\n                // note that this CONSUME will never enter recovery because\n                // the separatorLookAheadFunc checks that the separator really does exist.\n                this.CONSUME(separator);\n                // No need for checking infinite loop here due to consuming the separator.\n                action.call(this);\n            }\n            // Performance optimization: \"attemptInRepetitionRecovery\" will be defined as NOOP unless recovery is enabled\n            this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal, [\n                prodOccurrence,\n                separator,\n                separatorLookAheadFunc,\n                action,\n                NextTerminalAfterAtLeastOneSepWalker,\n            ], separatorLookAheadFunc, AT_LEAST_ONE_SEP_IDX, prodOccurrence, NextTerminalAfterAtLeastOneSepWalker);\n        }\n        else {\n            throw this.raiseEarlyExitException(prodOccurrence, PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR, options.ERR_MSG);\n        }\n    }\n    manyInternal(prodOccurrence, actionORMethodDef) {\n        const laKey = this.getKeyForAutomaticLookahead(MANY_IDX, prodOccurrence);\n        return this.manyInternalLogic(prodOccurrence, actionORMethodDef, laKey);\n    }\n    manyInternalLogic(prodOccurrence, actionORMethodDef, key) {\n        let lookaheadFunction = this.getLaFuncFromCache(key);\n        let action;\n        if (typeof actionORMethodDef !== \"function\") {\n            action = actionORMethodDef.DEF;\n            const predicate = actionORMethodDef.GATE;\n            // predicate present\n            if (predicate !== undefined) {\n                const orgLookaheadFunction = lookaheadFunction;\n                lookaheadFunction = () => {\n                    return predicate.call(this) && orgLookaheadFunction.call(this);\n                };\n            }\n        }\n        else {\n            action = actionORMethodDef;\n        }\n        let notStuck = true;\n        while (lookaheadFunction.call(this) === true && notStuck === true) {\n            notStuck = this.doSingleRepetition(action);\n        }\n        // Performance optimization: \"attemptInRepetitionRecovery\" will be defined as NOOP unless recovery is enabled\n        this.attemptInRepetitionRecovery(this.manyInternal, [prodOccurrence, actionORMethodDef], lookaheadFunction, MANY_IDX, prodOccurrence, NextTerminalAfterManyWalker, \n        // The notStuck parameter is only relevant when \"attemptInRepetitionRecovery\"\n        // is invoked from manyInternal, in the MANY_SEP case and AT_LEAST_ONE[_SEP]\n        // An infinite loop cannot occur as:\n        // - Either the lookahead is guaranteed to consume something (Single Token Separator)\n        // - AT_LEAST_ONE by definition is guaranteed to consume something (or error out).\n        notStuck);\n    }\n    manySepFirstInternal(prodOccurrence, options) {\n        const laKey = this.getKeyForAutomaticLookahead(MANY_SEP_IDX, prodOccurrence);\n        this.manySepFirstInternalLogic(prodOccurrence, options, laKey);\n    }\n    manySepFirstInternalLogic(prodOccurrence, options, key) {\n        const action = options.DEF;\n        const separator = options.SEP;\n        const firstIterationLaFunc = this.getLaFuncFromCache(key);\n        // 1st iteration\n        if (firstIterationLaFunc.call(this) === true) {\n            action.call(this);\n            const separatorLookAheadFunc = () => {\n                return this.tokenMatcher(this.LA(1), separator);\n            };\n            // 2nd..nth iterations\n            while (this.tokenMatcher(this.LA(1), separator) === true) {\n                // note that this CONSUME will never enter recovery because\n                // the separatorLookAheadFunc checks that the separator really does exist.\n                this.CONSUME(separator);\n                // No need for checking infinite loop here due to consuming the separator.\n                action.call(this);\n            }\n            // Performance optimization: \"attemptInRepetitionRecovery\" will be defined as NOOP unless recovery is enabled\n            this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal, [\n                prodOccurrence,\n                separator,\n                separatorLookAheadFunc,\n                action,\n                NextTerminalAfterManySepWalker,\n            ], separatorLookAheadFunc, MANY_SEP_IDX, prodOccurrence, NextTerminalAfterManySepWalker);\n        }\n    }\n    repetitionSepSecondInternal(prodOccurrence, separator, separatorLookAheadFunc, action, nextTerminalAfterWalker) {\n        while (separatorLookAheadFunc()) {\n            // note that this CONSUME will never enter recovery because\n            // the separatorLookAheadFunc checks that the separator really does exist.\n            this.CONSUME(separator);\n            action.call(this);\n        }\n        // we can only arrive to this function after an error\n        // has occurred (hence the name 'second') so the following\n        // IF will always be entered, its possible to remove it...\n        // however it is kept to avoid confusion and be consistent.\n        // Performance optimization: \"attemptInRepetitionRecovery\" will be defined as NOOP unless recovery is enabled\n        /* istanbul ignore else */\n        this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal, [\n            prodOccurrence,\n            separator,\n            separatorLookAheadFunc,\n            action,\n            nextTerminalAfterWalker,\n        ], separatorLookAheadFunc, AT_LEAST_ONE_SEP_IDX, prodOccurrence, nextTerminalAfterWalker);\n    }\n    doSingleRepetition(action) {\n        const beforeIteration = this.getLexerPosition();\n        action.call(this);\n        const afterIteration = this.getLexerPosition();\n        // This boolean will indicate if this repetition progressed\n        // or if we are \"stuck\" (potential infinite loop in the repetition).\n        return afterIteration > beforeIteration;\n    }\n    orInternal(altsOrOpts, occurrence) {\n        const laKey = this.getKeyForAutomaticLookahead(OR_IDX, occurrence);\n        const alts = isArray(altsOrOpts) ? altsOrOpts : altsOrOpts.DEF;\n        const laFunc = this.getLaFuncFromCache(laKey);\n        const altIdxToTake = laFunc.call(this, alts);\n        if (altIdxToTake !== undefined) {\n            const chosenAlternative = alts[altIdxToTake];\n            return chosenAlternative.ALT.call(this);\n        }\n        this.raiseNoAltException(occurrence, altsOrOpts.ERR_MSG);\n    }\n    ruleFinallyStateUpdate() {\n        this.RULE_STACK.pop();\n        this.RULE_OCCURRENCE_STACK.pop();\n        // NOOP when cst is disabled\n        this.cstFinallyStateUpdate();\n        if (this.RULE_STACK.length === 0 && this.isAtEndOfInput() === false) {\n            const firstRedundantTok = this.LA(1);\n            const errMsg = this.errorMessageProvider.buildNotAllInputParsedMessage({\n                firstRedundant: firstRedundantTok,\n                ruleName: this.getCurrRuleFullName(),\n            });\n            this.SAVE_ERROR(new NotAllInputParsedException(errMsg, firstRedundantTok));\n        }\n    }\n    subruleInternal(ruleToCall, idx, options) {\n        let ruleResult;\n        try {\n            const args = options !== undefined ? options.ARGS : undefined;\n            this.subruleIdx = idx;\n            ruleResult = ruleToCall.apply(this, args);\n            this.cstPostNonTerminal(ruleResult, options !== undefined && options.LABEL !== undefined\n                ? options.LABEL\n                : ruleToCall.ruleName);\n            return ruleResult;\n        }\n        catch (e) {\n            throw this.subruleInternalError(e, options, ruleToCall.ruleName);\n        }\n    }\n    subruleInternalError(e, options, ruleName) {\n        if (isRecognitionException(e) && e.partialCstResult !== undefined) {\n            this.cstPostNonTerminal(e.partialCstResult, options !== undefined && options.LABEL !== undefined\n                ? options.LABEL\n                : ruleName);\n            delete e.partialCstResult;\n        }\n        throw e;\n    }\n    consumeInternal(tokType, idx, options) {\n        let consumedToken;\n        try {\n            const nextToken = this.LA(1);\n            if (this.tokenMatcher(nextToken, tokType) === true) {\n                this.consumeToken();\n                consumedToken = nextToken;\n            }\n            else {\n                this.consumeInternalError(tokType, nextToken, options);\n            }\n        }\n        catch (eFromConsumption) {\n            consumedToken = this.consumeInternalRecovery(tokType, idx, eFromConsumption);\n        }\n        this.cstPostTerminal(options !== undefined && options.LABEL !== undefined\n            ? options.LABEL\n            : tokType.name, consumedToken);\n        return consumedToken;\n    }\n    consumeInternalError(tokType, nextToken, options) {\n        let msg;\n        const previousToken = this.LA(0);\n        if (options !== undefined && options.ERR_MSG) {\n            msg = options.ERR_MSG;\n        }\n        else {\n            msg = this.errorMessageProvider.buildMismatchTokenMessage({\n                expected: tokType,\n                actual: nextToken,\n                previous: previousToken,\n                ruleName: this.getCurrRuleFullName(),\n            });\n        }\n        throw this.SAVE_ERROR(new MismatchedTokenException(msg, nextToken, previousToken));\n    }\n    consumeInternalRecovery(tokType, idx, eFromConsumption) {\n        // no recovery allowed during backtracking, otherwise backtracking may recover invalid syntax and accept it\n        // but the original syntax could have been parsed successfully without any backtracking + recovery\n        if (this.recoveryEnabled &&\n            // TODO: more robust checking of the exception type. Perhaps Typescript extending expressions?\n            eFromConsumption.name === \"MismatchedTokenException\" &&\n            !this.isBackTracking()) {\n            const follows = this.getFollowsForInRuleRecovery(tokType, idx);\n            try {\n                return this.tryInRuleRecovery(tokType, follows);\n            }\n            catch (eFromInRuleRecovery) {\n                if (eFromInRuleRecovery.name === IN_RULE_RECOVERY_EXCEPTION) {\n                    // failed in RuleRecovery.\n                    // throw the original error in order to trigger reSync error recovery\n                    throw eFromConsumption;\n                }\n                else {\n                    throw eFromInRuleRecovery;\n                }\n            }\n        }\n        else {\n            throw eFromConsumption;\n        }\n    }\n    saveRecogState() {\n        // errors is a getter which will clone the errors array\n        const savedErrors = this.errors;\n        const savedRuleStack = clone(this.RULE_STACK);\n        return {\n            errors: savedErrors,\n            lexerState: this.exportLexerState(),\n            RULE_STACK: savedRuleStack,\n            CST_STACK: this.CST_STACK,\n        };\n    }\n    reloadRecogState(newState) {\n        this.errors = newState.errors;\n        this.importLexerState(newState.lexerState);\n        this.RULE_STACK = newState.RULE_STACK;\n    }\n    ruleInvocationStateUpdate(shortName, fullName, idxInCallingRule) {\n        this.RULE_OCCURRENCE_STACK.push(idxInCallingRule);\n        this.RULE_STACK.push(shortName);\n        // NOOP when cst is disabled\n        this.cstInvocationStateUpdate(fullName);\n    }\n    isBackTracking() {\n        return this.isBackTrackingStack.length !== 0;\n    }\n    getCurrRuleFullName() {\n        const shortName = this.getLastExplicitRuleShortName();\n        return this.shortRuleNameToFull[shortName];\n    }\n    shortRuleNameToFullName(shortName) {\n        return this.shortRuleNameToFull[shortName];\n    }\n    isAtEndOfInput() {\n        return this.tokenMatcher(this.LA(1), EOF);\n    }\n    reset() {\n        this.resetLexerState();\n        this.subruleIdx = 0;\n        this.isBackTrackingStack = [];\n        this.errors = [];\n        this.RULE_STACK = [];\n        // TODO: extract a specific reset for TreeBuilder trait\n        this.CST_STACK = [];\n        this.RULE_OCCURRENCE_STACK = [];\n    }\n}\n//# sourceMappingURL=recognizer_engine.js.map","import { includes, values } from \"lodash-es\";\nimport { isRecognitionException } from \"../../exceptions_public.js\";\nimport { DEFAULT_RULE_CONFIG, ParserDefinitionErrorType } from \"../parser.js\";\nimport { defaultGrammarValidatorErrorProvider } from \"../../errors_public.js\";\nimport { validateRuleIsOverridden } from \"../../grammar/checks.js\";\nimport { serializeGrammar } from \"@chevrotain/gast\";\n/**\n * This trait is responsible for implementing the public API\n * for defining Chevrotain parsers, i.e:\n * - CONSUME\n * - RULE\n * - OPTION\n * - ...\n */\nexport class RecognizerApi {\n    ACTION(impl) {\n        return impl.call(this);\n    }\n    consume(idx, tokType, options) {\n        return this.consumeInternal(tokType, idx, options);\n    }\n    subrule(idx, ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, idx, options);\n    }\n    option(idx, actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, idx);\n    }\n    or(idx, altsOrOpts) {\n        return this.orInternal(altsOrOpts, idx);\n    }\n    many(idx, actionORMethodDef) {\n        return this.manyInternal(idx, actionORMethodDef);\n    }\n    atLeastOne(idx, actionORMethodDef) {\n        return this.atLeastOneInternal(idx, actionORMethodDef);\n    }\n    CONSUME(tokType, options) {\n        return this.consumeInternal(tokType, 0, options);\n    }\n    CONSUME1(tokType, options) {\n        return this.consumeInternal(tokType, 1, options);\n    }\n    CONSUME2(tokType, options) {\n        return this.consumeInternal(tokType, 2, options);\n    }\n    CONSUME3(tokType, options) {\n        return this.consumeInternal(tokType, 3, options);\n    }\n    CONSUME4(tokType, options) {\n        return this.consumeInternal(tokType, 4, options);\n    }\n    CONSUME5(tokType, options) {\n        return this.consumeInternal(tokType, 5, options);\n    }\n    CONSUME6(tokType, options) {\n        return this.consumeInternal(tokType, 6, options);\n    }\n    CONSUME7(tokType, options) {\n        return this.consumeInternal(tokType, 7, options);\n    }\n    CONSUME8(tokType, options) {\n        return this.consumeInternal(tokType, 8, options);\n    }\n    CONSUME9(tokType, options) {\n        return this.consumeInternal(tokType, 9, options);\n    }\n    SUBRULE(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 0, options);\n    }\n    SUBRULE1(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 1, options);\n    }\n    SUBRULE2(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 2, options);\n    }\n    SUBRULE3(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 3, options);\n    }\n    SUBRULE4(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 4, options);\n    }\n    SUBRULE5(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 5, options);\n    }\n    SUBRULE6(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 6, options);\n    }\n    SUBRULE7(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 7, options);\n    }\n    SUBRULE8(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 8, options);\n    }\n    SUBRULE9(ruleToCall, options) {\n        return this.subruleInternal(ruleToCall, 9, options);\n    }\n    OPTION(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 0);\n    }\n    OPTION1(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 1);\n    }\n    OPTION2(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 2);\n    }\n    OPTION3(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 3);\n    }\n    OPTION4(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 4);\n    }\n    OPTION5(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 5);\n    }\n    OPTION6(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 6);\n    }\n    OPTION7(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 7);\n    }\n    OPTION8(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 8);\n    }\n    OPTION9(actionORMethodDef) {\n        return this.optionInternal(actionORMethodDef, 9);\n    }\n    OR(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 0);\n    }\n    OR1(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 1);\n    }\n    OR2(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 2);\n    }\n    OR3(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 3);\n    }\n    OR4(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 4);\n    }\n    OR5(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 5);\n    }\n    OR6(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 6);\n    }\n    OR7(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 7);\n    }\n    OR8(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 8);\n    }\n    OR9(altsOrOpts) {\n        return this.orInternal(altsOrOpts, 9);\n    }\n    MANY(actionORMethodDef) {\n        this.manyInternal(0, actionORMethodDef);\n    }\n    MANY1(actionORMethodDef) {\n        this.manyInternal(1, actionORMethodDef);\n    }\n    MANY2(actionORMethodDef) {\n        this.manyInternal(2, actionORMethodDef);\n    }\n    MANY3(actionORMethodDef) {\n        this.manyInternal(3, actionORMethodDef);\n    }\n    MANY4(actionORMethodDef) {\n        this.manyInternal(4, actionORMethodDef);\n    }\n    MANY5(actionORMethodDef) {\n        this.manyInternal(5, actionORMethodDef);\n    }\n    MANY6(actionORMethodDef) {\n        this.manyInternal(6, actionORMethodDef);\n    }\n    MANY7(actionORMethodDef) {\n        this.manyInternal(7, actionORMethodDef);\n    }\n    MANY8(actionORMethodDef) {\n        this.manyInternal(8, actionORMethodDef);\n    }\n    MANY9(actionORMethodDef) {\n        this.manyInternal(9, actionORMethodDef);\n    }\n    MANY_SEP(options) {\n        this.manySepFirstInternal(0, options);\n    }\n    MANY_SEP1(options) {\n        this.manySepFirstInternal(1, options);\n    }\n    MANY_SEP2(options) {\n        this.manySepFirstInternal(2, options);\n    }\n    MANY_SEP3(options) {\n        this.manySepFirstInternal(3, options);\n    }\n    MANY_SEP4(options) {\n        this.manySepFirstInternal(4, options);\n    }\n    MANY_SEP5(options) {\n        this.manySepFirstInternal(5, options);\n    }\n    MANY_SEP6(options) {\n        this.manySepFirstInternal(6, options);\n    }\n    MANY_SEP7(options) {\n        this.manySepFirstInternal(7, options);\n    }\n    MANY_SEP8(options) {\n        this.manySepFirstInternal(8, options);\n    }\n    MANY_SEP9(options) {\n        this.manySepFirstInternal(9, options);\n    }\n    AT_LEAST_ONE(actionORMethodDef) {\n        this.atLeastOneInternal(0, actionORMethodDef);\n    }\n    AT_LEAST_ONE1(actionORMethodDef) {\n        return this.atLeastOneInternal(1, actionORMethodDef);\n    }\n    AT_LEAST_ONE2(actionORMethodDef) {\n        this.atLeastOneInternal(2, actionORMethodDef);\n    }\n    AT_LEAST_ONE3(actionORMethodDef) {\n        this.atLeastOneInternal(3, actionORMethodDef);\n    }\n    AT_LEAST_ONE4(actionORMethodDef) {\n        this.atLeastOneInternal(4, actionORMethodDef);\n    }\n    AT_LEAST_ONE5(actionORMethodDef) {\n        this.atLeastOneInternal(5, actionORMethodDef);\n    }\n    AT_LEAST_ONE6(actionORMethodDef) {\n        this.atLeastOneInternal(6, actionORMethodDef);\n    }\n    AT_LEAST_ONE7(actionORMethodDef) {\n        this.atLeastOneInternal(7, actionORMethodDef);\n    }\n    AT_LEAST_ONE8(actionORMethodDef) {\n        this.atLeastOneInternal(8, actionORMethodDef);\n    }\n    AT_LEAST_ONE9(actionORMethodDef) {\n        this.atLeastOneInternal(9, actionORMethodDef);\n    }\n    AT_LEAST_ONE_SEP(options) {\n        this.atLeastOneSepFirstInternal(0, options);\n    }\n    AT_LEAST_ONE_SEP1(options) {\n        this.atLeastOneSepFirstInternal(1, options);\n    }\n    AT_LEAST_ONE_SEP2(options) {\n        this.atLeastOneSepFirstInternal(2, options);\n    }\n    AT_LEAST_ONE_SEP3(options) {\n        this.atLeastOneSepFirstInternal(3, options);\n    }\n    AT_LEAST_ONE_SEP4(options) {\n        this.atLeastOneSepFirstInternal(4, options);\n    }\n    AT_LEAST_ONE_SEP5(options) {\n        this.atLeastOneSepFirstInternal(5, options);\n    }\n    AT_LEAST_ONE_SEP6(options) {\n        this.atLeastOneSepFirstInternal(6, options);\n    }\n    AT_LEAST_ONE_SEP7(options) {\n        this.atLeastOneSepFirstInternal(7, options);\n    }\n    AT_LEAST_ONE_SEP8(options) {\n        this.atLeastOneSepFirstInternal(8, options);\n    }\n    AT_LEAST_ONE_SEP9(options) {\n        this.atLeastOneSepFirstInternal(9, options);\n    }\n    RULE(name, implementation, config = DEFAULT_RULE_CONFIG) {\n        if (includes(this.definedRulesNames, name)) {\n            const errMsg = defaultGrammarValidatorErrorProvider.buildDuplicateRuleNameError({\n                topLevelRule: name,\n                grammarName: this.className,\n            });\n            const error = {\n                message: errMsg,\n                type: ParserDefinitionErrorType.DUPLICATE_RULE_NAME,\n                ruleName: name,\n            };\n            this.definitionErrors.push(error);\n        }\n        this.definedRulesNames.push(name);\n        const ruleImplementation = this.defineRule(name, implementation, config);\n        this[name] = ruleImplementation;\n        return ruleImplementation;\n    }\n    OVERRIDE_RULE(name, impl, config = DEFAULT_RULE_CONFIG) {\n        const ruleErrors = validateRuleIsOverridden(name, this.definedRulesNames, this.className);\n        this.definitionErrors = this.definitionErrors.concat(ruleErrors);\n        const ruleImplementation = this.defineRule(name, impl, config);\n        this[name] = ruleImplementation;\n        return ruleImplementation;\n    }\n    BACKTRACK(grammarRule, args) {\n        return function () {\n            // save org state\n            this.isBackTrackingStack.push(1);\n            const orgState = this.saveRecogState();\n            try {\n                grammarRule.apply(this, args);\n                // if no exception was thrown we have succeed parsing the rule.\n                return true;\n            }\n            catch (e) {\n                if (isRecognitionException(e)) {\n                    return false;\n                }\n                else {\n                    throw e;\n                }\n            }\n            finally {\n                this.reloadRecogState(orgState);\n                this.isBackTrackingStack.pop();\n            }\n        };\n    }\n    // GAST export APIs\n    getGAstProductions() {\n        return this.gastProductionsCache;\n    }\n    getSerializedGastProductions() {\n        return serializeGrammar(values(this.gastProductionsCache));\n    }\n}\n//# sourceMappingURL=recognizer_api.js.map","import { EarlyExitException, isRecognitionException, NoViableAltException, } from \"../../exceptions_public.js\";\nimport { clone, has } from \"lodash-es\";\nimport { getLookaheadPathsForOptionalProd, getLookaheadPathsForOr, } from \"../../grammar/lookahead.js\";\nimport { DEFAULT_PARSER_CONFIG } from \"../parser.js\";\n/**\n * Trait responsible for runtime parsing errors.\n */\nexport class ErrorHandler {\n    initErrorHandler(config) {\n        this._errors = [];\n        this.errorMessageProvider = has(config, \"errorMessageProvider\")\n            ? config.errorMessageProvider // assumes end user provides the correct config value/type\n            : DEFAULT_PARSER_CONFIG.errorMessageProvider;\n    }\n    SAVE_ERROR(error) {\n        if (isRecognitionException(error)) {\n            error.context = {\n                ruleStack: this.getHumanReadableRuleStack(),\n                ruleOccurrenceStack: clone(this.RULE_OCCURRENCE_STACK),\n            };\n            this._errors.push(error);\n            return error;\n        }\n        else {\n            throw Error(\"Trying to save an Error which is not a RecognitionException\");\n        }\n    }\n    get errors() {\n        return clone(this._errors);\n    }\n    set errors(newErrors) {\n        this._errors = newErrors;\n    }\n    // TODO: consider caching the error message computed information\n    raiseEarlyExitException(occurrence, prodType, userDefinedErrMsg) {\n        const ruleName = this.getCurrRuleFullName();\n        const ruleGrammar = this.getGAstProductions()[ruleName];\n        const lookAheadPathsPerAlternative = getLookaheadPathsForOptionalProd(occurrence, ruleGrammar, prodType, this.maxLookahead);\n        const insideProdPaths = lookAheadPathsPerAlternative[0];\n        const actualTokens = [];\n        for (let i = 1; i <= this.maxLookahead; i++) {\n            actualTokens.push(this.LA(i));\n        }\n        const msg = this.errorMessageProvider.buildEarlyExitMessage({\n            expectedIterationPaths: insideProdPaths,\n            actual: actualTokens,\n            previous: this.LA(0),\n            customUserDescription: userDefinedErrMsg,\n            ruleName: ruleName,\n        });\n        throw this.SAVE_ERROR(new EarlyExitException(msg, this.LA(1), this.LA(0)));\n    }\n    // TODO: consider caching the error message computed information\n    raiseNoAltException(occurrence, errMsgTypes) {\n        const ruleName = this.getCurrRuleFullName();\n        const ruleGrammar = this.getGAstProductions()[ruleName];\n        // TODO: getLookaheadPathsForOr can be slow for large enough maxLookahead and certain grammars, consider caching ?\n        const lookAheadPathsPerAlternative = getLookaheadPathsForOr(occurrence, ruleGrammar, this.maxLookahead);\n        const actualTokens = [];\n        for (let i = 1; i <= this.maxLookahead; i++) {\n            actualTokens.push(this.LA(i));\n        }\n        const previousToken = this.LA(0);\n        const errMsg = this.errorMessageProvider.buildNoViableAltMessage({\n            expectedPathsPerAlt: lookAheadPathsPerAlternative,\n            actual: actualTokens,\n            previous: previousToken,\n            customUserDescription: errMsgTypes,\n            ruleName: this.getCurrRuleFullName(),\n        });\n        throw this.SAVE_ERROR(new NoViableAltException(errMsg, this.LA(1), previousToken));\n    }\n}\n//# sourceMappingURL=error_handler.js.map","import { NextAfterTokenWalker, nextPossibleTokensAfter, } from \"../../grammar/interpreter.js\";\nimport { first, isUndefined } from \"lodash-es\";\nexport class ContentAssist {\n    initContentAssist() { }\n    computeContentAssist(startRuleName, precedingInput) {\n        const startRuleGast = this.gastProductionsCache[startRuleName];\n        if (isUndefined(startRuleGast)) {\n            throw Error(`Rule ->${startRuleName}<- does not exist in this grammar.`);\n        }\n        return nextPossibleTokensAfter([startRuleGast], precedingInput, this.tokenMatcher, this.maxLookahead);\n    }\n    // TODO: should this be a member method or a utility? it does not have any state or usage of 'this'...\n    // TODO: should this be more explicitly part of the public API?\n    getNextPossibleTokenTypes(grammarPath) {\n        const topRuleName = first(grammarPath.ruleStack);\n        const gastProductions = this.getGAstProductions();\n        const topProduction = gastProductions[topRuleName];\n        const nextPossibleTokenTypes = new NextAfterTokenWalker(topProduction, grammarPath).startWalking();\n        return nextPossibleTokenTypes;\n    }\n}\n//# sourceMappingURL=context_assist.js.map","import { has } from \"lodash-es\";\nimport { timer } from \"@chevrotain/utils\";\nimport { DEFAULT_PARSER_CONFIG } from \"../parser.js\";\n/**\n * Trait responsible for runtime parsing errors.\n */\nexport class PerformanceTracer {\n    initPerformanceTracer(config) {\n        if (has(config, \"traceInitPerf\")) {\n            const userTraceInitPerf = config.traceInitPerf;\n            const traceIsNumber = typeof userTraceInitPerf === \"number\";\n            this.traceInitMaxIdent = traceIsNumber\n                ? userTraceInitPerf\n                : Infinity;\n            this.traceInitPerf = traceIsNumber\n                ? userTraceInitPerf > 0\n                : userTraceInitPerf; // assumes end user provides the correct config value/type\n        }\n        else {\n            this.traceInitMaxIdent = 0;\n            this.traceInitPerf = DEFAULT_PARSER_CONFIG.traceInitPerf;\n        }\n        this.traceInitIndent = -1;\n    }\n    TRACE_INIT(phaseDesc, phaseImpl) {\n        // No need to optimize this using NOOP pattern because\n        // It is not called in a hot spot...\n        if (this.traceInitPerf === true) {\n            this.traceInitIndent++;\n            const indent = new Array(this.traceInitIndent + 1).join(\"\\t\");\n            if (this.traceInitIndent < this.traceInitMaxIdent) {\n                console.log(`${indent}--> <${phaseDesc}>`);\n            }\n            const { time, value } = timer(phaseImpl);\n            /* istanbul ignore next - Difficult to reproduce specific performance behavior (>10ms) in tests */\n            const traceMethod = time > 10 ? console.warn : console.log;\n            if (this.traceInitIndent < this.traceInitMaxIdent) {\n                traceMethod(`${indent}<-- <${phaseDesc}> time: ${time}ms`);\n            }\n            this.traceInitIndent--;\n            return value;\n        }\n        else {\n            return phaseImpl();\n        }\n    }\n}\n//# sourceMappingURL=perf_tracer.js.map","/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? array[length - 1] : undefined;\n}\n\nexport default last;\n","'use strict';\n\nconst UPPERCASE = /[\\p{Lu}]/u;\nconst LOWERCASE = /[\\p{Ll}]/u;\nconst LEADING_CAPITAL = /^[\\p{Lu}](?![\\p{Lu}])/gu;\nconst IDENTIFIER = /([\\p{Alpha}\\p{N}_]|$)/u;\nconst SEPARATORS = /[_.\\- ]+/;\n\nconst LEADING_SEPARATORS = new RegExp('^' + SEPARATORS.source);\nconst SEPARATORS_AND_IDENTIFIER = new RegExp(SEPARATORS.source + IDENTIFIER.source, 'gu');\nconst NUMBERS_AND_IDENTIFIER = new RegExp('\\\\d+' + IDENTIFIER.source, 'gu');\n\nconst preserveCamelCase = (string, toLowerCase, toUpperCase) => {\n\tlet isLastCharLower = false;\n\tlet isLastCharUpper = false;\n\tlet isLastLastCharUpper = false;\n\n\tfor (let i = 0; i < string.length; i++) {\n\t\tconst character = string[i];\n\n\t\tif (isLastCharLower && UPPERCASE.test(character)) {\n\t\t\tstring = string.slice(0, i) + '-' + string.slice(i);\n\t\t\tisLastCharLower = false;\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = true;\n\t\t\ti++;\n\t\t} else if (isLastCharUpper && isLastLastCharUpper && LOWERCASE.test(character)) {\n\t\t\tstring = string.slice(0, i - 1) + '-' + string.slice(i - 1);\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = false;\n\t\t\tisLastCharLower = true;\n\t\t} else {\n\t\t\tisLastCharLower = toLowerCase(character) === character && toUpperCase(character) !== character;\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = toUpperCase(character) === character && toLowerCase(character) !== character;\n\t\t}\n\t}\n\n\treturn string;\n};\n\nconst preserveConsecutiveUppercase = (input, toLowerCase) => {\n\tLEADING_CAPITAL.lastIndex = 0;\n\n\treturn input.replace(LEADING_CAPITAL, m1 => toLowerCase(m1));\n};\n\nconst postProcess = (input, toUpperCase) => {\n\tSEPARATORS_AND_IDENTIFIER.lastIndex = 0;\n\tNUMBERS_AND_IDENTIFIER.lastIndex = 0;\n\n\treturn input.replace(SEPARATORS_AND_IDENTIFIER, (_, identifier) => toUpperCase(identifier))\n\t\t.replace(NUMBERS_AND_IDENTIFIER, m => toUpperCase(m));\n};\n\nconst camelCase = (input, options) => {\n\tif (!(typeof input === 'string' || Array.isArray(input))) {\n\t\tthrow new TypeError('Expected the input to be `string | string[]`');\n\t}\n\n\toptions = {\n\t\tpascalCase: false,\n\t\tpreserveConsecutiveUppercase: false,\n\t\t...options\n\t};\n\n\tif (Array.isArray(input)) {\n\t\tinput = input.map(x => x.trim())\n\t\t\t.filter(x => x.length)\n\t\t\t.join('-');\n\t} else {\n\t\tinput = input.trim();\n\t}\n\n\tif (input.length === 0) {\n\t\treturn '';\n\t}\n\n\tconst toLowerCase = options.locale === false ?\n\t\tstring => string.toLowerCase() :\n\t\tstring => string.toLocaleLowerCase(options.locale);\n\tconst toUpperCase = options.locale === false ?\n\t\tstring => string.toUpperCase() :\n\t\tstring => string.toLocaleUpperCase(options.locale);\n\n\tif (input.length === 1) {\n\t\treturn options.pascalCase ? toUpperCase(input) : toLowerCase(input);\n\t}\n\n\tconst hasUpperCase = input !== toLowerCase(input);\n\n\tif (hasUpperCase) {\n\t\tinput = preserveCamelCase(input, toLowerCase, toUpperCase);\n\t}\n\n\tinput = input.replace(LEADING_SEPARATORS, '');\n\n\tif (options.preserveConsecutiveUppercase) {\n\t\tinput = preserveConsecutiveUppercase(input, toLowerCase);\n\t} else {\n\t\tinput = toLowerCase(input);\n\t}\n\n\tif (options.pascalCase) {\n\t\tinput = toUpperCase(input.charAt(0)) + input.slice(1);\n\t}\n\n\treturn postProcess(input, toUpperCase);\n};\n\nmodule.exports = camelCase;\n// TODO: Remove this for the next major release\nmodule.exports.default = camelCase;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { Lexer } from 'chevrotain';\nimport { isKeyword, isParserRule, isTerminalRule } from '../languages/generated/ast.js';\nimport { streamAllContents } from '../utils/ast-utils.js';\nimport { getAllReachableRules, terminalRegex } from '../utils/grammar-utils.js';\nimport { getCaseInsensitivePattern, isWhitespace, partialMatches } from '../utils/regexp-utils.js';\nimport { stream } from '../utils/stream.js';\nexport class DefaultTokenBuilder {\n    constructor() {\n        /**\n         * The list of diagnostics stored during the lexing process of a single text.\n         */\n        this.diagnostics = [];\n    }\n    buildTokens(grammar, options) {\n        const reachableRules = stream(getAllReachableRules(grammar, false));\n        const terminalTokens = this.buildTerminalTokens(reachableRules);\n        const tokens = this.buildKeywordTokens(reachableRules, terminalTokens, options);\n        terminalTokens.forEach(terminalToken => {\n            const pattern = terminalToken.PATTERN;\n            if (typeof pattern === 'object' && pattern && 'test' in pattern && isWhitespace(pattern)) {\n                tokens.unshift(terminalToken);\n            }\n            else {\n                tokens.push(terminalToken);\n            }\n        });\n        // We don't need to add the EOF token explicitly.\n        // It is automatically available at the end of the token stream.\n        return tokens;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    flushLexingReport(text) {\n        return { diagnostics: this.popDiagnostics() };\n    }\n    popDiagnostics() {\n        const diagnostics = [...this.diagnostics];\n        this.diagnostics = [];\n        return diagnostics;\n    }\n    buildTerminalTokens(rules) {\n        return rules.filter(isTerminalRule).filter(e => !e.fragment)\n            .map(terminal => this.buildTerminalToken(terminal)).toArray();\n    }\n    buildTerminalToken(terminal) {\n        const regex = terminalRegex(terminal);\n        const pattern = this.requiresCustomPattern(regex) ? this.regexPatternFunction(regex) : regex;\n        const tokenType = {\n            name: terminal.name,\n            PATTERN: pattern,\n        };\n        if (typeof pattern === 'function') {\n            tokenType.LINE_BREAKS = true;\n        }\n        if (terminal.hidden) {\n            // Only skip tokens that are able to accept whitespace\n            tokenType.GROUP = isWhitespace(regex) ? Lexer.SKIPPED : 'hidden';\n        }\n        return tokenType;\n    }\n    requiresCustomPattern(regex) {\n        if (regex.flags.includes('u') || regex.flags.includes('s')) {\n            // Unicode and dotall regexes are not supported by Chevrotain.\n            return true;\n        }\n        else if (regex.source.includes('?<=') || regex.source.includes('?<!')) {\n            // Negative and positive lookbehind are not supported by Chevrotain yet.\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    regexPatternFunction(regex) {\n        const stickyRegex = new RegExp(regex, regex.flags + 'y');\n        return (text, offset) => {\n            stickyRegex.lastIndex = offset;\n            const execResult = stickyRegex.exec(text);\n            return execResult;\n        };\n    }\n    buildKeywordTokens(rules, terminalTokens, options) {\n        return rules\n            // We filter by parser rules, since keywords in terminal rules get transformed into regex and are not actual tokens\n            .filter(isParserRule)\n            .flatMap(rule => streamAllContents(rule).filter(isKeyword))\n            .distinct(e => e.value).toArray()\n            // Sort keywords by descending length\n            .sort((a, b) => b.value.length - a.value.length)\n            .map(keyword => this.buildKeywordToken(keyword, terminalTokens, Boolean(options === null || options === void 0 ? void 0 : options.caseInsensitive)));\n    }\n    buildKeywordToken(keyword, terminalTokens, caseInsensitive) {\n        const keywordPattern = this.buildKeywordPattern(keyword, caseInsensitive);\n        const tokenType = {\n            name: keyword.value,\n            PATTERN: keywordPattern,\n            LONGER_ALT: this.findLongerAlt(keyword, terminalTokens)\n        };\n        if (typeof keywordPattern === 'function') {\n            tokenType.LINE_BREAKS = true;\n        }\n        return tokenType;\n    }\n    buildKeywordPattern(keyword, caseInsensitive) {\n        return caseInsensitive ?\n            new RegExp(getCaseInsensitivePattern(keyword.value)) :\n            keyword.value;\n    }\n    findLongerAlt(keyword, terminalTokens) {\n        return terminalTokens.reduce((longerAlts, token) => {\n            const pattern = token === null || token === void 0 ? void 0 : token.PATTERN;\n            if ((pattern === null || pattern === void 0 ? void 0 : pattern.source) && partialMatches('^' + pattern.source + '$', keyword.value)) {\n                longerAlts.push(token);\n            }\n            return longerAlts;\n        }, []);\n    }\n}\n//# sourceMappingURL=token-builder.js.map","import {\n  GitGraphModule,\n  createGitGraphServices\n} from \"./chunks/mermaid-parser.core/chunk-BFZLARZY.mjs\";\nimport {\n  InfoModule,\n  createInfoServices\n} from \"./chunks/mermaid-parser.core/chunk-FHLWH6W2.mjs\";\nimport {\n  PacketModule,\n  createPacketServices\n} from \"./chunks/mermaid-parser.core/chunk-DI7F6ITA.mjs\";\nimport {\n  PieModule,\n  createPieServices\n} from \"./chunks/mermaid-parser.core/chunk-4D64QAKS.mjs\";\nimport {\n  ArchitectureModule,\n  createArchitectureServices\n} from \"./chunks/mermaid-parser.core/chunk-6MM43HOH.mjs\";\nimport {\n  RadarModule,\n  createRadarServices\n} from \"./chunks/mermaid-parser.core/chunk-PYI2724P.mjs\";\nimport {\n  TreemapModule,\n  createTreemapServices\n} from \"./chunks/mermaid-parser.core/chunk-VX7I4HLL.mjs\";\nimport {\n  AbstractMermaidTokenBuilder,\n  AbstractMermaidValueConverter,\n  Architecture,\n  ArchitectureGeneratedModule,\n  Branch,\n  Commit,\n  CommonTokenBuilder,\n  CommonValueConverter,\n  GitGraph,\n  GitGraphGeneratedModule,\n  Info,\n  InfoGeneratedModule,\n  Merge,\n  MermaidGeneratedSharedModule,\n  Packet,\n  PacketBlock,\n  PacketGeneratedModule,\n  Pie,\n  PieGeneratedModule,\n  PieSection,\n  Radar,\n  RadarGeneratedModule,\n  Statement,\n  Treemap,\n  TreemapGeneratedModule,\n  __name,\n  isArchitecture,\n  isBranch,\n  isCommit,\n  isGitGraph,\n  isInfo,\n  isMerge,\n  isPacket,\n  isPacketBlock,\n  isPie,\n  isPieSection,\n  isTreemap\n} from \"./chunks/mermaid-parser.core/chunk-YAJQ3QCK.mjs\";\n\n// src/parse.ts\nvar parsers = {};\nvar initializers = {\n  info: /* @__PURE__ */ __name(async () => {\n    const { createInfoServices: createInfoServices2 } = await import(\"./chunks/mermaid-parser.core/info-W3HD63GC.mjs\");\n    const parser = createInfoServices2().Info.parser.LangiumParser;\n    parsers.info = parser;\n  }, \"info\"),\n  packet: /* @__PURE__ */ __name(async () => {\n    const { createPacketServices: createPacketServices2 } = await import(\"./chunks/mermaid-parser.core/packet-RYMULSSO.mjs\");\n    const parser = createPacketServices2().Packet.parser.LangiumParser;\n    parsers.packet = parser;\n  }, \"packet\"),\n  pie: /* @__PURE__ */ __name(async () => {\n    const { createPieServices: createPieServices2 } = await import(\"./chunks/mermaid-parser.core/pie-KUMW6FLJ.mjs\");\n    const parser = createPieServices2().Pie.parser.LangiumParser;\n    parsers.pie = parser;\n  }, \"pie\"),\n  architecture: /* @__PURE__ */ __name(async () => {\n    const { createArchitectureServices: createArchitectureServices2 } = await import(\"./chunks/mermaid-parser.core/architecture-W74WOHHR.mjs\");\n    const parser = createArchitectureServices2().Architecture.parser.LangiumParser;\n    parsers.architecture = parser;\n  }, \"architecture\"),\n  gitGraph: /* @__PURE__ */ __name(async () => {\n    const { createGitGraphServices: createGitGraphServices2 } = await import(\"./chunks/mermaid-parser.core/gitGraph-7HJAHWGR.mjs\");\n    const parser = createGitGraphServices2().GitGraph.parser.LangiumParser;\n    parsers.gitGraph = parser;\n  }, \"gitGraph\"),\n  radar: /* @__PURE__ */ __name(async () => {\n    const { createRadarServices: createRadarServices2 } = await import(\"./chunks/mermaid-parser.core/radar-KEIDH4CJ.mjs\");\n    const parser = createRadarServices2().Radar.parser.LangiumParser;\n    parsers.radar = parser;\n  }, \"radar\"),\n  treemap: /* @__PURE__ */ __name(async () => {\n    const { createTreemapServices: createTreemapServices2 } = await import(\"./chunks/mermaid-parser.core/treemap-6Y5VK53G.mjs\");\n    const parser = createTreemapServices2().Treemap.parser.LangiumParser;\n    parsers.treemap = parser;\n  }, \"treemap\")\n};\nasync function parse(diagramType, text) {\n  const initializer = initializers[diagramType];\n  if (!initializer) {\n    throw new Error(`Unknown diagram type: ${diagramType}`);\n  }\n  if (!parsers[diagramType]) {\n    await initializer();\n  }\n  const parser = parsers[diagramType];\n  const result = parser.parse(text);\n  if (result.lexerErrors.length > 0 || result.parserErrors.length > 0) {\n    throw new MermaidParseError(result);\n  }\n  return result.value;\n}\n__name(parse, \"parse\");\nvar MermaidParseError = class extends Error {\n  constructor(result) {\n    const lexerErrors = result.lexerErrors.map((err) => err.message).join(\"\\n\");\n    const parserErrors = result.parserErrors.map((err) => err.message).join(\"\\n\");\n    super(`Parsing failed: ${lexerErrors} ${parserErrors}`);\n    this.result = result;\n  }\n  static {\n    __name(this, \"MermaidParseError\");\n  }\n};\nexport {\n  AbstractMermaidTokenBuilder,\n  AbstractMermaidValueConverter,\n  Architecture,\n  ArchitectureGeneratedModule,\n  ArchitectureModule,\n  Branch,\n  Commit,\n  CommonTokenBuilder,\n  CommonValueConverter,\n  GitGraph,\n  GitGraphGeneratedModule,\n  GitGraphModule,\n  Info,\n  InfoGeneratedModule,\n  InfoModule,\n  Merge,\n  MermaidGeneratedSharedModule,\n  MermaidParseError,\n  Packet,\n  PacketBlock,\n  PacketGeneratedModule,\n  PacketModule,\n  Pie,\n  PieGeneratedModule,\n  PieModule,\n  PieSection,\n  Radar,\n  RadarGeneratedModule,\n  RadarModule,\n  Statement,\n  Treemap,\n  TreemapGeneratedModule,\n  TreemapModule,\n  createArchitectureServices,\n  createGitGraphServices,\n  createInfoServices,\n  createPacketServices,\n  createPieServices,\n  createRadarServices,\n  createTreemapServices,\n  isArchitecture,\n  isBranch,\n  isCommit,\n  isGitGraph,\n  isInfo,\n  isMerge,\n  isPacket,\n  isPacketBlock,\n  isPie,\n  isPieSection,\n  isTreemap,\n  parse\n};\n","/******************************************************************************\n * Copyright 2021-2022 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { assertUnreachable } from '../utils/errors.js';\nimport * as ast from '../languages/generated/ast.js';\nimport { isCompositeCstNode } from '../syntax-tree.js';\nimport { getContainerOfType, streamAllContents } from './ast-utils.js';\nimport { streamCst } from './cst-utils.js';\nimport { escapeRegExp, isWhitespace } from './regexp-utils.js';\n/**\n * Returns the entry rule of the given grammar, if any. If the grammar file does not contain an entry rule,\n * the result is `undefined`.\n */\nexport function getEntryRule(grammar) {\n    return grammar.rules.find(e => ast.isParserRule(e) && e.entry);\n}\n/**\n * Returns all hidden terminal rules of the given grammar, if any.\n */\nexport function getHiddenRules(grammar) {\n    return grammar.rules.filter((e) => ast.isTerminalRule(e) && e.hidden);\n}\n/**\n * Returns all rules that can be reached from the topmost rules of the specified grammar (entry and hidden terminal rules).\n *\n * @param grammar The grammar that contains all rules\n * @param allTerminals Whether or not to include terminals that are referenced only by other terminals\n * @returns A list of referenced parser and terminal rules. If the grammar contains no entry rule,\n *      this function returns all rules of the specified grammar.\n */\nexport function getAllReachableRules(grammar, allTerminals) {\n    const ruleNames = new Set();\n    const entryRule = getEntryRule(grammar);\n    if (!entryRule) {\n        return new Set(grammar.rules);\n    }\n    const topMostRules = [entryRule].concat(getHiddenRules(grammar));\n    for (const rule of topMostRules) {\n        ruleDfs(rule, ruleNames, allTerminals);\n    }\n    const rules = new Set();\n    for (const rule of grammar.rules) {\n        if (ruleNames.has(rule.name) || (ast.isTerminalRule(rule) && rule.hidden)) {\n            rules.add(rule);\n        }\n    }\n    return rules;\n}\nfunction ruleDfs(rule, visitedSet, allTerminals) {\n    visitedSet.add(rule.name);\n    streamAllContents(rule).forEach(node => {\n        if (ast.isRuleCall(node) || (allTerminals && ast.isTerminalRuleCall(node))) {\n            const refRule = node.rule.ref;\n            if (refRule && !visitedSet.has(refRule.name)) {\n                ruleDfs(refRule, visitedSet, allTerminals);\n            }\n        }\n    });\n}\n/**\n * Determines the grammar expression used to parse a cross-reference (usually a reference to a terminal rule).\n * A cross-reference can declare this expression explicitly in the form `[Type : Terminal]`, but if `Terminal`\n * is omitted, this function attempts to infer it from the name of the referenced `Type` (using `findNameAssignment`).\n *\n * Returns the grammar expression used to parse the given cross-reference, or `undefined` if it is not declared\n * and cannot be inferred.\n */\nexport function getCrossReferenceTerminal(crossRef) {\n    if (crossRef.terminal) {\n        return crossRef.terminal;\n    }\n    else if (crossRef.type.ref) {\n        const nameAssigment = findNameAssignment(crossRef.type.ref);\n        return nameAssigment === null || nameAssigment === void 0 ? void 0 : nameAssigment.terminal;\n    }\n    return undefined;\n}\n/**\n * Determines whether the given terminal rule represents a comment. This is true if the rule is marked\n * as `hidden` and it does not match white space. This means every hidden token (i.e. excluded from the AST)\n * that contains visible characters is considered a comment.\n */\nexport function isCommentTerminal(terminalRule) {\n    return terminalRule.hidden && !isWhitespace(terminalRegex(terminalRule));\n}\n/**\n * Find all CST nodes within the given node that contribute to the specified property.\n *\n * @param node A CST node in which to look for property assignments. If this is undefined, the result is an empty array.\n * @param property A property name of the constructed AST node. If this is undefined, the result is an empty array.\n */\nexport function findNodesForProperty(node, property) {\n    if (!node || !property) {\n        return [];\n    }\n    return findNodesForPropertyInternal(node, property, node.astNode, true);\n}\n/**\n * Find a single CST node within the given node that contributes to the specified property.\n *\n * @param node A CST node in which to look for property assignments. If this is undefined, the result is `undefined`.\n * @param property A property name of the constructed AST node. If this is undefined, the result is `undefined`.\n * @param index If no index is specified or the index is less than zero, the first found node is returned. If the\n *        specified index exceeds the number of assignments to the property, the last found node is returned. Otherwise,\n *        the node with the specified index is returned.\n */\nexport function findNodeForProperty(node, property, index) {\n    if (!node || !property) {\n        return undefined;\n    }\n    const nodes = findNodesForPropertyInternal(node, property, node.astNode, true);\n    if (nodes.length === 0) {\n        return undefined;\n    }\n    if (index !== undefined) {\n        index = Math.max(0, Math.min(index, nodes.length - 1));\n    }\n    else {\n        index = 0;\n    }\n    return nodes[index];\n}\nfunction findNodesForPropertyInternal(node, property, element, first) {\n    if (!first) {\n        const nodeFeature = getContainerOfType(node.grammarSource, ast.isAssignment);\n        if (nodeFeature && nodeFeature.feature === property) {\n            return [node];\n        }\n    }\n    if (isCompositeCstNode(node) && node.astNode === element) {\n        return node.content.flatMap(e => findNodesForPropertyInternal(e, property, element, false));\n    }\n    return [];\n}\n/**\n * Find all CST nodes within the given node that correspond to the specified keyword.\n *\n * @param node A CST node in which to look for keywords. If this is undefined, the result is an empty array.\n * @param keyword A keyword as specified in the grammar.\n */\nexport function findNodesForKeyword(node, keyword) {\n    if (!node) {\n        return [];\n    }\n    return findNodesForKeywordInternal(node, keyword, node === null || node === void 0 ? void 0 : node.astNode);\n}\n/**\n * Find a single CST node within the given node that corresponds to the specified keyword.\n *\n * @param node A CST node in which to look for keywords. If this is undefined, the result is `undefined`.\n * @param keyword A keyword as specified in the grammar.\n * @param index If no index is specified or the index is less than zero, the first found node is returned. If the\n *        specified index exceeds the number of keyword occurrences, the last found node is returned. Otherwise,\n *        the node with the specified index is returned.\n */\nexport function findNodeForKeyword(node, keyword, index) {\n    if (!node) {\n        return undefined;\n    }\n    const nodes = findNodesForKeywordInternal(node, keyword, node === null || node === void 0 ? void 0 : node.astNode);\n    if (nodes.length === 0) {\n        return undefined;\n    }\n    if (index !== undefined) {\n        index = Math.max(0, Math.min(index, nodes.length - 1));\n    }\n    else {\n        index = 0;\n    }\n    return nodes[index];\n}\nexport function findNodesForKeywordInternal(node, keyword, element) {\n    if (node.astNode !== element) {\n        return [];\n    }\n    if (ast.isKeyword(node.grammarSource) && node.grammarSource.value === keyword) {\n        return [node];\n    }\n    const treeIterator = streamCst(node).iterator();\n    let result;\n    const keywordNodes = [];\n    do {\n        result = treeIterator.next();\n        if (!result.done) {\n            const childNode = result.value;\n            if (childNode.astNode === element) {\n                if (ast.isKeyword(childNode.grammarSource) && childNode.grammarSource.value === keyword) {\n                    keywordNodes.push(childNode);\n                }\n            }\n            else {\n                treeIterator.prune();\n            }\n        }\n    } while (!result.done);\n    return keywordNodes;\n}\n/**\n * If the given CST node was parsed in the context of a property assignment, the respective `Assignment` grammar\n * node is returned. If no assignment is found, the result is `undefined`.\n *\n * @param cstNode A CST node for which to find a property assignment.\n */\nexport function findAssignment(cstNode) {\n    var _a;\n    const astNode = cstNode.astNode;\n    // Only search until the ast node of the parent cst node is no longer the original ast node\n    // This would make us jump to a preceding rule call, which contains only unrelated assignments\n    while (astNode === ((_a = cstNode.container) === null || _a === void 0 ? void 0 : _a.astNode)) {\n        const assignment = getContainerOfType(cstNode.grammarSource, ast.isAssignment);\n        if (assignment) {\n            return assignment;\n        }\n        cstNode = cstNode.container;\n    }\n    return undefined;\n}\n/**\n * Find an assignment to the `name` property for the given grammar type. This requires the `type` to be inferred\n * from a parser rule, and that rule must contain an assignment to the `name` property. In all other cases,\n * this function returns `undefined`.\n */\nexport function findNameAssignment(type) {\n    let startNode = type;\n    if (ast.isInferredType(startNode)) {\n        // for inferred types, the location to start searching for the name-assignment is different\n        if (ast.isAction(startNode.$container)) {\n            // a type which is explicitly inferred by an action: investigate the sibbling of the Action node, i.e. start searching at the Action's parent\n            startNode = startNode.$container.$container;\n        }\n        else if (ast.isParserRule(startNode.$container)) {\n            // investigate the parser rule with the explicitly inferred type\n            startNode = startNode.$container;\n        }\n        else {\n            assertUnreachable(startNode.$container);\n        }\n    }\n    return findNameAssignmentInternal(type, startNode, new Map());\n}\nfunction findNameAssignmentInternal(type, startNode, cache) {\n    var _a;\n    // the cache is only required to prevent infinite loops\n    function go(node, refType) {\n        let childAssignment = undefined;\n        const parentAssignment = getContainerOfType(node, ast.isAssignment);\n        // No parent assignment implies unassigned rule call\n        if (!parentAssignment) {\n            childAssignment = findNameAssignmentInternal(refType, refType, cache);\n        }\n        cache.set(type, childAssignment);\n        return childAssignment;\n    }\n    if (cache.has(type)) {\n        return cache.get(type);\n    }\n    cache.set(type, undefined);\n    for (const node of streamAllContents(startNode)) {\n        if (ast.isAssignment(node) && node.feature.toLowerCase() === 'name') {\n            cache.set(type, node);\n            return node;\n        }\n        else if (ast.isRuleCall(node) && ast.isParserRule(node.rule.ref)) {\n            return go(node, node.rule.ref);\n        }\n        else if (ast.isSimpleType(node) && ((_a = node.typeRef) === null || _a === void 0 ? void 0 : _a.ref)) {\n            return go(node, node.typeRef.ref);\n        }\n    }\n    return undefined;\n}\nexport function getActionAtElement(element) {\n    const parent = element.$container;\n    if (ast.isGroup(parent)) {\n        const elements = parent.elements;\n        const index = elements.indexOf(element);\n        for (let i = index - 1; i >= 0; i--) {\n            const item = elements[i];\n            if (ast.isAction(item)) {\n                return item;\n            }\n            else {\n                const action = streamAllContents(elements[i]).find(ast.isAction);\n                if (action) {\n                    return action;\n                }\n            }\n        }\n    }\n    if (ast.isAbstractElement(parent)) {\n        return getActionAtElement(parent);\n    }\n    else {\n        return undefined;\n    }\n}\nexport function isOptionalCardinality(cardinality, element) {\n    return cardinality === '?' || cardinality === '*' || (ast.isGroup(element) && Boolean(element.guardCondition));\n}\nexport function isArrayCardinality(cardinality) {\n    return cardinality === '*' || cardinality === '+';\n}\nexport function isArrayOperator(operator) {\n    return operator === '+=';\n}\n/**\n * Determines whether the given parser rule is a _data type rule_, meaning that it has a\n * primitive return type like `number`, `boolean`, etc.\n */\nexport function isDataTypeRule(rule) {\n    return isDataTypeRuleInternal(rule, new Set());\n}\nfunction isDataTypeRuleInternal(rule, visited) {\n    if (visited.has(rule)) {\n        return true;\n    }\n    else {\n        visited.add(rule);\n    }\n    for (const node of streamAllContents(rule)) {\n        if (ast.isRuleCall(node)) {\n            if (!node.rule.ref) {\n                // RuleCall to unresolved rule. Don't assume `rule` is a DataType rule.\n                return false;\n            }\n            if (ast.isParserRule(node.rule.ref) && !isDataTypeRuleInternal(node.rule.ref, visited)) {\n                return false;\n            }\n        }\n        else if (ast.isAssignment(node)) {\n            return false;\n        }\n        else if (ast.isAction(node)) {\n            return false;\n        }\n    }\n    return Boolean(rule.definition);\n}\nexport function isDataType(type) {\n    return isDataTypeInternal(type.type, new Set());\n}\nfunction isDataTypeInternal(type, visited) {\n    if (visited.has(type)) {\n        return true;\n    }\n    else {\n        visited.add(type);\n    }\n    if (ast.isArrayType(type)) {\n        return false;\n    }\n    else if (ast.isReferenceType(type)) {\n        return false;\n    }\n    else if (ast.isUnionType(type)) {\n        return type.types.every(e => isDataTypeInternal(e, visited));\n    }\n    else if (ast.isSimpleType(type)) {\n        if (type.primitiveType !== undefined) {\n            return true;\n        }\n        else if (type.stringType !== undefined) {\n            return true;\n        }\n        else if (type.typeRef !== undefined) {\n            const ref = type.typeRef.ref;\n            if (ast.isType(ref)) {\n                return isDataTypeInternal(ref.type, visited);\n            }\n            else {\n                return false;\n            }\n        }\n        else {\n            return false;\n        }\n    }\n    else {\n        return false;\n    }\n}\nexport function getExplicitRuleType(rule) {\n    if (rule.inferredType) {\n        return rule.inferredType.name;\n    }\n    else if (rule.dataType) {\n        return rule.dataType;\n    }\n    else if (rule.returnType) {\n        const refType = rule.returnType.ref;\n        if (refType) {\n            // check if we need to check Action as return type\n            if (ast.isParserRule(refType)) {\n                return refType.name;\n            }\n            else if (ast.isInterface(refType) || ast.isType(refType)) {\n                return refType.name;\n            }\n        }\n    }\n    return undefined;\n}\nexport function getTypeName(type) {\n    var _a;\n    if (ast.isParserRule(type)) {\n        return isDataTypeRule(type) ? type.name : (_a = getExplicitRuleType(type)) !== null && _a !== void 0 ? _a : type.name;\n    }\n    else if (ast.isInterface(type) || ast.isType(type) || ast.isReturnType(type)) {\n        return type.name;\n    }\n    else if (ast.isAction(type)) {\n        const actionType = getActionType(type);\n        if (actionType) {\n            return actionType;\n        }\n    }\n    else if (ast.isInferredType(type)) {\n        return type.name;\n    }\n    throw new Error('Cannot get name of Unknown Type');\n}\nexport function getActionType(action) {\n    var _a;\n    if (action.inferredType) {\n        return action.inferredType.name;\n    }\n    else if ((_a = action.type) === null || _a === void 0 ? void 0 : _a.ref) {\n        return getTypeName(action.type.ref);\n    }\n    return undefined; // not inferring and not referencing a valid type\n}\n/**\n * This function is used at development time (for code generation and the internal type system) to get the type of the AST node produced by the given rule.\n * For data type rules, the name of the rule is returned,\n * e.g. \"INT_value returns number: MY_INT;\" returns \"INT_value\".\n * @param rule the given rule\n * @returns the name of the AST node type of the rule\n */\nexport function getRuleTypeName(rule) {\n    var _a, _b, _c;\n    if (ast.isTerminalRule(rule)) {\n        return (_b = (_a = rule.type) === null || _a === void 0 ? void 0 : _a.name) !== null && _b !== void 0 ? _b : 'string';\n    }\n    else {\n        return isDataTypeRule(rule) ? rule.name : (_c = getExplicitRuleType(rule)) !== null && _c !== void 0 ? _c : rule.name;\n    }\n}\n/**\n * This function is used at runtime to get the actual type of the values produced by the given rule at runtime.\n * For data type rules, the name of the declared return type of the rule is returned (if any),\n * e.g. \"INT_value returns number: MY_INT;\" returns \"number\".\n * @param rule the given rule\n * @returns the name of the type of the produced values of the rule at runtime\n */\nexport function getRuleType(rule) {\n    var _a, _b, _c;\n    if (ast.isTerminalRule(rule)) {\n        return (_b = (_a = rule.type) === null || _a === void 0 ? void 0 : _a.name) !== null && _b !== void 0 ? _b : 'string';\n    }\n    else {\n        return (_c = getExplicitRuleType(rule)) !== null && _c !== void 0 ? _c : rule.name;\n    }\n}\nexport function terminalRegex(terminalRule) {\n    const flags = {\n        s: false,\n        i: false,\n        u: false\n    };\n    const source = abstractElementToRegex(terminalRule.definition, flags);\n    const flagText = Object.entries(flags).filter(([, value]) => value).map(([name]) => name).join('');\n    return new RegExp(source, flagText);\n}\n// Using [\\s\\S]* allows to match everything, compared to . which doesn't match line terminators\nconst WILDCARD = /[\\s\\S]/.source;\nfunction abstractElementToRegex(element, flags) {\n    if (ast.isTerminalAlternatives(element)) {\n        return terminalAlternativesToRegex(element);\n    }\n    else if (ast.isTerminalGroup(element)) {\n        return terminalGroupToRegex(element);\n    }\n    else if (ast.isCharacterRange(element)) {\n        return characterRangeToRegex(element);\n    }\n    else if (ast.isTerminalRuleCall(element)) {\n        const rule = element.rule.ref;\n        if (!rule) {\n            throw new Error('Missing rule reference.');\n        }\n        return withCardinality(abstractElementToRegex(rule.definition), {\n            cardinality: element.cardinality,\n            lookahead: element.lookahead\n        });\n    }\n    else if (ast.isNegatedToken(element)) {\n        return negateTokenToRegex(element);\n    }\n    else if (ast.isUntilToken(element)) {\n        return untilTokenToRegex(element);\n    }\n    else if (ast.isRegexToken(element)) {\n        const lastSlash = element.regex.lastIndexOf('/');\n        const source = element.regex.substring(1, lastSlash);\n        const regexFlags = element.regex.substring(lastSlash + 1);\n        if (flags) {\n            flags.i = regexFlags.includes('i');\n            flags.s = regexFlags.includes('s');\n            flags.u = regexFlags.includes('u');\n        }\n        return withCardinality(source, {\n            cardinality: element.cardinality,\n            lookahead: element.lookahead,\n            wrap: false\n        });\n    }\n    else if (ast.isWildcard(element)) {\n        return withCardinality(WILDCARD, {\n            cardinality: element.cardinality,\n            lookahead: element.lookahead\n        });\n    }\n    else {\n        throw new Error(`Invalid terminal element: ${element === null || element === void 0 ? void 0 : element.$type}`);\n    }\n}\nfunction terminalAlternativesToRegex(alternatives) {\n    return withCardinality(alternatives.elements.map(e => abstractElementToRegex(e)).join('|'), {\n        cardinality: alternatives.cardinality,\n        lookahead: alternatives.lookahead\n    });\n}\nfunction terminalGroupToRegex(group) {\n    return withCardinality(group.elements.map(e => abstractElementToRegex(e)).join(''), {\n        cardinality: group.cardinality,\n        lookahead: group.lookahead\n    });\n}\nfunction untilTokenToRegex(until) {\n    return withCardinality(`${WILDCARD}*?${abstractElementToRegex(until.terminal)}`, {\n        cardinality: until.cardinality,\n        lookahead: until.lookahead\n    });\n}\nfunction negateTokenToRegex(negate) {\n    return withCardinality(`(?!${abstractElementToRegex(negate.terminal)})${WILDCARD}*?`, {\n        cardinality: negate.cardinality,\n        lookahead: negate.lookahead\n    });\n}\nfunction characterRangeToRegex(range) {\n    if (range.right) {\n        return withCardinality(`[${keywordToRegex(range.left)}-${keywordToRegex(range.right)}]`, {\n            cardinality: range.cardinality,\n            lookahead: range.lookahead,\n            wrap: false\n        });\n    }\n    return withCardinality(keywordToRegex(range.left), {\n        cardinality: range.cardinality,\n        lookahead: range.lookahead,\n        wrap: false\n    });\n}\nfunction keywordToRegex(keyword) {\n    return escapeRegExp(keyword.value);\n}\nfunction withCardinality(regex, options) {\n    var _a;\n    if (options.wrap !== false || options.lookahead) {\n        regex = `(${(_a = options.lookahead) !== null && _a !== void 0 ? _a : ''}${regex})`;\n    }\n    if (options.cardinality) {\n        return `${regex}${options.cardinality}`;\n    }\n    return regex;\n}\n//# sourceMappingURL=grammar-utils.js.map","import baseIndexOf from './_baseIndexOf.js';\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nexport default arrayIncludes;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nexport default cacheHas;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nexport default stubArray;\n","import baseGetAllKeys from './_baseGetAllKeys.js';\nimport getSymbols from './_getSymbols.js';\nimport keys from './keys.js';\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nexport default getAllKeys;\n","/******************************************************************************\n * Copyright 2021 TypeFox GmbH\n * This program and the accompanying materials are made available under the\n * terms of the MIT License, which is available in the project root.\n ******************************************************************************/\nimport { RegExpParser, BaseRegExpVisitor } from '@chevrotain/regexp-to-ast';\nexport const NEWLINE_REGEXP = /\\r?\\n/gm;\nconst regexpParser = new RegExpParser();\n/**\n * This class is in charge of heuristically identifying start/end tokens of terminals.\n *\n * The way this works is by doing the following:\n * 1. Traverse the regular expression in the \"start state\"\n * 2. Add any encountered sets/single characters to the \"start regexp\"\n * 3. Once we encounter any variable-length content (i.e. with quantifiers such as +/?/*), we enter the \"end state\"\n * 4. In the end state, any sets/single characters are added to an \"end stack\".\n * 5. If we re-encounter any variable-length content we reset the end stack\n * 6. We continue visiting the regex until the end, reseting the end stack and rebuilding it as necessary\n *\n * After traversing a regular expression the `startRegexp/endRegexp` properties allow access to the stored start/end of the terminal\n */\nclass TerminalRegExpVisitor extends BaseRegExpVisitor {\n    constructor() {\n        super(...arguments);\n        this.isStarting = true;\n        this.endRegexpStack = [];\n        this.multiline = false;\n    }\n    get endRegex() {\n        return this.endRegexpStack.join('');\n    }\n    reset(regex) {\n        this.multiline = false;\n        this.regex = regex;\n        this.startRegexp = '';\n        this.isStarting = true;\n        this.endRegexpStack = [];\n    }\n    visitGroup(node) {\n        if (node.quantifier) {\n            this.isStarting = false;\n            this.endRegexpStack = [];\n        }\n    }\n    visitCharacter(node) {\n        const char = String.fromCharCode(node.value);\n        if (!this.multiline && char === '\\n') {\n            this.multiline = true;\n        }\n        if (node.quantifier) {\n            this.isStarting = false;\n            this.endRegexpStack = [];\n        }\n        else {\n            const escapedChar = escapeRegExp(char);\n            this.endRegexpStack.push(escapedChar);\n            if (this.isStarting) {\n                this.startRegexp += escapedChar;\n            }\n        }\n    }\n    visitSet(node) {\n        if (!this.multiline) {\n            const set = this.regex.substring(node.loc.begin, node.loc.end);\n            const regex = new RegExp(set);\n            this.multiline = Boolean('\\n'.match(regex));\n        }\n        if (node.quantifier) {\n            this.isStarting = false;\n            this.endRegexpStack = [];\n        }\n        else {\n            const set = this.regex.substring(node.loc.begin, node.loc.end);\n            this.endRegexpStack.push(set);\n            if (this.isStarting) {\n                this.startRegexp += set;\n            }\n        }\n    }\n    visitChildren(node) {\n        if (node.type === 'Group') {\n            // Ignore children of groups with quantifier (+/*/?)\n            // These groups are unrelated to start/end tokens of terminals\n            const group = node;\n            if (group.quantifier) {\n                return;\n            }\n        }\n        super.visitChildren(node);\n    }\n}\nconst visitor = new TerminalRegExpVisitor();\nexport function getTerminalParts(regexp) {\n    try {\n        if (typeof regexp !== 'string') {\n            regexp = regexp.source;\n        }\n        regexp = `/${regexp}/`;\n        const pattern = regexpParser.pattern(regexp);\n        const parts = [];\n        for (const alternative of pattern.value.value) {\n            visitor.reset(regexp);\n            visitor.visit(alternative);\n            parts.push({\n                start: visitor.startRegexp,\n                end: visitor.endRegex\n            });\n        }\n        return parts;\n    }\n    catch (_a) {\n        return [];\n    }\n}\nexport function isMultilineComment(regexp) {\n    try {\n        if (typeof regexp === 'string') {\n            regexp = new RegExp(regexp);\n        }\n        regexp = regexp.toString();\n        visitor.reset(regexp);\n        // Parsing the pattern might fail (since it's user code)\n        visitor.visit(regexpParser.pattern(regexp));\n        return visitor.multiline;\n    }\n    catch (_a) {\n        return false;\n    }\n}\n/**\n * A set of all characters that are considered whitespace by the '\\s' RegExp character class.\n * Taken from [MDN](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_expressions/Character_classes).\n */\nexport const whitespaceCharacters = ('\\f\\n\\r\\t\\v\\u0020\\u00a0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007' +\n    '\\u2008\\u2009\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000\\ufeff').split('');\nexport function isWhitespace(value) {\n    const regexp = typeof value === 'string' ? new RegExp(value) : value;\n    return whitespaceCharacters.some((ws) => regexp.test(ws));\n}\nexport function escapeRegExp(value) {\n    return value.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n}\nexport function getCaseInsensitivePattern(keyword) {\n    return Array.prototype.map.call(keyword, letter => /\\w/.test(letter) ? `[${letter.toLowerCase()}${letter.toUpperCase()}]` : escapeRegExp(letter)).join('');\n}\n/**\n * Determines whether the given input has a partial match with the specified regex.\n * @param regex The regex to partially match against\n * @param input The input string\n * @returns Whether any match exists.\n */\nexport function partialMatches(regex, input) {\n    const partial = partialRegExp(regex);\n    const match = input.match(partial);\n    return !!match && match[0].length > 0;\n}\n/**\n * Builds a partial regex from the input regex. A partial regex is able to match incomplete input strings. E.g.\n * a partial regex constructed from `/ab/` is able to match the string `a` without needing a following `b` character. However it won't match `b` alone.\n * @param regex The input regex to be converted.\n * @returns A partial regex constructed from the input regex.\n */\nexport function partialRegExp(regex) {\n    if (typeof regex === 'string') {\n        regex = new RegExp(regex);\n    }\n    const re = regex, source = regex.source;\n    let i = 0;\n    function process() {\n        let result = '', tmp;\n        function appendRaw(nbChars) {\n            result += source.substr(i, nbChars);\n            i += nbChars;\n        }\n        function appendOptional(nbChars) {\n            result += '(?:' + source.substr(i, nbChars) + '|$)';\n            i += nbChars;\n        }\n        while (i < source.length) {\n            switch (source[i]) {\n                case '\\\\':\n                    switch (source[i + 1]) {\n                        case 'c':\n                            appendOptional(3);\n                            break;\n                        case 'x':\n                            appendOptional(4);\n                            break;\n                        case 'u':\n                            if (re.unicode) {\n                                if (source[i + 2] === '{') {\n                                    appendOptional(source.indexOf('}', i) - i + 1);\n                                }\n                                else {\n                                    appendOptional(6);\n                                }\n                            }\n                            else {\n                                appendOptional(2);\n                            }\n                            break;\n                        case 'p':\n                        case 'P':\n                            if (re.unicode) {\n                                appendOptional(source.indexOf('}', i) - i + 1);\n                            }\n                            else {\n                                appendOptional(2);\n                            }\n                            break;\n                        case 'k':\n                            appendOptional(source.indexOf('>', i) - i + 1);\n                            break;\n                        default:\n                            appendOptional(2);\n                            break;\n                    }\n                    break;\n                case '[':\n                    tmp = /\\[(?:\\\\.|.)*?\\]/g;\n                    tmp.lastIndex = i;\n                    tmp = tmp.exec(source) || [];\n                    appendOptional(tmp[0].length);\n                    break;\n                case '|':\n                case '^':\n                case '$':\n                case '*':\n                case '+':\n                case '?':\n                    appendRaw(1);\n                    break;\n                case '{':\n                    tmp = /\\{\\d+,?\\d*\\}/g;\n                    tmp.lastIndex = i;\n                    tmp = tmp.exec(source);\n                    if (tmp) {\n                        appendRaw(tmp[0].length);\n                    }\n                    else {\n                        appendOptional(1);\n                    }\n                    break;\n                case '(':\n                    if (source[i + 1] === '?') {\n                        switch (source[i + 2]) {\n                            case ':':\n                                result += '(?:';\n                                i += 3;\n                                result += process() + '|$)';\n                                break;\n                            case '=':\n                                result += '(?=';\n                                i += 3;\n                                result += process() + ')';\n                                break;\n                            case '!':\n                                tmp = i;\n                                i += 3;\n                                process();\n                                result += source.substr(tmp, i - tmp);\n                                break;\n                            case '<':\n                                switch (source[i + 3]) {\n                                    case '=':\n                                    case '!':\n                                        tmp = i;\n                                        i += 4;\n                                        process();\n                                        result += source.substr(tmp, i - tmp);\n                                        break;\n                                    default:\n                                        appendRaw(source.indexOf('>', i) - i + 1);\n                                        result += process() + '|$)';\n                                        break;\n                                }\n                                break;\n                        }\n                    }\n                    else {\n                        appendRaw(1);\n                        result += process() + '|$)';\n                    }\n                    break;\n                case ')':\n                    ++i;\n                    return result;\n                default:\n                    appendOptional(1);\n                    break;\n            }\n        }\n        return result;\n    }\n    return new RegExp(process(), regex.flags);\n}\n//# sourceMappingURL=regexp-utils.js.map","import arrayFilter from './_arrayFilter.js';\nimport baseFilter from './_baseFilter.js';\nimport baseIteratee from './_baseIteratee.js';\nimport isArray from './isArray.js';\n\n/**\n * Iterates over elements of `collection`, returning an array of all elements\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * **Note:** Unlike `_.remove`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n * @see _.reject\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': true },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * _.filter(users, function(o) { return !o.active; });\n * // => objects for ['fred']\n *\n * // The `_.matches` iteratee shorthand.\n * _.filter(users, { 'age': 36, 'active': true });\n * // => objects for ['barney']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.filter(users, ['active', false]);\n * // => objects for ['fred']\n *\n * // The `_.property` iteratee shorthand.\n * _.filter(users, 'active');\n * // => objects for ['barney']\n *\n * // Combining several predicates using `_.overEvery` or `_.overSome`.\n * _.filter(users, _.overSome([{ 'age': 36 }, ['age', 40]]));\n * // => objects for ['fred', 'barney']\n */\nfunction filter(collection, predicate) {\n  var func = isArray(collection) ? arrayFilter : baseFilter;\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nexport default filter;\n"],"names":["array","length","exports","ral_1","Is","events_1","CancellationToken","None","Object","freeze","isCancellationRequested","onCancellationRequested","Event","Cancelled","is","value","candidate","boolean","shortcutEvent","callback","context","handle","default","timer","setTimeout","bind","dispose","MutableToken","constructor","this","_isCancelled","cancel","_emitter","fire","undefined","Emitter","event","token","_token","GitGraphTokenBuilder","super","GitGraphModule","parser","TokenBuilder","ValueConverter","createGitGraphServices","shared","GitGraph","ServiceRegistry","register","_ral","RAL","Error","defineProperty","install","ral","_disposable","CallbackList","add","bucket","_callbacks","_contexts","push","Array","isArray","remove","foundCallbackWithDifferentContext","i","len","splice","invoke","args","ret","callbacks","slice","contexts","apply","e","console","error","isEmpty","_options","_event","listener","thisArgs","disposables","onFirstListenerAdd","result","_noop","onLastListenerRemove","call","minimalGrammarModule","Grammar","LanguageMetaData","caseInsensitive","fileExtensions","languageId","minimalSharedGrammarModule","AstReflection","ast","loadGrammarFromJson","json","_a","services","grammar","createMinimalGrammarServices","astNode","serializer","JsonSerializer","deserialize","workspace","LangiumDocumentFactory","fromModel","parse","name","__defProp","__name","target","configurable","Statement","Architecture","item","reflection","isInstance","Axis","Branch","Checkout","CherryPicking","ClassDefStatement","Commit","Curve","Edge","Entry","Group","Info","Item","Junction","Merge","Option","Packet","PacketBlock","Pie","PieSection","Radar","Service","Treemap","loadedInfoGrammar","loadedPacketGrammar","loadedPieGrammar","loadedArchitectureGrammar","loadedGitGraphGrammar","loadedRadarGrammar","loadedTreemapGrammar","TreemapRow","Direction","Leaf","Section","MermaidAstReflection","getAllTypes","computeIsSubtype","subtype","supertype","isSubtype","getReferenceType","refInfo","referenceId","container","$type","property","getTypeMetaData","type","properties","defaultValue","InfoGrammar","PacketGrammar","PieGrammar","ArchitectureGrammar","GitGraphGrammar","RadarGrammar","TreemapGrammar","InfoLanguageMetaData","mode","PacketLanguageMetaData","PieLanguageMetaData","ArchitectureLanguageMetaData","GitGraphLanguageMetaData","RadarLanguageMetaData","TreemapLanguageMetaData","MermaidGeneratedSharedModule","InfoGeneratedModule","PacketGeneratedModule","PieGeneratedModule","ArchitectureGeneratedModule","GitGraphGeneratedModule","RadarGeneratedModule","TreemapGeneratedModule","rulesRegexes","ACC_DESCR","ACC_TITLE","TITLE","AbstractMermaidValueConverter","runConverter","rule","input","cstNode","runCommonConverter","runCustomConverter","_cstNode","regex","match","exec","trim","replace","CommonValueConverter","_rule","_input","AbstractMermaidTokenBuilder","keywords","Set","buildKeywordTokens","rules","terminalTokens","options","tokenTypes","forEach","tokenType","has","PATTERN","RegExp","toString","object","path","index","ThemeModeSwitch","isWhite","themeToggler","theme","useContext","ThemeToggleContext","___EmotionJSX","Fragment","Global","styles","BodyStyle","onClick","handleClickSwitch","action","window","gtag","className","id","memo","__data__","set","SetCache","values","prototype","buildATNKey","occurrence","AbstractTransition","isEpsilon","AtomTransition","EpsilonTransition","RuleTransition","ruleStart","followState","createATN","atn","decisionMap","decisionStates","ruleToStartState","Map","ruleToStopState","states","ruleLength","start","newState","stop","createRuleStartAndStopATNStates","ruleBlock","block","buildRuleHandle","atom","production","tokenRef","terminalType","currentRule","nonTerminal","referencedRule","get","left","right","addTransition","ruleRef","alternation","defineDecisionState","alts","map","definition","makeAlts","option","optional","end","epsilon","idx","repetition","starState","star","sep","separator","repetitionSep","plusState","plus","repetitionMandatory","repetitionMandatorySep","handles","filter","altsLength","transition","transitions","isRuleTransition","ruleTransition","next","removeState","first","last","makeBlock","blkStart","blkEnd","loop","loopback","entry","loopEnd","state","decision","alt","getProdType","a","b","partial","t","assign","epsilonOnlyTransitions","nextTokenWithinRule","stateNumber","indexOf","DFA_ERROR","ATNConfigSet","configs","size","finalize","config","key","getATNConfigKey","elements","k","stack","join","iteratee","createDFACache","startState","predicateSet","existing","atnStartState","PredicateSet","predicates","EMPTY_PREDICATES","LLStarLookaheadStrategy","logging","message","log","initialize","dfas","decisionLength","decisionToDFA","initATNSimulator","validateAmbiguousAlternationAlternatives","validateEmptyOrAlternatives","buildLookaheadForAlternation","prodOccurrence","hasPredicates","dynamicTokensEnabled","decisionIndex","partialAlts","maxLookahead","prodType","currAlt","isLL1Sequence","choiceToAlt","reduce","currTokType","tokenTypeIdx","categoryMatches","currExtendingType","orAlts","nextToken","LA","prediction","gate","GATE","adaptivePredict","buildLookaheadForOptional","g","singleTokensTypes","flatten","expectedTokenUniqueKey","sequences","allowEmpty","fullSet","altSet","tokType","indices","concat","dfaCaches","dfa","addDFAState","newDFAState","computeStartState","performLookahead","s0","previousD","d","getExistingTargetState","computeLookaheadTarget","buildAdaptivePredictError","isAcceptState","lookahead","reach","intermediate","skippedStopStates","c","transitionLength","getReachableTarget","closure","hasConfigInRuleStopState","computeReachSet","addDFAEdge","predictedAlt","getUniqueAlt","uniqueAlt","allConfigsInRuleStopStates","altSets","configToAlts","getConflictingAltSets","from","keys","hasConflictingAltSet","hasStateAssociatedWithOneAlt","hasConflictTerminatingPrediction","min","reportLookaheadAmbiguity","ambiguityIndices","prefixPath","atnState","pathMsg","currtok","currMessage","prod","getProductionDslName","topLevelRule","buildAmbiguityError","previous","current","nextTransitions","flatMap","actualToken","possibleTokenTypes","tokenPath","edges","to","mapKey","numberOfTransitions","p","atnStack","pop","getEpsilonTarget","DocumentUri","URI","integer","uinteger","Position","Range","Location","LocationLink","Color","ColorInformation","ColorPresentation","FoldingRangeKind","FoldingRange","DiagnosticRelatedInformation","DiagnosticSeverity","DiagnosticTag","CodeDescription","Diagnostic","Command","TextEdit","ChangeAnnotation","ChangeAnnotationIdentifier","AnnotatedTextEdit","TextDocumentEdit","CreateFile","RenameFile","DeleteFile","WorkspaceEdit","TextDocumentIdentifier","VersionedTextDocumentIdentifier","OptionalVersionedTextDocumentIdentifier","TextDocumentItem","MarkupKind","MarkupContent","CompletionItemKind","InsertTextFormat","CompletionItemTag","InsertReplaceEdit","InsertTextMode","CompletionItemLabelDetails","CompletionItem","CompletionList","MarkedString","Hover","ParameterInformation","SignatureInformation","DocumentHighlightKind","DocumentHighlight","SymbolKind","SymbolTag","SymbolInformation","WorkspaceSymbol","DocumentSymbol","CodeActionKind","CodeActionTriggerKind","CodeActionContext","CodeAction","CodeLens","FormattingOptions","DocumentLink","SelectionRange","SemanticTokenTypes","SemanticTokenModifiers","SemanticTokens","InlineValueText","InlineValueVariableLookup","InlineValueEvaluatableExpression","InlineValueContext","InlayHintKind","InlayHintLabelPart","InlayHint","StringValue","InlineCompletionItem","InlineCompletionList","InlineCompletionTriggerKind","SelectedCompletionInfo","InlineCompletionContext","WorkspaceFolder","MIN_VALUE","MAX_VALUE","create","line","character","Number","objectLiteral","one","two","three","four","uri","range","string","targetUri","targetRange","targetSelectionRange","originSelectionRange","red","green","blue","alpha","numberRange","color","label","textEdit","additionalTextEdits","typedArray","Comment","Imports","Region","startLine","endLine","startCharacter","endCharacter","kind","collapsedText","defined","location","Warning","Information","Hint","Unnecessary","Deprecated","href","severity","code","source","relatedInformation","number","codeDescription","title","command","arguments","newText","insert","position","del","needsConfirmation","description","annotation","annotationId","textDocument","edits","overwrite","ignoreIfExists","oldUri","newUri","recursive","ignoreIfNotExists","changes","documentChanges","every","change","version","text","PlainText","Markdown","Text","Method","Function","Constructor","Field","Variable","Class","Interface","Module","Property","Unit","Value","Enum","Keyword","Snippet","File","Reference","Folder","EnumMember","Constant","Struct","Operator","TypeParameter","asIs","adjustIndentation","detail","items","isIncomplete","fromPlainText","plainText","language","contents","documentation","parameters","Read","Write","Namespace","Package","String","Boolean","Key","Null","containerName","selectionRange","children","deprecated","tags","Empty","QuickFix","Refactor","RefactorExtract","RefactorInline","RefactorRewrite","Source","SourceOrganizeImports","SourceFixAll","Invoked","Automatic","diagnostics","only","triggerKind","kindOrCommandOrEdit","checkKind","edit","isPreferred","data","tabSize","insertSpaces","parent","resultId","variableName","caseSensitiveLookup","expression","frameId","stoppedLocation","Type","Parameter","tooltip","textEdits","paddingLeft","paddingRight","createSnippet","insertText","filterText","selectedCompletionInfo","TextDocument","mergeSort","compare","leftIdx","rightIdx","content","FullTextDocument","lineCount","func","getText","positionAt","offsetAt","applyEdits","document","sortedEdits","diff","lastModifiedOffset","startOffset","endOffset","substring","_uri","_languageId","_version","_content","_lineOffsets","update","getLineOffsets","lineOffsets","isLineStart","ch","charAt","offset","Math","max","low","high","mid","floor","lineOffset","nextLineOffset","check","CstNodeBuilder","nodeStack","rootNode","buildRootNode","RootCstNodeImpl","root","buildCompositeNode","feature","compositeNode","CompositeCstNodeImpl","grammarSource","buildLeafNode","leafNode","LeafCstNodeImpl","image","removeNode","node","addHiddenNodes","tokens","nodes","added","unshift","construct","$cstNode","AbstractCstNode","hidden","_b","_astNode","element","fullText","_offset","_length","_hidden","_tokenType","_range","CstNodeContainer","firstNonHiddenNode","lastNonHiddenNode","firstNode","lastNode","_rangeCache","firstRange","lastRange","child","setPrototypeOf","addParents","count","_text","DatatypeSymbol","Symbol","isDataTypeNode","withRuleSuffix","endsWith","AbstractLangiumParser","_unorderedGroups","allRules","lexer","Lexer","wrapper","ChevrotainWrapper","ParserConfig","skipValidations","errorMessageProvider","ParserErrorMessageProvider","alternatives","choices","wrapOr","wrapOption","many","wrapMany","atLeastOne","wrapAtLeastOne","getRule","isRecording","IS_RECORDING","unorderedGroups","getRuleStack","RULE_STACK","wrapSelfAnalysis","LangiumParser","nodeBuilder","assignmentMap","linker","references","Linker","converter","astReflection","impl","computeRuleType","ruleMethod","DEFINE_RULE","startImplementation","mainRule","fragment","explicit","lexerResult","tokenize","clear","lexerErrors","errors","lexerReport","report","parserErrors","implementation","createNode","err","extractHiddenTokens","hiddenTokens","consume","wrapConsume","isValidToken","assignment","isCrossRef","getAssignment","convertedValue","convert","operator","isInsertedInRecovery","isNaN","subrule","subruleResult","wrapSubrule","performSubruleAssignment","newItem","assignWithoutOverride","obj","terminal","buildReference","existingValue","entries","newValue","targetCstNode","definitionErrors","AbstractParserErrorMessageProvider","buildMismatchTokenMessage","buildNotAllInputParsedMessage","buildNoViableAltMessage","buildEarlyExitMessage","LangiumParserErrorMessageProvider","expected","actual","LABEL","firstRedundant","LangiumCompletionParser","elementStack","lastElementStack","nextTokenIndex","stackSize","resetState","tokenIndex","keepStackSize","resetStackSize","removeUnexpectedElements","currIdx","before","after","lastIndexOf","defaultConfig","recoveryEnabled","nodeLocationTracking","useDefaultLookahead","lookaheadStrategy","RECORDING_PHASE","RULE","performSelfAnalysis","ARGS","or","createParser","parserContext","reachable","parserRules","stream","ctx","buildElement","buildRules","ruleNames","ignoreGuard","method","keyword","buildKeyword","actionType","buildAction","buildCrossReference","ruleCall","ref","predicate","namedArgs","buildPredicate","ruleArgs","ruleTarget","buildRuleCallPredicate","getToken","$refText","buildRuleCall","methods","predicatedMethod","ALT","guard","getGuardCondition","buildAlternatives","group","orIdx","idFunc","groupIdx","lParser","groupState","trackedAlternatives","wrapped","wrap","delete","buildUnorderedGroup","buildGroup","cardinality","condition","parameter","true","guardCondition","crossRef","terminalRule","assignTerminal","DEF","$container","ruleName","getRuleName","createLangiumParser","prepareLangiumParser","lastTick","globalInterruptionPeriod","isOperationCancelled","async","interruptAndCheck","performance","now","Promise","resolve","setImmediate","promise","reject","arg","isIncremental","getWellformedRange","addedLineOffsets","computeLineOffsets","isFull","ensureBeforeEOL","isEOL","charCodeAt","rangeLength","isAtLineStart","textOffset","char","getWellformedEdit","spans","substr","DocumentState","DefaultLangiumDocumentFactory","serviceRegistry","textDocuments","TextDocuments","fileSystemProvider","FileSystemProvider","fromUri","cancellationToken","readFile","createAsync","fromTextDocument","fromString","model","$model","parseResult","createLangiumDocument","cancelToken","parseAsync","Parsed","textDocumentGetter","createTextDocumentGetter","$document","oldText","getServices","AsyncParser","textDoc","DefaultLangiumDocuments","documentMap","langiumDocumentFactory","all","addDocument","uriString","getDocument","getOrCreateDocument","createDocument","then","hasDocument","invalidateDocument","langiumDoc","unlink","Changed","precomputedScopes","deleteDocument","ref_resolving","DefaultLinker","langiumDocuments","LangiumDocuments","scopeProvider","ScopeProvider","astNodeLocator","AstNodeLocator","link","doLink","reference","_ref","getCandidate","_nodeDescription","documentUri","linkedNode","loadAstNode","createLinkingError","errorMessage","getScope","getElement","refNode","refText","$refNode","refData","getLinkedNode","ComputedScopes","descr","getAstNodePath","$nodeDescription","nodeDescription","doc","getAstNode","targetDescription","warn","referenceType","DefaultNameProvider","getName","isNamed","getNameNode","UriUtils","basename","dirname","extname","joinPath","resolvePath","equals","relative","fromPath","toPath","fromParts","split","toParts","repeat","normalize","DefaultReferences","nameProvider","NameProvider","IndexManager","nodeLocator","findDeclaration","sourceCstNode","nodeElem","nameNode","findDeclarationNode","targetNode","findReferences","refs","includeDeclaration","getReferenceToSelf","indexReferences","findAllReferences","sourceUri","sourcePath","targetPath","segment","local","MultiMap","sum","addAll","callbackfn","iterator","flat","entriesGroupedByKey","BiMap","inverse","getKey","DefaultScopeComputation","descriptions","AstNodeDescriptionProvider","computeExports","computeExportsForNode","parentNode","exportNode","createDescription","computeLocalScopes","scopes","processNode","StreamScope","outerScope","getAllElements","find","toLowerCase","MapScope","localName","elementStream","DisposableCache","toDispose","isDisposed","onDispose","disposable","throwIfDisposed","SimpleCache","cache","provider","ContextCache","contextKey","cacheForContext","contextCache","documentCache","WorkspaceCache","sharedServices","DocumentBuilder","onBuildPhase","onUpdate","_changed","deleted","DefaultScopeProvider","indexManager","globalScopeCache","precomputed","currentNode","allDescriptions","desc","getGlobalScope","createScope","createScopeForNodes","s","nonNullable","_context","allElements","isIntermediateReference","DefaultJsonSerializer","ignoreProperties","commentProvider","CommentProvider","serialize","serializeOptions","specificReplacer","replacer","defaultReplacer","currentDocument","JSON","stringify","space","deserializeOptions","linkNode","sourceText","textRegions","comments","uriConverter","_c","_d","refValue","targetDocument","$ref","$error","addAstNodeRegionWithAssignmentsTo","$textRegion","documentURI","$sourceText","comment","getComment","$comment","createDocumentSegment","assignments","startsWith","propertyAssignments","containerProperty","containerIndex","propertyName","reviveReference","mutable","$containerProperty","$containerIndex","getRefNode","fragmentIndex","DefaultServiceRegistry","fileExtensionMap","languageIdMap","ext","singleton","hasServices","diagnosticData","ValidationCategory","DocumentValidator","ValidationRegistry","entriesBefore","entriesAfter","checksRecord","thisObj","category","wrapValidationException","addEntry","accept","handleException","functionality","messageContext","getAllSubTypes","getChecks","categories","checks","includes","registerBeforeDocument","checkBefore","wrapPreparationException","registerAfterDocument","checkAfter","checksBefore","checksAfter","DefaultDocumentValidator","validationRegistry","validation","metadata","validateDocument","processLexingErrors","stopAfterLexingErrors","some","LexingError","processParsingErrors","stopAfterParsingErrors","ParsingError","processLinkingErrors","stopAfterLinkingErrors","LinkingError","validateAst","lexerDiagnostics","lexerDiagnostic","diagnostic","toDiagnosticSeverity","column","toDiagnosticData","getSource","parserError","previousToken","endColumn","linkingError","info","containerType","toDiagnostic","validationItems","acceptor","validateAstBefore","validateAstNodes","validateAstAfter","getDiagnosticRange","LexingWarning","LexingInfo","LexingHint","DefaultAstNodeDescriptionProvider","nameNodeSegment","nameSegmentGetter","nameSegment","selectionSegment","DefaultReferenceDescriptionProvider","createDescriptions","targetNodeDescr","refCstNode","docUri","DefaultAstNodeLocator","segmentSeparator","indexSeparator","containerPath","newSegment","getPathSegment","previousValue","currentValue","propertyIndex","arrayIndex","parseInt","Disposable","DefaultConfigurationProvider","_ready","settings","workspaceConfig","onConfigurationSectionUpdateEmitter","ready","params","capabilities","configuration","initialized","languages","section","lang","toSectionName","fetchConfiguration","configToUpdate","conf","updateSectionConfiguration","updateConfiguration","getConfiguration","sectionName","onConfigurationSectionUpdate","DefaultDocumentBuilder","updateBuildOptions","updateListeners","buildPhaseListeners","documentPhaseListeners","buildState","documentBuildWaiters","currentState","build","documents","Validated","IndexedReferences","previousCategories","validationChecks","completed","emitUpdate","buildDocuments","changed","deletedUri","changedUri","newDocument","allChangedUris","toSet","shouldRelink","rebuildDocuments","sortDocuments","Linked","toArray","hasTextDocument","changedUris","isAffected","prepareBuild","runCancelable","IndexedContent","updateContent","scopeComputation","ScopeComputation","updateReferences","toBeValidated","shouldValidate","validate","targetState","filtered","notifyDocumentPhase","targetStateDocs","notifyBuildPhase","onDocumentPhase","waitUntil","uriOrToken","buildDisposable","cancelDisposable","listenersCopy","getBuildOptions","validator","validationSetting","newCategories","DefaultIndexManager","symbolIndex","symbolByTypeIndex","referenceIndex","astNodePath","targetDocUri","docRefs","refDescr","nodeType","uris","documentUris","getFileDescriptions","indexData","ReferenceDescriptionProvider","DefaultWorkspaceManager","initialBuildOptions","documentBuilder","mutex","WorkspaceLock","workspaceFolders","folders","_params","write","initializeWorkspace","performStartup","collector","loadAdditionalDocuments","wf","getRootFolder","traverseFolder","_folders","_collector","workspaceFolder","folderPath","readDirectory","includeEntry","isDirectory","isFile","_workspaceFolder","DefaultLexerErrorMessageProvider","buildUnexpectedCharactersMessage","buildUnableToPopLexerModeMessage","DEFAULT_TOKENIZE_OPTIONS","DefaultLexer","LexerErrorMessageProvider","tokenBuilder","buildTokens","toTokenTypeDictionary","lexerTokens","isTokenTypeDictionary","chevrotainLexer","positionTracking","chevrotainResult","groups","flushLexingReport","isIMultiModeLexerDefinition","modes","res","tokenVocabulary","isTokenTypeArray","parseJSDoc","opts","currentLine","currentCharacter","lines","lastCharacter","skipWhitespace","tagRegex","lastIndex","tagMatch","fullMatch","rest","inlineTagMatches","matchAll","inlineTagRegex","buildInlineTokens","getLines","normalizeOptions","startPosition","JSDocCommentImpl","parseJSDocElement","parseJSDocComment","lineIndex","characterIndex","matchIndex","startContent","tagName","endContent","nonWhitespaceRegex","whitespaceEndRegex","parseJSDocTag","parseJSDocText","JSDocLineImpl","inlines","appendEmptyLine","firstToken","lastToken","parseJSDocInline","JSDocTextImpl","parseJSDocLine","inline","tagToken","docLine","JSDocTagImpl","normalizeOption","escaped","getTag","getAllTags","getTags","fillNewlines","toMarkdown","renderTag","toMarkdownDefault","rendered","tag","display","displayStart","renderedLink","renderLink","renderLinkDefault","renderInlineTag","marker","JSDocDocumentationProvider","getDocumentation","normalizedOptions","firstRegex","lastRegex","isJSDoc","documentationLinkRenderer","documentationTagRenderer","findNameInPrecomputedScopes","findNameInGlobalScope","with","_node","_tag","DefaultCommentProvider","grammarConfig","GrammarConfig","isAstNodeWithComment","multilineCommentRules","DefaultAsyncParser","syncParser","_cancelToken","DefaultWorkspaceLock","previousTokenSource","writeQueue","readQueue","done","cancelWrite","tokenSource","enqueue","read","queue","deferred","performNextOperation","shift","DefaultHydrator","grammarElementIdMap","tokenTypeIdMap","dehydrate","dehydrateLexerReport","dehydrateAstNode","createDehyrationContext","astNodes","cstNodes","dehydrateCstNode","arr","dehydrateReference","getGrammarElementId","startColumn","hydrate","createHydrationContext","hydrateCstNode","hydrateAstNode","cst","hydrateCstLeafNode","setParent","hydrateReference","num","cstNodeObj","getGrammarElement","hydrated","getTokenType","createGrammarElementIdMap","createDefaultCoreModule","DocumentationProvider","nameRegexp","createGrammarConfig","CompletionParser","createCompletionParser","References","Hydrator","createDefaultSharedCoreModule","WorkspaceManager","ConfigurationProvider","customizer","isObject","nested","objValue","paths","resIndex","getIconStyles","remainder","symbolProto","symbolToString","baseToString","isSymbol","propertyIsEnumerable","nativeGetSymbols","getOwnPropertySymbols","getSymbols","symbol","collection","getDiagramElement","securityLevel","sandboxElement","contentDocument","body","select","keysIn","hasOwnProperty","dataView","isDeep","buffer","byteOffset","byteLength","reFlags","regexp","symbolValueOf","valueOf","Ctor","isObjectLike","nodeIsMap","isMap","nodeIsSet","isSet","argsTag","funcTag","objectTag","cloneableTags","baseClone","bitmask","isFlat","isArr","isFunc","isBuffer","stacked","subValue","keysFunc","props","PieTokenBuilder","PieValueConverter","PieModule","createPieServices","themeNames","useTheme","setTheme","useState","useCallback","nextTheme","__setPreferredTheme","useLayoutEffect","__theme","__onThemeChange","newTheme","globalStyle","css","lighten","colors","midgrey","lightgrey","darkgrey","whitegrey","setLightness","darkmode","GlobalStyles","IndexLayout","themeObject","memorizedValue","useMemo","Provider","ThemeProvider","DefaultValueConverter","toUpperCase","convertInt","convertString","convertID","convertNumber","convertBoolean","convertBigint","convertDate","convertEscapeCharacter","BigInt","Date","PacketTokenBuilder","PacketModule","createPacketServices","findIndexFunc","fromIndex","iterable","isArrayLike","nativeMax","toInteger","getSymbolsIn","SiteNavLogo","useStaticQuery","Link","SiteNavLogoStyles","logo","src","getSrc","width","height","PolishedError","_Error","ReferenceError","_assertThisInitialized","suffix","cssRegex$1","stripUnit","parseFloat","pixelsto","pxval","base","newPxval","newBase","colorToInt","round","convertToInt","hslToRgb","hue","saturation","lightness","huePrime","chroma","abs","secondComponent","lightnessModification","namedColorMap","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","hexRegex","hexRgbaRegex","reducedHexRegex","reducedRgbaHexRegex","rgbRegex","rgbaRegex","hslRegex","hslaRegex","parseToRgb","normalizedColor","normalizedColorName","nameToHex","toFixed","_alpha","rgbMatched","rgbaMatched","hslMatched","rgbColorString","hslRgbMatched","hslaMatched","_rgbColorString","_hslRgbMatched","parseToHsl","delta","rgbToHsl","reduceHexValue$1","numberToHex","hex","colorToHex","convertToHex","hslToHex","hsl","hsla","rgb","rgba","firstValue","secondValue","thirdValue","fourthValue","rgbValue","toColorString","isRgba","isRgb","isHsla","isHsl","curried","f","acc","combined","curry","degree","hslColor","lowerBoundary","upperBoundary","amount","curriedLighten$1","mix$1","weight","otherColor","parsedColor1","color1","parsedColor2","color2","alphaDelta","x","weight1","weight2","parsedColor","curriedSetLightness$1","percentage","reWhitespace","test","reTrimStart","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","other","isBinary","INFINITY","InfoTokenBuilder","InfoModule","createInfoServices","comparator","computed","StreamImpl","startFn","nextFn","toMap","keyFn","valueFn","entryStream","firstDone","DONE_RESULT","addSeparator","searchElement","initialValue","reduceRight","recursiveReduce","findIndex","mapped","isIterable","depth","head","tail","skipCount","limit","maxSize","distinct","by","internalState","exclude","otherKeySet","ownKey","EMPTY_STREAM","collections","collIndex","arrIndex","TreeStreamImpl","iterators","includeRoot","pruned","prune","Reduction","product","equalFunc","isPartial","arrLength","othLength","arrStacked","othStacked","seen","arrValue","othValue","compared","othIndex","eq","objProps","objLength","objStacked","skipCtor","objCtor","othCtor","arrayTag","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","isTypedArray","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","baseIsEqual","matchData","noCustomizer","srcValue","hasIn","identity","rePropName","reEscapeChar","memoize","quote","subString","setupViewPortForSVG","svg","padding","cssDiagram","useMaxWidth","attr","y","calculateDimensionsWithPadding","viewBox","createViewBox","debug","bounds","getBBox","linkContentToContainer","getContainerOfType","typePredicate","findRootNode","streamContents","keyIndex","isAstNodeInRange","streamAllContents","streamAst","nodeRange","streamReferences","assignMandatoryProperties","typeMetaData","genericNode","copyDefaultValue","propertyType","eachFunc","fromRight","symbolsFunc","cc","insertToSet","subItem","addFlag","flagObj","flagKey","ASSERT_EXISTS","ASSERT_NEVER_REACH_HERE","isCharacter","digitsCharCodes","wordCharCodes","whitespaceCodes","hexDigitPattern","decimalPattern","decimalPatternNoZero","RegExpParser","saveState","restoreState","pattern","consumeChar","disjunction","flags","loc","begin","global","ignoreCase","multiLine","unicode","sticky","isRegExpFlag","popChar","alternative","peekChar","terms","isTerm","term","isAssertion","assertion","quantifier","isBacktracking","atLeast","atMost","Infinity","integerIncludingZero","isDigit","greedy","dotAll","atomEscape","characterClass","isPatternCharacter","patternCharacter","isQuantifier","complement","decimalEscapeAtom","characterClassEscape","controlEscapeAtom","controlLetterEscapeAtom","nulCharacterAtom","hexEscapeSequenceAtom","regExpUnicodeEscapeSequenceAtom","identityEscapeAtom","positiveInteger","escapeCode","letter","parseHexDigits","classPatternCharacterAtom","isClassAtom","classAtom","isRangeDash","classEscape","capturing","groupAst","nextChar","howMuch","isAtom","prevState","howMany","hexString","hexChar","BaseRegExpVisitor","visitChildren","visit","subChild","visitPattern","visitFlags","visitDisjunction","visitAlternative","visitStartAnchor","visitEndAnchor","visitWordBoundary","visitNonWordBoundary","visitLookahead","visitNegativeLookahead","visitCharacter","visitSet","visitGroup","visitGroupBackReference","visitQuantifier","AbstractRule","AbstractType","Condition","TypeDefinition","ValueLiteral","AbstractElement","isAbstractElement","ArrayLiteral","ArrayType","BooleanLiteral","isBooleanLiteral","Conjunction","isConjunction","Disjunction","isDisjunction","GrammarImport","InferredType","isInferredType","isInterface","NamedArgument","Negation","isNegation","NumberLiteral","ParameterReference","isParameterReference","ParserRule","isParserRule","ReferenceType","ReturnType","isReturnType","SimpleType","isSimpleType","StringLiteral","TerminalRule","isTerminalRule","isType","TypeAttribute","UnionType","Action","isAction","Alternatives","isAlternatives","Assignment","isAssignment","CharacterRange","isCharacterRange","CrossReference","isCrossReference","EndOfFile","isEndOfFile","isGroup","isKeyword","NegatedToken","isNegatedToken","RegexToken","isRegexToken","RuleCall","isRuleCall","TerminalAlternatives","isTerminalAlternatives","TerminalGroup","isTerminalGroup","TerminalRuleCall","isTerminalRuleCall","UnorderedGroup","isUnorderedGroup","UntilToken","isUntilToken","Wildcard","isWildcard","LangiumGrammarAstReflection","isAstNode","isReference","isAstNodeDescription","isLinkingError","AbstractAstReflection","subtypes","allSubtypes","allTypes","types","possibleSubType","isCompositeCstNode","isLeafCstNode","isRootCstNode","populateCommonDb","db","accDescr","setAccDescription","accTitle","setAccTitle","setDiagramTitle","accumulator","initAccum","LIB","TypeError","r","n","o","h","process","cwd","isAbsolute","u","l","_makeLong","format","dir","delimiter","win32","posix","enumerable","toStringTag","Utils","P","platform","navigator","userAgent","scheme","authority","query","isUri","fsPath","m","C","file","toJSON","revive","_formatted","external","_fsPath","_sep","$mid","encodeURIComponent","fromCharCode","v","decodeURIComponent","A","w","objectProto","defaults","sources","propsIndex","propsLength","formatDistanceLocale","lessThanXSeconds","xSeconds","halfAMinute","lessThanXMinutes","xMinutes","aboutXHours","xHours","xDays","aboutXWeeks","xWeeks","aboutXMonths","xMonths","aboutXYears","xYears","overXYears","almostXYears","buildFormatLongFn","defaultWidth","formats","formatLong","date","full","long","medium","short","time","dateTime","formatRelativeLocale","lastWeek","yesterday","today","tomorrow","nextWeek","buildLocalizeFn","valuesArray","formattingValues","defaultFormattingWidth","argumentCallback","buildMatchFn","matchPattern","matchPatterns","defaultMatchWidth","matchResult","matchedString","parsePatterns","defaultParseWidth","findKey","valueCallback","enUS","formatDistance","tokenValue","addSuffix","comparison","formatRelative","_date","_baseDate","localize","ordinalNumber","dirtyNumber","rem100","era","narrow","abbreviated","wide","quarter","month","day","dayPeriod","am","pm","midnight","noon","morning","afternoon","evening","night","parsePattern","any","weekStartsOn","firstWeekContainsDate","defaultOptions","getDefaultOptions","pow","millisecondsInWeek","toDate","argument","argStr","NaN","startOfDay","setHours","getTimezoneOffsetInMilliseconds","utcDate","UTC","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","setUTCFullYear","differenceInCalendarDays","dateLeft","dateRight","startOfDayLeft","startOfDayRight","timestampLeft","timestampRight","constructFrom","startOfYear","cleanDate","setFullYear","getDayOfYear","startOfWeek","locale","getDay","setDate","startOfISOWeek","getISOWeekYear","year","fourthOfJanuaryOfNextYear","startOfNextYear","fourthOfJanuaryOfThisYear","startOfThisYear","getTime","startOfISOWeekYear","fourthOfJanuary","getISOWeek","getWeekYear","firstWeekOfNextYear","firstWeekOfThisYear","startOfWeekYear","firstWeek","getWeek","addLeadingZeros","targetLength","padStart","lightFormatters","signedYear","M","dayPeriodEnumValue","H","S","numberOfDigits","milliseconds","trunc","dayPeriodEnum","formatters","G","unit","Y","signedWeekYear","weekYear","R","Q","ceil","q","L","week","I","isoWeek","D","dayOfYear","E","dayOfWeek","localDayOfWeek","isoDayOfWeek","hours","B","K","X","_localize","timezoneOffset","getTimezoneOffset","formatTimezoneWithOptionalMinutes","formatTimezone","O","formatTimezoneShort","z","T","sign","absOffset","minutes","dateLongFormatter","timeLongFormatter","longFormatters","datePattern","timePattern","dateTimeFormat","dayOfYearTokenRE","weekYearTokenRE","throwTokens","isDate","isValid","formattingTokensRegExp","longFormattingTokensRegExp","escapedStringRegExp","doubleQuoteRegExp","unescapedLatinCharacterRegExp","formatStr","originalDate","RangeError","parts","firstCharacter","longFormatter","isToken","cleanEscapedString","preprocessor","formatterOptions","part","useAdditionalWeekYearTokens","isProtectedWeekYearToken","useAdditionalDayOfYearTokens","isProtectedDayOfYearToken","_message","subject","warnOrThrowProtectedError","formatter","matched","siteUrl","github","googleSiteVerification","footer","showAllTags","TreemapTokenBuilder","classDefRegex","TreemapValueConverter","styleText","registerValidationChecks","TreemapValidator","registry","checkSingleRoot","rootNodeIndentation","row","TreemapRows","indent","TreemapModule","createTreemapServices","inject","module1","module2","module3","module4","module5","module6","module7","module8","module9","_inject","_merge","merge","m1","m2","isProxy","module","injector","proxy","Proxy","deleteProperty","prop","_resolve","getOwnPropertyDescriptor","_","ownKeys","getOwnPropertyNames","__requested__","cause","value2","value1","W","hasNativeLazyLoadSupport","HTMLImageElement","images","fallback","gatsbyImageData","gatsbyImage","childImageSharp","style","loading","shouldLoad","opacity","backgroundColor","top","bottom","objectFit","objectPosition","F","layout","paddingTop","maxWidth","role","V","U","srcSet","decoding","sizes","media","propTypes","isRequired","displayName","J","Z","ee","te","ae","altValidator","ie","se","re","ne","oe","le","de","as","class","onStartLoad","onLoad","onError","N","$","renderImageToString","swapPlaceholderImage","querySelector","complete","wasCached","removeAttribute","addEventListener","removeEventListener","innerHTML","isLoading","isLoaded","requestAnimationFrame","cancelAnimationFrame","dangerouslySetInnerHTML","__html","suppressHydrationWarning","ce","he","ue","__imageData","__error","ge","imgClassName","imgStyle","placeholder","pe","checkDimensionProps","me","fe","we","spreadableSymbol","isConcatSpreadable","isArguments","baseFlatten","isStrict","RadarTokenBuilder","RadarModule","createRadarServices","reLatin","reComboMark","reAsciiWord","reHasUnicodeWord","rsAstralRange","rsDingbatRange","rsLowerRange","rsUpperRange","rsBreakRange","rsMathOpRange","rsBreak","rsDigits","rsDingbat","rsLower","rsMisc","rsRegional","rsSurrPair","rsUpper","rsMiscLower","rsMiscUpper","rsOptContrLower","rsOptContrUpper","reOptMod","rsModifier","rsOptVar","rsSeq","rsEmoji","reUnicodeWord","reApos","word","EmptyFileSystemProvider","EmptyFileSystem","ErrorWithLocation","assertUnreachable","noop","isCommon","outer","seenIndex","freeGlobal","hasFunc","reIsDeepProp","reIsPlainProp","ArchitectureTokenBuilder","ArchitectureValueConverter","ArchitectureModule","createArchitectureServices","freeSelf","self","RangeComparison","streamCst","isChildNode","tokenToRange","toDocumentSegment","inRange","Before","After","startInside","endInside","Inside","OverlapBack","OverlapFront","Outside","compareRange","DefaultNameRegexp","findCommentNode","commentNames","getPreviousNode","isCommentNode","Wrapper","StyledWrapper","_styled","reactPropsRegex","isPropValid","testOmitPropsOnStringTag","testOmitPropsOnComponent","getDefaultShouldForwardProp","composeShouldForwardProps","isReal","shouldForwardProp","optionsShouldForwardProp","__emotion_forwardProp","propName","Insertion","serialized","isStringTag","createStyled","identifierName","targetClassName","__emotion_real","baseTag","__emotion_base","defaultShouldForwardProp","shouldUseAs","__emotion_styles","raw","Styled","FinalTag","classInterpolations","mergedProps","registered","finalShouldForwardProp","newProps","_key","defaultProps","withComponent","nextTag","nextOptions","Github","fill","xmlns","transform","Instagram","createContext","stringArray","elem","toFastProperties","toBecomeFast","FakeConstructor","fakeInstance","fakeAccess","bar","nodeIsRegExp","isRegExp","tokenLabel","isString","AbstractProduction","_definition","visitor","Rule","orgText","Alternative","ignoreAmbiguities","RepetitionMandatory","RepetitionMandatoryWithSeparator","Repetition","RepetitionWithSeparator","Alternation","Terminal","serializeProduction","convertDefinition","serializedNonTerminal","nonTerminalName","serializedTerminal","terminalLabel","nodeAny","visitNonTerminal","visitOption","visitRepetitionMandatory","visitRepetitionMandatoryWithSeparator","visitRepetitionWithSeparator","visitRepetition","visitAlternation","visitTerminal","visitRule","isOptionalProd","alreadyVisited","subProd","RestWalker","walk","prevRest","currRest","walkProdRef","walkTerminal","walkFlat","walkOption","walkAtLeastOne","walkAtLeastOneSep","walkManySep","walkMany","walkOr","refProd","flatProd","fullOrRest","optionProd","atLeastOneProd","fullAtLeastOneRest","atLeastOneSepProd","fullAtLeastOneSepRest","restForRepetitionWithSeparator","manyProd","fullManyRest","manySepProd","fullManySepRest","orProd","prodWrapper","repSepProd","isSequenceProd","firstSet","seq","currSubProd","nextSubProdIdx","hasInnerProdsRemaining","isLastInnerProdOptional","firstForSequence","isBranchingProd","allAlternativesFirsts","innerProd","firstForBranching","ResyncFollowsWalker","topProd","follows","startWalking","followName","inner","occurenceInParent","fullRest","t_in_topProd_follows","valuesLength","valuesIndex","isArrayLikeObject","PRINT_ERROR","msg","PRINT_WARNING","regExpAstCache","regExpParser","getRegExpAst","regExp","regExpStr","regExpAst","complementErrorMessage","failedOptimizationPrefixMsg","getOptimizedStartCodesIndices","ensureOptimizations","firstCharOptimizedIndices","msgSuffix","addOptimizedIdxToResult","rangeCode","minOptimizationVal","minUnOptVal","maxUnOptVal","minOptIdx","charCodeToOptimizedIndex","maxOptIdx","currOptIdx","isOptionalQuantifier","isWholeOptional","optimizedCharIdx","upperChar","lowerChar","handleIgnoreCase","findCode","setNode","targetCharCodes","codeOrRange","targetCode","CharCodeFinder","found","canMatchCharCode","charCodes","charCodeFinder","DEFAULT_MODE","MODES","SUPPORT_STICKY","analyzeTokenTypes","tracer","useSticky","safeMode","lineTerminatorCharacters","onlyRelevantTypes","charCodeToOptimizedIdxMap","initCharCodeToOptimizedIndexMap","currType","NA","allTransformedPatterns","patternIdxToType","patternIdxToGroup","patternIdxToLongerAltIdxArr","patternIdxToPushMode","patternIdxToPopMode","patternIdxToCanLineTerminator","patternIdxToIsCustom","patternIdxToShort","emptyGroups","patternIdxToConfig","hasCustom","currPattern","regExpSource","addStickyFlag","addStartOfInput","isFunction","escapedRegExpString","wrappedRegExp","clazz","groupName","GROUP","SKIPPED","isUndefined","longerAltType","LONGER_ALT","PUSH_MODE","lineTerminatorCharCodes","getCharCodes","LINE_BREAKS","checkLineBreaksIssues","isCustomPattern","isShortPattern","longerAlt","canLineTerminator","isCustom","canBeOptimized","charCodeToPatternIdxToConfig","optimizedIdx","addToMapOfArrays","START_CHARS_HINT","lastOptimizedIdx","charOrInt","currOptimizedIdx","optimizedCodes","validatePatterns","validModesNames","missingResult","tokenTypesWithMissingPattern","LexerDefinitionErrorType","MISSING_PATTERN","valid","findMissingPatterns","invalidResult","tokenTypesWithInvalidPattern","INVALID_PATTERN","findInvalidPatterns","validTokenTypes","withRegExpPatterns","EndAnchorFinder","invalidRegex","regexpAst","endAnchorVisitor","end_of_input","EOI_ANCHOR_FOUND","findEndOfInputAnchor","StartAnchorFinder","startAnchorVisitor","start_of_input","SOI_ANCHOR_FOUND","findStartOfInputAnchor","invalidFlags","multiline","UNSUPPORTED_FLAGS_FOUND","findUnsupportedFlags","identicalPatterns","outerType","innerType","duplicatePatterns","currIdenticalSet","setOfIdentical","tokenTypeNames","DUPLICATE_PATTERNS_FOUND","findDuplicatePatterns","matchesEmptyString","EMPTY_MATCH_PATTERN","findEmptyMatchRegExps","validateRegExpPattern","invalidTypes","INVALID_GROUP_TYPE_FOUND","findInvalidGroupType","validModes","invalidModes","PUSH_MODE_DOES_NOT_EXIST","findModesThatDoNotExist","canBeTested","str","metaChars","noMetaChar","testIdx","regExpArray","testTokenType","UNREACHABLE_PATTERN","findUnreachablePatterns","performWarningRuntimeChecks","lexerDefinition","trackLines","warnings","hasAnyLineBreak","allTokenTypes","concreteTokenTypes","terminatorCharCodes","currIssue","details","issue","IDENTIFY_TERMINATOR","errMsg","CUSTOM_LINE_BREAK","buildLineBreakIssueMessage","warningDescriptor","NO_LINE_BREAKS_FLAGS","LineTerminatorOptimizedTester","charsOrCodes","numOrString","charCode","val","tokenStructuredMatcher","tokInstance","tokConstructor","instanceType","isParent","categoryMatchesMap","tokenStructuredMatcherNoCategories","tokenShortNameIdx","tokenIdxToClass","augmentTokenTypes","tokenTypesAndParents","clone","searching","CATEGORIES","expandCategories","hasShortKeyProperty","hasCategoriesProperty","hasExtendingTokensTypesMapProperty","assignTokenDefaultProps","singleAssignCategoriesToksMap","assignCategoriesMapProp","assignCategoriesTokensProp","nextNode","pathNode","nextCategory","newPath","isTokenType","defaultLexerErrorProvider","DEFAULT_LEXER_CONFIG","deferDefinitionErrorsHandling","lineTerminatorsPattern","traceInitPerf","lexerDefinitionErrors","lexerDefinitionWarning","trackStartLines","trackEndLines","canModeBeOptimized","TRACE_INIT","phaseDesc","phaseImpl","traceInitIndent","traceInitMaxIdent","traceMethod","traceInitVal","actualDefinition","hasOnlySingleMode","defaultMode","MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE","MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY","MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST","currModeValue","currModeName","LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED","currLongerAlt","MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE","performRuntimeChecks","allModeNames","currModDef","currModName","currAnalyzeResult","allErrMessagesString","chopInput","matchWithTest","updateLastIndex","matchWithExec","handleModes","computeNewColumn","updateTokenEndLineColumnLocation","createTokenInstance","createFullToken","createStartOnlyToken","createOffsetOnlyToken","addToken","addTokenUsingPush","handlePayload","handlePayloadWithCustom","addTokenUsingMemberAccess","handlePayloadNoCustom","unOptimizedModes","cannotBeOptimized","modeName","initialMode","tokenizeInternal","j","matchAltImage","matchedImage","payload","altPayload","imageLength","newToken","errLength","orgLength","matchedTokensIndex","guessedNumberOfTokens","matchedTokens","clonedResult","groupKeys","currKey","currGroupValue","cloneEmptyGroups","lineTerminatorPattern","currModePatternsLength","currCharCodeToPatternIdxToConfig","modeStack","emptyArray","getPossiblePatterns","getPossiblePatternsSlow","getPossiblePatternsOptimized","possiblePatterns","pop_mode","popToken","newMode","modeCanBeOptimized","push_mode","currConfig","nextCharCode","chosenPatternIdxToConfig","chosenPatternsLength","singleCharCode","longerAltLength","longerAltConfig","longerAltPattern","foundTerminator","lastLTEndOffset","numOfLTsInMatch","errorStartOffset","errorLine","errorColumn","foundResyncPoint","pushMode","newLastIndex","lastLTIdx","lastCharIsLT","fixForEndingInLT","oldColumn","tokenVector","tokenToAdd","PARENT","POP_MODE","createToken","createTokenInternal","EOF","tokenMatcher","defaultParserErrorProvider","expectedPathsPerAlt","customUserDescription","errPrefix","errSuffix","allLookAheadPaths","currAltPaths","nextValidTokenSequences","currPath","currTokenType","itemMsg","expectedIterationPaths","defaultGrammarResolverErrorProvider","buildRuleNotFoundError","undefinedRule","defaultGrammarValidatorErrorProvider","buildDuplicateFoundError","duplicateProds","topLevelName","duplicateProd","dslName","extraArgument","buildNamespaceConflictError","buildAlternationPrefixAmbiguityError","currTok","buildAlternationAmbiguityError","buildEmptyRepetitionError","buildTokenNameError","buildEmptyAlternationError","emptyChoiceIdx","buildTooManyAlternativesError","buildLeftRecursionError","leftRecursionPath","currRule","buildInvalidRuleNameError","buildDuplicateRuleNameError","grammarName","GastRefResolverVisitor","nameToTopRule","errMsgProvider","resolveRefs","currTopLevel","ParserDefinitionErrorType","UNRESOLVED_SUBRULE_REF","unresolvedRefName","setter","initializer","PROD_TYPE","AbstractNextPossibleTokensWalker","possibleTokTypes","nextProductionName","nextProductionOccurrence","isAtEndOfPath","ruleStack","reverse","occurrenceStack","updateExpectedNext","NextAfterTokenWalker","nextTerminalName","nextTerminalOccurrence","lastTok","lastTokOccurrence","restProd","AbstractNextTerminalAfterProductionWalker","topRule","isEndOfRule","NextTerminalAfterManyWalker","firstAfterMany","NextTerminalAfterManySepWalker","firstAfterManySep","NextTerminalAfterAtLeastOneWalker","firstAfterAtLeastOne","NextTerminalAfterAtLeastOneSepWalker","atleastOneSepProd","firstAfterfirstAfterAtLeastOneSep","possiblePathsFrom","targetDef","maxLength","getAlternativesForProd","newDef","partialPath","suffixDef","nextPossibleTokensAfter","initialDef","tokMatcher","maxLookAhead","EXIT_NON_TERMINAL","EXIT_NON_TERMINAL_ARR","EXIT_ALTERNATIVE","foundCompletePath","tokenVectorLength","minimalAlternativesIndex","possiblePaths","def","currDef","currRuleStack","currOccurrenceStack","nextPath","nextIdx","nextTokenType","nextTokenOccurrence","newRuleStack","newOccurrenceStack","nextPathWithout","nextPathWith","secondIteration","separatorGast","nthRepetition","currAltPath","expandTopLevelRule","newCurrOccurrenceStack","OPTION","REPETITION","REPETITION_MANDATORY","REPETITION_MANDATORY_WITH_SEPARATOR","REPETITION_WITH_SEPARATOR","ALTERNATION","getLookaheadPaths","getLookaheadPathsForOr","getLookaheadPathsForOptionalProd","buildAlternativesLookAheadFunc","numOfAlts","areAllOneTokenLookahead","currNumOfPaths","currPredicate","currPathLength","singleTokenAlts","buildSingleAlternativeLookaheadFunction","numOfPaths","RestDefinitionFinderWalker","targetOccurrence","targetProdType","restDef","checkIsTarget","expectedProdType","InsideDefinitionFinderVisitor","targetRef","expectedProdName","initializeArrayOfArrays","pathToHashKeys","longerKeys","currShorterKey","categoriesKeySuffix","isUniquePrefixHash","altKnownPathsKeys","searchPathKeys","currAltIdx","otherAltKnownPathsKeys","searchIdx","lookAheadSequenceFromAlternatives","altsDefs","finalResult","altsHashes","dict","newData","pathLength","currDataset","altIdx","currAltPathsAndSuffixes","currPathIdx","currPathPrefix","prefixKeys","currAltResult","containsPath","newPartialPathsAndSuffixes","ruleGrammar","insideDefVisitor","insideDef","afterDef","searchPath","compareOtherPath","otherPath","searchTok","otherTok","areTokenCategoriesNotUsed","lookAheadPaths","singleAltPaths","singlePath","validateGrammar","topLevels","duplicateErrors","collectorVisitor","OccurrenceValidationCollector","allRuleProductions","allProductions","productionGroups","identifyProductionForDuplicates","duplicates","currGroup","currDuplicates","firstProd","defError","DUPLICATE_PRODUCTIONS","param","getExtraProductionArgument","validateDuplicateProductions","termsNamespaceConflictErrors","tokenNames","currToken","currRuleName","CONFLICT_TOKENS_RULES_NAMESPACE","checkTerminalAndNoneTerminalsNameSpace","tooManyAltsErrors","curRule","orCollector","OrCollector","ors","alternations","currOr","TOO_MANY_ALTS","validateTooManyAlts","duplicateRulesError","occurrences","DUPLICATE_RULE_NAME","validateRuleDoesNotAlreadyExist","manySep","atLeastOneSep","validateNoLeftRecursion","nextNonTerminals","getFirstNoneTerminal","LEFT_RECURSION","validNextSteps","errorsFromNextSteps","currRefRule","currSubDef","isFirstOptional","hasMore","globalMaxLookahead","currOccurrence","actualMaxLookahead","altsAmbiguityErrors","foundAmbiguousPaths","identicalAmbiguities","altsCurrPathAppearsIn","currOtherAlt","currOtherAltIdx","currErrors","currAmbDescriptor","ambgIndices","AMBIGUOUS_ALTS","checkAlternativesAmbiguities","altsPrefixAmbiguityErrors","pathsAndIndices","currPathsAndIdx","currPathAndIdx","targetIdx","prefixAmbiguitiesPathsAndIndices","searchPathAndIdx","prefix","otherTokType","currAmbPathAndIdx","AMBIGUOUS_PREFIX_ALTS","checkPrefixAlternativesAmbiguities","RepetitionCollector","actualOptions","topRulesTable","refResolver","MISMATCHED_TOKEN_EXCEPTION","NO_VIABLE_ALT_EXCEPTION","EARLY_EXIT_EXCEPTION","NOT_ALL_INPUT_PARSED_EXCEPTION","RECOGNITION_EXCEPTION_NAMES","isRecognitionException","RecognitionException","resyncedTokens","captureStackTrace","MismatchedTokenException","NoViableAltException","NotAllInputParsedException","EarlyExitException","EOF_FOLLOW_KEY","IN_RULE_RECOVERY_EXCEPTION","InRuleRecoveryException","attemptInRepetitionRecovery","prodFunc","lookaheadFunc","dslMethodIdx","nextToksWalker","notStuck","getKeyForAutomaticLookahead","firstAfterRepInfo","firstAfterRepMap","getCurrRuleFullName","getGAstProductions","expectTokAfterLastMatch","nextTokIdx","shouldInRepetitionRecoveryBeTried","tryInRepetitionRecovery","AT_LEAST_ONE_IDX","MANY_SEP_IDX","AT_LEAST_ONE_SEP_IDX","ruleIdx","LLkLookaheadStrategy","DEFAULT_PARSER_CONFIG","leftRecursionErrors","emptyAltErrors","ambiguousAltsErrors","emptyRepetitionErrors","validateSomeNonEmptyLookaheadPath","currTopRule","exceptLast","currAlternative","possibleFirstInAlt","NONE_LAST_EMPTY_ALT","validateEmptyOrAlternative","topLevelRules","currProd","pathsInsideProduction","NO_NON_EMPTY_LOOKAHEAD","laFuncBuilder","buildLookaheadFuncForOr","lookaheadBuilder","buildLookaheadFuncForOptionalProd","dslMethods","repetitionWithSeparator","repetitionMandatoryWithSeparator","reset","setNodeLocationOnlyOffset","currNodeLocation","newLocationInfo","setNodeLocationFull","defineNameProp","nameValue","writable","defaultVisit","childrenNames","childrenNamesLength","currChildArray","currChildArrayLength","currChild","createBaseSemanticVisitorConstructor","derivedConstructor","semanticProto","validateVisitor","semanticDefinitionErrors","visitorInstance","missingErrors","missingRuleNames","CstVisitorDefinitionError","MISSING_METHOD","methodName","validateMissingCstMethods","errorMessages","currDefError","_RULE_NAMES","RECORDING_NULL_OBJECT","HANDLE_SEPARATOR","MAX_METHOD_IDX","RFT","RECORDING_PHASE_TOKEN","RECORDING_PHASE_CSTNODE","recordProd","prodConstructor","mainProdArg","handleSep","assertMethodIdxIsValid","prevProd","recordingProdStack","grammarAction","newProd","SEP","MAX_LOOKAHEAD","recordOrProd","hasOptions","newOrProd","IGNORE_AMBIGUITIES","currAltFlat","getIdxSuffix","KNOWN_RECORDER_ERROR","END_OF_FILE","outputCst","DEFAULT_RULE_CONFIG","recoveryValueFunc","resyncEnabled","derivedCtor","EMPTY_ALT","Parser","parserInstance","defErrorsMsgs","selfAnalysisDone","enableRecording","definedRulesNames","originalGrammarAction","recordedRuleGast","topLevelRuleRecord","gastProductionsCache","disableRecording","resolverErrors","validationErrors","tokensMap","lookaheadValidationErrors","lookaheadValidationErrorMessages","CUSTOM_LOOKAHEAD_VALIDATION","validateLookahead","allFollows","topProductions","reSyncFollows","currRefsFollow","computeAllProdsFollows","resyncFollows","preComputeLookaheadFunctions","DEFER_DEFINITION_ERRORS_HANDLING","that","initErrorHandler","initLexerAdapter","initLooksAhead","initRecognizerEngine","initRecoverable","initTreeBuilder","initContentAssist","initGastRecorder","initPerformanceTracer","getTokenToInsert","tokToInsert","canTokenTypeBeInsertedInRecovery","canTokenTypeBeDeletedInRecovery","grammarRule","grammarRuleArgs","lookAheadFunc","expectedTokType","reSyncTokType","findReSyncTokenType","savedLexerState","exportLexerState","passedResyncPoint","nextTokenWithoutResync","generateErrorMessage","SAVE_ERROR","SKIP_TOKEN","addToResyncTokens","importLexerState","isBackTracking","canPerformInRuleRecovery","getFollowsForInRuleRecovery","tokIdxInRule","grammarPath","getCurrentGrammarPath","getNextPossibleTokenTypes","tryInRuleRecovery","canRecoverWithSingleTokenInsertion","canRecoverWithSingleTokenDeletion","nextTok","consumeToken","expectedToken","mismatchedTok","possibleFollowsTokType","isInCurrentRuleReSyncSet","followKey","getCurrFollowKey","currentRuleReSyncSet","getFollowSetFromFollowKey","allPossibleReSyncTokTypes","flattenFollowSet","foundMatch","resyncTokType","currRuleShortName","getLastExplicitRuleShortName","currRuleIdx","getLastExplicitRuleOccurrenceIndex","prevRuleShortName","getPreviousExplicitRuleShortName","shortRuleNameToFullName","idxInCallingRule","inRule","buildFullFollowKeyStack","explicitRuleStack","explicitOccurrenceStack","RULE_OCCURRENCE_STACK","followStack","resyncTokens","reSyncTo","getHumanReadableRuleStack","currShortName","lookAheadFuncsCache","collectMethods","prodIdx","laFunc","fullRuleNameToShort","setLaFuncCache","computeLookaheadFunc","prodKey","prodMaxLookahead","dslMethodName","getLaFuncFromCache","CST_STACK","setNodeLocationFromToken","setNodeLocationFromNode","cstPostRule","setInitialNodeLocation","setInitialNodeLocationFullRecovery","cstPostRuleFull","setInitialNodeLocationFullRegular","setInitialNodeLocationOnlyOffsetRecovery","cstPostRuleOnlyOffset","setInitialNodeLocationOnlyOffsetRegular","cstInvocationStateUpdate","cstFinallyStateUpdate","cstPostTerminal","cstPostNonTerminal","fullRuleName","ruleCstNode","prevToken","consumedToken","rootCst","tokenTypeName","ruleCstResult","preCstNode","ruleResult","addNoneTerminalToCst","getBaseCstVisitorConstructor","baseCstVisitorConstructor","newBaseCstVisitorConstructor","getBaseCstVisitorConstructorWithDefaults","baseCstVisitorWithDefaultsConstructor","newConstructor","baseConstructor","withDefaultsProto","createBaseVisitorConstructorWithDefaults","tokVector","tokVectorLength","newInput","soughtIdx","resetLexerState","moveToTerminatedState","getLexerPosition","shortRuleNameToFull","ruleShortNameIdx","subruleIdx","isBackTrackingStack","uniqueTokens","noTokenCategoriesUsed","tokenConstructor","defineRule","shortName","invokeRuleWithTry","ruleInvocationStateUpdate","invokeRuleCatch","ruleFinallyStateUpdate","resyncEnabledConfig","isFirstInvokedRule","reSyncEnabled","recogError","partialCstResult","recoveredNode","optionInternal","actionORMethodDef","optionInternalLogic","orgLookaheadFunction","atLeastOneInternal","laKey","atLeastOneInternalLogic","raiseEarlyExitException","ERR_MSG","doSingleRepetition","atLeastOneSepFirstInternal","atLeastOneSepFirstInternalLogic","separatorLookAheadFunc","CONSUME","repetitionSepSecondInternal","manyInternal","manyInternalLogic","lookaheadFunction","manySepFirstInternal","manySepFirstInternalLogic","nextTerminalAfterWalker","beforeIteration","orInternal","altsOrOpts","altIdxToTake","raiseNoAltException","isAtEndOfInput","firstRedundantTok","subruleInternal","ruleToCall","subruleInternalError","consumeInternal","consumeInternalError","eFromConsumption","consumeInternalRecovery","eFromInRuleRecovery","saveRecogState","savedErrors","savedRuleStack","lexerState","reloadRecogState","fullName","ACTION","CONSUME1","CONSUME2","CONSUME3","CONSUME4","CONSUME5","CONSUME6","CONSUME7","CONSUME8","CONSUME9","SUBRULE","SUBRULE1","SUBRULE2","SUBRULE3","SUBRULE4","SUBRULE5","SUBRULE6","SUBRULE7","SUBRULE8","SUBRULE9","OPTION1","OPTION2","OPTION3","OPTION4","OPTION5","OPTION6","OPTION7","OPTION8","OPTION9","OR","OR1","OR2","OR3","OR4","OR5","OR6","OR7","OR8","OR9","MANY","MANY1","MANY2","MANY3","MANY4","MANY5","MANY6","MANY7","MANY8","MANY9","MANY_SEP","MANY_SEP1","MANY_SEP2","MANY_SEP3","MANY_SEP4","MANY_SEP5","MANY_SEP6","MANY_SEP7","MANY_SEP8","MANY_SEP9","AT_LEAST_ONE","AT_LEAST_ONE1","AT_LEAST_ONE2","AT_LEAST_ONE3","AT_LEAST_ONE4","AT_LEAST_ONE5","AT_LEAST_ONE6","AT_LEAST_ONE7","AT_LEAST_ONE8","AT_LEAST_ONE9","AT_LEAST_ONE_SEP","AT_LEAST_ONE_SEP1","AT_LEAST_ONE_SEP2","AT_LEAST_ONE_SEP3","AT_LEAST_ONE_SEP4","AT_LEAST_ONE_SEP5","AT_LEAST_ONE_SEP6","AT_LEAST_ONE_SEP7","AT_LEAST_ONE_SEP8","AT_LEAST_ONE_SEP9","ruleImplementation","OVERRIDE_RULE","ruleErrors","INVALID_RULE_OVERRIDE","validateRuleIsOverridden","BACKTRACK","orgState","getSerializedGastProductions","topRules","_errors","ruleOccurrenceStack","newErrors","userDefinedErrMsg","insideProdPaths","actualTokens","errMsgTypes","lookAheadPathsPerAlternative","computeContentAssist","startRuleName","precedingInput","startRuleGast","topRuleName","topProduction","arg1","arg2","consumeInternalRecord","subruleInternalRecord","optionInternalRecord","orInternalRecord","manyInternalRecord","manySepFirstInternalRecord","atLeastOneInternalRecord","atLeastOneSepFirstInternalRecord","ACTION_RECORD","BACKTRACK_RECORD","LA_RECORD","newTopLevelRule","originalError","mutabilityError","newNoneTerminal","userTraceInitPerf","traceIsNumber","baseCtor","baseProto","basePropDescriptor","EmbeddedActionsParser","configClone","UPPERCASE","LOWERCASE","LEADING_CAPITAL","IDENTIFIER","SEPARATORS","LEADING_SEPARATORS","SEPARATORS_AND_IDENTIFIER","NUMBERS_AND_IDENTIFIER","camelCase","pascalCase","preserveConsecutiveUppercase","toLocaleLowerCase","toLocaleUpperCase","isLastCharLower","isLastCharUpper","isLastLastCharUpper","preserveCamelCase","identifier","postProcess","nativeObjectToString","symToStringTag","isOwn","unmasked","DefaultTokenBuilder","reachableRules","buildTerminalTokens","terminalToken","popDiagnostics","buildTerminalToken","requiresCustomPattern","regexPatternFunction","stickyRegex","sort","buildKeywordToken","keywordPattern","buildKeywordPattern","findLongerAlt","longerAlts","parsers","initializers","createInfoServices2","packet","createPacketServices2","pie","createPieServices2","architecture","createArchitectureServices2","gitGraph","createGitGraphServices2","radar","createRadarServices2","treemap","createTreemapServices2","diagramType","MermaidParseError","getAllReachableRules","allTerminals","entryRule","getEntryRule","topMostRules","getHiddenRules","ruleDfs","visitedSet","refRule","getCrossReferenceTerminal","nameAssigment","findNameAssignment","isCommentTerminal","terminalRegex","findNodesForProperty","findNodesForPropertyInternal","findNodeForProperty","nodeFeature","findNodeForKeyword","findNodesForKeywordInternal","treeIterator","keywordNodes","childNode","findAssignment","startNode","findNameAssignmentInternal","go","refType","childAssignment","typeRef","isDataTypeRule","isDataTypeRuleInternal","visited","getExplicitRuleType","inferredType","dataType","returnType","getTypeName","getActionType","getRuleType","abstractElementToRegex","flagText","WILDCARD","withCardinality","keywordToRegex","characterRangeToRegex","negate","until","lastSlash","regexFlags","NEWLINE_REGEXP","regexpParser","TerminalRegExpVisitor","isStarting","endRegexpStack","endRegex","startRegexp","escapedChar","escapeRegExp","isMultilineComment","whitespaceCharacters","isWhitespace","ws","getCaseInsensitivePattern","partialMatches","tmp","appendRaw","nbChars","appendOptional","partialRegExp"],"sourceRoot":""}